(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Ww(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zm={exports:{}},vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Zw(){if(d0)return vu;d0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:l}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var f0;function Jw(){return f0||(f0=1,Zm.exports=Zw()),Zm.exports}var g=Jw(),Jm={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function eR(){if(m0)return Ze;m0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function L(j,ce,we){this.props=j,this.context=ce,this.refs=q,this.updater=we||x}L.prototype.isReactComponent={},L.prototype.setState=function(j,ce){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ce,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Z(){}Z.prototype=L.prototype;function z(j,ce,we){this.props=j,this.context=ce,this.refs=q,this.updater=we||x}var ee=z.prototype=new Z;ee.constructor=z,V(ee,L.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,se={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function O(j,ce,we,ve,_e,Fe){return we=Fe.ref,{$$typeof:r,type:j,key:ce,ref:we!==void 0?we:null,props:Fe}}function C(j,ce){return O(j.type,ce,void 0,void 0,void 0,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function N(j){var ce={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(we){return ce[we]})}var P=/\/+/g;function U(j,ce){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):ce.toString(36)}function I(){}function Be(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(ce){j.status==="pending"&&(j.status="fulfilled",j.value=ce)},function(ce){j.status==="pending"&&(j.status="rejected",j.reason=ce)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Je(j,ce,we,ve,_e){var Fe=typeof j;(Fe==="undefined"||Fe==="boolean")&&(j=null);var Le=!1;if(j===null)Le=!0;else switch(Fe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(j.$$typeof){case r:case e:Le=!0;break;case _:return Le=j._init,Je(Le(j._payload),ce,we,ve,_e)}}if(Le)return _e=_e(j),Le=ve===""?"."+U(j,0):ve,pe(_e)?(we="",Le!=null&&(we=Le.replace(P,"$&/")+"/"),Je(_e,ce,we,"",function(wt){return wt})):_e!=null&&(R(_e)&&(_e=C(_e,we+(_e.key==null||j&&j.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+Le)),ce.push(_e)),1;Le=0;var Vt=ve===""?".":ve+":";if(pe(j))for(var it=0;it<j.length;it++)ve=j[it],Fe=Vt+U(ve,it),Le+=Je(ve,ce,we,Fe,_e);else if(it=S(j),typeof it=="function")for(j=it.call(j),it=0;!(ve=j.next()).done;)ve=ve.value,Fe=Vt+U(ve,it++),Le+=Je(ve,ce,we,Fe,_e);else if(Fe==="object"){if(typeof j.then=="function")return Je(Be(j),ce,we,ve,_e);throw ce=String(j),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(j,ce,we){if(j==null)return j;var ve=[],_e=0;return Je(j,ve,"","",function(Fe){return ce.call(we,Fe,_e++)}),ve}function Ce(j){if(j._status===-1){var ce=j._result;ce=ce(),ce.then(function(we){(j._status===0||j._status===-1)&&(j._status=1,j._result=we)},function(we){(j._status===0||j._status===-1)&&(j._status=2,j._result=we)}),j._status===-1&&(j._status=0,j._result=ce)}if(j._status===1)return j._result.default;throw j._result}var Se=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Xe(){}return Ze.Children={map:ue,forEach:function(j,ce,we){ue(j,function(){ce.apply(this,arguments)},we)},count:function(j){var ce=0;return ue(j,function(){ce++}),ce},toArray:function(j){return ue(j,function(ce){return ce})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ze.Component=L,Ze.Fragment=t,Ze.Profiler=o,Ze.PureComponent=z,Ze.StrictMode=s,Ze.Suspense=p,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ze.cache=function(j){return function(){return j.apply(null,arguments)}},Ze.cloneElement=function(j,ce,we){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ve=V({},j.props),_e=j.key,Fe=void 0;if(ce!=null)for(Le in ce.ref!==void 0&&(Fe=void 0),ce.key!==void 0&&(_e=""+ce.key),ce)!B.call(ce,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ce.ref===void 0||(ve[Le]=ce[Le]);var Le=arguments.length-2;if(Le===1)ve.children=we;else if(1<Le){for(var Vt=Array(Le),it=0;it<Le;it++)Vt[it]=arguments[it+2];ve.children=Vt}return O(j.type,_e,void 0,void 0,Fe,ve)},Ze.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ze.createElement=function(j,ce,we){var ve,_e={},Fe=null;if(ce!=null)for(ve in ce.key!==void 0&&(Fe=""+ce.key),ce)B.call(ce,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(_e[ve]=ce[ve]);var Le=arguments.length-2;if(Le===1)_e.children=we;else if(1<Le){for(var Vt=Array(Le),it=0;it<Le;it++)Vt[it]=arguments[it+2];_e.children=Vt}if(j&&j.defaultProps)for(ve in Le=j.defaultProps,Le)_e[ve]===void 0&&(_e[ve]=Le[ve]);return O(j,Fe,void 0,void 0,null,_e)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(j){return{$$typeof:f,render:j}},Ze.isValidElement=R,Ze.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:Ce}},Ze.memo=function(j,ce){return{$$typeof:y,type:j,compare:ce===void 0?null:ce}},Ze.startTransition=function(j){var ce=se.T,we={};se.T=we;try{var ve=j(),_e=se.S;_e!==null&&_e(we,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Xe,Se)}catch(Fe){Se(Fe)}finally{se.T=ce}},Ze.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ze.use=function(j){return se.H.use(j)},Ze.useActionState=function(j,ce,we){return se.H.useActionState(j,ce,we)},Ze.useCallback=function(j,ce){return se.H.useCallback(j,ce)},Ze.useContext=function(j){return se.H.useContext(j)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(j,ce){return se.H.useDeferredValue(j,ce)},Ze.useEffect=function(j,ce){return se.H.useEffect(j,ce)},Ze.useId=function(){return se.H.useId()},Ze.useImperativeHandle=function(j,ce,we){return se.H.useImperativeHandle(j,ce,we)},Ze.useInsertionEffect=function(j,ce){return se.H.useInsertionEffect(j,ce)},Ze.useLayoutEffect=function(j,ce){return se.H.useLayoutEffect(j,ce)},Ze.useMemo=function(j,ce){return se.H.useMemo(j,ce)},Ze.useOptimistic=function(j,ce){return se.H.useOptimistic(j,ce)},Ze.useReducer=function(j,ce,we){return se.H.useReducer(j,ce,we)},Ze.useRef=function(j){return se.H.useRef(j)},Ze.useState=function(j){return se.H.useState(j)},Ze.useSyncExternalStore=function(j,ce,we){return se.H.useSyncExternalStore(j,ce,we)},Ze.useTransition=function(){return se.H.useTransition()},Ze.version="19.0.0",Ze}var p0;function Wp(){return p0||(p0=1,Jm.exports=eR()),Jm.exports}var K=Wp();const Xr=Ww(K);var ep={exports:{}},_u={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function tR(){return g0||(g0=1,function(r){function e(ue,Ce){var Se=ue.length;ue.push(Ce);e:for(;0<Se;){var Xe=Se-1>>>1,j=ue[Xe];if(0<o(j,Ce))ue[Xe]=Ce,ue[Se]=j,Se=Xe;else break e}}function t(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Ce=ue[0],Se=ue.pop();if(Se!==Ce){ue[0]=Se;e:for(var Xe=0,j=ue.length,ce=j>>>1;Xe<ce;){var we=2*(Xe+1)-1,ve=ue[we],_e=we+1,Fe=ue[_e];if(0>o(ve,Se))_e<j&&0>o(Fe,ve)?(ue[Xe]=Fe,ue[_e]=Se,Xe=_e):(ue[Xe]=ve,ue[we]=Se,Xe=we);else if(_e<j&&0>o(Fe,Se))ue[Xe]=Fe,ue[_e]=Se,Xe=_e;else break e}}return Ce}function o(ue,Ce){var Se=ue.sortIndex-Ce.sortIndex;return Se!==0?Se:ue.id-Ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var p=[],y=[],_=1,b=null,S=3,x=!1,V=!1,q=!1,L=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ee(ue){for(var Ce=t(y);Ce!==null;){if(Ce.callback===null)s(y);else if(Ce.startTime<=ue)s(y),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=t(y)}}function pe(ue){if(q=!1,ee(ue),!V)if(t(p)!==null)V=!0,Be();else{var Ce=t(y);Ce!==null&&Je(pe,Ce.startTime-ue)}}var se=!1,B=-1,O=5,C=-1;function R(){return!(r.unstable_now()-C<O)}function N(){if(se){var ue=r.unstable_now();C=ue;var Ce=!0;try{e:{V=!1,q&&(q=!1,Z(B),B=-1),x=!0;var Se=S;try{t:{for(ee(ue),b=t(p);b!==null&&!(b.expirationTime>ue&&R());){var Xe=b.callback;if(typeof Xe=="function"){b.callback=null,S=b.priorityLevel;var j=Xe(b.expirationTime<=ue);if(ue=r.unstable_now(),typeof j=="function"){b.callback=j,ee(ue),Ce=!0;break t}b===t(p)&&s(p),ee(ue)}else s(p);b=t(p)}if(b!==null)Ce=!0;else{var ce=t(y);ce!==null&&Je(pe,ce.startTime-ue),Ce=!1}}break e}finally{b=null,S=Se,x=!1}Ce=void 0}}finally{Ce?P():se=!1}}}var P;if(typeof z=="function")P=function(){z(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=N,P=function(){I.postMessage(null)}}else P=function(){L(N,0)};function Be(){se||(se=!0,P())}function Je(ue,Ce){B=L(function(){ue(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){V||x||(V=!0,Be())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var Ce=3;break;default:Ce=S}var Se=S;S=Ce;try{return ue()}finally{S=Se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,Ce){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Se=S;S=ue;try{return Ce()}finally{S=Se}},r.unstable_scheduleCallback=function(ue,Ce,Se){var Xe=r.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Xe+Se:Xe):Se=Xe,ue){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Se+j,ue={id:_++,callback:Ce,priorityLevel:ue,startTime:Se,expirationTime:j,sortIndex:-1},Se>Xe?(ue.sortIndex=Se,e(y,ue),t(p)===null&&ue===t(y)&&(q?(Z(B),B=-1):q=!0,Je(pe,Se-Xe))):(ue.sortIndex=j,e(p,ue),V||x||(V=!0,Be())),ue},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(ue){var Ce=S;return function(){var Se=S;S=Ce;try{return ue.apply(this,arguments)}finally{S=Se}}}}(np)),np}var y0;function nR(){return y0||(y0=1,tp.exports=tR()),tp.exports}var rp={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function rR(){if(v0)return Ln;v0=1;var r=Wp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,_)},Ln.flushSync=function(p){var y=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=y,s.p=_,s.d.f()}},Ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,b=f(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=f(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=f(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=f(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ln.requestFormReset=function(p){s.d.r(p)},Ln.unstable_batchedUpdates=function(p,y){return p(y)},Ln.useFormState=function(p,y,_){return c.H.useFormState(p,y,_)},Ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ln.version="19.0.0",Ln}var _0;function CT(){if(_0)return rp.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rp.exports=rR(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function iR(){if(E0)return _u;E0=1;var r=nR(),e=Wp(),t=CT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case V:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,P,U;function I(n){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+U}var Be=!1;function Je(n,i){if(!n||Be)return"";Be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var J=re}Reflect.construct(n,[],de)}else{try{de.call()}catch(re){J=re}n.call(de.prototype)}}else{try{throw Error()}catch(re){J=re}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),H=A.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===H.length)for(u=D.length-1,d=H.length-1;1<=u&&0<=d&&D[u]!==H[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==H[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==H[d]){var ie=`
`+D[u].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=u&&0<=d);break}}}finally{Be=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function ue(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=Je(n.type,!1),n;case 11:return n=Je(n.type.render,!1),n;case 1:return n=Je(n.type,!0),n;default:return""}}function Ce(n){try{var i="";do i+=ue(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Se(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Xe(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function j(n){if(Se(n)!==n)throw Error(s(188))}function ce(n){var i=n.alternate;if(!i){if(i=Se(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return j(d),n;if(m===u)return j(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=d,u=m;else{for(var T=!1,A=d.child;A;){if(A===a){T=!0,a=d,u=m;break}if(A===u){T=!0,u=d,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,u=d;break}if(A===u){T=!0,u=m,a=d;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function we(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=we(n),i!==null)return i;n=n.sibling}return null}var ve=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe={pending:!1,data:null,method:null,action:null},Le=[],Vt=-1;function it(n){return{current:n}}function wt(n){0>Vt||(n.current=Le[Vt],Le[Vt]=null,Vt--)}function He(n,i){Vt++,Le[Vt]=n.current,n.current=i}var Dt=it(null),Gn=it(null),jn=it(null),on=it(null);function _r(n,i){switch(He(jn,i),He(Gn,n),He(Dt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?B_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=B_(n),i=F_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}wt(Dt),He(Dt,i)}function tr(){wt(Dt),wt(Gn),wt(jn)}function Fr(n){n.memoizedState!==null&&He(on,n);var i=Dt.current,a=F_(i,n.type);i!==a&&(He(Gn,n),He(Dt,a))}function ai(n){Gn.current===n&&(wt(Dt),wt(Gn)),on.current===n&&(wt(on),fu._currentValue=Fe)}var oi=Object.prototype.hasOwnProperty,li=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,M=r.unstable_shouldYield,W=r.unstable_requestPaint,ne=r.unstable_now,Ee=r.unstable_getCurrentPriorityLevel,he=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,be=r.unstable_NormalPriority,We=r.unstable_LowPriority,Rt=r.unstable_IdlePriority,At=r.log,Er=r.unstable_setDisableYieldValue,$n=null,Ut=null;function ki(n){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}}function Pn(n){if(typeof At=="function"&&Er(n),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode($n,n)}catch{}}var Ht=Math.clz32?Math.clz32:lo,qr=Math.log,_s=Math.LN2;function lo(n){return n>>>=0,n===0?32:31-(qr(n)/_s|0)|0}var or=128,ui=4194304;function nr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xn(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,d=n.suspendedLanes,m=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~d,a!==0?u=nr(a):(m&=A,m!==0?u=nr(m):n||(T=A&~T,T!==0&&(u=nr(T))))):(A=a&~d,A!==0?u=nr(A):m!==0?u=nr(m):n||(T=a&~T,T!==0&&(u=nr(T)))),u===0?0:i!==0&&i!==u&&!(i&d)&&(d=u&-u,T=i&-i,d>=T||d===32&&(T&4194176)!==0)?i:u}function lr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Es(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(){var n=or;return or<<=1,!(or&4194176)&&(or=128),n}function k(){var n=ui;return ui<<=1,!(ui&62914560)&&(ui=4194304),n}function G(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Y(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fe(n,i,a,u,d,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(a=T&~a;0<a;){var ie=31-Ht(a),de=1<<ie;A[ie]=0,D[ie]=-1;var J=H[ie];if(J!==null)for(H[ie]=null,ie=0;ie<J.length;ie++){var re=J[ie];re!==null&&(re.lane&=-536870913)}a&=~de}u!==0&&Te(n,u,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~i))}function Te(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ht(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ie(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-Ht(a),d=1<<u;d&i|n[u]&i&&(n[u]|=i),a&=~d}}function Ue(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Re(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function xe(n,i){var a=_e.p;try{return _e.p=n,i()}finally{_e.p=a}}var ye=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ye,Ve="__reactProps$"+ye,ht="__reactContainer$"+ye,jt="__reactEvents$"+ye,Tt="__reactListeners$"+ye,st="__reactHandles$"+ye,Pt="__reactResources$"+ye,Kn="__reactMarker$"+ye;function ur(n){delete n[Ne],delete n[Ve],delete n[jt],delete n[Tt],delete n[st]}function Qt(n){var i=n[Ne];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ht]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=G_(n);n!==null;){if(a=n[Ne])return a;n=G_(n)}return i}n=a,a=n.parentNode}return null}function Jt(n){if(n=n[Ne]||n[ht]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Tr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function rr(n){var i=n[Pt];return i||(i=n[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(n){n[Kn]=!0}var ci=new Set,Gr={};function et(n,i){Et(n,i),Et(n+"Capture",i)}function Et(n,i){for(Gr[n]=i,n=0;n<i.length;n++)ci.add(i[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},br={};function va(n){return oi.call(br,n)?!0:oi.call(Nt,n)?!1:Li.test(n)?br[n]=!0:(Nt[n]=!0,!1)}function hi(n,i,a){if(va(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ts(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Sr(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function Qn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nf(n){var i=yc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function _a(n){n._valueTracker||(n._valueTracker=nf(n))}function Sl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=yc(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function uo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ui=/[\n"\\]/g;function qt(n){return n.replace(Ui,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bs(n,i,a,u,d,m,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Qn(i)):n.value!==""+Qn(i)&&(n.value=""+Qn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?co(n,T,Qn(i)):a!=null?co(n,T,Qn(a)):u!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Qn(A):n.removeAttribute("name")}function Ea(n,i,a,u,d,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Qn(a):"",i=i!=null?""+Qn(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function co(n,i,a){i==="number"&&uo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function gt(n,i,a,u){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Qn(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Ta(n,i,a){if(i!=null&&(i=""+Qn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Qn(a):""}function Ss(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Qn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Ar(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||rf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function vc(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&Al(n,d,u)}else for(var m in i)i.hasOwnProperty(m)&&Al(n,m,i[m])}function wl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(n){return af.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var wr=null;function ho(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zi=null,Bi=null;function Fi(n){var i=Jt(n);if(i&&(n=i.stateNode)){var a=n[Ve]||null;e:switch(n=i.stateNode,i.type){case"input":if(bs(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var d=u[Ve]||null;if(!d)throw Error(s(90));bs(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Sl(u)}break e;case"textarea":Ta(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gt(n,!!a.multiple,i,!1)}}}var Rl=!1;function _c(n,i,a){if(Rl)return n(i,a);Rl=!0;try{var u=n(i);return u}finally{if(Rl=!1,(zi!==null||Bi!==null)&&(ch(),zi&&(i=zi,n=Bi,Bi=zi=null,Fi(i),n)))for(i=0;i<n.length;i++)Fi(n[i])}}function ba(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Ve]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rr=!1;if(yn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Rr=!1}var fi=null,As=null,Hi=null;function xl(){if(Hi)return Hi;var n,i=As,a=i.length,u,d="value"in fi?fi.value:fi.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===d[m-u];u++);return Hi=d.slice(n,1<u?1-u:void 0)}function mi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function Cl(){return!1}function vn(n){function i(a,u,d,m,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pi:Cl,this.isPropagationStopped=Cl,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),i}var bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=vn(bt),Aa=N({},bt,{view:0,detail:0}),Ec=vn(Aa),mo,po,gi,wa=N({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(mo=n.screenX-gi.screenX,po=n.screenY-gi.screenY):po=mo=0,gi=n),mo)},movementY:function(n){return"movementY"in n?n.movementY:po}}),xr=vn(wa),Tc=N({},wa,{dataTransfer:0}),of=vn(Tc),Ra=N({},Aa,{relatedTarget:0}),go=vn(Ra),Il=N({},bt,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=vn(Il),bc=N({},bt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vo=vn(bc),lf=N({},bt,{data:0}),Dl=vn(lf),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ac[n])?!!i[n]:!1}function Ca(){return Nl}var wc=N({},Aa,{key:function(n){if(n.key){var i=xa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_o=vn(wc),Rc=N({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=vn(Rc),qi=N({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),xc=vn(qi),Cc=N({},bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ic=vn(Cc),Dc=N({},wa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Eo=vn(Dc),Yn=N({},bt,{newState:0,oldState:0}),Nc=vn(Yn),Oc=[9,13,27,32],yi=yn&&"CompositionEvent"in window,h=null;yn&&"documentMode"in document&&(h=document.documentMode);var v=yn&&"TextEvent"in window&&!h,E=yn&&(!yi||h&&8<h&&11>=h),w=" ",Q=!1;function te(n,i){switch(n){case"keyup":return Oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var dt=!1;function ln(n,i){switch(n){case"compositionend":return ge(i);case"keypress":return i.which!==32?null:(Q=!0,w);case"textInput":return n=i.data,n===w&&Q?null:n;default:return null}}function ft(n,i){if(dt)return n==="compositionend"||!yi&&te(n,i)?(n=xl(),Hi=As=fi=null,dt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!_n[n.type]:i==="textarea"}function Gi(n,i,a,u){zi?Bi?Bi.push(u):Bi=[u]:zi=u,i=ph(i,"onChange"),0<i.length&&(a=new fo("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var Cn=null,vi=null;function Ml(n){P_(n,0)}function Mc(n){var i=Tr(n);if(Sl(i))return n}function hy(n,i){if(n==="change")return i}var dy=!1;if(yn){var uf;if(yn){var cf="oninput"in document;if(!cf){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),cf=typeof fy.oninput=="function"}uf=cf}else uf=!1;dy=uf&&(!document.documentMode||9<document.documentMode)}function my(){Cn&&(Cn.detachEvent("onpropertychange",py),vi=Cn=null)}function py(n){if(n.propertyName==="value"&&Mc(vi)){var i=[];Gi(i,vi,n,ho(n)),_c(Ml,i)}}function xA(n,i,a){n==="focusin"?(my(),Cn=i,vi=a,Cn.attachEvent("onpropertychange",py)):n==="focusout"&&my()}function CA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mc(vi)}function IA(n,i){if(n==="click")return Mc(i)}function DA(n,i){if(n==="input"||n==="change")return Mc(i)}function NA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cr=typeof Object.is=="function"?Object.is:NA;function Vl(n,i){if(cr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!oi.call(i,d)||!cr(n[d],i[d]))return!1}return!0}function gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yy(n,i){var a=gy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gy(a)}}function vy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?vy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function _y(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=uo(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=uo(n.document)}return i}function hf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function OA(n,i){var a=_y(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&vy(i.ownerDocument.documentElement,i)){if(u!==null&&hf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,m=Math.min(u.start,d);u=u.end===void 0?m:Math.min(u.end,d),!a.extend&&m>u&&(d=u,u=m,m=d),d=yy(i,m);var T=yy(i,u);d&&T&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var MA=yn&&"documentMode"in document&&11>=document.documentMode,To=null,df=null,jl=null,ff=!1;function Ey(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||To==null||To!==uo(u)||(u=To,"selectionStart"in u&&hf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Vl(jl,u)||(jl=u,u=ph(df,"onSelect"),0<u.length&&(i=new fo("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=To)))}function Ia(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var bo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},mf={},Ty={};yn&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Da(n){if(mf[n])return mf[n];if(!bo[n])return n;var i=bo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ty)return mf[n]=i[a];return n}var by=Da("animationend"),Sy=Da("animationiteration"),Ay=Da("animationstart"),VA=Da("transitionrun"),jA=Da("transitionstart"),PA=Da("transitioncancel"),wy=Da("transitionend"),Ry=new Map,xy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $r(n,i){Ry.set(n,i),et(i,[n])}var Cr=[],So=0,pf=0;function Vc(){for(var n=So,i=pf=So=0;i<n;){var a=Cr[i];Cr[i++]=null;var u=Cr[i];Cr[i++]=null;var d=Cr[i];Cr[i++]=null;var m=Cr[i];if(Cr[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}m!==0&&Cy(a,d,m)}}function jc(n,i,a,u){Cr[So++]=n,Cr[So++]=i,Cr[So++]=a,Cr[So++]=u,pf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function gf(n,i,a,u){return jc(n,i,a,u),Pc(n)}function ws(n,i){return jc(n,null,null,i),Pc(n)}function Cy(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;d&&i!==null&&n.tag===3&&(m=n.stateNode,d=31-Ht(a),m=m.hiddenUpdates,n=m[d],n===null?m[d]=[i]:n.push(i),i.lane=a|536870912)}function Pc(n){if(50<au)throw au=0,bm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ao={},Iy=new WeakMap;function Ir(n,i){if(typeof n=="object"&&n!==null){var a=Iy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ce(i)},Iy.set(n,i),i)}return{value:n,source:i,stack:Ce(i)}}var wo=[],Ro=0,kc=null,Lc=0,Dr=[],Nr=0,Na=null,$i=1,Ki="";function Oa(n,i){wo[Ro++]=Lc,wo[Ro++]=kc,kc=n,Lc=i}function Dy(n,i,a){Dr[Nr++]=$i,Dr[Nr++]=Ki,Dr[Nr++]=Na,Na=n;var u=$i;n=Ki;var d=32-Ht(u)-1;u&=~(1<<d),a+=1;var m=32-Ht(i)+d;if(30<m){var T=d-d%5;m=(u&(1<<T)-1).toString(32),u>>=T,d-=T,$i=1<<32-Ht(i)+d|a<<d|u,Ki=m+n}else $i=1<<m|a<<d|u,Ki=n}function yf(n){n.return!==null&&(Oa(n,1),Dy(n,1,0))}function vf(n){for(;n===kc;)kc=wo[--Ro],wo[Ro]=null,Lc=wo[--Ro],wo[Ro]=null;for(;n===Na;)Na=Dr[--Nr],Dr[Nr]=null,Ki=Dr[--Nr],Dr[Nr]=null,$i=Dr[--Nr],Dr[Nr]=null}var Xn=null,In=null,yt=!1,Kr=null,_i=!1,_f=Error(s(519));function Ma(n){var i=Error(s(418,""));throw Ll(Ir(i,n)),_f}function Ny(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[Ne]=n,i[Ve]=u,a){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(a=0;a<lu.length;a++)ut(lu[a],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),Ea(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),_a(i);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),Ss(i,u.value,u.defaultValue,u.children),_a(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||z_(i.textContent,a)?(u.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),u.onScroll!=null&&ut("scroll",i),u.onScrollEnd!=null&&ut("scrollend",i),u.onClick!=null&&(i.onclick=gh),i=!0):i=!1,i||Ma(n)}function Oy(n){for(Xn=n.return;Xn;)switch(Xn.tag){case 3:case 27:_i=!0;return;case 5:case 13:_i=!1;return;default:Xn=Xn.return}}function Pl(n){if(n!==Xn)return!1;if(!yt)return Oy(n),yt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Um(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&In&&Ma(n),Oy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){In=Yr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}In=null}}else In=Xn?Yr(n.stateNode.nextSibling):null;return!0}function kl(){In=Xn=null,yt=!1}function Ll(n){Kr===null?Kr=[n]:Kr.push(n)}var Ul=Error(s(460)),My=Error(s(474)),Ef={then:function(){}};function Vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uc(){}function jy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Uc,Uc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ul?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Uc,Uc);else{if(n=Ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ul?Error(s(483)):n}throw zl=i,Ul}}var zl=null;function Py(){if(zl===null)throw Error(s(459));var n=zl;return zl=null,n}var xo=null,Bl=0;function zc(n){var i=Bl;return Bl+=1,xo===null&&(xo=[]),jy(xo,n,i)}function Fl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Bc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ky(n){var i=n._init;return i(n._payload)}function Ly(n){function i($,F){if(n){var X=$.deletions;X===null?($.deletions=[F],$.flags|=16):X.push(F)}}function a($,F){if(!n)return null;for(;F!==null;)i($,F),F=F.sibling;return null}function u($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function d($,F){return $=ks($,F),$.index=0,$.sibling=null,$}function m($,F,X){return $.index=X,n?(X=$.alternate,X!==null?(X=X.index,X<F?($.flags|=33554434,F):X):($.flags|=33554434,F)):($.flags|=1048576,F)}function T($){return n&&$.alternate===null&&($.flags|=33554434),$}function A($,F,X,oe){return F===null||F.tag!==6?(F=mm(X,$.mode,oe),F.return=$,F):(F=d(F,X),F.return=$,F)}function D($,F,X,oe){var De=X.type;return De===p?ie($,F,X.props.children,oe,X.key):F!==null&&(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&ky(De)===F.type)?(F=d(F,X.props),Fl(F,X),F.return=$,F):(F=sh(X.type,X.key,X.props,null,$.mode,oe),Fl(F,X),F.return=$,F)}function H($,F,X,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=pm(X,$.mode,oe),F.return=$,F):(F=d(F,X.children||[]),F.return=$,F)}function ie($,F,X,oe,De){return F===null||F.tag!==7?(F=Ha(X,$.mode,oe,De),F.return=$,F):(F=d(F,X),F.return=$,F)}function de($,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=mm(""+F,$.mode,X),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return X=sh(F.type,F.key,F.props,null,$.mode,X),Fl(X,F),X.return=$,X;case f:return F=pm(F,$.mode,X),F.return=$,F;case z:var oe=F._init;return F=oe(F._payload),de($,F,X)}if(ve(F)||B(F))return F=Ha(F,$.mode,X,null),F.return=$,F;if(typeof F.then=="function")return de($,zc(F),X);if(F.$$typeof===x)return de($,nh($,F),X);Bc($,F)}return null}function J($,F,X,oe){var De=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return De!==null?null:A($,F,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===De?D($,F,X,oe):null;case f:return X.key===De?H($,F,X,oe):null;case z:return De=X._init,X=De(X._payload),J($,F,X,oe)}if(ve(X)||B(X))return De!==null?null:ie($,F,X,oe,null);if(typeof X.then=="function")return J($,F,zc(X),oe);if(X.$$typeof===x)return J($,F,nh($,X),oe);Bc($,X)}return null}function re($,F,X,oe,De){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(X)||null,A(F,$,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return $=$.get(oe.key===null?X:oe.key)||null,D(F,$,oe,De);case f:return $=$.get(oe.key===null?X:oe.key)||null,H(F,$,oe,De);case z:var nt=oe._init;return oe=nt(oe._payload),re($,F,X,oe,De)}if(ve(oe)||B(oe))return $=$.get(X)||null,ie(F,$,oe,De,null);if(typeof oe.then=="function")return re($,F,X,zc(oe),De);if(oe.$$typeof===x)return re($,F,X,nh(F,oe),De);Bc(F,oe)}return null}function Me($,F,X,oe){for(var De=null,nt=null,Pe=F,ze=F=0,bn=null;Pe!==null&&ze<X.length;ze++){Pe.index>ze?(bn=Pe,Pe=null):bn=Pe.sibling;var vt=J($,Pe,X[ze],oe);if(vt===null){Pe===null&&(Pe=bn);break}n&&Pe&&vt.alternate===null&&i($,Pe),F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt,Pe=bn}if(ze===X.length)return a($,Pe),yt&&Oa($,ze),De;if(Pe===null){for(;ze<X.length;ze++)Pe=de($,X[ze],oe),Pe!==null&&(F=m(Pe,F,ze),nt===null?De=Pe:nt.sibling=Pe,nt=Pe);return yt&&Oa($,ze),De}for(Pe=u(Pe);ze<X.length;ze++)bn=re(Pe,$,ze,X[ze],oe),bn!==null&&(n&&bn.alternate!==null&&Pe.delete(bn.key===null?ze:bn.key),F=m(bn,F,ze),nt===null?De=bn:nt.sibling=bn,nt=bn);return n&&Pe.forEach(function(qs){return i($,qs)}),yt&&Oa($,ze),De}function Ke($,F,X,oe){if(X==null)throw Error(s(151));for(var De=null,nt=null,Pe=F,ze=F=0,bn=null,vt=X.next();Pe!==null&&!vt.done;ze++,vt=X.next()){Pe.index>ze?(bn=Pe,Pe=null):bn=Pe.sibling;var qs=J($,Pe,vt.value,oe);if(qs===null){Pe===null&&(Pe=bn);break}n&&Pe&&qs.alternate===null&&i($,Pe),F=m(qs,F,ze),nt===null?De=qs:nt.sibling=qs,nt=qs,Pe=bn}if(vt.done)return a($,Pe),yt&&Oa($,ze),De;if(Pe===null){for(;!vt.done;ze++,vt=X.next())vt=de($,vt.value,oe),vt!==null&&(F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return yt&&Oa($,ze),De}for(Pe=u(Pe);!vt.done;ze++,vt=X.next())vt=re(Pe,$,ze,vt.value,oe),vt!==null&&(n&&vt.alternate!==null&&Pe.delete(vt.key===null?ze:vt.key),F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return n&&Pe.forEach(function(Xw){return i($,Xw)}),yt&&Oa($,ze),De}function Kt($,F,X,oe){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:e:{for(var De=X.key;F!==null;){if(F.key===De){if(De=X.type,De===p){if(F.tag===7){a($,F.sibling),oe=d(F,X.props.children),oe.return=$,$=oe;break e}}else if(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&ky(De)===F.type){a($,F.sibling),oe=d(F,X.props),Fl(oe,X),oe.return=$,$=oe;break e}a($,F);break}else i($,F);F=F.sibling}X.type===p?(oe=Ha(X.props.children,$.mode,oe,X.key),oe.return=$,$=oe):(oe=sh(X.type,X.key,X.props,null,$.mode,oe),Fl(oe,X),oe.return=$,$=oe)}return T($);case f:e:{for(De=X.key;F!==null;){if(F.key===De)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a($,F.sibling),oe=d(F,X.children||[]),oe.return=$,$=oe;break e}else{a($,F);break}else i($,F);F=F.sibling}oe=pm(X,$.mode,oe),oe.return=$,$=oe}return T($);case z:return De=X._init,X=De(X._payload),Kt($,F,X,oe)}if(ve(X))return Me($,F,X,oe);if(B(X)){if(De=B(X),typeof De!="function")throw Error(s(150));return X=De.call(X),Ke($,F,X,oe)}if(typeof X.then=="function")return Kt($,F,zc(X),oe);if(X.$$typeof===x)return Kt($,F,nh($,X),oe);Bc($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a($,F.sibling),oe=d(F,X),oe.return=$,$=oe):(a($,F),oe=mm(X,$.mode,oe),oe.return=$,$=oe),T($)):a($,F)}return function($,F,X,oe){try{Bl=0;var De=Kt($,F,X,oe);return xo=null,De}catch(Pe){if(Pe===Ul)throw Pe;var nt=jr(29,Pe,null,$.mode);return nt.lanes=oe,nt.return=$,nt}finally{}}}var Va=Ly(!0),Uy=Ly(!1),Co=it(null),Fc=it(0);function zy(n,i){n=is,He(Fc,n),He(Co,i),is=n|i.baseLanes}function Tf(){He(Fc,is),He(Co,Co.current)}function bf(){is=Fc.current,wt(Co),wt(Fc)}var Or=it(null),Ei=null;function Rs(n){var i=n.alternate;He(cn,cn.current&1),He(Or,n),Ei===null&&(i===null||Co.current!==null||i.memoizedState!==null)&&(Ei=n)}function By(n){if(n.tag===22){if(He(cn,cn.current),He(Or,n),Ei===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ei=n)}}else xs()}function xs(){He(cn,cn.current),He(Or,Or.current)}function Qi(n){wt(Or),Ei===n&&(Ei=null),wt(cn)}var cn=it(0);function Hc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},LA=r.unstable_scheduleCallback,UA=r.unstable_NormalPriority,hn={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new kA,data:new Map,refCount:0}}function Hl(n){n.refCount--,n.refCount===0&&LA(UA,function(){n.controller.abort()})}var ql=null,Af=0,Io=0,Do=null;function zA(n,i){if(ql===null){var a=ql=[];Af=0,Io=Dm(),Do={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Af++,i.then(Fy,Fy),i}function Fy(){if(--Af===0&&ql!==null){Do!==null&&(Do.status="fulfilled");var n=ql;ql=null,Io=0,Do=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function BA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var Hy=R.S;R.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zA(n,i),Hy!==null&&Hy(n,i)};var ja=it(null);function wf(){var n=ja.current;return n!==null?n:Ot.pooledCache}function qc(n,i){i===null?He(ja,ja.current):He(ja,i.pool)}function qy(){var n=wf();return n===null?null:{parent:hn._currentValue,pool:n}}var Cs=0,tt=null,xt=null,en=null,Gc=!1,No=!1,Pa=!1,$c=0,Gl=0,Oo=null,FA=0;function Yt(){throw Error(s(321))}function Rf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!cr(n[a],i[a]))return!1;return!0}function xf(n,i,a,u,d,m){return Cs=m,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?ka:Is,Pa=!1,m=a(u,d),Pa=!1,No&&(m=$y(i,a,u,d)),Gy(n),m}function Gy(n){R.H=Ti;var i=xt!==null&&xt.next!==null;if(Cs=0,en=xt=tt=null,Gc=!1,Gl=0,Oo=null,i)throw Error(s(300));n===null||En||(n=n.dependencies,n!==null&&th(n)&&(En=!0))}function $y(n,i,a,u){tt=n;var d=0;do{if(No&&(Oo=null),Gl=0,No=!1,25<=d)throw Error(s(301));if(d+=1,en=xt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=La,m=i(a,u)}while(No);return m}function HA(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?$l(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(tt.flags|=1024),i}function Cf(){var n=$c!==0;return $c=0,n}function If(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Df(n){if(Gc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gc=!1}Cs=0,en=xt=tt=null,No=!1,Gl=$c=0,Oo=null}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?tt.memoizedState=en=n:en=en.next=n,en}function tn(){if(xt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=en===null?tt.memoizedState:en.next;if(i!==null)en=i,xt=n;else{if(n===null)throw tt.alternate===null?Error(s(467)):Error(s(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},en===null?tt.memoizedState=en=n:en=en.next=n}return en}var Kc;Kc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $l(n){var i=Gl;return Gl+=1,Oo===null&&(Oo=[]),n=jy(Oo,n,i),i=tt,(en===null?i.memoizedState:en.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?ka:Is),n}function Qc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $l(n);if(n.$$typeof===x)return kn(n)}throw Error(s(438,String(n)))}function Nf(n){var i=null,a=tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Kc(),tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=pe;return i.index++,a}function Yi(n,i){return typeof i=="function"?i(n):i}function Yc(n){var i=tn();return Of(i,xt,n)}function Of(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var d=n.baseQueue,m=u.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}i.baseQueue=d=m,u.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{i=d.next;var A=T=null,D=null,H=i,ie=!1;do{var de=H.lane&-536870913;if(de!==H.lane?(mt&de)===de:(Cs&de)===de){var J=H.revertLane;if(J===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),de===Io&&(ie=!0);else if((Cs&J)===J){H=H.next,J===Io&&(ie=!0);continue}else de={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=de,T=m):D=D.next=de,tt.lanes|=J,Ls|=J;de=H.action,Pa&&a(m,de),m=H.hasEagerState?H.eagerState:a(m,de)}else J={lane:de,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=J,T=m):D=D.next=J,tt.lanes|=de,Ls|=de;H=H.next}while(H!==null&&H!==i);if(D===null?T=m:D.next=A,!cr(m,n.memoizedState)&&(En=!0,ie&&(a=Do,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,u.lastRenderedState=m}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Mf(n){var i=tn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do m=n(m,T.action),T=T.next;while(T!==d);cr(m,i.memoizedState)||(En=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function Ky(n,i,a){var u=tt,d=tn(),m=yt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!cr((xt||d).memoizedState,a);if(T&&(d.memoizedState=a,En=!0),d=d.queue,Pf(Xy.bind(null,u,d,n),[n]),d.getSnapshot!==i||T||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,Mo(9,Yy.bind(null,u,d,a,i),{destroy:void 0},null),Ot===null)throw Error(s(349));m||Cs&60||Qy(u,i,a)}return a}function Qy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i=Kc(),tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Yy(n,i,a,u){i.value=a,i.getSnapshot=u,Wy(i)&&Zy(n)}function Xy(n,i,a){return a(function(){Wy(i)&&Zy(n)})}function Wy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!cr(n,a)}catch{return!0}}function Zy(n){var i=ws(n,2);i!==null&&Wn(i,n,2)}function Vf(n){var i=ir();if(typeof n=="function"){var a=n;if(n=a(),Pa){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},i}function Jy(n,i,a,u){return n.baseState=a,Of(n,xt,typeof u=="function"?u:Yi)}function qA(n,i,a,u,d){if(Zc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};R.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,ev(i,m)):(m.next=a.next,i.pending=a.next=m)}}function ev(n,i){var a=i.action,u=i.payload,d=n.state;if(i.isTransition){var m=R.T,T={};R.T=T;try{var A=a(d,u),D=R.S;D!==null&&D(T,A),tv(n,i,A)}catch(H){jf(n,i,H)}finally{R.T=m}}else try{m=a(d,u),tv(n,i,m)}catch(H){jf(n,i,H)}}function tv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){nv(n,i,u)},function(u){return jf(n,i,u)}):nv(n,i,a)}function nv(n,i,a){i.status="fulfilled",i.value=a,rv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,ev(n,a)))}function jf(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,rv(i),i=i.next;while(i!==u)}n.action=null}function rv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function iv(n,i){return i}function sv(n,i){if(yt){var a=Ot.formState;if(a!==null){e:{var u=tt;if(yt){if(In){t:{for(var d=In,m=_i;d.nodeType!==8;){if(!m){d=null;break t}if(d=Yr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){In=Yr(d.nextSibling),u=d.data==="F!";break e}}Ma(u)}u=!1}u&&(i=a[0])}}return a=ir(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:i},a.queue=u,a=Sv.bind(null,tt,u),u.dispatch=a,u=Vf(!1),m=Bf.bind(null,tt,!1,u.queue),u=ir(),d={state:i,dispatch:null,action:n,pending:null},u.queue=d,a=qA.bind(null,tt,d,m,a),d.dispatch=a,u.memoizedState=n,[i,a,!1]}function av(n){var i=tn();return ov(i,xt,n)}function ov(n,i,a){i=Of(n,i,iv)[0],n=Yc(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?$l(i):i;var u=tn(),d=u.queue,m=d.dispatch;return a!==u.memoizedState&&(tt.flags|=2048,Mo(9,GA.bind(null,d,a),{destroy:void 0},null)),[i,m,n]}function GA(n,i){n.action=i}function lv(n){var i=tn(),a=xt;if(a!==null)return ov(i,a,n);tn(),i=i.memoizedState,a=tn();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function Mo(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=tt.updateQueue,i===null&&(i=Kc(),tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function uv(){return tn().memoizedState}function Xc(n,i,a,u){var d=ir();tt.flags|=n,d.memoizedState=Mo(1|i,a,{destroy:void 0},u===void 0?null:u)}function Wc(n,i,a,u){var d=tn();u=u===void 0?null:u;var m=d.memoizedState.inst;xt!==null&&u!==null&&Rf(u,xt.memoizedState.deps)?d.memoizedState=Mo(i,a,m,u):(tt.flags|=n,d.memoizedState=Mo(1|i,a,m,u))}function cv(n,i){Xc(8390656,8,n,i)}function Pf(n,i){Wc(2048,8,n,i)}function hv(n,i){return Wc(4,2,n,i)}function dv(n,i){return Wc(4,4,n,i)}function fv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function mv(n,i,a){a=a!=null?a.concat([n]):null,Wc(4,4,fv.bind(null,i,n),a)}function kf(){}function pv(n,i){var a=tn();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Rf(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function gv(n,i){var a=tn();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Rf(i,u[1]))return u[0];if(u=n(),Pa){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[u,i],u}function Lf(n,i,a){return a===void 0||Cs&1073741824?n.memoizedState=i:(n.memoizedState=a,n=v_(),tt.lanes|=n,Ls|=n,a)}function yv(n,i,a,u){return cr(a,i)?a:Co.current!==null?(n=Lf(n,a,u),cr(n,i)||(En=!0),n):Cs&42?(n=v_(),tt.lanes|=n,Ls|=n,i):(En=!0,n.memoizedState=a)}function vv(n,i,a,u,d){var m=_e.p;_e.p=m!==0&&8>m?m:8;var T=R.T,A={};R.T=A,Bf(n,!1,i,a);try{var D=d(),H=R.S;if(H!==null&&H(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=BA(D,u);Kl(n,i,ie,mr(n))}else Kl(n,i,u,mr(n))}catch(de){Kl(n,i,{then:function(){},status:"rejected",reason:de},mr())}finally{_e.p=m,R.T=T}}function $A(){}function Uf(n,i,a,u){if(n.tag!==5)throw Error(s(476));var d=_v(n).queue;vv(n,d,i,Fe,a===null?$A:function(){return Ev(n),a(u)})}function _v(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Fe,baseState:Fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ev(n){var i=_v(n).next.queue;Kl(n,i,{},mr())}function zf(){return kn(fu)}function Tv(){return tn().memoizedState}function bv(){return tn().memoizedState}function KA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=mr();n=Os(a);var u=Ms(i,n,a);u!==null&&(Wn(u,i,a),Xl(u,i,a)),i={cache:Sf()},n.payload=i;return}i=i.return}}function QA(n,i,a){var u=mr();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(n)?Av(i,a):(a=gf(n,i,a,u),a!==null&&(Wn(a,n,u),wv(a,i,u)))}function Sv(n,i,a){var u=mr();Kl(n,i,a,u)}function Kl(n,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(n))Av(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,A=m(T,a);if(d.hasEagerState=!0,d.eagerState=A,cr(A,T))return jc(n,i,d,0),Ot===null&&Vc(),!1}catch{}finally{}if(a=gf(n,i,d,u),a!==null)return Wn(a,n,u),wv(a,i,u),!0}return!1}function Bf(n,i,a,u){if(u={lane:2,revertLane:Dm(),action:u,hasEagerState:!1,eagerState:null,next:null},Zc(n)){if(i)throw Error(s(479))}else i=gf(n,a,u,2),i!==null&&Wn(i,n,2)}function Zc(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function Av(n,i){No=Gc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function wv(n,i,a){if(a&4194176){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}var Ti={readContext:kn,use:Qc,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};Ti.useCacheRefresh=Yt,Ti.useMemoCache=Yt,Ti.useHostTransitionStatus=Yt,Ti.useFormState=Yt,Ti.useActionState=Yt,Ti.useOptimistic=Yt;var ka={readContext:kn,use:Qc,useCallback:function(n,i){return ir().memoizedState=[n,i===void 0?null:i],n},useContext:kn,useEffect:cv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Xc(4194308,4,fv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Xc(4194308,4,n,i)},useInsertionEffect:function(n,i){Xc(4,2,n,i)},useMemo:function(n,i){var a=ir();i=i===void 0?null:i;var u=n();if(Pa){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=ir();if(a!==void 0){var d=a(i);if(Pa){Pn(!0);try{a(i)}finally{Pn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=QA.bind(null,tt,n),[u.memoizedState,n]},useRef:function(n){var i=ir();return n={current:n},i.memoizedState=n},useState:function(n){n=Vf(n);var i=n.queue,a=Sv.bind(null,tt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(n,i){var a=ir();return Lf(a,n,i)},useTransition:function(){var n=Vf(!1);return n=vv.bind(null,tt,n.queue,!0,!1),ir().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=tt,d=ir();if(yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ot===null)throw Error(s(349));mt&60||Qy(u,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,cv(Xy.bind(null,u,m,n),[n]),u.flags|=2048,Mo(9,Yy.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=ir(),i=Ot.identifierPrefix;if(yt){var a=Ki,u=$i;a=(u&~(1<<32-Ht(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=$c++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=FA++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return ir().memoizedState=KA.bind(null,tt)}};ka.useMemoCache=Nf,ka.useHostTransitionStatus=zf,ka.useFormState=sv,ka.useActionState=sv,ka.useOptimistic=function(n){var i=ir();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,tt,!0,a),a.dispatch=i,[n,i]};var Is={readContext:kn,use:Qc,useCallback:pv,useContext:kn,useEffect:Pf,useImperativeHandle:mv,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:gv,useReducer:Yc,useRef:uv,useState:function(){return Yc(Yi)},useDebugValue:kf,useDeferredValue:function(n,i){var a=tn();return yv(a,xt.memoizedState,n,i)},useTransition:function(){var n=Yc(Yi)[0],i=tn().memoizedState;return[typeof n=="boolean"?n:$l(n),i]},useSyncExternalStore:Ky,useId:Tv};Is.useCacheRefresh=bv,Is.useMemoCache=Nf,Is.useHostTransitionStatus=zf,Is.useFormState=av,Is.useActionState=av,Is.useOptimistic=function(n,i){var a=tn();return Jy(a,xt,n,i)};var La={readContext:kn,use:Qc,useCallback:pv,useContext:kn,useEffect:Pf,useImperativeHandle:mv,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:gv,useReducer:Mf,useRef:uv,useState:function(){return Mf(Yi)},useDebugValue:kf,useDeferredValue:function(n,i){var a=tn();return xt===null?Lf(a,n,i):yv(a,xt.memoizedState,n,i)},useTransition:function(){var n=Mf(Yi)[0],i=tn().memoizedState;return[typeof n=="boolean"?n:$l(n),i]},useSyncExternalStore:Ky,useId:Tv};La.useCacheRefresh=bv,La.useMemoCache=Nf,La.useHostTransitionStatus=zf,La.useFormState=lv,La.useActionState=lv,La.useOptimistic=function(n,i){var a=tn();return xt!==null?Jy(a,xt,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Ff(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:N({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hf={isMounted:function(n){return(n=n._reactInternals)?Se(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=mr(),d=Os(u);d.payload=i,a!=null&&(d.callback=a),i=Ms(n,d,u),i!==null&&(Wn(i,n,u),Xl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=mr(),d=Os(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ms(n,d,u),i!==null&&(Wn(i,n,u),Xl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=mr(),u=Os(a);u.tag=2,i!=null&&(u.callback=i),i=Ms(n,u,a),i!==null&&(Wn(i,n,a),Xl(i,n,a))}};function Rv(n,i,a,u,d,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,u)||!Vl(d,m):!0}function xv(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&Hf.enqueueReplaceState(i,i.state,null)}function Ua(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=N({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Cv(n){Jc(n)}function Iv(n){console.error(n)}function Dv(n){Jc(n)}function eh(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Nv(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function qf(n,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){eh(n,i)},a}function Ov(n){return n=Os(n),n.tag=3,n}function Mv(n,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;n.payload=function(){return d(m)},n.callback=function(){Nv(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Nv(i,a,u),typeof d!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function YA(n,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Yl(i,a,d,!0),a=Or.current,a!==null){switch(a.tag){case 13:return Ei===null?wm():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===Ef?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),xm(n,u,d)),!1;case 22:return a.flags|=65536,u===Ef?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),xm(n,u,d)),!1}throw Error(s(435,a.tag))}return xm(n,u,d),wm(),!1}if(yt)return i=Or.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==_f&&(n=Error(s(422),{cause:u}),Ll(Ir(n,a)))):(u!==_f&&(i=Error(s(423),{cause:u}),Ll(Ir(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Ir(u,a),d=qf(n.stateNode,u,d),sm(n,d),$t!==4&&($t=2)),!1;var m=Error(s(520),{cause:u});if(m=Ir(m,a),iu===null?iu=[m]:iu.push(m),$t!==4&&($t=2),i===null)return!0;u=Ir(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=qf(a.stateNode,u,n),sm(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Us===null||!Us.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Ov(d),Mv(d,n,a,u),sm(a,d),!1}a=a.return}while(a!==null);return!1}var Vv=Error(s(461)),En=!1;function Dn(n,i,a,u){i.child=n===null?Uy(i,null,a,u):Va(i,n.child,a,u)}function jv(n,i,a,u,d){a=a.render;var m=i.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Ba(i),u=xf(n,i,a,T,m,d),A=Cf(),n!==null&&!En?(If(n,i,d),Xi(n,i,d)):(yt&&A&&yf(i),i.flags|=1,Dn(n,i,u,d),i.child)}function Pv(n,i,a,u,d){if(n===null){var m=a.type;return typeof m=="function"&&!fm(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,kv(n,i,m,u,d)):(n=sh(a.type,null,u,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Jf(n,d)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(T,u)&&n.ref===i.ref)return Xi(n,i,d)}return i.flags|=1,n=ks(m,u),n.ref=i.ref,n.return=i,i.child=n}function kv(n,i,a,u,d){if(n!==null){var m=n.memoizedProps;if(Vl(m,u)&&n.ref===i.ref)if(En=!1,i.pendingProps=u=m,Jf(n,d))n.flags&131072&&(En=!0);else return i.lanes=n.lanes,Xi(n,i,d)}return Gf(n,i,a,u,d)}function Lv(n,i,a){var u=i.pendingProps,d=u.children,m=(i.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(Ql(n,i),u.mode==="hidden"||m){if(i.flags&128){if(u=T!==null?T.baseLanes|a:a,n!==null){for(d=i.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return Uv(n,i,u,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&qc(i,T!==null?T.cachePool:null),T!==null?zy(i,T):Tf(),By(i);else return i.lanes=i.childLanes=536870912,Uv(n,i,T!==null?T.baseLanes|a:a,a)}else T!==null?(qc(i,T.cachePool),zy(i,T),xs(),i.memoizedState=null):(n!==null&&qc(i,null),Tf(),xs());return Dn(n,i,d,a),i.child}function Uv(n,i,a,u){var d=wf();return d=d===null?null:{parent:hn._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&qc(i,null),Tf(),By(i),n!==null&&Yl(n,i,u,!0),null}function Ql(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Gf(n,i,a,u,d){return Ba(i),a=xf(n,i,a,u,void 0,d),u=Cf(),n!==null&&!En?(If(n,i,d),Xi(n,i,d)):(yt&&u&&yf(i),i.flags|=1,Dn(n,i,a,d),i.child)}function zv(n,i,a,u,d,m){return Ba(i),i.updateQueue=null,a=$y(i,u,a,d),Gy(n),u=Cf(),n!==null&&!En?(If(n,i,m),Xi(n,i,m)):(yt&&u&&yf(i),i.flags|=1,Dn(n,i,a,m),i.child)}function Bv(n,i,a,u,d){if(Ba(i),i.stateNode===null){var m=Ao,T=a.contextType;typeof T=="object"&&T!==null&&(m=kn(T)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},rm(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?kn(T):Ao,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ff(i,a,T,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Hf.enqueueReplaceState(m,m.state,null),Zl(i,u,m,d),Wl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var A=i.memoizedProps,D=Ua(a,A);m.props=D;var H=m.context,ie=a.contextType;T=Ao,typeof ie=="object"&&ie!==null&&(T=kn(ie));var de=a.getDerivedStateFromProps;ie=typeof de=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==T)&&xv(i,m,u,T),Ns=!1;var J=i.memoizedState;m.state=J,Zl(i,u,m,d),Wl(),H=i.memoizedState,A||J!==H||Ns?(typeof de=="function"&&(Ff(i,a,de,u),H=i.memoizedState),(D=Ns||Rv(i,a,D,u,J,H,T))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=H),m.props=u,m.state=H,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,im(n,i),T=i.memoizedProps,ie=Ua(a,T),m.props=ie,de=i.pendingProps,J=m.context,H=a.contextType,D=Ao,typeof H=="object"&&H!==null&&(D=kn(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==de||J!==D)&&xv(i,m,u,D),Ns=!1,J=i.memoizedState,m.state=J,Zl(i,u,m,d),Wl();var re=i.memoizedState;T!==de||J!==re||Ns||n!==null&&n.dependencies!==null&&th(n.dependencies)?(typeof A=="function"&&(Ff(i,a,A,u),re=i.memoizedState),(ie=Ns||Rv(i,a,ie,u,J,re,D)||n!==null&&n.dependencies!==null&&th(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,re,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,re,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),m.props=u,m.state=re,m.context=D,u=ie):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,Ql(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Va(i,n.child,null,d),i.child=Va(i,null,a,d)):Dn(n,i,a,d),i.memoizedState=m.state,n=i.child):n=Xi(n,i,d),n}function Fv(n,i,a,u){return kl(),i.flags|=256,Dn(n,i,a,u),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Kf(n){return{baseLanes:n,cachePool:qy()}}function Qf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Pr),n}function Hv(n,i,a){var u=i.pendingProps,d=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(cn.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(yt){if(d?Rs(i):xs(),yt){var A=In,D;if(D=A){e:{for(D=A,A=_i;D.nodeType!==8;){if(!A){A=null;break e}if(D=Yr(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:Na!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},D=jr(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,Xn=i,In=null,D=!0):D=!1}D||Ma(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qi(i)}return A=u.children,u=u.fallback,d?(xs(),d=i.mode,A=Xf({mode:"hidden",children:A},d),u=Ha(u,d,a,null),A.return=i,u.return=i,A.sibling=u,i.child=A,d=i.child,d.memoizedState=Kf(a),d.childLanes=Qf(n,T,a),i.memoizedState=$f,u):(Rs(i),Yf(i,A))}if(D=n.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(Rs(i),i.flags&=-257,i=Wf(n,i,a)):i.memoizedState!==null?(xs(),i.child=n.child,i.flags|=128,i=null):(xs(),d=u.fallback,A=i.mode,u=Xf({mode:"visible",children:u.children},A),d=Ha(d,A,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Va(i,n.child,null,a),u=i.child,u.memoizedState=Kf(a),u.childLanes=Qf(n,T,a),i.memoizedState=$f,i=d);else if(Rs(i),A.data==="$!"){if(T=A.nextSibling&&A.nextSibling.dataset,T)var H=T.dgst;T=H,u=Error(s(419)),u.stack="",u.digest=T,Ll({value:u,source:null,stack:null}),i=Wf(n,i,a)}else if(En||Yl(n,i,a,!1),T=(a&n.childLanes)!==0,En||T){if(T=Ot,T!==null){if(u=a&-a,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|a)?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,ws(n,u),Wn(T,n,u),Vv}A.data==="$?"||wm(),i=Wf(n,i,a)}else A.data==="$?"?(i.flags|=128,i.child=n.child,i=cw.bind(null,n),A._reactRetry=i,i=null):(n=D.treeContext,In=Yr(A.nextSibling),Xn=i,yt=!0,Kr=null,_i=!1,n!==null&&(Dr[Nr++]=$i,Dr[Nr++]=Ki,Dr[Nr++]=Na,$i=n.id,Ki=n.overflow,Na=i),i=Yf(i,u.children),i.flags|=4096);return i}return d?(xs(),d=u.fallback,A=i.mode,D=n.child,H=D.sibling,u=ks(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,H!==null?d=ks(H,d):(d=Ha(d,A,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,A=n.child.memoizedState,A===null?A=Kf(a):(D=A.cachePool,D!==null?(H=hn._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=qy(),A={baseLanes:A.baseLanes|a,cachePool:D}),d.memoizedState=A,d.childLanes=Qf(n,T,a),i.memoizedState=$f,u):(Rs(i),a=n.child,n=a.sibling,a=ks(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Yf(n,i){return i=Xf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Xf(n,i){return p_(n,i,0,null)}function Wf(n,i,a){return Va(i,n.child,null,a),n=Yf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function qv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),tm(n.return,i,a)}function Zf(n,i,a,u,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=d)}function Gv(n,i,a){var u=i.pendingProps,d=u.revealOrder,m=u.tail;if(Dn(n,i,u.children,a),u=cn.current,u&2)u=u&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qv(n,a,i);else if(n.tag===19)qv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(He(cn,u),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Hc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Zf(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Hc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Zf(i,!0,a,null,m);break;case"together":Zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ls|=i.lanes,!(a&i.childLanes))if(n!==null){if(Yl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ks(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ks(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(n,i){return n.lanes&i?!0:(n=n.dependencies,!!(n!==null&&th(n)))}function XA(n,i,a){switch(i.tag){case 3:_r(i,i.stateNode.containerInfo),Ds(i,hn,n.memoizedState.cache),kl();break;case 27:case 5:Fr(i);break;case 4:_r(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Rs(i),i.flags|=128,null):a&i.child.childLanes?Hv(n,i,a):(Rs(i),n=Xi(n,i,a),n!==null?n.sibling:null);Rs(i);break;case 19:var d=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Yl(n,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return Gv(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(cn,cn.current),u)break;return null;case 22:case 23:return i.lanes=0,Lv(n,i,a);case 24:Ds(i,hn,n.memoizedState.cache)}return Xi(n,i,a)}function $v(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)En=!0;else{if(!Jf(n,a)&&!(i.flags&128))return En=!1,XA(n,i,a);En=!!(n.flags&131072)}else En=!1,yt&&i.flags&1048576&&Dy(i,Lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")fm(u)?(n=Ua(u,n),i.tag=1,i=Bv(null,i,u,n,a)):(i.tag=0,i=Gf(null,i,u,n,a));else{if(u!=null){if(d=u.$$typeof,d===V){i.tag=11,i=jv(null,i,u,n,a);break e}else if(d===Z){i.tag=14,i=Pv(null,i,u,n,a);break e}}throw i=C(u)||u,Error(s(306,i,""))}}return i;case 0:return Gf(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=Ua(u,i.pendingProps),Bv(n,i,u,d,a);case 3:e:{if(_r(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;d=i.memoizedState,u=d.element,im(n,i),Zl(i,m,null,a);var T=i.memoizedState;if(m=T.cache,Ds(i,hn,m),m!==d.cache&&nm(i,[hn],a,!0),Wl(),m=T.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fv(n,i,m,a);break e}else if(m!==u){u=Ir(Error(s(424)),i),Ll(u),i=Fv(n,i,m,a);break e}else for(In=Yr(i.stateNode.containerInfo.firstChild),Xn=i,yt=!0,Kr=null,_i=!0,a=Uy(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(kl(),m===u){i=Xi(n,i,a);break e}Dn(n,i,m,a)}i=i.child}return i;case 26:return Ql(n,i),n===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:yt||(a=i.type,n=i.pendingProps,u=yh(jn.current).createElement(a),u[Ne]=i,u[Ve]=n,Nn(u,a,n),_t(u),i.stateNode=u):i.memoizedState=Y_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Fr(i),n===null&&yt&&(u=i.stateNode=$_(i.type,i.pendingProps,jn.current),Xn=i,_i=!0,In=Yr(u.firstChild)),u=i.pendingProps.children,n!==null||yt?Dn(n,i,u,a):i.child=Va(i,null,u,a),Ql(n,i),i.child;case 5:return n===null&&yt&&((d=u=In)&&(u=Rw(u,i.type,i.pendingProps,_i),u!==null?(i.stateNode=u,Xn=i,In=Yr(u.firstChild),_i=!1,d=!0):d=!1),d||Ma(i)),Fr(i),d=i.type,m=i.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Um(d,m)?u=null:T!==null&&Um(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=xf(n,i,HA,null,null,a),fu._currentValue=d),Ql(n,i),Dn(n,i,u,a),i.child;case 6:return n===null&&yt&&((n=a=In)&&(a=xw(a,i.pendingProps,_i),a!==null?(i.stateNode=a,Xn=i,In=null,n=!0):n=!1),n||Ma(i)),null;case 13:return Hv(n,i,a);case 4:return _r(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Va(i,null,u,a):Dn(n,i,u,a),i.child;case 11:return jv(n,i,i.type,i.pendingProps,a);case 7:return Dn(n,i,i.pendingProps,a),i.child;case 8:return Dn(n,i,i.pendingProps.children,a),i.child;case 12:return Dn(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Ds(i,i.type,u.value),Dn(n,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Ba(i),d=kn(d),u=u(d),i.flags|=1,Dn(n,i,u,a),i.child;case 14:return Pv(n,i,i.type,i.pendingProps,a);case 15:return kv(n,i,i.type,i.pendingProps,a);case 19:return Gv(n,i,a);case 22:return Lv(n,i,a);case 24:return Ba(i),u=kn(hn),n===null?(d=wf(),d===null&&(d=Ot,m=Sf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:u,cache:d},rm(i),Ds(i,hn,d)):(n.lanes&a&&(im(n,i),Zl(i,null,null,a),Wl()),d=n.memoizedState,m=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ds(i,hn,u)):(u=m.cache,Ds(i,hn,u),u!==d.cache&&nm(i,[hn],a,!0))),Dn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var em=it(null),za=null,Wi=null;function Ds(n,i,a){He(em,i._currentValue),i._currentValue=a}function Zi(n){n._currentValue=em.current,wt(em)}function tm(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function nm(n,i,a,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=d;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),tm(m.return,a,n),u||(T=null);break e}m=A.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),tm(T,a,n),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===n){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Yl(n,i,a,u){n=null;for(var d=i,m=!1;d!==null;){if(!m){if(d.flags&524288)m=!0;else if(d.flags&262144)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=d.type;cr(d.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(d===on.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(fu):n=[fu])}d=d.return}n!==null&&nm(i,n,a,u),i.flags|=262144}function th(n){for(n=n.firstContext;n!==null;){if(!cr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ba(n){za=n,Wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function kn(n){return Kv(za,n)}function nh(n,i){return za===null&&Ba(n),Kv(n,i)}function Kv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(n===null)throw Error(s(308));Wi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Wi=Wi.next=i;return a}var Ns=!1;function rm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Os(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ms(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,Bt&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=Pc(n),Cy(n,null,a),i}return jc(n,u,i,a),Pc(n)}function Xl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}function sm(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var am=!1;function Wl(){if(am){var n=Do;if(n!==null)throw n}}function Zl(n,i,a,u){am=!1;var d=n.updateQueue;Ns=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var D=A,H=D.next;D.next=null,T===null?m=H:T.next=H,T=D;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==T&&(A===null?ie.firstBaseUpdate=H:A.next=H,ie.lastBaseUpdate=D))}if(m!==null){var de=d.baseState;T=0,ie=H=D=null,A=m;do{var J=A.lane&-536870913,re=J!==A.lane;if(re?(mt&J)===J:(u&J)===J){J!==0&&J===Io&&(am=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=n,Ke=A;J=i;var Kt=a;switch(Ke.tag){case 1:if(Me=Ke.payload,typeof Me=="function"){de=Me.call(Kt,de,J);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ke.payload,J=typeof Me=="function"?Me.call(Kt,de,J):Me,J==null)break e;de=N({},de,J);break e;case 2:Ns=!0}}J=A.callback,J!==null&&(n.flags|=64,re&&(n.flags|=8192),re=d.callbacks,re===null?d.callbacks=[J]:re.push(J))}else re={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(H=ie=re,D=de):ie=ie.next=re,T|=J;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;re=A,A=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);ie===null&&(D=de),d.baseState=D,d.firstBaseUpdate=H,d.lastBaseUpdate=ie,m===null&&(d.shared.lanes=0),Ls|=T,n.lanes=T,n.memoizedState=de}}function Qv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Yv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Qv(a[n],i)}function Jl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==d)}}catch(A){It(i,i.return,A)}}function Vs(n,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&n)===n){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,d=i;var D=a;try{A()}catch(H){It(d,D,H)}}}u=u.next}while(u!==m)}}catch(H){It(i,i.return,H)}}function Xv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Yv(i,a)}catch(u){It(n,n.return,u)}}}function Wv(n,i,a){a.props=Ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){It(n,i,u)}}function Fa(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof a=="function"?n.refCleanup=a(d):a.current=d}}catch(m){It(n,i,m)}}function hr(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){It(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){It(n,i,d)}else a.current=null}function Zv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){It(n,n.return,d)}}function Jv(n,i,a){try{var u=n.stateNode;Tw(u,n.type,a,i),u[Ve]=i}catch(d){It(n,n.return,d)}}function e_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lm(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gh));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(lm(n,i,a),n=n.sibling;n!==null;)lm(n,i,a),n=n.sibling}function rh(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(rh(n,i,a),n=n.sibling;n!==null;)rh(n,i,a),n=n.sibling}var Ji=!1,Gt=!1,um=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Tn=null,n_=!1;function WA(n,i){if(n=n.containerInfo,km=Sh,n=_y(n),hf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,A=-1,D=-1,H=0,ie=0,de=n,J=null;t:for(;;){for(var re;de!==a||d!==0&&de.nodeType!==3||(A=T+d),de!==m||u!==0&&de.nodeType!==3||(D=T+u),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)J=de,de=re;for(;;){if(de===n)break t;if(J===a&&++H===d&&(A=T),J===m&&++ie===u&&(D=T),(re=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=re}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lm={focusedElem:n,selectionRange:a},Sh=!1,Tn=i;Tn!==null;)if(i=Tn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Tn=n;else for(;Tn!==null;){switch(i=Tn,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&m!==null){n=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var Me=Ua(a.type,d,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Me,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ke){It(a,a.return,Ke)}}break;case 3:if(n&1024){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Tn=n;break}Tn=i.return}return Me=n_,n_=!1,Me}function r_(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ts(n,a),u&4&&Jl(5,a);break;case 1:if(ts(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(A){It(a,a.return,A)}else{var d=Ua(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){It(a,a.return,A)}}u&64&&Xv(a),u&512&&Fa(a,a.return);break;case 3:if(ts(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Yv(u,n)}catch(A){It(a,a.return,A)}}break;case 26:ts(n,a),u&512&&Fa(a,a.return);break;case 27:case 5:ts(n,a),i===null&&u&4&&Zv(a),u&512&&Fa(a,a.return);break;case 12:ts(n,a);break;case 13:ts(n,a),u&4&&a_(n,a);break;case 22:if(d=a.memoizedState!==null||Ji,!d){i=i!==null&&i.memoizedState!==null||Gt;var m=Ji,T=Gt;Ji=d,(Gt=i)&&!T?js(n,a,(a.subtreeFlags&8772)!==0):ts(n,a),Ji=m,Gt=T}u&512&&(a.memoizedProps.mode==="manual"?Fa(a,a.return):hr(a,a.return));break;default:ts(n,a)}}function i_(n){var i=n.alternate;i!==null&&(n.alternate=null,i_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ur(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nn=null,dr=!1;function es(n,i,a){for(a=a.child;a!==null;)s_(n,i,a),a=a.sibling}function s_(n,i,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Gt||hr(a,i),es(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||hr(a,i);var u=nn,d=dr;for(nn=a.stateNode,es(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ur(a),nn=u,dr=d;break;case 5:Gt||hr(a,i);case 6:d=nn;var m=dr;if(nn=null,es(n,i,a),nn=d,dr=m,nn!==null)if(dr)try{n=nn,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(T){It(a,i,T)}else try{nn.removeChild(a.stateNode)}catch(T){It(a,i,T)}break;case 18:nn!==null&&(dr?(i=nn,a=a.stateNode,i.nodeType===8?Bm(i.parentNode,a):i.nodeType===1&&Bm(i,a),yu(i)):Bm(nn,a.stateNode));break;case 4:u=nn,d=dr,nn=a.stateNode.containerInfo,dr=!0,es(n,i,a),nn=u,dr=d;break;case 0:case 11:case 14:case 15:Gt||Vs(2,a,i),Gt||Vs(4,a,i),es(n,i,a);break;case 1:Gt||(hr(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Wv(a,i,u)),es(n,i,a);break;case 21:es(n,i,a);break;case 22:Gt||hr(a,i),Gt=(u=Gt)||a.memoizedState!==null,es(n,i,a),Gt=u;break;default:es(n,i,a)}}function a_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{yu(n)}catch(a){It(i,i.return,a)}}function ZA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new t_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new t_),i;default:throw Error(s(435,n.tag))}}function cm(n,i){var a=ZA(n);i.forEach(function(u){var d=hw.bind(null,n,u);a.has(u)||(a.add(u),u.then(d,d))})}function Mr(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],m=n,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:case 5:nn=A.stateNode,dr=!1;break e;case 3:nn=A.stateNode.containerInfo,dr=!0;break e;case 4:nn=A.stateNode.containerInfo,dr=!0;break e}A=A.return}if(nn===null)throw Error(s(160));s_(m,T,d),nn=null,dr=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)o_(i,n),i=i.sibling}var Qr=null;function o_(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mr(i,n),Vr(n),u&4&&(Vs(3,n,n.return),Jl(3,n),Vs(5,n,n.return));break;case 1:Mr(i,n),Vr(n),u&512&&(Gt||a===null||hr(a,a.return)),u&64&&Ji&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=Qr;if(Mr(i,n),Vr(n),u&512&&(Gt||a===null||hr(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Kn]||m[Ne]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),Nn(m,u,a),m[Ne]=n,_t(m),u=m;break e;case"link":var T=Z_("link","href",d).get(u+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break t}}m=d.createElement(u),Nn(m,u,a),d.head.appendChild(m);break;case"meta":if(T=Z_("meta","content",d).get(u+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break t}}m=d.createElement(u),Nn(m,u,a),d.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ne]=n,_t(m),u=m}n.stateNode=u}else J_(d,n.type,n.stateNode);else n.stateNode=W_(d,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?J_(d,n.type,n.stateNode):W_(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Jv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){d=n.stateNode,m=n.memoizedProps;try{for(var D=d.firstChild;D;){var H=D.nextSibling,ie=D.nodeName;D[Kn]||ie==="HEAD"||ie==="BODY"||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=H}for(var de=n.type,J=d.attributes;J.length;)d.removeAttributeNode(J[0]);Nn(d,de,m),d[Ne]=n,d[Ve]=m}catch(Me){It(n,n.return,Me)}}case 5:if(Mr(i,n),Vr(n),u&512&&(Gt||a===null||hr(a,a.return)),n.flags&32){d=n.stateNode;try{Ar(d,"")}catch(Me){It(n,n.return,Me)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Jv(n,d,a!==null?a.memoizedProps:d)),u&1024&&(um=!0);break;case 6:if(Mr(i,n),Vr(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Me){It(n,n.return,Me)}}break;case 3:if(Eh=null,d=Qr,Qr=vh(i.containerInfo),Mr(i,n),Qr=d,Vr(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{yu(i.containerInfo)}catch(Me){It(n,n.return,Me)}um&&(um=!1,l_(n));break;case 4:u=Qr,Qr=vh(n.stateNode.containerInfo),Mr(i,n),Vr(n),Qr=u;break;case 12:Mr(i,n),Vr(n);break;case 13:Mr(i,n),Vr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_m=ne()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cm(n,u)));break;case 22:if(u&512&&(Gt||a===null||hr(a,a.return)),D=n.memoizedState!==null,H=a!==null&&a.memoizedState!==null,ie=Ji,de=Gt,Ji=ie||D,Gt=de||H,Mr(i,n),Gt=de,Ji=ie,Vr(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Ji||Gt,a===null||H||i||Vo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){H=a=i;try{if(d=H.stateNode,D)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=H.stateNode,A=H.memoizedProps.style;var re=A!=null&&A.hasOwnProperty("display")?A.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Me){It(H,H.return,Me)}}}else if(i.tag===6){if(a===null){H=i;try{H.stateNode.nodeValue=D?"":H.memoizedProps}catch(Me){It(H,H.return,Me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,cm(n,a))));break;case 19:Mr(i,n),Vr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cm(n,u)));break;case 21:break;default:Mr(i,n),Vr(n)}}function Vr(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(e_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var d=u.stateNode,m=om(n);rh(n,m,d);break;case 5:var T=u.stateNode;u.flags&32&&(Ar(T,""),u.flags&=-33);var A=om(n);rh(n,A,T);break;case 3:case 4:var D=u.stateNode.containerInfo,H=om(n);lm(n,H,D);break;default:throw Error(s(161))}}}catch(ie){It(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function l_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ts(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(n,i.alternate,i),i=i.sibling}function Vo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Vs(4,i,i.return),Vo(i);break;case 1:hr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wv(i,i.return,a),Vo(i);break;case 26:case 27:case 5:hr(i,i.return),Vo(i);break;case 22:hr(i,i.return),i.memoizedState===null&&Vo(i);break;default:Vo(i)}n=n.sibling}}function js(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=n,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:js(d,m,a),Jl(4,m);break;case 1:if(js(d,m,a),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){It(u,u.return,H)}if(u=m,d=u.updateQueue,d!==null){var A=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Qv(D[d],A)}catch(H){It(u,u.return,H)}}a&&T&64&&Xv(m),Fa(m,m.return);break;case 26:case 27:case 5:js(d,m,a),a&&u===null&&T&4&&Zv(m),Fa(m,m.return);break;case 12:js(d,m,a);break;case 13:js(d,m,a),a&&T&4&&a_(d,m);break;case 22:m.memoizedState===null&&js(d,m,a),Fa(m,m.return);break;default:js(d,m,a)}i=i.sibling}}function hm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Hl(a))}function dm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Hl(n))}function Ps(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(n,i,a,u),i=i.sibling}function u_(n,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ps(n,i,a,u),d&2048&&Jl(9,i);break;case 3:Ps(n,i,a,u),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Hl(n)));break;case 12:if(d&2048){Ps(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){It(i,i.return,D)}}else Ps(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Ps(n,i,a,u):eu(n,i):m._visibility&4?Ps(n,i,a,u):(m._visibility|=4,jo(n,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&hm(i.alternate,i);break;case 24:Ps(n,i,a,u),d&2048&&dm(i.alternate,i);break;default:Ps(n,i,a,u)}}function jo(n,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,T=i,A=a,D=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:jo(m,T,A,D,d),Jl(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&4?jo(m,T,A,D,d):eu(m,T):(ie._visibility|=4,jo(m,T,A,D,d)),d&&H&2048&&hm(T.alternate,T);break;case 24:jo(m,T,A,D,d),d&&H&2048&&dm(T.alternate,T);break;default:jo(m,T,A,D,d)}i=i.sibling}}function eu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,d=u.flags;switch(u.tag){case 22:eu(a,u),d&2048&&hm(u.alternate,u);break;case 24:eu(a,u),d&2048&&dm(u.alternate,u);break;default:eu(a,u)}i=i.sibling}}var tu=8192;function Po(n){if(n.subtreeFlags&tu)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 26:Po(n),n.flags&tu&&n.memoizedState!==null&&zw(Qr,n.memoizedState,n.memoizedProps);break;case 5:Po(n);break;case 3:case 4:var i=Qr;Qr=vh(n.stateNode.containerInfo),Po(n),Qr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=tu,tu=16777216,Po(n),tu=i):Po(n));break;default:Po(n)}}function h_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function nu(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Tn=u,f_(u,n)}h_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)d_(n),n=n.sibling}function d_(n){switch(n.tag){case 0:case 11:case 15:nu(n),n.flags&2048&&Vs(9,n,n.return);break;case 3:nu(n);break;case 12:nu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,ih(n)):nu(n);break;default:nu(n)}}function ih(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Tn=u,f_(u,n)}h_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Vs(8,i,i.return),ih(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,ih(i));break;default:ih(i)}n=n.sibling}}function f_(n,i){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:Vs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Tn=u;else e:for(a=n;Tn!==null;){u=Tn;var d=u.sibling,m=u.return;if(i_(u),u===a){Tn=null;break e}if(d!==null){d.return=m,Tn=d;break e}Tn=m}}}function JA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(n,i,a,u){return new JA(n,i,a,u)}function fm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ks(n,i){var a=n.alternate;return a===null?(a=jr(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function m_(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function sh(n,i,a,u,d,m){var T=0;if(u=n,typeof n=="function")fm(n)&&(T=1);else if(typeof n=="string")T=Lw(n,a,Dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ha(a.children,d,m,i);case y:T=8,d|=24;break;case _:return n=jr(12,a,i,d|2),n.elementType=_,n.lanes=m,n;case q:return n=jr(13,a,i,d),n.elementType=q,n.lanes=m,n;case L:return n=jr(19,a,i,d),n.elementType=L,n.lanes=m,n;case ee:return p_(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case x:T=10;break e;case S:T=9;break e;case V:T=11;break e;case Z:T=14;break e;case z:T=16,u=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=jr(T,a,i,d),i.elementType=n,i.type=u,i.lanes=m,i}function Ha(n,i,a,u){return n=jr(7,n,u,i),n.lanes=a,n}function p_(n,i,a,u){n=jr(22,n,u,i),n.elementType=ee,n.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var T=ws(m,2);T!==null&&(d._pendingVisibility|=2,Wn(T,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(s(456));if(d._pendingVisibility&2){var T=ws(m,2);T!==null&&(d._pendingVisibility&=-3,Wn(T,m,2))}}};return n.stateNode=d,n}function mm(n,i,a){return n=jr(6,n,null,i),n.lanes=a,n}function pm(n,i,a){return i=jr(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ns(n){n.flags|=4}function g_(n,i){if(i.type!=="stylesheet"||i.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!e0(i)){if(i=Or.current,i!==null&&((mt&4194176)===mt?Ei!==null:(mt&62914560)!==mt&&!(mt&536870912)||i!==Ei))throw zl=Ef,My;n.flags|=8192}}function ah(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?k():536870912,n.lanes|=i,Lo|=i)}function ru(n,i){if(!yt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function zt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function ew(n,i,a){var u=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return zt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Zi(hn),tr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Pl(i)?ns(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kr!==null&&(Sm(Kr),Kr=null))),zt(i),null;case 26:return a=i.memoizedState,n===null?(ns(i),a!==null?(zt(i),g_(i,a)):(zt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ns(i),zt(i),g_(i,a)):(zt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ns(i),zt(i),i.flags&=-16777217),null;case 27:ai(i),a=jn.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ns(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return zt(i),null}n=Dt.current,Pl(i)?Ny(i):(n=$_(d,u,a),i.stateNode=n,ns(i))}return zt(i),null;case 5:if(ai(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ns(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return zt(i),null}if(n=Dt.current,Pl(i))Ny(i);else{switch(d=yh(jn.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}n[Ne]=i,n[Ve]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(Nn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ns(i)}}return zt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ns(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=jn.current,Pl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,d=Xn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[Ne]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||z_(n.nodeValue,a)),n||Ma(i)}else n=yh(n).createTextNode(u),n[Ne]=i,i.stateNode=n}return zt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Pl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ne]=i}else kl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;zt(i),d=!1}else Kr!==null&&(Sm(Kr),Kr=null),d=!0;if(!d)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),i.flags&128)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ah(i,i.updateQueue),zt(i),null;case 4:return tr(),n===null&&Vm(i.stateNode.containerInfo),zt(i),null;case 10:return Zi(i.type),zt(i),null;case 19:if(wt(cn),d=i.memoizedState,d===null)return zt(i),null;if(u=(i.flags&128)!==0,m=d.rendering,m===null)if(u)ru(d,!1);else{if($t!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(m=Hc(n),m!==null){for(i.flags|=128,ru(d,!1),n=m.updateQueue,i.updateQueue=n,ah(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)m_(a,n),a=a.sibling;return He(cn,cn.current&1|2),i.child}n=n.sibling}d.tail!==null&&ne()>oh&&(i.flags|=128,u=!0,ru(d,!1),i.lanes=4194304)}else{if(!u)if(n=Hc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,ah(i,n),ru(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!yt)return zt(i),null}else 2*ne()-d.renderingStartTime>oh&&a!==536870912&&(i.flags|=128,u=!0,ru(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(n=d.last,n!==null?n.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=ne(),i.sibling=null,n=cn.current,He(cn,u?n&1|2:n&1),i):(zt(i),null);case 22:case 23:return Qi(i),bf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?a&536870912&&!(i.flags&128)&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),a=i.updateQueue,a!==null&&ah(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&wt(ja),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(hn),zt(i),null;case 25:return null}throw Error(s(156,i.tag))}function tw(n,i){switch(vf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zi(hn),tr(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ai(i),null;case 13:if(Qi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));kl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return wt(cn),null;case 4:return tr(),null;case 10:return Zi(i.type),null;case 22:case 23:return Qi(i),bf(),n!==null&&wt(ja),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Zi(hn),null;case 25:return null;default:return null}}function y_(n,i){switch(vf(i),i.tag){case 3:Zi(hn),tr();break;case 26:case 27:case 5:ai(i);break;case 4:tr();break;case 13:Qi(i);break;case 19:wt(cn);break;case 10:Zi(i.type);break;case 22:case 23:Qi(i),bf(),n!==null&&wt(ja);break;case 24:Zi(hn)}}var nw={getCacheForType:function(n){var i=kn(hn),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},rw=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Ot=null,rt=null,mt=0,Mt=0,fr=null,rs=!1,ko=!1,gm=!1,is=0,$t=0,Ls=0,qa=0,ym=0,Pr=0,Lo=0,iu=null,bi=null,vm=!1,_m=0,oh=1/0,lh=null,Us=null,uh=!1,Ga=null,su=0,Em=0,Tm=null,au=0,bm=null;function mr(){if(Bt&2&&mt!==0)return mt&-mt;if(R.T!==null){var n=Io;return n!==0?n:Dm()}return Re()}function v_(){Pr===0&&(Pr=!(mt&536870912)||yt?ya():536870912);var n=Or.current;return n!==null&&(n.flags|=32),Pr}function Wn(n,i,a){(n===Ot&&Mt===2||n.cancelPendingCommit!==null)&&(Uo(n,0),ss(n,mt,Pr,!1)),Y(n,a),(!(Bt&2)||n!==Ot)&&(n===Ot&&(!(Bt&2)&&(qa|=a),$t===4&&ss(n,mt,Pr,!1)),Si(n))}function __(n,i,a){if(Bt&6)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||lr(n,i),d=u?aw(n,i):Rm(n,i,!0),m=u;do{if(d===0){ko&&!u&&ss(n,i,0,!1);break}else if(d===6)ss(n,i,0,!rs);else{if(a=n.current.alternate,m&&!iw(a)){d=Rm(n,i,!1),m=!1;continue}if(d===2){if(m=i,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=n;d=iu;var D=A.current.memoizedState.isDehydrated;if(D&&(Uo(A,T).flags|=256),T=Rm(A,T,!1),T!==2){if(gm&&!D){A.errorRecoveryDisabledLanes|=m,qa|=m,d=4;break e}m=bi,bi=d,m!==null&&Sm(m)}d=T}if(m=!1,d!==2)continue}}if(d===1){Uo(n,0),ss(n,i,0,!0);break}e:{switch(u=n,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ss(u,i,Pr,!rs);break e}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=_m+300-ne(),10<m)){if(ss(u,i,Pr,!rs),xn(u,0)!==0)break e;u.timeoutHandle=H_(E_.bind(null,u,a,bi,lh,vm,i,Pr,qa,Lo,rs,2,-0,0),m);break e}E_(u,a,bi,lh,vm,i,Pr,qa,Lo,rs,0,-0,0)}}break}while(!0);Si(n)}function Sm(n){bi===null?bi=n:bi.push.apply(bi,n)}function E_(n,i,a,u,d,m,T,A,D,H,ie,de,J){var re=i.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:Uw},c_(i),i=Bw(),i!==null)){n.cancelPendingCommit=i(x_.bind(null,n,a,u,d,T,A,D,1,de,J)),ss(n,m,T,!H);return}x_(n,a,u,d,T,A,D,ie,de,J)}function iw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],m=d.getSnapshot;d=d.value;try{if(!cr(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ss(n,i,a,u){i&=~ym,i&=~qa,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var d=i;0<d;){var m=31-Ht(d),T=1<<m;u[m]=-1,d&=~T}a!==0&&Te(n,a,i)}function ch(){return Bt&6?!0:(ou(0),!1)}function Am(){if(rt!==null){if(Mt===0)var n=rt.return;else n=rt,Wi=za=null,Df(n),xo=null,Bl=0,n=rt;for(;n!==null;)y_(n.alternate,n),n=n.return;rt=null}}function Uo(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Sw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Am(),Ot=n,rt=a=ks(n.current,null),mt=i,Mt=0,fr=null,rs=!1,ko=lr(n,i),gm=!1,Lo=Pr=ym=qa=Ls=$t=0,bi=iu=null,vm=!1,i&8&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var d=31-Ht(u),m=1<<d;i|=n[d],u&=~m}return is=i,Vc(),a}function T_(n,i){tt=null,R.H=Ti,i===Ul?(i=Py(),Mt=3):i===My?(i=Py(),Mt=4):Mt=i===Vv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fr=i,rt===null&&($t=1,eh(n,Ir(i,n.current)))}function b_(){var n=R.H;return R.H=Ti,n===null?Ti:n}function S_(){var n=R.A;return R.A=nw,n}function wm(){$t=4,rs||(mt&4194176)!==mt&&Or.current!==null||(ko=!0),!(Ls&134217727)&&!(qa&134217727)||Ot===null||ss(Ot,mt,Pr,!1)}function Rm(n,i,a){var u=Bt;Bt|=2;var d=b_(),m=S_();(Ot!==n||mt!==i)&&(lh=null,Uo(n,i)),i=!1;var T=$t;e:do try{if(Mt!==0&&rt!==null){var A=rt,D=fr;switch(Mt){case 8:Am(),T=6;break e;case 3:case 2:case 6:Or.current===null&&(i=!0);var H=Mt;if(Mt=0,fr=null,zo(n,A,D,H),a&&ko){T=0;break e}break;default:H=Mt,Mt=0,fr=null,zo(n,A,D,H)}}sw(),T=$t;break}catch(ie){T_(n,ie)}while(!0);return i&&n.shellSuspendCounter++,Wi=za=null,Bt=u,R.H=d,R.A=m,rt===null&&(Ot=null,mt=0,Vc()),T}function sw(){for(;rt!==null;)A_(rt)}function aw(n,i){var a=Bt;Bt|=2;var u=b_(),d=S_();Ot!==n||mt!==i?(lh=null,oh=ne()+500,Uo(n,i)):ko=lr(n,i);e:do try{if(Mt!==0&&rt!==null){i=rt;var m=fr;t:switch(Mt){case 1:Mt=0,fr=null,zo(n,i,m,1);break;case 2:if(Vy(m)){Mt=0,fr=null,w_(i);break}i=function(){Mt===2&&Ot===n&&(Mt=7),Si(n)},m.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:Vy(m)?(Mt=0,fr=null,w_(i)):(Mt=0,fr=null,zo(n,i,m,7));break;case 5:var T=null;switch(rt.tag){case 26:T=rt.memoizedState;case 5:case 27:var A=rt;if(!T||e0(T)){Mt=0,fr=null;var D=A.sibling;if(D!==null)rt=D;else{var H=A.return;H!==null?(rt=H,hh(H)):rt=null}break t}}Mt=0,fr=null,zo(n,i,m,5);break;case 6:Mt=0,fr=null,zo(n,i,m,6);break;case 8:Am(),$t=6;break e;default:throw Error(s(462))}}ow();break}catch(ie){T_(n,ie)}while(!0);return Wi=za=null,R.H=u,R.A=d,Bt=a,rt!==null?0:(Ot=null,mt=0,Vc(),$t)}function ow(){for(;rt!==null&&!M();)A_(rt)}function A_(n){var i=$v(n.alternate,n,is);n.memoizedProps=n.pendingProps,i===null?hh(n):rt=i}function w_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=zv(a,i,i.pendingProps,i.type,void 0,mt);break;case 11:i=zv(a,i,i.pendingProps,i.type.render,i.ref,mt);break;case 5:Df(i);default:y_(a,i),i=rt=m_(i,is),i=$v(a,i,is)}n.memoizedProps=n.pendingProps,i===null?hh(n):rt=i}function zo(n,i,a,u){Wi=za=null,Df(i),xo=null,Bl=0;var d=i.return;try{if(YA(n,d,i,a,mt)){$t=1,eh(n,Ir(a,n.current)),rt=null;return}}catch(m){if(d!==null)throw rt=d,m;$t=1,eh(n,Ir(a,n.current)),rt=null;return}i.flags&32768?(yt||u===1?n=!0:ko||mt&536870912?n=!1:(rs=n=!0,(u===2||u===3||u===6)&&(u=Or.current,u!==null&&u.tag===13&&(u.flags|=16384))),R_(i,n)):hh(i)}function hh(n){var i=n;do{if(i.flags&32768){R_(i,rs);return}n=i.return;var a=ew(i.alternate,i,is);if(a!==null){rt=a;return}if(i=i.sibling,i!==null){rt=i;return}rt=i=n}while(i!==null);$t===0&&($t=5)}function R_(n,i){do{var a=tw(n.alternate,n);if(a!==null){a.flags&=32767,rt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){rt=n;return}rt=n=a}while(n!==null);$t=6,rt=null}function x_(n,i,a,u,d,m,T,A,D,H){var ie=R.T,de=_e.p;try{_e.p=2,R.T=null,lw(n,i,a,u,de,d,m,T,A,D,H)}finally{R.T=ie,_e.p=de}}function lw(n,i,a,u,d,m,T,A){do Bo();while(Ga!==null);if(Bt&6)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var H=D.lanes|D.childLanes;if(H|=pf,fe(n,u,H,m,T,A),n===Ot&&(rt=Ot=null,mt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||uh||(uh=!0,Em=H,Tm=a,dw(be,function(){return Bo(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=R.T,R.T=null,m=_e.p,_e.p=2,T=Bt,Bt|=4,WA(n,D),o_(D,n),OA(Lm,n.containerInfo),Sh=!!km,Lm=km=null,n.current=D,r_(n,D.alternate,D),W(),Bt=T,_e.p=m,R.T=a):n.current=D,uh?(uh=!1,Ga=n,su=u):C_(n,H),H=n.pendingLanes,H===0&&(Us=null),ki(D.stateNode),Si(n),i!==null)for(d=n.onRecoverableError,D=0;D<i.length;D++)H=i[D],d(H.value,{componentStack:H.stack});return su&3&&Bo(),H=n.pendingLanes,u&4194218&&H&42?n===bm?au++:(au=0,bm=n):au=0,ou(0),null}function C_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Hl(i)))}function Bo(){if(Ga!==null){var n=Ga,i=Em;Em=0;var a=Ue(su),u=R.T,d=_e.p;try{if(_e.p=32>a?32:a,R.T=null,Ga===null)var m=!1;else{a=Tm,Tm=null;var T=Ga,A=su;if(Ga=null,su=0,Bt&6)throw Error(s(331));var D=Bt;if(Bt|=4,d_(T.current),u_(T,T.current,A,a),Bt=D,ou(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot($n,T)}catch{}m=!0}return m}finally{_e.p=d,R.T=u,C_(n,i)}}return!1}function I_(n,i,a){i=Ir(a,i),i=qf(n.stateNode,i,2),n=Ms(n,i,2),n!==null&&(Y(n,2),Si(n))}function It(n,i,a){if(n.tag===3)I_(n,n,a);else for(;i!==null;){if(i.tag===3){I_(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Us===null||!Us.has(u))){n=Ir(a,n),a=Ov(2),u=Ms(i,a,2),u!==null&&(Mv(a,u,i,n),Y(u,2),Si(u));break}}i=i.return}}function xm(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new rw;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(gm=!0,d.add(a),n=uw.bind(null,n,i,a),i.then(n,n))}function uw(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ot===n&&(mt&a)===a&&($t===4||$t===3&&(mt&62914560)===mt&&300>ne()-_m?!(Bt&2)&&Uo(n,0):ym|=a,Lo===mt&&(Lo=0)),Si(n)}function D_(n,i){i===0&&(i=k()),n=ws(n,i),n!==null&&(Y(n,i),Si(n))}function cw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(n,a)}function hw(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),D_(n,a)}function dw(n,i){return li(n,i)}var dh=null,Fo=null,Cm=!1,fh=!1,Im=!1,$a=0;function Si(n){n!==Fo&&n.next===null&&(Fo===null?dh=Fo=n:Fo=Fo.next=n),fh=!0,Cm||(Cm=!0,mw(fw))}function ou(n,i){if(!Im&&fh){Im=!0;do for(var a=!1,u=dh;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var T=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Ht(42|n)+1)-1,m&=d&~(T&~A),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,M_(u,m))}else m=mt,m=xn(u,u===Ot?m:0),!(m&3)||lr(u,m)||(a=!0,M_(u,m));u=u.next}while(a);Im=!1}}function fw(){fh=Cm=!1;var n=0;$a!==0&&(bw()&&(n=$a),$a=0);for(var i=ne(),a=null,u=dh;u!==null;){var d=u.next,m=N_(u,i);m===0?(u.next=null,a===null?dh=d:a.next=d,d===null&&(Fo=a)):(a=u,(n!==0||m&3)&&(fh=!0)),u=d}ou(n)}function N_(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Ht(m),A=1<<T,D=d[T];D===-1?(!(A&a)||A&u)&&(d[T]=Es(A,i)):D<=i&&(n.expiredLanes|=A),m&=~A}if(i=Ot,a=mt,a=xn(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Mt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Hr(u),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||lr(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Hr(u),Ue(a)){case 2:case 8:a=ae;break;case 32:a=be;break;case 268435456:a=Rt;break;default:a=be}return u=O_.bind(null,n),a=li(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Hr(u),n.callbackPriority=2,n.callbackNode=null,2}function O_(n,i){var a=n.callbackNode;if(Bo()&&n.callbackNode!==a)return null;var u=mt;return u=xn(n,n===Ot?u:0),u===0?null:(__(n,u,i),N_(n,ne()),n.callbackNode!=null&&n.callbackNode===a?O_.bind(null,n):null)}function M_(n,i){if(Bo())return null;__(n,i,!0)}function mw(n){Aw(function(){Bt&6?li(he,n):n()})}function Dm(){return $a===0&&($a=ya()),$a}function V_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:di(""+n)}function j_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function pw(n,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var m=V_((d[Ve]||null).action),T=u.submitter;T&&(i=(i=T[Ve]||null)?V_(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var A=new fo("action","action",null,u,d);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($a!==0){var D=T?j_(d,T):new FormData(d);Uf(a,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?j_(d,T):new FormData(d),Uf(a,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var Nm=0;Nm<xy.length;Nm++){var Om=xy[Nm],gw=Om.toLowerCase(),yw=Om[0].toUpperCase()+Om.slice(1);$r(gw,"on"+yw)}$r(by,"onAnimationEnd"),$r(Sy,"onAnimationIteration"),$r(Ay,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(VA,"onTransitionRun"),$r(jA,"onTransitionStart"),$r(PA,"onTransitionCancel"),$r(wy,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function P_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],d=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,H=A.currentTarget;if(A=A.listener,D!==m&&d.isPropagationStopped())break e;m=A,d.currentTarget=H;try{m(d)}catch(ie){Jc(ie)}d.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,H=A.currentTarget,A=A.listener,D!==m&&d.isPropagationStopped())break e;m=A,d.currentTarget=H;try{m(d)}catch(ie){Jc(ie)}d.currentTarget=null,m=D}}}}function ut(n,i){var a=i[jt];a===void 0&&(a=i[jt]=new Set);var u=n+"__bubble";a.has(u)||(k_(i,n,2,!1),a.add(u))}function Mm(n,i,a){var u=0;i&&(u|=4),k_(a,n,u,i)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Vm(n){if(!n[mh]){n[mh]=!0,ci.forEach(function(a){a!=="selectionchange"&&(vw.has(a)||Mm(a,!1,n),Mm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[mh]||(i[mh]=!0,Mm("selectionchange",!1,i))}}function k_(n,i,a,u){switch(a0(i)){case 2:var d=qw;break;case 8:d=Gw;break;default:d=Km}a=d.bind(null,i,a,n),d=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function jm(n,i,a,u,d){var m=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&(D=T.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;T=T.return}for(;A!==null;){if(T=Qt(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue e}A=A.parentNode}}u=u.return}_c(function(){var H=m,ie=ho(a),de=[];e:{var J=Ry.get(n);if(J!==void 0){var re=fo,Me=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":re=_o;break;case"focusin":Me="focus",re=go;break;case"focusout":Me="blur",re=go;break;case"beforeblur":case"afterblur":re=go;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=xc;break;case by:case Sy:case Ay:re=yo;break;case wy:re=Ic;break;case"scroll":case"scrollend":re=Ec;break;case"wheel":re=Eo;break;case"copy":case"cut":case"paste":re=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ol;break;case"toggle":case"beforetoggle":re=Nc}var Ke=(i&4)!==0,Kt=!Ke&&(n==="scroll"||n==="scrollend"),$=Ke?J!==null?J+"Capture":null:J;Ke=[];for(var F=H,X;F!==null;){var oe=F;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||$===null||(oe=ba(F,$),oe!=null&&Ke.push(uu(F,oe,X))),Kt)break;F=F.return}0<Ke.length&&(J=new re(J,Me,null,a,ie),de.push({event:J,listeners:Ke}))}}if(!(i&7)){e:{if(J=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",J&&a!==wr&&(Me=a.relatedTarget||a.fromElement)&&(Qt(Me)||Me[ht]))break e;if((re||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Me=a.relatedTarget||a.toElement,re=H,Me=Me?Qt(Me):null,Me!==null&&(Kt=Se(Me),Ke=Me.tag,Me!==Kt||Ke!==5&&Ke!==27&&Ke!==6)&&(Me=null)):(re=null,Me=H),re!==Me)){if(Ke=xr,oe="onMouseLeave",$="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=Ol,oe="onPointerLeave",$="onPointerEnter",F="pointer"),Kt=re==null?J:Tr(re),X=Me==null?J:Tr(Me),J=new Ke(oe,F+"leave",re,a,ie),J.target=Kt,J.relatedTarget=X,oe=null,Qt(ie)===H&&(Ke=new Ke($,F+"enter",Me,a,ie),Ke.target=X,Ke.relatedTarget=Kt,oe=Ke),Kt=oe,re&&Me)t:{for(Ke=re,$=Me,F=0,X=Ke;X;X=Ho(X))F++;for(X=0,oe=$;oe;oe=Ho(oe))X++;for(;0<F-X;)Ke=Ho(Ke),F--;for(;0<X-F;)$=Ho($),X--;for(;F--;){if(Ke===$||$!==null&&Ke===$.alternate)break t;Ke=Ho(Ke),$=Ho($)}Ke=null}else Ke=null;re!==null&&L_(de,J,re,Ke,!1),Me!==null&&Kt!==null&&L_(de,Kt,Me,Ke,!0)}}e:{if(J=H?Tr(H):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var De=hy;else if(un(J))if(dy)De=DA;else{De=CA;var nt=xA}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?H&&wl(H.elementType)&&(De=hy):De=IA;if(De&&(De=De(n,H))){Gi(de,De,a,ie);break e}nt&&nt(n,J,H),n==="focusout"&&H&&J.type==="number"&&H.memoizedProps.value!=null&&co(J,"number",J.value)}switch(nt=H?Tr(H):window,n){case"focusin":(un(nt)||nt.contentEditable==="true")&&(To=nt,df=H,jl=null);break;case"focusout":jl=df=To=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Ey(de,a,ie);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":Ey(de,a,ie)}var Pe;if(yi)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else dt?te(n,a)&&(ze="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(E&&a.locale!=="ko"&&(dt||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&dt&&(Pe=xl()):(fi=ie,As="value"in fi?fi.value:fi.textContent,dt=!0)),nt=ph(H,ze),0<nt.length&&(ze=new Dl(ze,n,null,a,ie),de.push({event:ze,listeners:nt}),Pe?ze.data=Pe:(Pe=ge(a),Pe!==null&&(ze.data=Pe)))),(Pe=v?ln(n,a):ft(n,a))&&(ze=ph(H,"onBeforeInput"),0<ze.length&&(nt=new Dl("onBeforeInput","beforeinput",null,a,ie),de.push({event:nt,listeners:ze}),nt.data=Pe)),pw(de,n,H,a,ie)}P_(de,i)})}function uu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ph(n,i){for(var a=i+"Capture",u=[];n!==null;){var d=n,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ba(n,a),d!=null&&u.unshift(uu(n,d,m)),d=ba(n,i),d!=null&&u.push(uu(n,d,m))),n=n.return}return u}function Ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L_(n,i,a,u,d){for(var m=i._reactName,T=[];a!==null&&a!==u;){var A=a,D=A.alternate,H=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||H===null||(D=H,d?(H=ba(a,m),H!=null&&T.unshift(uu(a,H,D))):d||(H=ba(a,m),H!=null&&T.push(uu(a,H,D)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var _w=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function U_(n){return(typeof n=="string"?n:""+n).replace(_w,`
`).replace(Ew,"")}function z_(n,i){return i=U_(i),U_(n)===i}function gh(){}function Ct(n,i,a,u,d,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ar(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ar(n,""+u);break;case"className":Ts(n,"class",u);break;case"tabIndex":Ts(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(n,a,u);break;case"style":vc(n,u,m);break;case"data":if(i!=="object"){Ts(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=di(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Ct(n,i,"name",d.name,d,null),Ct(n,i,"formEncType",d.formEncType,d,null),Ct(n,i,"formMethod",d.formMethod,d,null),Ct(n,i,"formTarget",d.formTarget,d,null)):(Ct(n,i,"encType",d.encType,d,null),Ct(n,i,"method",d.method,d,null),Ct(n,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=di(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=gh);break;case"onScroll":u!=null&&ut("scroll",n);break;case"onScrollEnd":u!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=di(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":ut("beforetoggle",n),ut("toggle",n),hi(n,"popover",u);break;case"xlinkActuate":Sr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Sr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Sr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Sr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Sr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Sr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Sr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Sr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Sr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":hi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sf.get(a)||a,hi(n,a,u))}}function Pm(n,i,a,u,d,m){switch(a){case"style":vc(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Ar(n,u):(typeof u=="number"||typeof u=="bigint")&&Ar(n,""+u);break;case"onScroll":u!=null&&ut("scroll",n);break;case"onScrollEnd":u!=null&&ut("scrollend",n);break;case"onClick":u!=null&&(n.onclick=gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=n[Ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,d);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):hi(n,a,u)}}}function Nn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var u=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(n,i,m,T,a,null)}}d&&Ct(n,i,"srcSet",a.srcSet,a,null),u&&Ct(n,i,"src",a.src,a,null);return;case"input":ut("invalid",n);var A=m=T=d=null,D=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var ie=a[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":T=ie;break;case"checked":D=ie;break;case"defaultChecked":H=ie;break;case"value":m=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:Ct(n,i,u,ie,a,null)}}Ea(n,m,A,D,H,T,d,!1),_a(n);return;case"select":ut("invalid",n),u=T=m=null;for(d in a)if(a.hasOwnProperty(d)&&(A=a[d],A!=null))switch(d){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Ct(n,i,d,A,a,null)}i=m,a=T,n.multiple=!!u,i!=null?gt(n,!!u,i,!1):a!=null&&gt(n,!!u,a,!0);return;case"textarea":ut("invalid",n),m=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":d=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ct(n,i,T,A,a,null)}Ss(n,u,d,m),_a(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ct(n,i,D,u,a,null)}return;case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(u=0;u<lu.length;u++)ut(lu[u],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(n,i,H,u,a,null)}return;default:if(wl(i)){for(ie in a)a.hasOwnProperty(ie)&&(u=a[ie],u!==void 0&&Pm(n,i,ie,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Ct(n,i,A,u,a,null))}function Tw(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,A=null,D=null,H=null,ie=null;for(re in a){var de=a[re];if(a.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":D=de;default:u.hasOwnProperty(re)||Ct(n,i,re,null,u,de)}}for(var J in u){var re=u[J];if(de=a[J],u.hasOwnProperty(J)&&(re!=null||de!=null))switch(J){case"type":m=re;break;case"name":d=re;break;case"checked":H=re;break;case"defaultChecked":ie=re;break;case"value":T=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==de&&Ct(n,i,J,re,u,de)}}bs(n,T,A,D,H,ie,m,d);return;case"select":re=T=A=J=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":re=D;default:u.hasOwnProperty(m)||Ct(n,i,m,null,u,D)}for(d in u)if(m=u[d],D=a[d],u.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":J=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&Ct(n,i,d,m,u,D)}i=A,a=T,u=re,J!=null?gt(n,!!a,J,!1):!!u!=!!a&&(i!=null?gt(n,!!a,i,!0):gt(n,!!a,a?[]:"",!1));return;case"textarea":re=J=null;for(A in a)if(d=a[A],a.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ct(n,i,A,null,u,d)}for(T in u)if(d=u[T],m=a[T],u.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":J=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ct(n,i,T,d,u,m)}Ta(n,J,re);return;case"option":for(var Me in a)if(J=a[Me],a.hasOwnProperty(Me)&&J!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":n.selected=!1;break;default:Ct(n,i,Me,null,u,J)}for(D in u)if(J=u[D],re=a[D],u.hasOwnProperty(D)&&J!==re&&(J!=null||re!=null))switch(D){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ct(n,i,D,J,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in a)J=a[Ke],a.hasOwnProperty(Ke)&&J!=null&&!u.hasOwnProperty(Ke)&&Ct(n,i,Ke,null,u,J);for(H in u)if(J=u[H],re=a[H],u.hasOwnProperty(H)&&J!==re&&(J!=null||re!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Ct(n,i,H,J,u,re)}return;default:if(wl(i)){for(var Kt in a)J=a[Kt],a.hasOwnProperty(Kt)&&J!==void 0&&!u.hasOwnProperty(Kt)&&Pm(n,i,Kt,void 0,u,J);for(ie in u)J=u[ie],re=a[ie],!u.hasOwnProperty(ie)||J===re||J===void 0&&re===void 0||Pm(n,i,ie,J,u,re);return}}for(var $ in a)J=a[$],a.hasOwnProperty($)&&J!=null&&!u.hasOwnProperty($)&&Ct(n,i,$,null,u,J);for(de in u)J=u[de],re=a[de],!u.hasOwnProperty(de)||J===re||J==null&&re==null||Ct(n,i,de,J,u,re)}var km=null,Lm=null;function yh(n){return n.nodeType===9?n:n.ownerDocument}function B_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Um(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zm=null;function bw(){var n=window.event;return n&&n.type==="popstate"?n===zm?!1:(zm=n,!0):(zm=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(n){return q_.resolve(null).then(n).catch(ww)}:H_;function ww(n){setTimeout(function(){throw n})}function Bm(n,i){var a=i,u=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){n.removeChild(d),yu(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);yu(i)}function Fm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fm(a),ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Rw(n,i,a,u){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Kn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Yr(n.nextSibling),n===null)break}return null}function xw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yr(n.nextSibling),n===null))return null;return n}function Yr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function G_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function $_(n,i,a){switch(i=yh(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var kr=new Map,K_=new Set;function vh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var as=_e.d;_e.d={f:Cw,r:Iw,D:Dw,C:Nw,L:Ow,m:Mw,X:jw,S:Vw,M:Pw};function Cw(){var n=as.f(),i=ch();return n||i}function Iw(n){var i=Jt(n);i!==null&&i.tag===5&&i.type==="form"?Ev(i):as.r(n)}var qo=typeof document>"u"?null:document;function Q_(n,i,a){var u=qo;if(u&&typeof i=="string"&&i){var d=qt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),K_.has(d)||(K_.add(d),n={rel:n,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),Nn(i,"link",n),_t(i),u.head.appendChild(i)))}}function Dw(n){as.D(n),Q_("dns-prefetch",n,null)}function Nw(n,i){as.C(n,i),Q_("preconnect",n,i)}function Ow(n,i,a){as.L(n,i,a);var u=qo;if(u&&n&&i){var d='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+qt(a.imageSizes)+'"]')):d+='[href="'+qt(n)+'"]';var m=d;switch(i){case"style":m=Go(n);break;case"script":m=$o(n)}kr.has(m)||(n=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),kr.set(m,n),u.querySelector(d)!==null||i==="style"&&u.querySelector(cu(m))||i==="script"&&u.querySelector(hu(m))||(i=u.createElement("link"),Nn(i,"link",n),_t(i),u.head.appendChild(i)))}}function Mw(n,i){as.m(n,i);var a=qo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+qt(u)+'"][href="'+qt(n)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$o(n)}if(!kr.has(m)&&(n=N({rel:"modulepreload",href:n},i),kr.set(m,n),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hu(m)))return}u=a.createElement("link"),Nn(u,"link",n),_t(u),a.head.appendChild(u)}}}function Vw(n,i,a){as.S(n,i,a);var u=qo;if(u&&n){var d=rr(u).hoistableStyles,m=Go(n);i=i||"default";var T=d.get(m);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(cu(m)))A.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":i},a),(a=kr.get(m))&&Hm(n,a);var D=T=u.createElement("link");_t(D),Nn(D,"link",n),D._p=new Promise(function(H,ie){D.onload=H,D.onerror=ie}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_h(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:A},d.set(m,T)}}}function jw(n,i){as.X(n,i);var a=qo;if(a&&n){var u=rr(a).hoistableScripts,d=$o(n),m=u.get(d);m||(m=a.querySelector(hu(d)),m||(n=N({src:n,async:!0},i),(i=kr.get(d))&&qm(n,i),m=a.createElement("script"),_t(m),Nn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Pw(n,i){as.M(n,i);var a=qo;if(a&&n){var u=rr(a).hoistableScripts,d=$o(n),m=u.get(d);m||(m=a.querySelector(hu(d)),m||(n=N({src:n,async:!0,type:"module"},i),(i=kr.get(d))&&qm(n,i),m=a.createElement("script"),_t(m),Nn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Y_(n,i,a,u){var d=(d=jn.current)?vh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Go(a.href),a=rr(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Go(a.href);var m=rr(d).hoistableStyles,T=m.get(n);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=d.querySelector(cu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),kr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kr.set(n,a),m||kw(d,n,a,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$o(a),a=rr(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Go(n){return'href="'+qt(n)+'"'}function cu(n){return'link[rel="stylesheet"]['+n+"]"}function X_(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function kw(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Nn(i,"link",a),_t(i),n.head.appendChild(i))}function $o(n){return'[src="'+qt(n)+'"]'}function hu(n){return"script[async]"+n}function W_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+qt(a.href)+'"]');if(u)return i.instance=u,_t(u),u;var d=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),_t(u),Nn(u,"style",d),_h(u,a.precedence,n),i.instance=u;case"stylesheet":d=Go(a.href);var m=n.querySelector(cu(d));if(m)return i.state.loading|=4,i.instance=m,_t(m),m;u=X_(a),(d=kr.get(d))&&Hm(u,d),m=(n.ownerDocument||n).createElement("link"),_t(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Nn(m,"link",u),i.state.loading|=4,_h(m,a.precedence,n),i.instance=m;case"script":return m=$o(a.src),(d=n.querySelector(hu(m)))?(i.instance=d,_t(d),d):(u=a,(d=kr.get(m))&&(u=N({},a),qm(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),_t(d),Nn(d,"link",u),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(u=i.instance,i.state.loading|=4,_h(u,a.precedence,n));return i.instance}function _h(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===i)m=A;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Hm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function qm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Eh=null;function Z_(n,i,a){if(Eh===null){var u=new Map,d=Eh=new Map;d.set(a,u)}else d=Eh,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Kn]||m[Ne]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=n+T;var A=u.get(T);A?A.push(m):u.set(T,[m])}}return u}function J_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Lw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e0(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var du=null;function Uw(){}function zw(n,i,a){if(du===null)throw Error(s(475));var u=du;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var d=Go(a.href),m=n.querySelector(cu(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Th.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,_t(m);return}m=n.ownerDocument||n,a=X_(a),(d=kr.get(d))&&Hm(a,d),m=m.createElement("link"),_t(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Nn(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&!(i.state.loading&3)&&(u.count++,i=Th.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function Bw(){if(du===null)throw Error(s(475));var n=du;return n.stylesheets&&n.count===0&&Gm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Gm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Th(){if(this.count--,this.count===0){if(this.stylesheets)Gm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bh=null;function Gm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bh=new Map,i.forEach(Fw,n),bh=null,Th.call(n))}function Fw(n,i){if(!(i.state.loading&4)){var a=bh.get(n);if(a)var u=a.get(null);else{a=new Map,bh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,d),a.set(T,d),this.count++,u=Th.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var fu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Fe,_currentValue2:Fe,_threadCount:0};function Hw(n,i,a,u,d,m,T,A){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function t0(n,i,a,u,d,m,T,A,D,H,ie,de){return n=new Hw(n,i,a,T,A,D,H,de),i=1,m===!0&&(i|=24),m=jr(3,null,null,i),n.current=m,m.stateNode=n,i=Sf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},rm(m),n}function n0(n){return n?(n=Ao,n):Ao}function r0(n,i,a,u,d,m){d=n0(d),u.context===null?u.context=d:u.pendingContext=d,u=Os(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ms(n,u,i),a!==null&&(Wn(a,n,i),Xl(a,n,i))}function i0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function $m(n,i){i0(n,i),(n=n.alternate)&&i0(n,i)}function s0(n){if(n.tag===13){var i=ws(n,67108864);i!==null&&Wn(i,n,67108864),$m(n,67108864)}}var Sh=!0;function qw(n,i,a,u){var d=R.T;R.T=null;var m=_e.p;try{_e.p=2,Km(n,i,a,u)}finally{_e.p=m,R.T=d}}function Gw(n,i,a,u){var d=R.T;R.T=null;var m=_e.p;try{_e.p=8,Km(n,i,a,u)}finally{_e.p=m,R.T=d}}function Km(n,i,a,u){if(Sh){var d=Qm(u);if(d===null)jm(n,i,u,Ah,a),o0(n,u);else if(Kw(d,n,i,a,u))u.stopPropagation();else if(o0(n,u),i&4&&-1<$w.indexOf(n)){for(;d!==null;){var m=Jt(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=nr(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ht(T);A.entanglements[1]|=D,T&=~D}Si(m),!(Bt&6)&&(oh=ne()+500,ou(0))}}break;case 13:A=ws(m,2),A!==null&&Wn(A,m,2),ch(),$m(m,2)}if(m=Qm(u),m===null&&jm(n,i,u,Ah,a),m===d)break;d=m}d!==null&&u.stopPropagation()}else jm(n,i,u,null,a)}}function Qm(n){return n=ho(n),Ym(n)}var Ah=null;function Ym(n){if(Ah=null,n=Qt(n),n!==null){var i=Se(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Xe(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ah=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case he:return 2;case ae:return 8;case be:case We:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Xm=!1,zs=null,Bs=null,Fs=null,mu=new Map,pu=new Map,Hs=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(n,i){switch(n){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(n,i,a,u,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Jt(i),i!==null&&s0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Kw(n,i,a,u,d){switch(i){case"focusin":return zs=gu(zs,n,i,a,u,d),!0;case"dragenter":return Bs=gu(Bs,n,i,a,u,d),!0;case"mouseover":return Fs=gu(Fs,n,i,a,u,d),!0;case"pointerover":var m=d.pointerId;return mu.set(m,gu(mu.get(m)||null,n,i,a,u,d)),!0;case"gotpointercapture":return m=d.pointerId,pu.set(m,gu(pu.get(m)||null,n,i,a,u,d)),!0}return!1}function l0(n){var i=Qt(n.target);if(i!==null){var a=Se(i);if(a!==null){if(i=a.tag,i===13){if(i=Xe(a),i!==null){n.blockedOn=i,xe(n.priority,function(){if(a.tag===13){var u=mr(),d=ws(a,u);d!==null&&Wn(d,a,u),$m(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Qm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);wr=u,a.target.dispatchEvent(u),wr=null}else return i=Jt(a),i!==null&&s0(i),n.blockedOn=a,!1;i.shift()}return!0}function u0(n,i,a){wh(n)&&a.delete(i)}function Qw(){Xm=!1,zs!==null&&wh(zs)&&(zs=null),Bs!==null&&wh(Bs)&&(Bs=null),Fs!==null&&wh(Fs)&&(Fs=null),mu.forEach(u0),pu.forEach(u0)}function Rh(n,i){n.blockedOn===i&&(n.blockedOn=null,Xm||(Xm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qw)))}var xh=null;function c0(n){xh!==n&&(xh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xh===n&&(xh=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],d=n[i+2];if(typeof u!="function"){if(Ym(u||a)===null)continue;break}var m=Jt(a);m!==null&&(n.splice(i,3),i-=3,Uf(m,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function yu(n){function i(D){return Rh(D,n)}zs!==null&&Rh(zs,n),Bs!==null&&Rh(Bs,n),Fs!==null&&Rh(Fs,n),mu.forEach(i),pu.forEach(i);for(var a=0;a<Hs.length;a++){var u=Hs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&Hs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],m=a[u+1],T=d[Ve]||null;if(typeof m=="function")T||c0(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[Ve]||null)A=T.formAction;else if(Ym(d)!==null)continue}else A=T.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),c0(a)}}}function Wm(n){this._internalRoot=n}Ch.prototype.render=Wm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=mr();r0(a,u,n,i,null,null)},Ch.prototype.unmount=Wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Bo(),r0(n.current,2,null,n,null,null),ch(),i[ht]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var i=Re();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,n),a===0&&l0(n)}};var h0=e.version;if(h0!=="19.0.0")throw Error(s(527,h0,"19.0.0"));_e.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ce(i),n=n!==null?we(n):null,n=n===null?null:n.stateNode,n};var Yw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{$n=Ih.inject(Yw),Ut=Ih}catch{}}return _u.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",d=Cv,m=Iv,T=Dv,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=t0(n,1,!1,null,null,a,u,d,m,T,A,null),n[ht]=i.current,Vm(n.nodeType===8?n.parentNode:n),new Wm(i)},_u.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,d="",m=Cv,T=Iv,A=Dv,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=t0(n,1,!0,i,a??null,u,d,m,T,A,D,H),i.context=n0(null),a=i.current,u=mr(),d=Os(u),d.callback=null,Ms(a,d,u),i.current.lanes=u,Y(i,u),Si(i),n[ht]=i.current,Vm(n),new Ch(i)},_u.version="19.0.0",_u}var T0;function sR(){if(T0)return ep.exports;T0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ep.exports=iR(),ep.exports}var aR=sR(),Eu={},b0;function oR(){if(b0)return Eu;b0=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=c,Eu.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,x){const V=new l,q=S.length;if(q<2)return V;const L=(x==null?void 0:x.decode)||_;let Z=0;do{const z=S.indexOf("=",Z);if(z===-1)break;const ee=S.indexOf(";",Z),pe=ee===-1?q:ee;if(z>pe){Z=S.lastIndexOf(";",z-1)+1;continue}const se=f(S,Z,z),B=p(S,z,se),O=S.slice(se,B);if(V[O]===void 0){let C=f(S,z+1,pe),R=p(S,pe,C);const N=L(S.slice(C,R));V[O]=N}Z=pe+1}while(Z<q);return V}function f(S,x,V){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<V);return V}function p(S,x,V){for(;x>V;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return V}function y(S,x,V){const q=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=q(x);if(!e.test(L))throw new TypeError(`argument val is invalid: ${x}`);let Z=S+"="+L;if(!V)return Z;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);Z+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);Z+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);Z+="; Path="+V.path}if(V.expires){if(!b(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);Z+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(Z+="; HttpOnly"),V.secure&&(Z+="; Secure"),V.partitioned&&(Z+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return Z}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Eu}oR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S0="popstate";function lR(r={}){function e(o,l){let{pathname:c="/",search:f="",hash:p=""}=ys(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),qu("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:sa(l))}function s(o,l){mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return cR(e,t,s,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function A0(r,e){return{usr:r.state,key:r.key,idx:e}}function qu(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ys(e):e,state:t,key:e&&e.key||s||uR()}}function sa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ys(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function cR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,f="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function b(){f="POP";let L=_(),Z=L==null?null:L-y;y=L,p&&p({action:f,location:q.location,delta:Z})}function S(L,Z){f="PUSH";let z=qu(q.location,L,Z);t&&t(z,L),y=_()+1;let ee=A0(z,y),pe=q.createHref(z);try{c.pushState(ee,"",pe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(pe)}l&&p&&p({action:f,location:q.location,delta:1})}function x(L,Z){f="REPLACE";let z=qu(q.location,L,Z);t&&t(z,L),y=_();let ee=A0(z,y),pe=q.createHref(z);c.replaceState(ee,"",pe),l&&p&&p({action:f,location:q.location,delta:0})}function V(L){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof L=="string"?L:sa(L);return z=z.replace(/ $/,"%20"),ot(Z,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,Z)}let q={get action(){return f},get location(){return r(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(S0,b),p=L,()=>{o.removeEventListener(S0,b),p=null}},createHref(L){return e(o,L)},createURL:V,encodeLocation(L){let Z=V(L);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:x,go(L){return c.go(L)}};return q}var hR=new Set(["lazy","caseSensitive","path","id","index","children"]);function dR(r){return r.index===!0}function ed(r,e,t=[],s={}){return r.map((o,l)=>{let c=[...t,String(l)],f=typeof o.id=="string"?o.id:c.join("-");if(ot(o.index!==!0||!o.children,"Cannot specify children on an index route"),ot(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),dR(o)){let p={...o,...e(o),id:f};return s[f]=p,p}else{let p={...o,...e(o),id:f,children:void 0};return s[f]=p,o.children&&(p.children=ed(o.children,e,c,s)),p}})}function Ks(r,e,t="/"){return Uh(r,e,t,!1)}function Uh(r,e,t,s){let o=typeof e=="string"?ys(e):e,l=ri(o.pathname||"/",t);if(l==null)return null;let c=IT(r);mR(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let y=wR(l);f=SR(c[p],y,s)}return f}function fR(r,e){let{route:t,pathname:s,params:o}=r;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function IT(r,e=[],t=[],s=""){let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ci([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),IT(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:TR(y,l.index),routesMeta:_})};return r.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of DT(l.path))o(l,c,p)}),e}function DT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=DT(s.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function mR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:bR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,yR=2,vR=1,_R=10,ER=-2,w0=r=>r==="*";function TR(r,e){let t=r.split("/"),s=t.length;return t.some(w0)&&(s+=ER),e&&(s+=yR),t.filter(o=>!w0(o)).reduce((o,l)=>o+(pR.test(l)?gR:l===""?vR:_R),s)}function bR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function SR(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",c=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!b&&y&&t&&!s[s.length-1].route.index&&(b=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Ci([l,b.pathname]),pathnameBase:CR(Ci([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=Ci([l,b.pathnameBase]))}return c}function td(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=AR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:b},S)=>{if(_==="*"){let V=f[S]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=f[S];return b&&!x?y[_]=void 0:y[_]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:r}}function AR(r,e=!1,t=!0){mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ri(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function RR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ys(r):r;return{pathname:t?t.startsWith("/")?t:xR(t,e):e,search:IR(s),hash:DR(o)}}function xR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ip(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rd(r){let e=NT(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function xd(r,e,t,s=!1){let o;typeof r=="string"?o=ys(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),ip("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),ip("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),ip("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}f=b>=0?e[b]:"/"}let p=RR(o,f),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Ci=r=>r.join("/").replace(/\/\/+/g,"/"),CR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,nd=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Gu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var OT=["POST","PUT","PATCH","DELETE"],NR=new Set(OT),OR=["GET",...OT],MR=new Set(OR),VR=new Set([301,302,303,307,308]),jR=new Set([307,308]),sp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),MT="remix-router-transitions",VT=Symbol("ResetLoaderData");function LR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||kR,o={},l=ed(r.routes,s,void 0,o),c,f=r.basename||"/",p=r.dataStrategy||HR,y=r.patchRoutesOnNavigation,_={...r.future},b=null,S=new Set,x=null,V=null,q=null,L=r.hydrationData!=null,Z=Ks(l,r.history.location,f),z=!1,ee=null;if(Z==null&&!y){let k=Ur(404,{pathname:r.history.location.pathname}),{matches:G,route:Y}=P0(l);Z=G,ee={[Y.id]:k}}Z&&!r.hydrationData&&xn(Z,l,r.history.location.pathname).active&&(Z=null);let pe;if(Z)if(Z.some(k=>k.route.lazy))pe=!1;else if(!Z.some(k=>k.route.loader))pe=!0;else{let k=r.hydrationData?r.hydrationData.loaderData:null,G=r.hydrationData?r.hydrationData.errors:null;if(G){let Y=Z.findIndex(fe=>G[fe.route.id]!==void 0);pe=Z.slice(0,Y+1).every(fe=>!Sp(fe.route,k,G))}else pe=Z.every(Y=>!Sp(Y.route,k,G))}else{pe=!1,Z=[];let k=xn(null,l,r.history.location.pathname);k.active&&k.matches&&(z=!0,Z=k.matches)}let se,B={historyAction:r.history.action,location:r.history.location,matches:Z,initialized:pe,navigation:sp,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},O="POP",C=!1,R,N=!1,P=new Map,U=null,I=!1,Be=!1,Je=new Set,ue=new Map,Ce=0,Se=-1,Xe=new Map,j=new Set,ce=new Map,we=new Map,ve=new Set,_e=new Map,Fe,Le=null;function Vt(){if(b=r.history.listen(({action:k,location:G,delta:Y})=>{if(Fe){Fe(),Fe=void 0;return}mn(_e.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=qr({currentLocation:B.location,nextLocation:G,historyAction:k});if(fe&&Y!=null){let Te=new Promise(Ie=>{Fe=Ie});r.history.go(Y*-1),Ht(fe,{state:"blocked",location:G,proceed(){Ht(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Te.then(()=>r.history.go(Y))},reset(){let Ie=new Map(B.blockers);Ie.set(fe,Tu),He({blockers:Ie})}});return}return on(k,G)}),t){ex(e,P);let k=()=>tx(e,P);e.addEventListener("pagehide",k),U=()=>e.removeEventListener("pagehide",k)}return B.initialized||on("POP",B.location,{initialHydration:!0}),se}function it(){b&&b(),U&&U(),S.clear(),R&&R.abort(),B.fetchers.forEach((k,G)=>We(G)),B.blockers.forEach((k,G)=>Pn(G))}function wt(k){return S.add(k),()=>S.delete(k)}function He(k,G={}){B={...B,...k};let Y=[],fe=[];B.fetchers.forEach((Te,Ie)=>{Te.state==="idle"&&(ve.has(Ie)?Y.push(Ie):fe.push(Ie))}),ve.forEach(Te=>{!B.fetchers.has(Te)&&!ue.has(Te)&&Y.push(Te)}),[...S].forEach(Te=>Te(B,{deletedFetchers:Y,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Y.forEach(Te=>We(Te)),fe.forEach(Te=>B.fetchers.delete(Te))}function Dt(k,G,{flushSync:Y}={}){var ye,Ne;let fe=B.actionData!=null&&B.navigation.formMethod!=null&&Wr(B.navigation.formMethod)&&B.navigation.state==="loading"&&((ye=k.state)==null?void 0:ye._isRedirect)!==!0,Te;G.actionData?Object.keys(G.actionData).length>0?Te=G.actionData:Te=null:fe?Te=B.actionData:Te=null;let Ie=G.loaderData?V0(B.loaderData,G.loaderData,G.matches||[],G.errors):B.loaderData,Ue=B.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Ve,ht)=>Ue.set(ht,Tu)));let Re=C===!0||B.navigation.formMethod!=null&&Wr(B.navigation.formMethod)&&((Ne=k.state)==null?void 0:Ne._isRedirect)!==!0;c&&(l=c,c=void 0),I||O==="POP"||(O==="PUSH"?r.history.push(k,k.state):O==="REPLACE"&&r.history.replace(k,k.state));let xe;if(O==="POP"){let Ve=P.get(B.location.pathname);Ve&&Ve.has(k.pathname)?xe={currentLocation:B.location,nextLocation:k}:P.has(k.pathname)&&(xe={currentLocation:k,nextLocation:B.location})}else if(N){let Ve=P.get(B.location.pathname);Ve?Ve.add(k.pathname):(Ve=new Set([k.pathname]),P.set(B.location.pathname,Ve)),xe={currentLocation:B.location,nextLocation:k}}He({...G,actionData:Te,loaderData:Ie,historyAction:O,location:k,initialized:!0,navigation:sp,revalidation:"idle",restoreScrollPosition:nr(k,G.matches||B.matches),preventScrollReset:Re,blockers:Ue},{viewTransitionOpts:xe,flushSync:Y===!0}),O="POP",C=!1,N=!1,I=!1,Be=!1,Le==null||Le.resolve(),Le=null}async function Gn(k,G){if(typeof k=="number"){r.history.go(k);return}let Y=bp(B.location,B.matches,f,k,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:fe,submission:Te,error:Ie}=R0(!1,Y,G),Ue=B.location,Re=qu(B.location,fe,G&&G.state);Re={...Re,...r.history.encodeLocation(Re)};let xe=G&&G.replace!=null?G.replace:void 0,ye="PUSH";xe===!0?ye="REPLACE":xe===!1||Te!=null&&Wr(Te.formMethod)&&Te.formAction===B.location.pathname+B.location.search&&(ye="REPLACE");let Ne=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Ve=(G&&G.flushSync)===!0,ht=qr({currentLocation:Ue,nextLocation:Re,historyAction:ye});if(ht){Ht(ht,{state:"blocked",location:Re,proceed(){Ht(ht,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Gn(k,G)},reset(){let jt=new Map(B.blockers);jt.set(ht,Tu),He({blockers:jt})}});return}await on(ye,Re,{submission:Te,pendingError:Ie,preventScrollReset:Ne,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Ve})}function jn(){Le||(Le=nx()),Ee(),He({revalidation:"loading"});let k=Le.promise;return B.navigation.state==="submitting"?k:B.navigation.state==="idle"?(on(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),k):(on(O||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:N===!0}),k)}async function on(k,G,Y){R&&R.abort(),R=null,O=k,I=(Y&&Y.startUninterruptedRevalidation)===!0,ui(B.location,B.matches),C=(Y&&Y.preventScrollReset)===!0,N=(Y&&Y.enableViewTransition)===!0;let fe=c||l,Te=Y&&Y.overrideNavigation,Ie=Y!=null&&Y.initialHydration&&B.matches&&B.matches.length>0&&!z?B.matches:Ks(fe,G,f),Ue=(Y&&Y.flushSync)===!0;if(Ie&&B.initialized&&!Be&&YR(B.location,G)&&!(Y&&Y.submission&&Wr(Y.submission.formMethod))){Dt(G,{matches:Ie},{flushSync:Ue});return}let Re=xn(Ie,fe,G.pathname);if(Re.active&&Re.matches&&(Ie=Re.matches),!Ie){let{error:Tt,notFoundMatches:st,route:Pt}=_s(G.pathname);Dt(G,{matches:st,loaderData:{},errors:{[Pt.id]:Tt}},{flushSync:Ue});return}R=new AbortController;let xe=Ko(r.history,G,R.signal,Y&&Y.submission),ye;if(Y&&Y.pendingError)ye=[Ya(Ie).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Wr(Y.submission.formMethod)){let Tt=await _r(xe,G,Y.submission,Ie,Re.active,{replace:Y.replace,flushSync:Ue});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[st,Pt]=Tt.pendingActionResult;if(pr(Pt)&&Gu(Pt.error)&&Pt.error.status===404){R=null,Dt(G,{matches:Tt.matches,loaderData:{},errors:{[st]:Pt.error}});return}}Ie=Tt.matches||Ie,ye=Tt.pendingActionResult,Te=ap(G,Y.submission),Ue=!1,Re.active=!1,xe=Ko(r.history,xe.url,xe.signal)}let{shortCircuited:Ne,matches:Ve,loaderData:ht,errors:jt}=await tr(xe,G,Ie,Re.active,Te,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ue,ye);Ne||(R=null,Dt(G,{matches:Ve||Ie,...j0(ye),loaderData:ht,errors:jt}))}async function _r(k,G,Y,fe,Te,Ie={}){Ee();let Ue=ZR(G,Y);if(He({navigation:Ue},{flushSync:Ie.flushSync===!0}),Te){let ye=await lr(fe,G.pathname,k.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ne=Ya(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ne,{type:"error",error:ye.error}]}}else if(ye.matches)fe=ye.matches;else{let{notFoundMatches:Ne,error:Ve,route:ht}=_s(G.pathname);return{matches:Ne,pendingActionResult:[ht.id,{type:"error",error:Ve}]}}}let Re,xe=Du(fe,G);if(!xe.route.action&&!xe.route.lazy)Re={type:"error",error:Ur(405,{method:k.method,pathname:G.pathname,routeId:xe.route.id})};else if(Re=(await W("action",B,k,[xe],fe,null))[xe.route.id],k.signal.aborted)return{shortCircuited:!0};if(Xa(Re)){let ye;return Ie&&Ie.replace!=null?ye=Ie.replace:ye=N0(Re.response.headers.get("Location"),new URL(k.url),f)===B.location.pathname+B.location.search,await M(k,Re,!0,{submission:Y,replace:ye}),{shortCircuited:!0}}if(pr(Re)){let ye=Ya(fe,xe.route.id);return(Ie&&Ie.replace)!==!0&&(O="PUSH"),{matches:fe,pendingActionResult:[ye.route.id,Re]}}return{matches:fe,pendingActionResult:[xe.route.id,Re]}}async function tr(k,G,Y,fe,Te,Ie,Ue,Re,xe,ye,Ne){let Ve=Te||ap(G,Ie),ht=Ie||Ue||L0(Ve),jt=!I&&!xe;if(fe){if(jt){let Et=Fr(Ne);He({navigation:Ve,...Et!==void 0?{actionData:Et}:{}},{flushSync:ye})}let et=await lr(Y,G.pathname,k.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let Et=Ya(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[Et]:et.error}}}else if(et.matches)Y=et.matches;else{let{error:Et,notFoundMatches:yn,route:Li}=_s(G.pathname);return{matches:yn,loaderData:{},errors:{[Li.id]:Et}}}}let Tt=c||l,[st,Pt]=C0(r.history,B,Y,ht,G,xe===!0,Be,Je,ve,ce,j,Tt,f,Ne);if(Se=++Ce,st.length===0&&Pt.length===0){let et=$n();return Dt(G,{matches:Y,loaderData:{},errors:Ne&&pr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...j0(Ne),...et?{fetchers:new Map(B.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(jt){let et={};if(!fe){et.navigation=Ve;let Et=Fr(Ne);Et!==void 0&&(et.actionData=Et)}Pt.length>0&&(et.fetchers=ai(Pt)),He(et,{flushSync:ye})}Pt.forEach(et=>{At(et.key),et.controller&&ue.set(et.key,et.controller)});let Kn=()=>Pt.forEach(et=>At(et.key));R&&R.signal.addEventListener("abort",Kn);let{loaderResults:ur,fetcherResults:Qt}=await ne(B,Y,st,Pt,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Kn),Pt.forEach(et=>ue.delete(et.key));let Jt=Dh(ur);if(Jt)return await M(k,Jt.result,!0,{replace:Re}),{shortCircuited:!0};if(Jt=Dh(Qt),Jt)return j.add(Jt.key),await M(k,Jt.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:Tr,errors:rr}=M0(B,Y,ur,Ne,Pt,Qt);xe&&B.errors&&(rr={...B.errors,...rr});let _t=$n(),ci=Ut(Se),Gr=_t||ci||Pt.length>0;return{matches:Y,loaderData:Tr,errors:rr,...Gr?{fetchers:new Map(B.fetchers)}:{}}}function Fr(k){if(k&&!pr(k[1]))return{[k[0]]:k[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function ai(k){return k.forEach(G=>{let Y=B.fetchers.get(G.key),fe=bu(void 0,Y?Y.data:void 0);B.fetchers.set(G.key,fe)}),new Map(B.fetchers)}async function oi(k,G,Y,fe){At(k);let Te=(fe&&fe.flushSync)===!0,Ie=c||l,Ue=bp(B.location,B.matches,f,Y,G,fe==null?void 0:fe.relative),Re=Ks(Ie,Ue,f),xe=xn(Re,Ie,Ue);if(xe.active&&xe.matches&&(Re=xe.matches),!Re){ae(k,G,Ur(404,{pathname:Ue}),{flushSync:Te});return}let{path:ye,submission:Ne,error:Ve}=R0(!0,Ue,fe);if(Ve){ae(k,G,Ve,{flushSync:Te});return}let ht=Du(Re,ye),jt=(fe&&fe.preventScrollReset)===!0;if(Ne&&Wr(Ne.formMethod)){await li(k,G,ye,ht,Re,xe.active,Te,jt,Ne);return}ce.set(k,{routeId:G,path:ye}),await Hr(k,G,ye,ht,Re,xe.active,Te,jt,Ne)}async function li(k,G,Y,fe,Te,Ie,Ue,Re,xe){Ee(),ce.delete(k);function ye(Nt){if(!Nt.route.action&&!Nt.route.lazy){let br=Ur(405,{method:xe.formMethod,pathname:Y,routeId:G});return ae(k,G,br,{flushSync:Ue}),!0}return!1}if(!Ie&&ye(fe))return;let Ne=B.fetchers.get(k);he(k,JR(xe,Ne),{flushSync:Ue});let Ve=new AbortController,ht=Ko(r.history,Y,Ve.signal,xe);if(Ie){let Nt=await lr(Te,Y,ht.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){ae(k,G,Nt.error,{flushSync:Ue});return}else if(Nt.matches){if(Te=Nt.matches,fe=Du(Te,Y),ye(fe))return}else{ae(k,G,Ur(404,{pathname:Y}),{flushSync:Ue});return}}ue.set(k,Ve);let jt=Ce,st=(await W("action",B,ht,[fe],Te,k))[fe.route.id];if(ht.signal.aborted){ue.get(k)===Ve&&ue.delete(k);return}if(ve.has(k)){if(Xa(st)||pr(st)){he(k,$s(void 0));return}}else{if(Xa(st))if(ue.delete(k),Se>jt){he(k,$s(void 0));return}else return j.add(k),he(k,bu(xe)),M(ht,st,!1,{fetcherSubmission:xe,preventScrollReset:Re});if(pr(st)){ae(k,G,st.error);return}}let Pt=B.navigation.location||B.location,Kn=Ko(r.history,Pt,Ve.signal),ur=c||l,Qt=B.navigation.state!=="idle"?Ks(ur,B.navigation.location,f):B.matches;ot(Qt,"Didn't find any matches after fetcher action");let Jt=++Ce;Xe.set(k,Jt);let Tr=bu(xe,st.data);B.fetchers.set(k,Tr);let[rr,_t]=C0(r.history,B,Qt,xe,Pt,!1,Be,Je,ve,ce,j,ur,f,[fe.route.id,st]);_t.filter(Nt=>Nt.key!==k).forEach(Nt=>{let br=Nt.key,va=B.fetchers.get(br),hi=bu(void 0,va?va.data:void 0);B.fetchers.set(br,hi),At(br),Nt.controller&&ue.set(br,Nt.controller)}),He({fetchers:new Map(B.fetchers)});let ci=()=>_t.forEach(Nt=>At(Nt.key));Ve.signal.addEventListener("abort",ci);let{loaderResults:Gr,fetcherResults:et}=await ne(B,Qt,rr,_t,Kn);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",ci),Xe.delete(k),ue.delete(k),_t.forEach(Nt=>ue.delete(Nt.key));let Et=Dh(Gr);if(Et)return M(Kn,Et.result,!1,{preventScrollReset:Re});if(Et=Dh(et),Et)return j.add(Et.key),M(Kn,Et.result,!1,{preventScrollReset:Re});let{loaderData:yn,errors:Li}=M0(B,Qt,Gr,void 0,_t,et);if(B.fetchers.has(k)){let Nt=$s(st.data);B.fetchers.set(k,Nt)}Ut(Jt),B.navigation.state==="loading"&&Jt>Se?(ot(O,"Expected pending action"),R&&R.abort(),Dt(B.navigation.location,{matches:Qt,loaderData:yn,errors:Li,fetchers:new Map(B.fetchers)})):(He({errors:Li,loaderData:V0(B.loaderData,yn,Qt,Li),fetchers:new Map(B.fetchers)}),Be=!1)}async function Hr(k,G,Y,fe,Te,Ie,Ue,Re,xe){let ye=B.fetchers.get(k);he(k,bu(xe,ye?ye.data:void 0),{flushSync:Ue});let Ne=new AbortController,Ve=Ko(r.history,Y,Ne.signal);if(Ie){let st=await lr(Te,Y,Ve.signal);if(st.type==="aborted")return;if(st.type==="error"){ae(k,G,st.error,{flushSync:Ue});return}else if(st.matches)Te=st.matches,fe=Du(Te,Y);else{ae(k,G,Ur(404,{pathname:Y}),{flushSync:Ue});return}}ue.set(k,Ne);let ht=Ce,Tt=(await W("loader",B,Ve,[fe],Te,k))[fe.route.id];if(ue.get(k)===Ne&&ue.delete(k),!Ve.signal.aborted){if(ve.has(k)){he(k,$s(void 0));return}if(Xa(Tt))if(Se>ht){he(k,$s(void 0));return}else{j.add(k),await M(Ve,Tt,!1,{preventScrollReset:Re});return}if(pr(Tt)){ae(k,G,Tt.error);return}he(k,$s(Tt.data))}}async function M(k,G,Y,{submission:fe,fetcherSubmission:Te,preventScrollReset:Ie,replace:Ue}={}){G.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let Re=G.response.headers.get("Location");ot(Re,"Expected a Location header on the redirect Response"),Re=N0(Re,new URL(k.url),f);let xe=qu(B.location,Re,{_isRedirect:!0});if(t){let Tt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Zp.test(Re)){const st=r.history.createURL(Re);Tt=st.origin!==e.location.origin||ri(st.pathname,f)==null}if(Tt){Ue?e.location.replace(Re):e.location.assign(Re);return}}R=null;let ye=Ue===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ve,formEncType:ht}=B.navigation;!fe&&!Te&&Ne&&Ve&&ht&&(fe=L0(B.navigation));let jt=fe||Te;if(jR.has(G.response.status)&&jt&&Wr(jt.formMethod))await on(ye,xe,{submission:{...jt,formAction:Re},preventScrollReset:Ie||C,enableViewTransition:Y?N:void 0});else{let Tt=ap(xe,fe);await on(ye,xe,{overrideNavigation:Tt,fetcherSubmission:Te,preventScrollReset:Ie||C,enableViewTransition:Y?N:void 0})}}async function W(k,G,Y,fe,Te,Ie){let Ue,Re={};try{Ue=await qR(p,k,G,Y,fe,Te,Ie,o,s)}catch(xe){return fe.forEach(ye=>{Re[ye.route.id]={type:"error",error:xe}}),Re}for(let[xe,ye]of Object.entries(Ue))if(XR(ye)){let Ne=ye.result;Re[xe]={type:"redirect",response:KR(Ne,Y,xe,Te,f)}}else Re[xe]=await $R(ye);return Re}async function ne(k,G,Y,fe,Te){let Ie=W("loader",k,Te,Y,G,null),Ue=Promise.all(fe.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Ve=(await W("loader",k,Ko(r.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Ve}}else return Promise.resolve({[ye.key]:{type:"error",error:Ur(404,{pathname:ye.path})}})})),Re=await Ie,xe=(await Ue).reduce((ye,Ne)=>Object.assign(ye,Ne),{});return{loaderResults:Re,fetcherResults:xe}}function Ee(){Be=!0,ce.forEach((k,G)=>{ue.has(G)&&Je.add(G),At(G)})}function he(k,G,Y={}){B.fetchers.set(k,G),He({fetchers:new Map(B.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function ae(k,G,Y,fe={}){let Te=Ya(B.matches,G);We(k),He({errors:{[Te.route.id]:Y},fetchers:new Map(B.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function be(k){return we.set(k,(we.get(k)||0)+1),ve.has(k)&&ve.delete(k),B.fetchers.get(k)||PR}function We(k){let G=B.fetchers.get(k);ue.has(k)&&!(G&&G.state==="loading"&&Xe.has(k))&&At(k),ce.delete(k),Xe.delete(k),j.delete(k),ve.delete(k),Je.delete(k),B.fetchers.delete(k)}function Rt(k){let G=(we.get(k)||0)-1;G<=0?(we.delete(k),ve.add(k)):we.set(k,G),He({fetchers:new Map(B.fetchers)})}function At(k){let G=ue.get(k);G&&(G.abort(),ue.delete(k))}function Er(k){for(let G of k){let Y=be(G),fe=$s(Y.data);B.fetchers.set(G,fe)}}function $n(){let k=[],G=!1;for(let Y of j){let fe=B.fetchers.get(Y);ot(fe,`Expected fetcher: ${Y}`),fe.state==="loading"&&(j.delete(Y),k.push(Y),G=!0)}return Er(k),G}function Ut(k){let G=[];for(let[Y,fe]of Xe)if(fe<k){let Te=B.fetchers.get(Y);ot(Te,`Expected fetcher: ${Y}`),Te.state==="loading"&&(At(Y),Xe.delete(Y),G.push(Y))}return Er(G),G.length>0}function ki(k,G){let Y=B.blockers.get(k)||Tu;return _e.get(k)!==G&&_e.set(k,G),Y}function Pn(k){B.blockers.delete(k),_e.delete(k)}function Ht(k,G){let Y=B.blockers.get(k)||Tu;ot(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${G.state}`);let fe=new Map(B.blockers);fe.set(k,G),He({blockers:fe})}function qr({currentLocation:k,nextLocation:G,historyAction:Y}){if(_e.size===0)return;_e.size>1&&mn(!1,"A router only supports one blocker at a time");let fe=Array.from(_e.entries()),[Te,Ie]=fe[fe.length-1],Ue=B.blockers.get(Te);if(!(Ue&&Ue.state==="proceeding")&&Ie({currentLocation:k,nextLocation:G,historyAction:Y}))return Te}function _s(k){let G=Ur(404,{pathname:k}),Y=c||l,{matches:fe,route:Te}=P0(Y);return{notFoundMatches:fe,route:Te,error:G}}function lo(k,G,Y){if(x=k,q=G,V=Y||null,!L&&B.navigation===sp){L=!0;let fe=nr(B.location,B.matches);fe!=null&&He({restoreScrollPosition:fe})}return()=>{x=null,q=null,V=null}}function or(k,G){return V&&V(k,G.map(fe=>fR(fe,B.loaderData)))||k.key}function ui(k,G){if(x&&q){let Y=or(k,G);x[Y]=q()}}function nr(k,G){if(x){let Y=or(k,G),fe=x[Y];if(typeof fe=="number")return fe}return null}function xn(k,G,Y){if(y)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Uh(G,Y,f,!0)}}else return{active:!0,matches:Uh(G,Y,f,!0)||[]};return{active:!1,matches:null}}async function lr(k,G,Y){if(!y)return{type:"success",matches:k};let fe=k;for(;;){let Te=c==null,Ie=c||l,Ue=o;try{await y({signal:Y,path:G,matches:fe,patch:(ye,Ne)=>{Y.aborted||D0(ye,Ne,Ie,Ue,s)}})}catch(ye){return{type:"error",error:ye,partialMatches:fe}}finally{Te&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let Re=Ks(Ie,G,f);if(Re)return{type:"success",matches:Re};let xe=Uh(Ie,G,f,!0);if(!xe||fe.length===xe.length&&fe.every((ye,Ne)=>ye.route.id===xe[Ne].route.id))return{type:"success",matches:null};fe=xe}}function Es(k){o={},c=ed(k,s,void 0,o)}function ya(k,G){let Y=c==null;D0(k,G,c||l,o,s),Y&&(l=[...l],He({}))}return se={get basename(){return f},get future(){return _},get state(){return B},get routes(){return l},get window(){return e},initialize:Vt,subscribe:wt,enableScrollRestoration:lo,navigate:Gn,fetch:oi,revalidate:jn,createHref:k=>r.history.createHref(k),encodeLocation:k=>r.history.encodeLocation(k),getFetcher:be,deleteFetcher:Rt,dispose:it,getBlocker:ki,deleteBlocker:Pn,patchRoutes:ya,_internalFetchControllers:ue,_internalSetRoutes:Es},se}function UR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function bp(r,e,t,s,o,l){let c,f;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){f=y;break}}else c=e,f=e[e.length-1];let p=xd(s||".",Rd(c),ri(r.pathname,t)||r.pathname,l==="path");if(s==null&&(p.search=r.search,p.hash=r.hash),(s==null||s===""||s===".")&&f){let y=Jp(p.search);if(f.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&y){let _=new URLSearchParams(p.search),b=_.getAll("index");_.delete("index"),b.filter(x=>x).forEach(x=>_.append("index",x));let S=_.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Ci([t,p.pathname])),sa(p)}function R0(r,e,t){if(!t||!UR(t))return{path:e};if(t.formMethod&&!WR(t.formMethod))return{path:e,error:Ur(405,{method:t.formMethod})};let s=()=>({path:e,error:Ur(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=PT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Wr(l))return s();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[x,V])=>`${S}${x}=${V}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Wr(l))return s();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}ot(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=Ap(t.formData),p=t.formData;else if(t.body instanceof FormData)f=Ap(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=O0(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=O0(f)}catch{return s()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Wr(y.formMethod))return{path:e,submission:y};let _=ys(e);return r&&_.search&&Jp(_.search)&&f.append("index",""),_.search=`?${f}`,{path:sa(_),submission:y}}function x0(r,e,t=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,t?s+1:s):r}function C0(r,e,t,s,o,l,c,f,p,y,_,b,S,x){let V=x?pr(x[1])?x[1].error:x[1].data:void 0,q=r.createURL(e.location),L=r.createURL(o),Z=t;l&&e.errors?Z=x0(t,Object.keys(e.errors)[0],!0):x&&pr(x[1])&&(Z=x0(t,x[0]));let z=x?x[1].statusCode:void 0,ee=z&&z>=400,pe=Z.filter((B,O)=>{let{route:C}=B;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return Sp(C,e.loaderData,e.errors);if(zR(e.loaderData,e.matches[O],B))return!0;let R=e.matches[O],N=B;return I0(B,{currentUrl:q,currentParams:R.params,nextUrl:L,nextParams:N.params,...s,actionResult:V,actionStatus:z,defaultShouldRevalidate:ee?!1:c||q.pathname+q.search===L.pathname+L.search||q.search!==L.search||BR(R,N)})}),se=[];return y.forEach((B,O)=>{if(l||!t.some(U=>U.route.id===B.routeId)||p.has(O))return;let C=Ks(b,B.path,S);if(!C){se.push({key:O,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),N=Du(C,B.path),P=!1;_.has(O)?P=!1:f.has(O)?(f.delete(O),P=!0):R&&R.state!=="idle"&&R.data===void 0?P=c:P=I0(N,{currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:t[t.length-1].params,...s,actionResult:V,actionStatus:z,defaultShouldRevalidate:ee?!1:c}),P&&se.push({key:O,routeId:B.routeId,path:B.path,matches:C,match:N,controller:new AbortController})}),[pe,se]}function Sp(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function zR(r,e,t){let s=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return s||o}function BR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function I0(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function D0(r,e,t,s,o){let l;if(r){let p=s[r];ot(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(y=>jT(p,y))),f=ed(c,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...f)}function jT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(l=>jT(t,l))}):!1}async function FR(r,e,t){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=t[r.id];ot(o,"No route found in manifest");let l={};for(let c in s){let p=o[c]!==void 0&&c!=="hasErrorBoundary";mn(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!hR.has(c)&&(l[c]=s[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function HR({matches:r}){let e=r.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[e[l].route.id]:o}),{})}async function qR(r,e,t,s,o,l,c,f,p,y){let _=l.map(x=>x.route.lazy?FR(x.route,p,f):void 0),b=l.map((x,V)=>{let q=_[V],L=o.some(z=>z.route.id===x.route.id);return{...x,shouldLoad:L,resolve:async z=>(z&&s.method==="GET"&&(x.route.lazy||x.route.loader)&&(L=!0),L?GR(e,s,x,q,z,y):Promise.resolve({type:"data",result:void 0}))}}),S=await r({matches:b,request:s,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(_)}catch{}return S}async function GR(r,e,t,s,o,l){let c,f,p=y=>{let _,b=new Promise((V,q)=>_=q);f=()=>_(),e.signal.addEventListener("abort",f);let S=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...V!==void 0?[V]:[]),x=(async()=>{try{return{type:"data",result:await(o?o(q=>S(q)):S())}}catch(V){return{type:"error",result:V}}})();return Promise.race([x,b])};try{let y=t.route[r];if(s)if(y){let _,[b]=await Promise.all([p(y).catch(S=>{_=S}),s]);if(_!==void 0)throw _;c=b}else if(await s,y=t.route[r],y)c=await p(y);else if(r==="action"){let _=new URL(e.url),b=_.pathname+_.search;throw Ur(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await p(y);else{let _=new URL(e.url),b=_.pathname+_.search;throw Ur(404,{pathname:b})}}catch(y){return{type:"error",result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return c}async function $R(r){var s,o,l,c,f,p;let{result:e,type:t}=r;if(kT(e)){let y;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(_){return{type:"error",error:_}}return t==="error"?{type:"error",error:new nd(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return t==="error"?k0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new nd(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Gu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Gu(e)?e.status:void 0}:k0(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KR(r,e,t,s,o){let l=r.headers.get("Location");if(ot(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zp.test(l)){let c=s.slice(0,s.findIndex(f=>f.route.id===t)+1);l=bp(new URL(e.url),c,o,l),r.headers.set("Location",l)}return r}function N0(r,e,t){if(Zp.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=ri(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Ko(r,e,t,s){let o=r.createURL(PT(e)).toString(),l={signal:t};if(s&&Wr(s.formMethod)){let{formMethod:c,formEncType:f}=s;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(s.json)):f==="text/plain"?l.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?l.body=Ap(s.formData):l.body=s.formData}return new Request(o,l)}function Ap(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function O0(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function QR(r,e,t,s=!1,o=!1){let l={},c=null,f,p=!1,y={},_=t&&pr(t[1])?t[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let S=b.route.id,x=e[S];if(ot(!Xa(x),"Cannot handle redirect results in processLoaderData"),pr(x)){let V=x.error;if(_!==void 0&&(V=_,_=void 0),c=c||{},o)c[S]=V;else{let q=Ya(r,S);c[q.route.id]==null&&(c[q.route.id]=V)}s||(l[S]=VT),p||(p=!0,f=Gu(x.error)?x.error.status:500),x.headers&&(y[S]=x.headers)}else l[S]=x.data,x.statusCode&&x.statusCode!==200&&!p&&(f=x.statusCode),x.headers&&(y[S]=x.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:y}}function M0(r,e,t,s,o,l){let{loaderData:c,errors:f}=QR(e,t,s);return o.forEach(p=>{let{key:y,match:_,controller:b}=p,S=l[y];if(ot(S,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(pr(S)){let x=Ya(r.matches,_==null?void 0:_.route.id);f&&f[x.route.id]||(f={...f,[x.route.id]:S.error}),r.fetchers.delete(y)}else if(Xa(S))ot(!1,"Unhandled fetcher revalidation redirect");else{let x=$s(S.data);r.fetchers.set(y,x)}}),{loaderData:c,errors:f}}function V0(r,e,t,s){let o=Object.entries(e).filter(([,l])=>l!==VT).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(o[c]=r[c]),s&&s.hasOwnProperty(c))break}return o}function j0(r){return r?pr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ya(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function P0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ur(r,{pathname:e,routeId:t,method:s,type:o,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):r===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",f=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new nd(r||500,c,new Error(f),!0)}function Dh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(Xa(o))return{key:s,result:o}}}function PT(r){let e=typeof r=="string"?ys(r):r;return sa({...e,hash:""})}function YR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function XR(r){return kT(r.result)&&VR.has(r.result.status)}function pr(r){return r.type==="error"}function Xa(r){return(r&&r.type)==="redirect"}function k0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function kT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function WR(r){return MR.has(r.toUpperCase())}function Wr(r){return NR.has(r.toUpperCase())}function Jp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Du(r,e){let t=typeof e=="string"?ys(e).search:e.search;if(r[r.length-1].route.index&&Jp(t||""))return r[r.length-1];let s=NT(r);return s[s.length-1]}function L0(r){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:l,json:c}=r;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function ap(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function $s(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function ex(r,e){try{let t=r.sessionStorage.getItem(MT);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function tx(r,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{r.sessionStorage.setItem(MT,JSON.stringify(t))}catch(s){mn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function nx(){let r,e,t=new Promise((s,o)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var io=K.createContext(null);io.displayName="DataRouter";var nc=K.createContext(null);nc.displayName="DataRouterState";var eg=K.createContext({isTransitioning:!1});eg.displayName="ViewTransition";var LT=K.createContext(new Map);LT.displayName="Fetchers";var rx=K.createContext(null);rx.displayName="Await";var si=K.createContext(null);si.displayName="Navigation";var Cd=K.createContext(null);Cd.displayName="Location";var Br=K.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var tg=K.createContext(null);tg.displayName="RouteError";function ix(r,{relative:e}={}){ot(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(si),{hash:o,pathname:l,search:c}=rc(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ci([t,l])),s.createHref({pathname:f,search:c,hash:o})}function gl(){return K.useContext(Cd)!=null}function ji(){return ot(gl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Cd).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(r){K.useContext(si).static||K.useLayoutEffect(r)}function Id(){let{isDataRoute:r}=K.useContext(Br);return r?Ex():sx()}function sx(){ot(gl(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(io),{basename:e,navigator:t}=K.useContext(si),{matches:s}=K.useContext(Br),{pathname:o}=ji(),l=JSON.stringify(Rd(s)),c=K.useRef(!1);return zT(()=>{c.current=!0}),K.useCallback((p,y={})=>{if(mn(c.current,UT),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=xd(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ci([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,r])}var ax=K.createContext(null);function ox(r){let e=K.useContext(Br).outlet;return e&&K.createElement(ax.Provider,{value:r},e)}function lx(){let{matches:r}=K.useContext(Br),e=r[r.length-1];return e?e.params:{}}function rc(r,{relative:e}={}){let{matches:t}=K.useContext(Br),{pathname:s}=ji(),o=JSON.stringify(Rd(t));return K.useMemo(()=>xd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ux(r,e,t,s){ot(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=K.useContext(si),{matches:c}=K.useContext(Br),f=c[c.length-1],p=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";BT(y,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=ji(),x;x=S;let V=x.pathname||"/",q=V;if(_!=="/"){let z=_.replace(/^\//,"").split("/");q="/"+V.replace(/^\//,"").split("/").slice(z.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:Ks(r,{pathname:q});return mn(b||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),mn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),mx(L&&L.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Ci([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:Ci([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,s)}function cx(){let r=_x(),e=Gu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,c)}var hx=K.createElement(cx,null),dx=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(Br.Provider,{value:this.props.routeContext},K.createElement(tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fx({routeContext:r,match:e,children:t}){let s=K.useContext(io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Br.Provider,{value:r},t)}function mx(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:b}=t,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let b,S=!1,x=null,V=null;t&&(b=l&&y.route.id?l[y.route.id]:void 0,x=y.route.errorElement||hx,c&&(f<0&&_===0?(BT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):f===_&&(S=!0,V=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,_+1)),L=()=>{let Z;return b?Z=x:S?Z=V:y.route.Component?Z=K.createElement(y.route.Component,null):y.route.element?Z=y.route.element:Z=p,K.createElement(fx,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:Z})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?K.createElement(dx,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function ng(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(r){let e=K.useContext(io);return ot(e,ng(r)),e}function gx(r){let e=K.useContext(nc);return ot(e,ng(r)),e}function yx(r){let e=K.useContext(Br);return ot(e,ng(r)),e}function rg(r){let e=yx(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vx(){return rg("useRouteId")}function _x(){var s;let r=K.useContext(tg),e=gx("useRouteError"),t=rg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Ex(){let{router:r}=px("useNavigate"),e=rg("useNavigate"),t=K.useRef(!1);return zT(()=>{t.current=!0}),K.useCallback(async(o,l={})=>{mn(t.current,UT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var U0={};function BT(r,e,t){!e&&!U0[r]&&(U0[r]=!0,mn(!1,t))}var z0={};function B0(r,e){!r&&!z0[e]&&(z0[e]=!0,console.warn(e))}function Tx(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&mn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&mn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&mn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var bx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function Sx({router:r,flushSync:e}){let[t,s]=K.useState(r.state),[o,l]=K.useState(),[c,f]=K.useState({isTransitioning:!1}),[p,y]=K.useState(),[_,b]=K.useState(),[S,x]=K.useState(),V=K.useRef(new Map),q=K.useCallback((ee,{deletedFetchers:pe,flushSync:se,viewTransitionOpts:B})=>{ee.fetchers.forEach((C,R)=>{C.data!==void 0&&V.current.set(R,C.data)}),pe.forEach(C=>V.current.delete(C)),B0(se===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(B0(B==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!O){e&&se?e(()=>s(ee)):K.startTransition(()=>s(ee));return}if(e&&se){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let C=r.window.document.startViewTransition(()=>{e(()=>s(ee))});C.finished.finally(()=>{e(()=>{y(void 0),b(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>b(C));return}_?(p&&p.resolve(),_.skipTransition(),x({state:ee,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(l(ee),f({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,e,_,p]);K.useLayoutEffect(()=>r.subscribe(q),[r,q]),K.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new bx)},[c]),K.useEffect(()=>{if(p&&o&&r.window){let ee=o,pe=p.promise,se=r.window.document.startViewTransition(async()=>{K.startTransition(()=>s(ee)),await pe});se.finished.finally(()=>{y(void 0),b(void 0),l(void 0),f({isTransitioning:!1})}),b(se)}},[o,p,r.window]),K.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),K.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),f({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),x(void 0))},[c.isTransitioning,S]);let L=K.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ee=>r.navigate(ee),push:(ee,pe,se)=>r.navigate(ee,{state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(ee,pe,se)=>r.navigate(ee,{replace:!0,state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[r]),Z=r.basename||"/",z=K.useMemo(()=>({router:r,navigator:L,static:!1,basename:Z}),[r,L,Z]);return K.createElement(K.Fragment,null,K.createElement(io.Provider,{value:z},K.createElement(nc.Provider,{value:t},K.createElement(LT.Provider,{value:V.current},K.createElement(eg.Provider,{value:c},K.createElement(Rx,{basename:Z,location:t.location,navigationType:t.historyAction,navigator:L},K.createElement(Ax,{routes:r.routes,future:r.future,state:t})))))),null)}var Ax=K.memo(wx);function wx({routes:r,future:e,state:t}){return ux(r,void 0,t,e)}function F0({to:r,replace:e,state:t,relative:s}){ot(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(si);mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=K.useContext(Br),{pathname:c}=ji(),f=Id(),p=xd(r,Rd(l),c,s==="path"),y=JSON.stringify(p);return K.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:s})},[f,y,s,e,t]),null}function ig(r){return ox(r.context)}function Rx({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ot(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=ys(t));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:S="default"}=t,x=K.useMemo(()=>{let V=ri(p,c);return V==null?null:{location:{pathname:V,search:y,hash:_,state:b,key:S},navigationType:s}},[c,p,y,_,b,S,s]);return mn(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:K.createElement(si.Provider,{value:f},K.createElement(Cd.Provider,{children:e,value:x}))}var zh="get",Bh="application/x-www-form-urlencoded";function Dd(r){return r!=null&&typeof r.tagName=="string"}function xx(r){return Dd(r)&&r.tagName.toLowerCase()==="button"}function Cx(r){return Dd(r)&&r.tagName.toLowerCase()==="form"}function Ix(r){return Dd(r)&&r.tagName.toLowerCase()==="input"}function Dx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Nx(r,e){return r.button===0&&(!e||e==="_self")&&!Dx(r)}var Nh=null;function Ox(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var Mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(r){return r!=null&&!Mx.has(r)?(mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):r}function Vx(r,e){let t,s,o,l,c;if(Cx(r)){let f=r.getAttribute("action");s=f?ri(f,e):null,t=r.getAttribute("method")||zh,o=op(r.getAttribute("enctype"))||Bh,l=new FormData(r)}else if(xx(r)||Ix(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?ri(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||zh,o=op(r.getAttribute("formenctype"))||op(f.getAttribute("enctype"))||Bh,l=new FormData(f,r),!Ox()){let{name:y,type:_,value:b}=r;if(_==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,b)}}else{if(Dd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,s=null,o=Bh,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}function sg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Px(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kx(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await jx(l,t);return c.links?c.links():[]}return[]}));return Bx(s.flat(1).filter(Px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H0(r,e,t,s,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Lx(r,e,{includeHydrateFallback:t}={}){return Ux(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Ux(r){return[...new Set(r)]}function zx(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Bx(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(zx(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Fx(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Hx(){let r=K.useContext(io);return sg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qx(){let r=K.useContext(nc);return sg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ag=K.createContext(void 0);ag.displayName="FrameworkContext";function FT(){let r=K.useContext(ag);return sg(r,"You must render this element inside a <HydratedRouter> element"),r}function Gx(r,e){let t=K.useContext(ag),[s,o]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=e,S=K.useRef(null);K.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let q=Z=>{Z.forEach(z=>{c(z.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),K.useEffect(()=>{if(s){let q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:Su(f,x),onBlur:Su(p,V),onMouseEnter:Su(y,x),onMouseLeave:Su(_,V),onTouchStart:Su(b,x)}]:[!1,S,{}]}function Su(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function $x({page:r,...e}){let{router:t}=Hx(),s=K.useMemo(()=>Ks(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?K.createElement(Qx,{page:r,matches:s,...e}):null}function Kx(r){let{manifest:e,routeModules:t}=FT(),[s,o]=K.useState([]);return K.useEffect(()=>{let l=!1;return kx(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),s}function Qx({page:r,matches:e,...t}){let s=ji(),{manifest:o,routeModules:l}=FT(),{loaderData:c,matches:f}=qx(),p=K.useMemo(()=>H0(r,e,f,o,s,"data"),[r,e,f,o,s]),y=K.useMemo(()=>H0(r,e,f,o,s,"assets"),[r,e,f,o,s]),_=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,V=!1;if(e.forEach(L=>{var z;let Z=o.routes[L.route.id];!Z||!Z.hasLoader||(!p.some(ee=>ee.route.id===L.route.id)&&L.route.id in c&&((z=l[L.route.id])!=null&&z.shouldRevalidate)||Z.hasClientLoader?V=!0:x.add(L.route.id))}),x.size===0)return[];let q=Fx(r);return V&&x.size>0&&q.searchParams.set("_routes",e.filter(L=>x.has(L.route.id)).map(L=>L.route.id).join(",")),[q.pathname+q.search]},[c,s,o,p,e,r,l]),b=K.useMemo(()=>Lx(y,o),[y,o]),S=Kx(y);return K.createElement(K.Fragment,null,_.map(x=>K.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>K.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:V})=>K.createElement("link",{key:x,...V})))}function Yx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var HT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HT&&(window.__reactRouterVersion="7.2.0")}catch{}function Xx(r,e){return LR({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:lR({window:e==null?void 0:e.window}),hydrationData:Wx(),routes:r,mapRouteProperties:Tx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Wx(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Zx(r.errors)}),r}function Zx(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new nd(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:f,target:p,to:y,preventScrollReset:_,viewTransition:b,...S},x){let{basename:V}=K.useContext(si),q=typeof y=="string"&&qT.test(y),L,Z=!1;if(typeof y=="string"&&q&&(L=y,HT))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),P=ri(N.pathname,V);N.origin===R.origin&&P!=null?y=P+N.search+N.hash:Z=!0}catch{mn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=ix(y,{relative:o}),[ee,pe,se]=Gx(s,S),B=nC(y,{replace:c,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:b});function O(R){e&&e(R),R.defaultPrevented||B(R)}let C=K.createElement("a",{...S,...se,href:L||z,onClick:Z||l?e:O,ref:Yx(x,pe),target:p,"data-discover":!q&&t==="render"?"true":void 0});return ee&&!q?K.createElement(K.Fragment,null,C,K.createElement($x,{page:z})):C});an.displayName="Link";var Jx=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:f,children:p,...y},_){let b=rc(c,{relative:y.relative}),S=ji(),x=K.useContext(nc),{navigator:V,basename:q}=K.useContext(si),L=x!=null&&oC(b)&&f===!0,Z=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,z=S.pathname,ee=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(z=z.toLowerCase(),ee=ee?ee.toLowerCase():null,Z=Z.toLowerCase()),ee&&q&&(ee=ri(ee,q)||ee);const pe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let se=z===Z||!o&&z.startsWith(Z)&&z.charAt(pe)==="/",B=ee!=null&&(ee===Z||!o&&ee.startsWith(Z)&&ee.charAt(Z.length)==="/"),O={isActive:se,isPending:B,isTransitioning:L},C=se?e:void 0,R;typeof s=="function"?R=s(O):R=[s,se?"active":null,B?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(O):l;return K.createElement(an,{...y,"aria-current":C,className:R,ref:_,style:N,to:c,viewTransition:f},typeof p=="function"?p(O):p)});Jx.displayName="NavLink";var eC=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=zh,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:b,...S},x)=>{let V=sC(),q=aC(f,{relative:y}),L=c.toLowerCase()==="get"?"get":"post",Z=typeof f=="string"&&qT.test(f),z=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,se=(pe==null?void 0:pe.getAttribute("formmethod"))||c;V(pe||ee.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:b})};return K.createElement("form",{ref:x,method:L,action:q,onSubmit:s?p:z,...S,"data-discover":!Z&&r==="render"?"true":void 0})});eC.displayName="Form";function tC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(r){let e=K.useContext(io);return ot(e,tC(r)),e}function nC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let f=Id(),p=ji(),y=rc(r,{relative:l});return K.useCallback(_=>{if(Nx(_,e)){_.preventDefault();let b=t!==void 0?t:sa(p)===sa(y);f(r,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,f,y,t,s,e,r,o,l,c])}var rC=0,iC=()=>`__${String(++rC)}__`;function sC(){let{router:r}=GT("useSubmit"),{basename:e}=K.useContext(si),t=vx();return K.useCallback(async(s,o={})=>{let{action:l,method:c,encType:f,formData:p,body:y}=Vx(s,e);if(o.navigate===!1){let _=o.fetcherKey||iC();await r.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function aC(r,{relative:e}={}){let{basename:t}=K.useContext(si),s=K.useContext(Br);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...rc(r||".",{relative:e})},c=ji();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let _=f.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ci([t,l.pathname])),sa(l)}function oC(r,e={}){let t=K.useContext(eg);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GT("useViewTransitionState"),o=rc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ri(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ri(t.nextLocation.pathname,s)||t.nextLocation.pathname;return td(o.pathname,c)!=null||td(o.pathname,l)!=null}new TextEncoder;var lC=CT();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uC(r){return K.createElement(Sx,{flushSync:lC.flushSync,...r})}const cC="_header_13y8r_1",hC="_authDataContainer_13y8r_22",dC="_open_13y8r_34",fC="_logo_13y8r_38",mC="_overlay_13y8r_44",pC="_menuContainer_13y8r_54",gC="_menuButton_13y8r_66",yC="_nav_13y8r_74",vC="_link_13y8r_80",_C="_main_13y8r_90",Lr={header:cC,authDataContainer:hC,open:dC,logo:fC,overlay:mC,menuContainer:pC,menuButton:gC,nav:yC,link:vC,main:_C},$T=K.createContext(null),Pi=()=>{const r=K.useContext($T);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},EC="_button_1m3zb_1",TC="_backdrop_1m3zb_5",bC="_modal_1m3zb_18",SC="_actions_1m3zb_29",AC="_confirmButton_1m3zb_35",wC="_cancelButton_1m3zb_43",Qo={button:EC,backdrop:TC,modal:bC,actions:SC,confirmButton:AC,cancelButton:wC},og=({buttonText:r,modalTitle:e,modalDescription:t,confirmText:s="Підтвердити",cancelText:o="Скасувати",onConfirm:l})=>{const[c,f]=K.useState(!1),p=K.useRef(null);K.useEffect(()=>{const b=S=>{S.key==="Escape"&&f(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),K.useEffect(()=>{c&&p.current&&p.current.focus()},[c]);const y=b=>{p.current&&!p.current.contains(b.target)&&f(!1)},_=()=>{l(),f(!1)};return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:Qo.button,onClick:()=>f(!0),children:r}),c&&g.jsx("div",{className:Qo.backdrop,onClick:y,children:g.jsxs("div",{className:Qo.modal,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-desc",tabIndex:-1,ref:p,children:[g.jsx("h2",{id:"modal-title",children:e}),g.jsx("p",{id:"modal-desc",children:t}),g.jsxs("div",{className:Qo.actions,children:[g.jsx("button",{onClick:_,className:Qo.confirmButton,children:s}),g.jsx("button",{onClick:()=>f(!1),className:Qo.cancelButton,children:o})]})]})})]})},RC="_title_1ugut_1",xC={title:RC},CC=()=>g.jsx("div",{className:xC.title});function IC(){const[r,e]=K.useState(!1),{userData:t,logout:s}=Pi(),o=ji();return g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:`${Lr.header} ${r?Lr.open:""}`,children:[g.jsxs("div",{children:[g.jsx("div",{className:Lr.logo,children:g.jsx("h1",{children:"Життєвий капітал"})}),g.jsx("nav",{children:g.jsxs("ul",{className:Lr.nav,children:[g.jsx("li",{children:g.jsx(an,{to:"/",className:Lr.link,onClick:()=>e(!1),children:"Інформація"})}),g.jsx("li",{children:g.jsx(an,{to:"/rules",className:Lr.link,onClick:()=>e(!1),children:"Правила"})}),g.jsx("li",{children:g.jsx(an,{to:"/games",className:Lr.link,onClick:()=>e(!1),children:"Мої ігри"})})]})})]}),g.jsx("div",{className:Lr.authDataContainer,children:t?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:t.displayName}),g.jsx(og,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:s})]}):g.jsx(an,{to:"./login",children:"Увійти"})})]}),r&&g.jsx("div",{className:Lr.overlay,onClick:()=>e(!1)}),g.jsxs("main",{className:Lr.main,children:[g.jsxs("div",{className:Lr.menuContainer,children:[g.jsx("button",{className:Lr.menuButton,onClick:()=>e(!0),children:g.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),g.jsx("p",{children:"Життєвий капітал"})]}),o.pathname==="/"?g.jsx(CC,{}):g.jsx(ig,{})]})]})}const DC="_table_hq37l_1",Au={table:DC},lp=[{profession:"Дизайнер",salary:500,children:1,assets:{deposit:0,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:190,totalExpenses:310,otherExpenses:0,childExpenses:60,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Інженер",salary:900,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:5e3,intellectualPropertyIncome:59},costs:{incomeTax:80,utilities:80,householdExpenses:260,totalExpenses:420,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:43e3,interest:140},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2700,interest:100},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Викладач",salary:600,children:0,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:1e4,intellectualPropertyIncome:50},costs:{incomeTax:70,utilities:70,householdExpenses:190,totalExpenses:330,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:8e3,interest:120},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Кухар",salary:300,children:0,assets:{deposit:5e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:140,totalExpenses:230,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:2450,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Менеджер",salary:1100,children:2,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:100,utilities:80,householdExpenses:360,totalExpenses:540,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:7e4,interest:180},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:900,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Лікар",salary:600,children:1,assets:{deposit:3e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:70,utilities:60,householdExpenses:180,totalExpenses:310,otherExpenses:0,childExpenses:80,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Дистриб`ютор",salary:1e3,children:1,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:90,householdExpenses:390,totalExpenses:570,otherExpenses:0,childExpenses:110,credits:{realEstate:{amountOfCredit:8e4,interest:220},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Підприємець",salary:1200,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:100,householdExpenses:380,totalExpenses:570,otherExpenses:0,childExpenses:120,credits:{realEstate:{amountOfCredit:45e3,interest:100},car:{amountOfCredit:7e3,interest:140},machinery:{amountOfCredit:1700,interest:50},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Водій",salary:700,children:2,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:80,householdExpenses:200,totalExpenses:360,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Будівельник",salary:1500,children:2,assets:{deposit:4e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:180,utilities:120,householdExpenses:430,totalExpenses:730,otherExpenses:0,childExpenses:130,credits:{realEstate:{amountOfCredit:9e4,interest:200},car:{amountOfCredit:12e3,interest:150},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:60},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Працівник банку",salary:600,children:1,assets:{deposit:2e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:220,totalExpenses:340,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:5e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Офісний працівник",salary:400,children:1,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:150,totalExpenses:240,otherExpenses:0,childExpenses:50,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:1300,interest:40},furniture:{amountOfCredit:1200,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Програміст",salary:2e3,children:1,assets:{deposit:0,gold:3e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:200,utilities:150,householdExpenses:650,totalExpenses:1e3,otherExpenses:0,childExpenses:150,credits:{realEstate:{amountOfCredit:9e4,interest:250},car:{amountOfCredit:25e3,interest:300},machinery:{amountOfCredit:7e3,interest:250},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Військовослужбовець",salary:800,children:2,assets:{deposit:3e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:70,householdExpenses:260,totalExpenses:410,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1400,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}}],KT=K.createContext(null),ic=()=>{const r=K.useContext(KT);if(!r)throw new Error("useGameSession must be used within a GameSessionProvider");return r};function Hn(r,e){const{getFromLocalSession:t,saveToLocalSession:s}=ic(),[o,l]=K.useState(()=>t(r)??e);return K.useEffect(()=>{s(r,o)},[r,o,s]),[o,l]}const NC=()=>{const[r,e]=K.useState(null),[t,s]=Hn("legend-ProfessionName","");K.useEffect(()=>{if(t){const l=lp.find(c=>c.profession===t);e(l??null)}},[t]);const o=()=>{const l=Math.floor(Math.random()*lp.length),c=lp[l];e(c),s(c.profession)};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"container",children:[g.jsx("button",{onClick:o,children:"Отримати легенду"}),r?g.jsxs("div",{style:{width:"100%"},className:"container",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Загальна інформація"}),g.jsx("table",{className:Au.table,children:g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Професія"}),g.jsx("td",{className:"summary-td",children:r.profession})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Оплата праці"}),g.jsx("td",{className:"summary-td",children:r.salary})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Кількість дітей"}),g.jsx("td",{className:"summary-td",children:r.children})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Активи"}),g.jsx("table",{className:Au.table,children:g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Депозитний банківський рахунок"}),g.jsx("td",{className:"summary-td",children:r.assets.deposit})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Банківське золото"}),g.jsx("td",{className:"summary-td",children:r.assets.gold})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Накопичувальне страхування"}),g.jsx("td",{className:"summary-td",children:r.assets.savingsInsurance})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Ризикове страхування"}),g.jsx("td",{className:"summary-td",children:r.assets.riskInsurance})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Інтелектуальна власність"}),g.jsx("td",{className:"summary-td",children:r.assets.intellectualProperty})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Інтелектуальна власність ПД"}),g.jsx("td",{className:"summary-td",children:r.assets.intellectualPropertyIncome})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Витрати"}),g.jsx("table",{className:Au.table,children:g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні побутові витрати"}),g.jsx("td",{className:"summary-td",children:r.costs.totalExpenses})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Додаткові витрати"}),g.jsx("td",{className:"summary-td",children:r.costs.otherExpenses})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Витрати на одну дитину"}),g.jsx("td",{className:"summary-td",children:r.costs.childExpenses})]})]})})]}),g.jsx("div",{children:g.jsxs("table",{className:Au.table,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Кредити"}),g.jsx("th",{children:"Сума кредита"}),g.jsx("th",{children:"Сплата, %"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{children:"На нерухомість"}),g.jsx("td",{children:r.costs.credits.realEstate.amountOfCredit}),g.jsx("td",{children:r.costs.credits.realEstate.interest})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"На автомобіль"}),g.jsx("td",{children:r.costs.credits.car.amountOfCredit}),g.jsx("td",{children:r.costs.credits.car.interest})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"На побутову техніку"}),g.jsx("td",{children:r.costs.credits.machinery.amountOfCredit}),g.jsx("td",{children:r.costs.credits.machinery.interest})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"На меблі"}),g.jsx("td",{children:r.costs.credits.furniture.amountOfCredit}),g.jsx("td",{children:r.costs.credits.furniture.interest})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Інші кредити"}),g.jsx("td",{children:r.costs.credits.otherCredits.amountOfCredit}),g.jsx("td",{children:r.costs.credits.otherCredits.interest})]})]})]})})]}):g.jsx("div",{className:Au.container,children:g.jsx("h2",{className:"table-header",children:"Отримайте легенду натиснувши на кнопку"})})]})})},OC="_investmentInfoContainer_1ydmn_15",MC="_boughtInvestmentList_1ydmn_32",wu={investmentInfoContainer:OC,boughtInvestmentList:MC},VC=({row:r,index:e,handleChange:t})=>g.jsxs("tr",{children:[g.jsx("td",{children:g.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.packetCoast,onChange:s=>t(e,"packetCoast",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.sharePrice,onChange:s=>t(e,"sharePrice",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.numberOfShares,onChange:s=>t(e,"numberOfShares",s.target.value)})})]}),Fh=({investment:r})=>g.jsxs("table",{children:[g.jsx("thead",{children:g.jsx("tr",{children:r.type==="shares"?g.jsxs(g.Fragment,{children:[g.jsx("th",{children:"Ціна акцій сьогодні"}),g.jsx("th",{children:"Діапазон цін"})]}):r.type==="currency"?g.jsxs(g.Fragment,{children:[g.jsx("th",{children:"Курс"}),g.jsx("th",{children:"Діапазон цін"})]}):g.jsxs(g.Fragment,{children:[g.jsx("th",{children:"Код"}),g.jsx("th",{children:"Перший внесок"}),g.jsx("th",{children:"Вартість"}),g.jsx("th",{children:"Інвестор"}),g.jsx("th",{children:"ПД"})]})})}),g.jsx("tbody",{children:g.jsx("tr",{children:r.type==="shares"?g.jsxs(g.Fragment,{children:[g.jsx("td",{children:r.currentlyPrice}),g.jsx("td",{children:r.priceRange})]}):r.type==="currency"?g.jsxs(g.Fragment,{children:[g.jsx("td",{children:r.exchangeRate}),g.jsx("td",{children:r.priceRange})]}):g.jsxs(g.Fragment,{children:[g.jsx("td",{children:r.code}),g.jsx("td",{children:r.firstPayment}),g.jsx("td",{children:r.cost}),g.jsx("td",{children:r.credit}),g.jsx("td",{children:r.passiveIncome})]})})})]}),jC="_preButtonIcon_1g0v7_1",PC={preButtonIcon:jC},Ka=({bgColor:r})=>g.jsx("div",{style:{backgroundColor:r},className:PC.preButtonIcon}),ei=({borderColor:r,children:e})=>g.jsx("div",{className:"card-template",style:{border:`1px solid ${r}`},children:e}),kC=Array.from({length:5},(r,e)=>({id:e+1,code:"",packetCoast:"",sharePrice:"",numberOfShares:""})),LC=()=>{const{userData:r}=Pi(),{getCardList:e,updateCardList:t,setCurrentCard:s}=ic(),[o,l]=K.useState(!1),[c,f]=Hn("invSelectedInvestment",null),[p,y]=Hn("invBought",[]),[_,b]=Hn("invShareTable",kC);K.useEffect(()=>{if(!c)return;p.some(ee=>ee.id===c.id)&&l(!0)},[p,c]);const S=async()=>{const z=await e("smallInvestments"),ee=z.shift();ee&&(f(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("smallInvestments",z),l(!1))},x=async()=>{const z=await e("largeInvestments"),ee=z.shift();ee&&(f(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("largeInvestments",z),l(!1))},V=()=>{c&&!p.some(z=>z.id===c.id)&&y(z=>[...z,{...c,inputValue:""}]),l(!0)},q=z=>{y(p.filter(ee=>ee.id!==z))},L=(z,ee,pe)=>{b(se=>se.map((B,O)=>O===z?{...B,[ee]:pe}:B))},Z=(z,ee)=>{y(pe=>pe.map(se=>se.id===z?{...se,inputValue:ee}:se))};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"container",children:g.jsxs("div",{children:[g.jsxs("div",{children:[g.jsxs("button",{onClick:S,className:"investmentCardBorder",children:[g.jsx(Ka,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Маленькі інвестиції"]}),g.jsxs("button",{onClick:x,className:"investmentCardBorder",children:[g.jsx(Ka,{bgColor:"rgba(221, 146, 6, 0.845)"}),g.jsx(Ka,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Великі інвестиції"]})]}),g.jsx("div",{children:c?g.jsx(ei,{borderColor:"rgba(221, 146, 6, 0.845)",children:g.jsxs("div",{className:wu.investmentInfoContainer,children:[g.jsxs("p",{children:["ID: ",c.id]}),g.jsx("p",{children:c.title}),g.jsx("p",{dangerouslySetInnerHTML:{__html:c.description}}),g.jsx(Fh,{investment:c}),o?g.jsxs("button",{disabled:o,style:{cursor:"not-allowed",border:"1px solid grey"},children:[g.jsx(Ka,{bgColor:"grey"}),"Інвестовано"]}):g.jsxs("button",{onClick:V,disabled:o,style:{border:"1px solid green"},children:[g.jsx(Ka,{bgColor:"green"}),"Інвестувати"]})]})}):g.jsx(ei,{borderColor:"rgba(221, 146, 6, 0.845)"})})]})}),g.jsx("div",{className:"borderBottom",style:{marginTop:"20px"}}),g.jsxs("div",{className:"container",children:[g.jsx("h2",{style:{margin:"20px 0 -20px",textAlign:"center"},children:"Мої інвестиції"}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Бізнес та нерухомість"}),g.jsx("div",{className:wu.boughtInvestmentList,children:p.length?p.map(z=>z.type==="business"?g.jsx(ei,{borderColor:"rgba(221, 146, 6, 0.845)",children:g.jsxs("div",{className:wu.investmentInfoContainer,children:[g.jsxs("p",{children:["ID: ",z.id]}),g.jsx("p",{children:z.title}),g.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),g.jsx(Fh,{investment:z},z.id),g.jsx("input",{type:"text",value:z.inputValue,onChange:ee=>Z(z.id,ee.target.value),placeholder:"Інформація про угоду"}),g.jsxs("button",{onClick:()=>q(z.id),style:{border:"1px solid red"},children:[g.jsx(Ka,{bgColor:"red"}),"Продати"]})]})},z.id):""):g.jsx("p",{children:"У вас немає жодної інвестиції"})})]}),g.jsx("div",{children:g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Цінні папери"}),g.jsx("div",{className:wu.boughtInvestmentList,children:p.length?p.map(z=>z.type==="shares"||z.type==="currency"?g.jsx(ei,{borderColor:"rgba(221, 146, 6, 0.845)",children:g.jsxs("div",{className:wu.investmentInfoContainer,children:[g.jsxs("p",{children:["ID: ",z.id]}),g.jsx("p",{children:z.title}),g.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),g.jsx(Fh,{investment:z},z.id),g.jsxs("button",{onClick:()=>q(z.id),style:{border:"1px solid red"},children:[g.jsx(Ka,{bgColor:"red"}),"Продати"]})]})},z.id):""):""}),g.jsxs("table",{style:{marginTop:"20px"},children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Код"}),g.jsx("th",{children:"Вартість пакета"}),g.jsx("th",{children:"Вартість однієї акції (пая)"}),g.jsx("th",{children:"Кількість"})]})}),g.jsx("tbody",{children:_.map((z,ee)=>g.jsx(VC,{row:z,index:ee,handleChange:L},z.id))})]})]})})]})]})},UC="_wrapper_25t8s_1",zC="_cardChooseContainer_25t8s_8",BC="_title_25t8s_20",FC="_description_25t8s_25",HC="_cardInfo_25t8s_29",qC="_expenseToggleWrapper_25t8s_38",GC="_label_25t8s_47",$C="_active_25t8s_53",KC="_slider_25t8s_71",Sn={wrapper:UC,cardChooseContainer:zC,title:BC,description:FC,cardInfo:HC,expenseToggleWrapper:qC,label:GC,active:$C,switch:"_switch_25t8s_58",slider:KC},QC=()=>{const{getCardList:r,updateCardList:e,setCurrentCard:t}=ic(),{userData:s}=Pi(),[o,l]=Hn("actDemands",null),[c,f]=Hn("actEvents",null),[p,y]=Hn("actExpenses",null),[_,b]=Hn("actToggle",!1),S=async()=>{if(_){const q=await r("highExpenses"),L=q.shift();if(!L)return;y(L),q.push(L),await t("expense",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("highExpenses",q)}else{const q=await r("expenses"),L=q.shift();if(!L)return;y(L),q.push(L),await t("expense",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("expenses",q)}},x=async()=>{const q=await r("demands"),L=q.shift();L&&(l(L),q.push(L),await t("demand",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("demands",q))},V=async()=>{const q=await r("events"),L=q.shift();L&&(f(L),q.push(L),await t("event",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("events",q))};return g.jsx("div",{className:"container",children:g.jsxs("div",{className:Sn.wrapper,children:[g.jsxs("div",{className:Sn.cardChooseContainer,children:[g.jsx("button",{onClick:V,children:"Подія"}),g.jsx(ei,{borderColor:"purple",children:c?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["ID: ",c.id]}),g.jsxs("div",{className:Sn.cardInfo,children:[g.jsx("p",{className:Sn.title,children:c.title}),g.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:c.description}})]})]}):""})]}),g.jsxs("div",{className:Sn.cardChooseContainer,children:[g.jsx("button",{onClick:x,children:"Попит"}),g.jsx(ei,{borderColor:"#328ff3ca",children:o?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["ID: ",o.id]}),g.jsxs("div",{className:Sn.cardInfo,children:[g.jsx("p",{className:Sn.title,children:o.title}),g.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:o.description}}),g.jsxs("p",{children:["Коди: ",o.codes.join(", ")]})]})]}):""})]}),g.jsxs("div",{className:Sn.cardChooseContainer,children:[g.jsxs("div",{className:Sn.expenseToggleWrapper,children:[g.jsxs("label",{className:Sn.switch,children:[g.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(q=>!q),"aria-label":_?"Відображаються великі витрати":"Відображаються малі витрати"}),g.jsx("span",{className:Sn.slider})]}),g.jsx("span",{className:`${Sn.label} ${_?Sn.active:""}`,"aria-hidden":"true",children:_?"Великі витрати":"Маленькі витрати"})]}),g.jsx("button",{onClick:S,children:"Витрати"}),g.jsx(ei,{borderColor:"rgb(117, 18, 18)",children:p?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["ID: ",p.id]}),g.jsxs("div",{className:Sn.cardInfo,children:[g.jsx("p",{className:Sn.title,children:p.amountOfExpenses}),g.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:p.description}})]})]}):""})]})]})})},YC="_mainContent_ajjim_1",XC="_navUl_ajjim_5",WC="_link_ajjim_12",Ru={mainContent:YC,navUl:XC,link:WC},ZC=()=>g.jsxs(g.Fragment,{children:[g.jsx("nav",{className:"borderBottom",children:g.jsxs("ul",{className:Ru.navUl,children:[g.jsx("li",{children:g.jsx(an,{to:"",className:Ru.link,children:"Основна"})}),g.jsx("li",{children:g.jsx(an,{to:"./income",className:Ru.link,children:"Доходи"})}),g.jsx("li",{children:g.jsx(an,{to:"./extend",className:Ru.link,children:"Витрати"})})]})}),g.jsx("div",{className:Ru.mainContent,children:g.jsx(ig,{})})]}),JC=()=>{const[r,e]=Hn("finGlobal",{balance:"",depositAmount:"",amountOfSummaryIncomes:"",amountOfSummaryExpenses:"",amountOfFreeMoney:""}),t=o=>{e(l=>({...l,[o.target.name]:o.target.value}))},s=()=>{localStorage.clear(),window.location.reload()};return g.jsxs("div",{className:"container",children:[g.jsx("table",{children:g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Готівка"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"balance",type:"text",value:r.balance,onChange:t})})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Депозит"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"depositAmount",type:"text",value:r.depositAmount,onChange:t})})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:r.amountOfSummaryIncomes,onChange:t})})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:r.amountOfSummaryExpenses,onChange:t})})]}),g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні вільні кошти (ВК)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"amountOfFreeMoney",type:"text",value:r.amountOfFreeMoney,onChange:t})})]})]})}),g.jsx("div",{}),g.jsx(og,{buttonText:"Завершити гру",modalTitle:"Підтвердження завершення гри",modalDescription:"Ви впевнені, що хочете завершити гру? Усі дані буде втрачено.",confirmText:"Так, завершити",cancelText:"Скасувати",onConfirm:s})]})},eI=({row:r,index:e,handleChange:t})=>g.jsxs("tr",{children:[g.jsx("td",{children:g.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.firstPayment,onChange:s=>t(e,"firstPayment",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.credit,onChange:s=>t(e,"credit",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),tI=Array.from({length:5},(r,e)=>({id:e+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""})),nI=()=>{const[r,e]=Hn("finBusinessTable",tI),[t,s]=Hn("finGlobal",{depositAmount:"",amountOfSummaryIncomes:""}),[o,l]=Hn("finIncomes",{salary:"",childSupport:"",depositAmount:"",depositIncome:"",goldAmount:"",goldIncome:"",riskInsuranceAmount:"",riskInsuranceIncome:"",intellectualPropertyAmount:"",intellectualPropertyIncome:"",savingsInsuranceAmount:"",savingsInsuranceIncome:"",amountOfSummaryIncomes:""}),c=_=>{l({...o,[_.target.name]:_.target.value})},f=_=>{const{name:b,value:S}=_.target;s(x=>({...x,[b]:S}))},p=(_,b,S)=>{e(x=>x.map((V,q)=>q===_?{...V,[b]:S}:V))},y=()=>{const _={id:r.length+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""};e([...r,_])};return g.jsxs("div",{className:"container",children:[g.jsx("table",{className:"incomes-table1",children:g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Доходи"}),g.jsx("th",{children:"Сума в звітній період"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Оплата праці"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{name:"salary",type:"text",value:o.salary,onChange:c})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Допомога на дітей"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{name:"childSupport",type:"text",value:o.childSupport,onChange:c})})]})]})}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Активи"}),g.jsxs("table",{className:"incomes-table2",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Активи"}),g.jsx("th",{children:"Сума активів"}),g.jsx("th",{children:"Пасивний дохід (ПД)"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Депозитний банківський рахунок 2%"}),g.jsx("td",{children:g.jsx("input",{className:"asset-input",name:"depositAmount",type:"text",value:t.depositAmount,onChange:f})}),g.jsx("td",{children:g.jsx("input",{className:"income-input",name:"depositIncome",type:"text",value:o.depositIncome,onChange:c})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Банківське золото 1%"}),g.jsx("td",{children:g.jsx("input",{className:"asset-input",name:"goldAmount",type:"text",value:o.goldAmount,onChange:c})}),g.jsx("td",{children:g.jsx("input",{className:"income-input",name:"goldIncome",type:"text",value:o.goldIncome,onChange:c})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Накопичувальне страхування"}),g.jsx("td",{children:g.jsx("input",{className:"asset-input",name:"savingsInsuranceAmount",type:"text",value:o.savingsInsuranceAmount,onChange:c})}),g.jsx("td",{children:g.jsx("input",{className:"income-input",name:"savingsInsuranceIncome",type:"text",value:o.savingsInsuranceIncome,onChange:c})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Ризикове страхування"}),g.jsx("td",{children:g.jsx("input",{className:"asset-input",name:"riskInsuranceAmount",type:"text",value:o.riskInsuranceAmount,onChange:c})}),g.jsx("td",{children:g.jsx("input",{className:"income-input",name:"riskInsuranceIncome",type:"text",value:o.riskInsuranceIncome,onChange:c})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Інтелектуальна власність"}),g.jsx("td",{children:g.jsx("input",{className:"asset-input",name:"intellectualPropertyAmount",type:"text",value:o.intellectualPropertyAmount,onChange:c})}),g.jsx("td",{children:g.jsx("input",{className:"income-input",name:"intellectualPropertyIncome",type:"text",value:o.intellectualPropertyIncome,onChange:c})})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Бізнес і нерухомість"}),g.jsxs("table",{className:"incomes-table3",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Код"}),g.jsx("th",{children:"Перший внесок"}),g.jsx("th",{children:"Вартість"}),g.jsx("th",{children:"Інвестор"}),g.jsx("th",{children:"ПД"})]})}),g.jsx("tbody",{children:r.map((_,b)=>g.jsx(eI,{row:_,index:b,handleChange:p},_.id))})]}),r.length<20?g.jsx("button",{onClick:y,children:"Додати поле"}):""]}),g.jsx("table",{children:g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:t.amountOfSummaryIncomes,onChange:f})})]})})})]})},rI=()=>{const[r,e]=Hn("finGlobal",{amountOfSummaryExpenses:""}),[t,s]=Hn("finExpenses",{expenseMonthlyHousehold:"",expenseAdditional:"",expenseNumChildren:"",expenseChild:"",realEstateAmount:"",realEstateExpense:"",carAmount:"",carExpense:"",appliancesAmount:"",appliancesExpense:"",furnitureAmount:"",furnitureExpense:"",othersAmount:"",othersExpense:""}),o=c=>{const{name:f,value:p}=c.target;e(y=>({...y,[f]:p}))},l=c=>{s(f=>({...f,[c.target.name]:c.target.value}))};return g.jsxs("div",{className:"container",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Щомісячні витрати"}),g.jsxs("table",{className:"extends-table1",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Витрати"}),g.jsx("th",{children:"Сума в звітній період"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Щомісячні побутові витрати"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"expense-input",name:"expenseMonthlyHousehold",type:"text",value:t.expenseMonthlyHousehold,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Додаткові витрати"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"expense-input",name:"expenseAdditional",type:"text",value:t.expenseAdditional,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Кіл-ть дітей"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"expense-input",name:"expenseNumChildren",type:"text",value:t.expenseNumChildren,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Витрати на дитину"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"expense-input",name:"expenseChild",type:"text",value:t.expenseChild,onChange:l})})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"table-header",children:"Кредити"}),g.jsxs("table",{className:"extends-table2",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Найменування кредитів (пасиви)"}),g.jsx("th",{children:"Сума кредитів"}),g.jsx("th",{children:"Сплата, %"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"На нерухомість"}),g.jsx("td",{children:g.jsx("input",{className:"summary-input",name:"realEstateAmount",type:"text",value:t.realEstateAmount,onChange:l})}),g.jsx("td",{children:g.jsx("input",{className:"expense-input",name:"realEstateExpense",type:"text",value:t.realEstateExpense,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"На автомобіль"}),g.jsx("td",{children:g.jsx("input",{className:"summary-input",name:"carAmount",type:"text",value:t.carAmount,onChange:l})}),g.jsx("td",{children:g.jsx("input",{className:"expense-input",name:"carExpense",type:"text",value:t.carExpense,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"На побутову техніку"}),g.jsx("td",{children:g.jsx("input",{className:"summary-input",name:"appliancesAmount",type:"text",value:t.appliancesAmount,onChange:l})}),g.jsx("td",{children:g.jsx("input",{className:"expense-input",name:"appliancesExpense",type:"text",value:t.appliancesExpense,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"На меблі"}),g.jsx("td",{children:g.jsx("input",{className:"summary-input",name:"furnitureAmount",type:"text",value:t.furnitureAmount,onChange:l})}),g.jsx("td",{children:g.jsx("input",{className:"expense-input",name:"furnitureExpense",type:"text",value:t.furnitureExpense,onChange:l})})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"td-text",children:"Інші кредити 3%"}),g.jsx("td",{children:g.jsx("input",{className:"summary-input",name:"othersAmount",type:"text",value:t.othersAmount,onChange:l})}),g.jsx("td",{children:g.jsx("input",{className:"expense-input",name:"othersExpense",type:"text",value:t.othersExpense,onChange:l})})]})]})]})]}),g.jsx("table",{children:g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:r.amountOfSummaryExpenses,onChange:o})})]})})})]})},iI="_tdStyle_4n9sn_1",sI="_tdIndexStyle_4n9sn_5",nl={tdStyle:iI,tdIndexStyle:sI},aI=({row:r,index:e,handleChange:t})=>g.jsxs("tr",{children:[g.jsx("td",{className:nl.tdIndexStyle,children:r.id}),g.jsx("td",{className:nl.tdStyle,children:g.jsx("input",{type:"text",value:r.source,onChange:s=>t(e,"source",s.target.value)})}),g.jsx("td",{className:nl.tdStyle,children:g.jsx("input",{type:"text",value:r.replenishment,onChange:s=>t(e,"replenishment",s.target.value)})}),g.jsx("td",{className:nl.tdStyle,children:g.jsx("input",{type:"text",value:r.accumulatedAmount,onChange:s=>t(e,"accumulatedAmount",s.target.value)})})]}),oI=Array.from({length:10},(r,e)=>({id:e+1,source:"",replenishment:"",accumulatedAmount:""})),lI=()=>{const[r,e]=Hn("abTable",oI),[t,s]=Hn("abValue",""),o=c=>{s(c.target.value)},l=(c,f,p)=>{e(y=>y.map((_,b)=>b===c?{..._,[f]:p}:_))};return g.jsxs("div",{className:"container",children:[g.jsx("table",{className:nl.airBagInputValueTable,children:g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Значення подушки безпеки (6*ЗВ)"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{type:"text",name:"airBagValue",value:t,onChange:o})})]})})}),g.jsxs("table",{className:nl.airBagTable,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"№"}),g.jsx("th",{children:"Джерело доходу"}),g.jsx("th",{children:"Поповнення"}),g.jsx("th",{children:"Накопичувальна сума"})]})}),g.jsx("tbody",{children:r.map((c,f)=>g.jsx(aI,{row:c,index:f,handleChange:l},c.id))})]})]})};function QT(r,e){const[t,s]=K.useState(()=>{const o=localStorage.getItem(r);try{return o?JSON.parse(o):e}catch(l){return console.error("Error parsing localStorage data:",l),e}});return K.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(t))}catch(o){console.error("Error saving to localStorage:",o)}},[r,t]),[t,s]}const uI=({row:r,index:e,onChange:t})=>g.jsxs("tr",{children:[g.jsx("td",{children:g.jsx("input",{type:"text",value:r.businessName,onChange:s=>t(e,"businessName",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.insurance,onChange:s=>t(e,"insurance",s.target.value)})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),cI={businessName:"",cost:"",insurance:"",passiveIncome:""},hI={tableData:Array.from({length:10},()=>({...cI})),moneyValue:"",passiveIncome:""},dI=()=>{const[r,e]=QT("secondPartData",hI),t=o=>{e({...r,[o.target.name]:o.target.value})},s=(o,l,c)=>{const f=[...r.tableData];f[o][l]=c,e({...r,tableData:f})};return g.jsxs("div",{className:"container",children:[g.jsx("table",{children:g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Готівка"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{type:"text",name:"moneyValue",value:r.moneyValue,onChange:t})})]})})}),g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Найменування бізнесу"}),g.jsx("th",{children:"Вартість"}),g.jsx("th",{children:"Страхування"}),g.jsx("th",{children:"ПД"})]})}),g.jsx("tbody",{children:r.tableData.map((o,l)=>g.jsx(uI,{row:o,index:l,onChange:s},l))})]}),g.jsx("table",{children:g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Початковий пасивний дохід"}),g.jsx("td",{className:"summary-td",children:g.jsx("input",{type:"text",name:"passiveIncome",value:r.passiveIncome,onChange:t})})]})})})]})},fI=()=>g.jsx("div",{className:"container",children:g.jsx(dI,{})});var sc=r=>r.type==="checkbox",Wa=r=>r instanceof Date,Jn=r=>r==null;const YT=r=>typeof r=="object";var Zt=r=>!Jn(r)&&!Array.isArray(r)&&YT(r)&&!Wa(r),mI=r=>Zt(r)&&r.target?sc(r.target)?r.target.checked:r.target.value:r,pI=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,gI=(r,e)=>r.has(pI(e)),yI=r=>{const e=r.constructor&&r.constructor.prototype;return Zt(e)&&e.hasOwnProperty("isPrototypeOf")},lg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(r){let e;const t=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(lg&&(r instanceof Blob||s))&&(t||Zt(r)))if(e=t?[]:{},!t&&!yI(r))e=r;else for(const o in r)r.hasOwnProperty(o)&&(e[o]=zn(r[o]));else return r;return e}var Nd=r=>Array.isArray(r)?r.filter(Boolean):[],sn=r=>r===void 0,Oe=(r,e,t)=>{if(!e||!Zt(r))return t;const s=Nd(e.split(/[,[\].]+?/)).reduce((o,l)=>Jn(o)?o:o[l],r);return sn(s)||s===r?sn(r[e])?t:r[e]:s},Ai=r=>typeof r=="boolean",ug=r=>/^\w*$/.test(r),XT=r=>Nd(r.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(r,e,t)=>{let s=-1;const o=ug(e)?[e]:XT(e),l=o.length,c=l-1;for(;++s<l;){const f=o[s];let p=t;if(s!==c){const y=r[f];p=Zt(y)||Array.isArray(y)?y:isNaN(+o[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;r[f]=p,r=r[f]}};const q0={BLUR:"blur",FOCUS_OUT:"focusout"},Zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Xr.createContext(null);var vI=(r,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const l in r)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Zr.all&&(e._proxyFormState[c]=!s||Zr.all),r[c]}});return o},xi=r=>typeof r=="string",_I=(r,e,t,s,o)=>xi(r)?(s&&e.watch.add(r),Oe(t,r,o)):Array.isArray(r)?r.map(l=>(s&&e.watch.add(l),Oe(t,l))):(s&&(e.watchAll=!0),t),EI=(r,e,t,s,o)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[s]:o||!0}}:{},ku=r=>Array.isArray(r)?r:[r],G0=()=>{let r=[];return{get observers(){return r},next:o=>{for(const l of r)l.next&&l.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(l=>l!==o)}}),unsubscribe:()=>{r=[]}}},wp=r=>Jn(r)||!YT(r);function Qs(r,e){if(wp(r)||wp(e))return r===e;if(Wa(r)&&Wa(e))return r.getTime()===e.getTime();const t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o of t){const l=r[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=e[o];if(Wa(l)&&Wa(c)||Zt(l)&&Zt(c)||Array.isArray(l)&&Array.isArray(c)?!Qs(l,c):l!==c)return!1}}return!0}var Zn=r=>Zt(r)&&!Object.keys(r).length,cg=r=>r.type==="file",Jr=r=>typeof r=="function",rd=r=>{if(!lg)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},WT=r=>r.type==="select-multiple",hg=r=>r.type==="radio",TI=r=>hg(r)||sc(r),up=r=>rd(r)&&r.isConnected;function bI(r,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)r=sn(r)?s++:r[e[s++]];return r}function SI(r){for(const e in r)if(r.hasOwnProperty(e)&&!sn(r[e]))return!1;return!0}function dn(r,e){const t=Array.isArray(e)?e:ug(e)?[e]:XT(e),s=t.length===1?r:bI(r,t),o=t.length-1,l=t[o];return s&&delete s[l],o!==0&&(Zt(s)&&Zn(s)||Array.isArray(s)&&SI(s))&&dn(r,t.slice(0,-1)),r}var ZT=r=>{for(const e in r)if(Jr(r[e]))return!0;return!1};function id(r,e={}){const t=Array.isArray(r);if(Zt(r)||t)for(const s in r)Array.isArray(r[s])||Zt(r[s])&&!ZT(r[s])?(e[s]=Array.isArray(r[s])?[]:{},id(r[s],e[s])):Jn(r[s])||(e[s]=!0);return e}function JT(r,e,t){const s=Array.isArray(r);if(Zt(r)||s)for(const o in r)Array.isArray(r[o])||Zt(r[o])&&!ZT(r[o])?sn(e)||wp(t[o])?t[o]=Array.isArray(r[o])?id(r[o],[]):{...id(r[o])}:JT(r[o],Jn(e)?{}:e[o],t[o]):t[o]=!Qs(r[o],e[o]);return t}var xu=(r,e)=>JT(r,e,id(e));const $0={value:!1,isValid:!1},K0={value:!0,isValid:!0};var eb=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!sn(r[0].attributes.value)?sn(r[0].value)||r[0].value===""?K0:{value:r[0].value,isValid:!0}:K0:$0}return $0},tb=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>sn(r)?r:e?r===""?NaN:r&&+r:t&&xi(r)?new Date(r):s?s(r):r;const Q0={isValid:!1,value:null};var nb=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Q0):Q0;function Y0(r){const e=r.ref;return cg(e)?e.files:hg(e)?nb(r.refs).value:WT(e)?[...e.selectedOptions].map(({value:t})=>t):sc(e)?eb(r.refs).value:tb(sn(e.value)?r.ref.value:e.value,r)}var AI=(r,e,t,s)=>{const o={};for(const l of r){const c=Oe(e,l);c&&kt(o,l,c._f)}return{criteriaMode:t,names:[...r],fields:o,shouldUseNativeValidation:s}},sd=r=>r instanceof RegExp,Cu=r=>sn(r)?r:sd(r)?r.source:Zt(r)?sd(r.value)?r.value.source:r.value:r,X0=r=>({isOnSubmit:!r||r===Zr.onSubmit,isOnBlur:r===Zr.onBlur,isOnChange:r===Zr.onChange,isOnAll:r===Zr.all,isOnTouch:r===Zr.onTouched});const W0="AsyncFunction";var wI=r=>!!r&&!!r.validate&&!!(Jr(r.validate)&&r.validate.constructor.name===W0||Zt(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===W0)),RI=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Z0=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const Lu=(r,e,t,s)=>{for(const o of t||Object.keys(r)){const l=Oe(r,o);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(Lu(f,e))break}else if(Zt(f)&&Lu(f,e))break}}};function J0(r,e,t){const s=Oe(r,t);if(s||ug(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),c=Oe(e,l),f=Oe(r,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(f&&f.type)return{name:l,error:f};o.pop()}return{name:t}}var xI=(r,e,t,s)=>{t(r);const{name:o,...l}=r;return Zn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||Zr.all))},CI=(r,e,t)=>!r||!e||r===e||ku(r).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),II=(r,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||r):(t?s.isOnBlur:o.isOnBlur)?!r:(t?s.isOnChange:o.isOnChange)?r:!0,DI=(r,e)=>!Nd(Oe(r,e)).length&&dn(r,e),NI=(r,e,t)=>{const s=ku(Oe(r,t));return kt(s,"root",e[t]),kt(r,t,s),r},Hh=r=>xi(r);function eE(r,e,t="validate"){if(Hh(r)||Array.isArray(r)&&r.every(Hh)||Ai(r)&&!r)return{type:t,message:Hh(r)?r:"",ref:e}}var Yo=r=>Zt(r)&&!sd(r)?r:{value:r,message:""},tE=async(r,e,t,s,o,l)=>{const{ref:c,refs:f,required:p,maxLength:y,minLength:_,min:b,max:S,pattern:x,validate:V,name:q,valueAsNumber:L,mount:Z}=r._f,z=Oe(t,q);if(!Z||e.has(q))return{};const ee=f?f[0]:c,pe=U=>{o&&ee.reportValidity&&(ee.setCustomValidity(Ai(U)?"":U||""),ee.reportValidity())},se={},B=hg(c),O=sc(c),C=B||O,R=(L||cg(c))&&sn(c.value)&&sn(z)||rd(c)&&c.value===""||z===""||Array.isArray(z)&&!z.length,N=EI.bind(null,q,s,se),P=(U,I,Be,Je=os.maxLength,ue=os.minLength)=>{const Ce=U?I:Be;se[q]={type:U?Je:ue,message:Ce,ref:c,...N(U?Je:ue,Ce)}};if(l?!Array.isArray(z)||!z.length:p&&(!C&&(R||Jn(z))||Ai(z)&&!z||O&&!eb(f).isValid||B&&!nb(f).isValid)){const{value:U,message:I}=Hh(p)?{value:!!p,message:p}:Yo(p);if(U&&(se[q]={type:os.required,message:I,ref:ee,...N(os.required,I)},!s))return pe(I),se}if(!R&&(!Jn(b)||!Jn(S))){let U,I;const Be=Yo(S),Je=Yo(b);if(!Jn(z)&&!isNaN(z)){const ue=c.valueAsNumber||z&&+z;Jn(Be.value)||(U=ue>Be.value),Jn(Je.value)||(I=ue<Je.value)}else{const ue=c.valueAsDate||new Date(z),Ce=j=>new Date(new Date().toDateString()+" "+j),Se=c.type=="time",Xe=c.type=="week";xi(Be.value)&&z&&(U=Se?Ce(z)>Ce(Be.value):Xe?z>Be.value:ue>new Date(Be.value)),xi(Je.value)&&z&&(I=Se?Ce(z)<Ce(Je.value):Xe?z<Je.value:ue<new Date(Je.value))}if((U||I)&&(P(!!U,Be.message,Je.message,os.max,os.min),!s))return pe(se[q].message),se}if((y||_)&&!R&&(xi(z)||l&&Array.isArray(z))){const U=Yo(y),I=Yo(_),Be=!Jn(U.value)&&z.length>+U.value,Je=!Jn(I.value)&&z.length<+I.value;if((Be||Je)&&(P(Be,U.message,I.message),!s))return pe(se[q].message),se}if(x&&!R&&xi(z)){const{value:U,message:I}=Yo(x);if(sd(U)&&!z.match(U)&&(se[q]={type:os.pattern,message:I,ref:c,...N(os.pattern,I)},!s))return pe(I),se}if(V){if(Jr(V)){const U=await V(z,t),I=eE(U,ee);if(I&&(se[q]={...I,...N(os.validate,I.message)},!s))return pe(I.message),se}else if(Zt(V)){let U={};for(const I in V){if(!Zn(U)&&!s)break;const Be=eE(await V[I](z,t),ee,I);Be&&(U={...Be,...N(I,Be.message)},pe(Be.message),s&&(se[q]=U))}if(!Zn(U)&&(se[q]={ref:ee,...U},!s))return se}}return pe(!0),se};const OI={mode:Zr.onSubmit,reValidateMode:Zr.onChange,shouldFocusError:!0};function MI(r={}){let e={...OI,...r},t={submitCount:0,isDirty:!1,isLoading:Jr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Zt(e.defaultValues)||Zt(e.values)?zn(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:zn(o),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={..._};const S={array:G0(),state:G0()},x=X0(e.mode),V=X0(e.reValidateMode),q=e.criteriaMode===Zr.all,L=M=>W=>{clearTimeout(y),y=setTimeout(M,W)},Z=async M=>{if(!e.disabled&&(_.isValid||b.isValid||M)){const W=e.resolver?Zn((await R()).errors):await P(s,!0);W!==t.isValid&&S.state.next({isValid:W})}},z=(M,W)=>{!e.disabled&&(_.isValidating||_.validatingFields||b.isValidating||b.validatingFields)&&((M||Array.from(f.mount)).forEach(ne=>{ne&&(W?kt(t.validatingFields,ne,W):dn(t.validatingFields,ne))}),S.state.next({validatingFields:t.validatingFields,isValidating:!Zn(t.validatingFields)}))},ee=(M,W=[],ne,Ee,he=!0,ae=!0)=>{if(Ee&&ne&&!e.disabled){if(c.action=!0,ae&&Array.isArray(Oe(s,M))){const be=ne(Oe(s,M),Ee.argA,Ee.argB);he&&kt(s,M,be)}if(ae&&Array.isArray(Oe(t.errors,M))){const be=ne(Oe(t.errors,M),Ee.argA,Ee.argB);he&&kt(t.errors,M,be),DI(t.errors,M)}if((_.touchedFields||b.touchedFields)&&ae&&Array.isArray(Oe(t.touchedFields,M))){const be=ne(Oe(t.touchedFields,M),Ee.argA,Ee.argB);he&&kt(t.touchedFields,M,be)}(_.dirtyFields||b.dirtyFields)&&(t.dirtyFields=xu(o,l)),S.state.next({name:M,isDirty:I(M,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else kt(l,M,W)},pe=(M,W)=>{kt(t.errors,M,W),S.state.next({errors:t.errors})},se=M=>{t.errors=M,S.state.next({errors:t.errors,isValid:!1})},B=(M,W,ne,Ee)=>{const he=Oe(s,M);if(he){const ae=Oe(l,M,sn(ne)?Oe(o,M):ne);sn(ae)||Ee&&Ee.defaultChecked||W?kt(l,M,W?ae:Y0(he._f)):ue(M,ae),c.mount&&Z()}},O=(M,W,ne,Ee,he)=>{let ae=!1,be=!1;const We={name:M};if(!e.disabled){if(!ne||Ee){(_.isDirty||b.isDirty)&&(be=t.isDirty,t.isDirty=We.isDirty=I(),ae=be!==We.isDirty);const Rt=Qs(Oe(o,M),W);be=!!Oe(t.dirtyFields,M),Rt?dn(t.dirtyFields,M):kt(t.dirtyFields,M,!0),We.dirtyFields=t.dirtyFields,ae=ae||(_.dirtyFields||b.dirtyFields)&&be!==!Rt}if(ne){const Rt=Oe(t.touchedFields,M);Rt||(kt(t.touchedFields,M,ne),We.touchedFields=t.touchedFields,ae=ae||(_.touchedFields||b.touchedFields)&&Rt!==ne)}ae&&he&&S.state.next(We)}return ae?We:{}},C=(M,W,ne,Ee)=>{const he=Oe(t.errors,M),ae=(_.isValid||b.isValid)&&Ai(W)&&t.isValid!==W;if(e.delayError&&ne?(p=L(()=>pe(M,ne)),p(e.delayError)):(clearTimeout(y),p=null,ne?kt(t.errors,M,ne):dn(t.errors,M)),(ne?!Qs(he,ne):he)||!Zn(Ee)||ae){const be={...Ee,...ae&&Ai(W)?{isValid:W}:{},errors:t.errors,name:M};t={...t,...be},S.state.next(be)}},R=async M=>{z(M,!0);const W=await e.resolver(l,e.context,AI(M||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return z(M),W},N=async M=>{const{errors:W}=await R(M);if(M)for(const ne of M){const Ee=Oe(W,ne);Ee?kt(t.errors,ne,Ee):dn(t.errors,ne)}else t.errors=W;return W},P=async(M,W,ne={valid:!0})=>{for(const Ee in M){const he=M[Ee];if(he){const{_f:ae,...be}=he;if(ae){const We=f.array.has(ae.name),Rt=he._f&&wI(he._f);Rt&&_.validatingFields&&z([Ee],!0);const At=await tE(he,f.disabled,l,q,e.shouldUseNativeValidation&&!W,We);if(Rt&&_.validatingFields&&z([Ee]),At[ae.name]&&(ne.valid=!1,W))break;!W&&(Oe(At,ae.name)?We?NI(t.errors,At,ae.name):kt(t.errors,ae.name,At[ae.name]):dn(t.errors,ae.name))}!Zn(be)&&await P(be,W,ne)}}return ne.valid},U=()=>{for(const M of f.unMount){const W=Oe(s,M);W&&(W._f.refs?W._f.refs.every(ne=>!up(ne)):!up(W._f.ref))&&wt(M)}f.unMount=new Set},I=(M,W)=>!e.disabled&&(M&&W&&kt(l,M,W),!Qs(we(),o)),Be=(M,W,ne)=>_I(M,f,{...c.mount?l:sn(W)?o:xi(M)?{[M]:W}:W},ne,W),Je=M=>Nd(Oe(c.mount?l:o,M,e.shouldUnregister?Oe(o,M,[]):[])),ue=(M,W,ne={})=>{const Ee=Oe(s,M);let he=W;if(Ee){const ae=Ee._f;ae&&(!ae.disabled&&kt(l,M,tb(W,ae)),he=rd(ae.ref)&&Jn(W)?"":W,WT(ae.ref)?[...ae.ref.options].forEach(be=>be.selected=he.includes(be.value)):ae.refs?sc(ae.ref)?ae.refs.length>1?ae.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(he)?!!he.find(We=>We===be.value):he===be.value)):ae.refs[0]&&(ae.refs[0].checked=!!he):ae.refs.forEach(be=>be.checked=be.value===he):cg(ae.ref)?ae.ref.value="":(ae.ref.value=he,ae.ref.type||S.state.next({name:M,values:zn(l)})))}(ne.shouldDirty||ne.shouldTouch)&&O(M,he,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ce(M)},Ce=(M,W,ne)=>{for(const Ee in W){const he=W[Ee],ae=`${M}.${Ee}`,be=Oe(s,ae);(f.array.has(M)||Zt(he)||be&&!be._f)&&!Wa(he)?Ce(ae,he,ne):ue(ae,he,ne)}},Se=(M,W,ne={})=>{const Ee=Oe(s,M),he=f.array.has(M),ae=zn(W);kt(l,M,ae),he?(S.array.next({name:M,values:zn(l)}),(_.isDirty||_.dirtyFields||b.isDirty||b.dirtyFields)&&ne.shouldDirty&&S.state.next({name:M,dirtyFields:xu(o,l),isDirty:I(M,ae)})):Ee&&!Ee._f&&!Jn(ae)?Ce(M,ae,ne):ue(M,ae,ne),Z0(M,f)&&S.state.next({...t}),S.state.next({name:c.mount?M:void 0,values:zn(l)})},Xe=async M=>{c.mount=!0;const W=M.target;let ne=W.name,Ee=!0;const he=Oe(s,ne),ae=be=>{Ee=Number.isNaN(be)||Wa(be)&&isNaN(be.getTime())||Qs(be,Oe(l,ne,be))};if(he){let be,We;const Rt=W.type?Y0(he._f):mI(M),At=M.type===q0.BLUR||M.type===q0.FOCUS_OUT,Er=!RI(he._f)&&!e.resolver&&!Oe(t.errors,ne)&&!he._f.deps||II(At,Oe(t.touchedFields,ne),t.isSubmitted,V,x),$n=Z0(ne,f,At);kt(l,ne,Rt),At?(he._f.onBlur&&he._f.onBlur(M),p&&p(0)):he._f.onChange&&he._f.onChange(M);const Ut=O(ne,Rt,At),ki=!Zn(Ut)||$n;if(!At&&S.state.next({name:ne,type:M.type,values:zn(l)}),Er)return(_.isValid||b.isValid)&&(e.mode==="onBlur"?At&&Z():At||Z()),ki&&S.state.next({name:ne,...$n?{}:Ut});if(!At&&$n&&S.state.next({...t}),e.resolver){const{errors:Pn}=await R([ne]);if(ae(Rt),Ee){const Ht=J0(t.errors,s,ne),qr=J0(Pn,s,Ht.name||ne);be=qr.error,ne=qr.name,We=Zn(Pn)}}else z([ne],!0),be=(await tE(he,f.disabled,l,q,e.shouldUseNativeValidation))[ne],z([ne]),ae(Rt),Ee&&(be?We=!1:(_.isValid||b.isValid)&&(We=await P(s,!0)));Ee&&(he._f.deps&&ce(he._f.deps),C(ne,We,be,Ut))}},j=(M,W)=>{if(Oe(t.errors,W)&&M.focus)return M.focus(),1},ce=async(M,W={})=>{let ne,Ee;const he=ku(M);if(e.resolver){const ae=await N(sn(M)?M:he);ne=Zn(ae),Ee=M?!he.some(be=>Oe(ae,be)):ne}else M?(Ee=(await Promise.all(he.map(async ae=>{const be=Oe(s,ae);return await P(be&&be._f?{[ae]:be}:be)}))).every(Boolean),!(!Ee&&!t.isValid)&&Z()):Ee=ne=await P(s);return S.state.next({...!xi(M)||(_.isValid||b.isValid)&&ne!==t.isValid?{}:{name:M},...e.resolver||!M?{isValid:ne}:{},errors:t.errors}),W.shouldFocus&&!Ee&&Lu(s,j,M?he:f.mount),Ee},we=M=>{const W={...c.mount?l:o};return sn(M)?W:xi(M)?Oe(W,M):M.map(ne=>Oe(W,ne))},ve=(M,W)=>({invalid:!!Oe((W||t).errors,M),isDirty:!!Oe((W||t).dirtyFields,M),error:Oe((W||t).errors,M),isValidating:!!Oe(t.validatingFields,M),isTouched:!!Oe((W||t).touchedFields,M)}),_e=M=>{M&&ku(M).forEach(W=>dn(t.errors,W)),S.state.next({errors:M?t.errors:{}})},Fe=(M,W,ne)=>{const Ee=(Oe(s,M,{_f:{}})._f||{}).ref,he=Oe(t.errors,M)||{},{ref:ae,message:be,type:We,...Rt}=he;kt(t.errors,M,{...Rt,...W,ref:Ee}),S.state.next({name:M,errors:t.errors,isValid:!1}),ne&&ne.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},Le=(M,W)=>Jr(M)?S.state.subscribe({next:ne=>M(Be(void 0,W),ne)}):Be(M,W,!0),Vt=M=>S.state.subscribe({next:W=>{CI(M.name,W.name,M.exact)&&xI(W,M.formState||_,oi,M.reRenderRoot)&&M.callback({values:{...l},...t,...W})}}).unsubscribe,it=M=>(c.mount=!0,b={...b,...M.formState},Vt({...M,formState:b})),wt=(M,W={})=>{for(const ne of M?ku(M):f.mount)f.mount.delete(ne),f.array.delete(ne),W.keepValue||(dn(s,ne),dn(l,ne)),!W.keepError&&dn(t.errors,ne),!W.keepDirty&&dn(t.dirtyFields,ne),!W.keepTouched&&dn(t.touchedFields,ne),!W.keepIsValidating&&dn(t.validatingFields,ne),!e.shouldUnregister&&!W.keepDefaultValue&&dn(o,ne);S.state.next({values:zn(l)}),S.state.next({...t,...W.keepDirty?{isDirty:I()}:{}}),!W.keepIsValid&&Z()},He=({disabled:M,name:W})=>{(Ai(M)&&c.mount||M||f.disabled.has(W))&&(M?f.disabled.add(W):f.disabled.delete(W))},Dt=(M,W={})=>{let ne=Oe(s,M);const Ee=Ai(W.disabled)||Ai(e.disabled);return kt(s,M,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:M}},name:M,mount:!0,...W}}),f.mount.add(M),ne?He({disabled:Ai(W.disabled)?W.disabled:e.disabled,name:M}):B(M,!0,W.value),{...Ee?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:Cu(W.min),max:Cu(W.max),minLength:Cu(W.minLength),maxLength:Cu(W.maxLength),pattern:Cu(W.pattern)}:{},name:M,onChange:Xe,onBlur:Xe,ref:he=>{if(he){Dt(M,W),ne=Oe(s,M);const ae=sn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,be=TI(ae),We=ne._f.refs||[];if(be?We.find(Rt=>Rt===ae):ae===ne._f.ref)return;kt(s,M,{_f:{...ne._f,...be?{refs:[...We.filter(up),ae,...Array.isArray(Oe(o,M))?[{}]:[]],ref:{type:ae.type,name:M}}:{ref:ae}}}),B(M,!1,void 0,ae)}else ne=Oe(s,M,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(gI(f.array,M)&&c.action)&&f.unMount.add(M)}}},Gn=()=>e.shouldFocusError&&Lu(s,j,f.mount),jn=M=>{Ai(M)&&(S.state.next({disabled:M}),Lu(s,(W,ne)=>{const Ee=Oe(s,ne);Ee&&(W.disabled=Ee._f.disabled||M,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(he=>{he.disabled=Ee._f.disabled||M}))},0,!1))},on=(M,W)=>async ne=>{let Ee;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let he=zn(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:be}=await R();t.errors=ae,he=be}else await P(s);if(f.disabled.size)for(const ae of f.disabled)kt(he,ae,void 0);if(dn(t.errors,"root"),Zn(t.errors)){S.state.next({errors:{}});try{await M(he,ne)}catch(ae){Ee=ae}}else W&&await W({...t.errors},ne),Gn(),setTimeout(Gn);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zn(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},_r=(M,W={})=>{Oe(s,M)&&(sn(W.defaultValue)?Se(M,zn(Oe(o,M))):(Se(M,W.defaultValue),kt(o,M,zn(W.defaultValue))),W.keepTouched||dn(t.touchedFields,M),W.keepDirty||(dn(t.dirtyFields,M),t.isDirty=W.defaultValue?I(M,zn(Oe(o,M))):I()),W.keepError||(dn(t.errors,M),_.isValid&&Z()),S.state.next({...t}))},tr=(M,W={})=>{const ne=M?zn(M):o,Ee=zn(ne),he=Zn(M),ae=he?o:Ee;if(W.keepDefaultValues||(o=ne),!W.keepValues){if(W.keepDirtyValues){const be=new Set([...f.mount,...Object.keys(xu(o,l))]);for(const We of Array.from(be))Oe(t.dirtyFields,We)?kt(ae,We,Oe(l,We)):Se(We,Oe(ae,We))}else{if(lg&&sn(M))for(const be of f.mount){const We=Oe(s,be);if(We&&We._f){const Rt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(rd(Rt)){const At=Rt.closest("form");if(At){At.reset();break}}}}for(const be of f.mount)Se(be,Oe(ae,be))}l=zn(ae),S.array.next({values:{...ae}}),S.state.next({values:{...ae}})}f={mount:W.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!W.keepIsValid||!!W.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:he?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!Qs(M,o)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:he?{}:W.keepDirtyValues?W.keepDefaultValues&&l?xu(o,l):t.dirtyFields:W.keepDefaultValues&&M?xu(o,M):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Fr=(M,W)=>tr(Jr(M)?M(l):M,W),ai=(M,W={})=>{const ne=Oe(s,M),Ee=ne&&ne._f;if(Ee){const he=Ee.refs?Ee.refs[0]:Ee.ref;he.focus&&(he.focus(),W.shouldSelect&&Jr(he.select)&&he.select())}},oi=M=>{t={...t,...M}},Hr={control:{register:Dt,unregister:wt,getFieldState:ve,handleSubmit:on,setError:Fe,_subscribe:Vt,_runSchema:R,_getWatch:Be,_getDirty:I,_setValid:Z,_setFieldArray:ee,_setDisabledField:He,_setErrors:se,_getFieldArray:Je,_reset:tr,_resetDefaultValues:()=>Jr(e.defaultValues)&&e.defaultValues().then(M=>{Fr(M,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:jn,_subjects:S,_proxyFormState:_,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(M){c=M},get _defaultValues(){return o},get _names(){return f},set _names(M){f=M},get _formState(){return t},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:it,trigger:ce,register:Dt,handleSubmit:on,watch:Le,setValue:Se,getValues:we,reset:Fr,resetField:_r,clearErrors:_e,unregister:wt,setError:Fe,setFocus:ai,getFieldState:ve};return{...Hr,formControl:Hr}}function dg(r={}){const e=Xr.useRef(void 0),t=Xr.useRef(void 0),[s,o]=Xr.useState({isDirty:!1,isValidating:!1,isLoading:Jr(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:Jr(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:MI(r),formState:s},r.formControl&&r.defaultValues&&!Jr(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const l=e.current.control;return l._options=r,Xr.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),Xr.useEffect(()=>l._disableForm(r.disabled),[l,r.disabled]),Xr.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),Xr.useEffect(()=>{r.values&&!Qs(r.values,t.current)?(l._reset(r.values,l._options.resetOptions),t.current=r.values,o(c=>({...c}))):l._resetDefaultValues()},[r.values,l]),Xr.useEffect(()=>{r.errors&&!Zn(r.errors)&&l._setErrors(r.errors)},[r.errors,l]),Xr.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Xr.useEffect(()=>{r.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[r.shouldUnregister,l]),e.current.formState=vI(s,l),e.current}const VI="_pageContainer_e5zzt_1",jI="_container_e5zzt_12",PI="_title_e5zzt_17",kI="_inputGroup_e5zzt_23",LI="_label_e5zzt_27",UI="_input_e5zzt_23",zI="_links_e5zzt_42",BI="_link_e5zzt_42",FI="_separator_e5zzt_58",HI="_validatingErrorMessage_e5zzt_62",Qe={pageContainer:VI,container:jI,title:PI,inputGroup:kI,label:LI,input:UI,links:zI,link:BI,separator:FI,validatingErrorMessage:HI},qI=()=>{const{login:r}=Pi(),{register:e,handleSubmit:t,formState:{errors:s},reset:o}=dg(),l=c=>{try{r(c.email,c.password),o()}catch(f){console.error("Error with registration",f)}};return g.jsx("div",{className:Qe.pageContainer,children:g.jsxs("div",{className:Qe.container,children:[g.jsx("h2",{className:Qe.title,children:"Авторизація"}),g.jsxs("form",{onSubmit:t(l),children:[g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),g.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов`язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),g.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов`язковий.",minLength:{value:8,message:"Пароль повинен містити мінімум 8 символів."}})})]}),g.jsx("button",{type:"submit",children:"Увійти"}),g.jsxs("div",{className:Qe.links,children:[g.jsx("a",{href:"#",className:Qe.link,children:"Забули пароль?"}),g.jsx("span",{className:Qe.separator,children:"|"}),g.jsx(an,{to:"/register",className:Qe.link,children:"Зареєструватися"})]})]})]})})},GI=()=>{const{register:r}=Pi(),{register:e,handleSubmit:t,formState:{errors:s},watch:o,reset:l}=dg(),c=f=>{try{r(f.email,f.password,f.name),l()}catch(p){console.error("Error with registration",p)}};return g.jsx("div",{className:Qe.pageContainer,children:g.jsxs("div",{className:Qe.container,children:[g.jsx("h2",{className:Qe.title,children:"Реєстрація"}),g.jsxs("form",{onSubmit:t(c),children:[g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"name",className:Qe.label,children:["Ім’я:",s.name&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.name.message]})]}),g.jsx("input",{type:"text",id:"name",className:Qe.input,placeholder:"Введіть ваше ім’я",...e("name",{required:"Ім’я користувача обов'язкове.",minLength:{value:3,message:"Ім’я має містити щонайменше 3 символи."}})})]}),g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),g.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов’язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),g.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов’язковий.",minLength:{value:8,message:"Пароль має містити щонайменше 8 символів."}})})]}),g.jsxs("div",{className:Qe.inputGroup,children:[g.jsxs("label",{htmlFor:"confirmPassword",className:Qe.label,children:["Підтвердіть пароль:",s.confirmPassword&&g.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.confirmPassword.message]})]}),g.jsx("input",{type:"password",id:"confirmPassword",className:Qe.input,placeholder:"Підтвердіть ваш пароль",...e("confirmPassword",{required:"Підтвердження пароля обов’язкове.",validate:f=>f===o("password")||"Паролі не збігаються."})})]}),g.jsx("button",{type:"submit",children:"Зареєструватися"}),g.jsx("div",{className:Qe.links,children:g.jsx(an,{to:"/login",className:Qe.link,children:"Вже є аккаунт? Увійти"})})]})]})})},$I=()=>g.jsx("div",{className:Qe.pageContainer,children:g.jsxs("div",{className:Qe.container,children:[g.jsx("h2",{className:Qe.title,children:"Відновлення пароля"}),g.jsxs("form",{children:[g.jsxs("div",{className:Qe.inputGroup,children:[g.jsx("label",{htmlFor:"email",className:Qe.label,children:"Електронна пошта:"}),g.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту"})]}),g.jsx("button",{type:"submit",children:"Відновити пароль"}),g.jsx("div",{className:Qe.links,children:g.jsx("a",{href:"/login",className:Qe.link,children:"Повернутися до авторизації"})})]})]})}),Oh=({children:r,requireUnauth:e=!1})=>{const{user:t,loading:s}=Pi(),o=ji();return s?null:e&&t?g.jsx(F0,{to:"/games",replace:!0}):!e&&!t?g.jsx(F0,{to:"/login",replace:!0,state:{from:o}}):g.jsx(g.Fragment,{children:r})},KI="_title_1qipx_1",QI={title:KI},YI=()=>g.jsx("div",{className:QI.title});var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,f=c?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,_=l>>2,b=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,x=y&63;p||(x=64,c||(S=64)),s.push(t[_],t[b],t[S],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||b==null)throw new WI;const S=l<<2|f>>4;if(s.push(S),y!==64){const x=f<<4&240|y>>2;if(s.push(x),b!==64){const V=y<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(r){const e=rb(r);return ib.encodeByteArray(e,!0)},ad=function(r){return ZI(r).replace(/\./g,"")},sb=function(r){try{return ib.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>JI().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof nE>"u")return;const r=nE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},n1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sb(r[1]);return e&&JSON.parse(e)},Od=()=>{try{return e1()||t1()||n1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ab=r=>{var e,t;return(t=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},r1=r=>{const e=ab(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ob=()=>{var r;return(r=Od())===null||r===void 0?void 0:r.config},lb=r=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ad(JSON.stringify(t)),ad(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function o1(){var r;const e=(r=Od())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const r=qn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function d1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function m1(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="FirebaseError";class vs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=p1,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?g1(l,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new vs(o,f,s)}}function g1(r,e){return r.replace(y1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const y1=/\{\$([^}]+)}/g;function v1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function od(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(rE(l)&&rE(c)){if(!od(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function rE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ou(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function _1(r,e){const t=new E1(r,e);return t.subscribe.bind(t)}class E1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");T1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r){return r&&r._delegate?r._delegate:r}class Ja{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new i1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:S1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S1(r){return r===Qa?void 0:r}function A1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(at||(at={}));const R1={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},x1=at.INFO,C1={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},I1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=C1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=x1,this._logHandler=I1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const D1=(r,e)=>e.some(t=>r instanceof t);let iE,sE;function N1(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O1(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,Rp=new WeakMap,cb=new WeakMap,hp=new WeakMap,mg=new WeakMap;function M1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(ea(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ub.set(t,r)}).catch(()=>{}),mg.set(e,r),e}function V1(r){if(Rp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Rp.set(r,e)}let xp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Rp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||cb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j1(r){xp=r(xp)}function P1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(dp(this),e,...t);return cb.set(s,e.sort?e.sort():[e]),ea(s)}:O1().includes(r)?function(...e){return r.apply(dp(this),e),ea(ub.get(this))}:function(...e){return ea(r.apply(dp(this),e))}}function k1(r){return typeof r=="function"?P1(r):(r instanceof IDBTransaction&&V1(r),D1(r,N1())?new Proxy(r,xp):r)}function ea(r){if(r instanceof IDBRequest)return M1(r);if(hp.has(r))return hp.get(r);const e=k1(r);return e!==r&&(hp.set(r,e),mg.set(e,r)),e}const dp=r=>mg.get(r);function L1(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),f=ea(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ea(c.result),p.oldVersion,p.newVersion,ea(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const U1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],fp=new Map;function aE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=z1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||U1.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return fp.set(e,l),l}j1(r=>({...r,get:(e,t,s)=>aE(e,t)||r.get(e,t,s),has:(e,t)=>!!aE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function F1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cp="@firebase/app",oE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new fg("@firebase/app"),H1="@firebase/app-compat",q1="@firebase/analytics-compat",G1="@firebase/analytics",$1="@firebase/app-check-compat",K1="@firebase/app-check",Q1="@firebase/auth",Y1="@firebase/auth-compat",X1="@firebase/database",W1="@firebase/data-connect",Z1="@firebase/database-compat",J1="@firebase/functions",eD="@firebase/functions-compat",tD="@firebase/installations",nD="@firebase/installations-compat",rD="@firebase/messaging",iD="@firebase/messaging-compat",sD="@firebase/performance",aD="@firebase/performance-compat",oD="@firebase/remote-config",lD="@firebase/remote-config-compat",uD="@firebase/storage",cD="@firebase/storage-compat",hD="@firebase/firestore",dD="@firebase/vertexai",fD="@firebase/firestore-compat",mD="firebase",pD="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",gD={[Cp]:"fire-core",[H1]:"fire-core-compat",[G1]:"fire-analytics",[q1]:"fire-analytics-compat",[K1]:"fire-app-check",[$1]:"fire-app-check-compat",[Q1]:"fire-auth",[Y1]:"fire-auth-compat",[X1]:"fire-rtdb",[W1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[J1]:"fire-fn",[eD]:"fire-fn-compat",[tD]:"fire-iid",[nD]:"fire-iid-compat",[rD]:"fire-fcm",[iD]:"fire-fcm-compat",[sD]:"fire-perf",[aD]:"fire-perf-compat",[oD]:"fire-rc",[lD]:"fire-rc-compat",[uD]:"fire-gcs",[cD]:"fire-gcs-compat",[hD]:"fire-fst",[fD]:"fire-fst-compat",[dD]:"fire-vertex","fire-js":"fire-js",[mD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,yD=new Map,Dp=new Map;function lE(r,e){try{r.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ll(r){const e=r.name;if(Dp.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,r);for(const t of ld.values())lE(t,r);for(const t of yD.values())lE(t,r);return!0}function pg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function zr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new ac("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=pD;function hb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(t||(t=ob()),!t)throw ta.create("no-options");const l=ld.get(o);if(l){if(od(t,l.options)&&od(s,l.config))return l;throw ta.create("duplicate-app",{appName:o})}const c=new w1(o);for(const p of Dp.values())c.addComponent(p);const f=new _D(t,s,c);return ld.set(o,f),f}function db(r=Ip){const e=ld.get(r);if(!e&&r===Ip&&ob())return hb();if(!e)throw ta.create("no-app",{appName:r});return e}function na(r,e,t){var s;let o=(s=gD[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(f.join(" "));return}ll(new Ja(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebase-heartbeat-database",TD=1,$u="firebase-heartbeat-store";let mp=null;function fb(){return mp||(mp=L1(ED,TD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(r=>{throw ta.create("idb-open",{originalErrorMessage:r.message})})),mp}async function bD(r){try{const t=(await fb()).transaction($u),s=await t.objectStore($u).get(mb(r));return await t.done,s}catch(e){if(e instanceof vs)fs.warn(e.message);else{const t=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(t.message)}}}async function uE(r,e){try{const s=(await fb()).transaction($u,"readwrite");await s.objectStore($u).put(e,mb(r)),await s.done}catch(t){if(t instanceof vs)fs.warn(t.message);else{const s=ta.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fs.warn(s.message)}}}function mb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1024,AD=30;class wD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>AD){const c=CD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cE(),{heartbeatsToSend:s,unsentEntries:o}=RD(this._heartbeatsCache.heartbeats),l=ad(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fs.warn(t),""}}}function cE(){return new Date().toISOString().substring(0,10)}function RD(r,e=SD){const t=[];let s=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),hE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?m1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hE(r){return ad(JSON.stringify({version:2,heartbeats:r})).length}function CD(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){ll(new Ja("platform-logger",e=>new B1(e),"PRIVATE")),ll(new Ja("heartbeat",e=>new wD(e),"PRIVATE")),na(Cp,oE,r),na(Cp,oE,"esm2017"),na("fire-js","")}ID("");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,pb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,P,U){for(var I=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)I[Be-2]=arguments[Be];return C.prototype[P].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)N[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],P=O.g[2];var U=O.g[3],I=C+(U^R&(P^U))+N[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=U+(P^C&(R^P))+N[1]+3905402710&4294967295,U=C+(I<<12&4294967295|I>>>20),I=P+(R^U&(C^R))+N[2]+606105819&4294967295,P=U+(I<<17&4294967295|I>>>15),I=R+(C^P&(U^C))+N[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(U^R&(P^U))+N[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(P^C&(R^P))+N[5]+1200080426&4294967295,U=C+(I<<12&4294967295|I>>>20),I=P+(R^U&(C^R))+N[6]+2821735955&4294967295,P=U+(I<<17&4294967295|I>>>15),I=R+(C^P&(U^C))+N[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(U^R&(P^U))+N[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(P^C&(R^P))+N[9]+2336552879&4294967295,U=C+(I<<12&4294967295|I>>>20),I=P+(R^U&(C^R))+N[10]+4294925233&4294967295,P=U+(I<<17&4294967295|I>>>15),I=R+(C^P&(U^C))+N[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(U^R&(P^U))+N[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(P^C&(R^P))+N[13]+4254626195&4294967295,U=C+(I<<12&4294967295|I>>>20),I=P+(R^U&(C^R))+N[14]+2792965006&4294967295,P=U+(I<<17&4294967295|I>>>15),I=R+(C^P&(U^C))+N[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(P^U&(R^P))+N[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^P&(C^R))+N[6]+3225465664&4294967295,U=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(U^C))+N[11]+643717713&4294967295,P=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(P^U))+N[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^U&(R^P))+N[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^P&(C^R))+N[10]+38016083&4294967295,U=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(U^C))+N[15]+3634488961&4294967295,P=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(P^U))+N[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^U&(R^P))+N[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^P&(C^R))+N[14]+3275163606&4294967295,U=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(U^C))+N[3]+4107603335&4294967295,P=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(P^U))+N[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^U&(R^P))+N[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^P&(C^R))+N[2]+4243563512&4294967295,U=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(U^C))+N[7]+1735328473&4294967295,P=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(P^U))+N[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(R^P^U)+N[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^P)+N[8]+2272392833&4294967295,U=C+(I<<11&4294967295|I>>>21),I=P+(U^C^R)+N[11]+1839030562&4294967295,P=U+(I<<16&4294967295|I>>>16),I=R+(P^U^C)+N[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^U)+N[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^P)+N[4]+1272893353&4294967295,U=C+(I<<11&4294967295|I>>>21),I=P+(U^C^R)+N[7]+4139469664&4294967295,P=U+(I<<16&4294967295|I>>>16),I=R+(P^U^C)+N[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^U)+N[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^P)+N[0]+3936430074&4294967295,U=C+(I<<11&4294967295|I>>>21),I=P+(U^C^R)+N[3]+3572445317&4294967295,P=U+(I<<16&4294967295|I>>>16),I=R+(P^U^C)+N[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^U)+N[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^P)+N[12]+3873151461&4294967295,U=C+(I<<11&4294967295|I>>>21),I=P+(U^C^R)+N[15]+530742520&4294967295,P=U+(I<<16&4294967295|I>>>16),I=R+(P^U^C)+N[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(P^(R|~U))+N[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~P))+N[7]+1126891415&4294967295,U=C+(I<<10&4294967295|I>>>22),I=P+(C^(U|~R))+N[14]+2878612391&4294967295,P=U+(I<<15&4294967295|I>>>17),I=R+(U^(P|~C))+N[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~U))+N[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~P))+N[3]+2399980690&4294967295,U=C+(I<<10&4294967295|I>>>22),I=P+(C^(U|~R))+N[10]+4293915773&4294967295,P=U+(I<<15&4294967295|I>>>17),I=R+(U^(P|~C))+N[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~U))+N[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~P))+N[15]+4264355552&4294967295,U=C+(I<<10&4294967295|I>>>22),I=P+(C^(U|~R))+N[6]+2734768916&4294967295,P=U+(I<<15&4294967295|I>>>17),I=R+(U^(P|~C))+N[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~U))+N[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~P))+N[11]+3174756917&4294967295,U=C+(I<<10&4294967295|I>>>22),I=P+(C^(U|~R))+N[2]+718787259&4294967295,P=U+(I<<15&4294967295|I>>>17),I=R+(U^(P|~C))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,N=this.B,P=this.h,U=0;U<C;){if(P==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(N[P++]=O.charCodeAt(U++),P==this.blockSize){o(this,N),P=0;break}}else for(;U<C;)if(N[P++]=O[U++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)O[R++]=this.g[C]>>>N&255;return O};function l(O,C){var R=f;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function c(O,C){this.h=C;for(var R=[],N=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;N&&U==C||(R[P]=U,N=!1)}this.g=R}var f={};function p(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return L(y(-O));for(var C=[],R=1,N=0;O>=R;N++)C[N]=O/R|0,R*=4294967296;return new c(C,0)}function _(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return L(_(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(C,8)),N=b,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),I=parseInt(O.substring(P,P+U),C);8>U?(U=y(Math.pow(C,U)),N=N.j(U).add(y(I))):(N=N.j(R),N=N.add(y(I)))}return N}var b=p(0),S=p(1),x=p(16777216);r=c.prototype,r.m=function(){if(q(this))return-L(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(q(this))return"-"+L(this).toString(O);for(var C=y(Math.pow(O,6)),R=this,N="";;){var P=pe(R,C).g;R=Z(R,P.j(C));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=P,V(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function q(O){return O.h==-1}r.l=function(O){return O=Z(this,O),q(O)?-1:V(O)?0:1};function L(O){for(var C=O.g.length,R=[],N=0;N<C;N++)R[N]=~O.g[N];return new c(R,~O.h).add(S)}r.abs=function(){return q(this)?L(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0,P=0;P<=C;P++){var U=N+(this.i(P)&65535)+(O.i(P)&65535),I=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=I>>>16,U&=65535,I&=65535,R[P]=I<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Z(O,C){return O.add(L(C))}r.j=function(O){if(V(this)||V(O))return b;if(q(this))return q(O)?L(this).j(L(O)):L(L(this).j(O));if(q(O))return L(this.j(L(O)));if(0>this.l(x)&&0>O.l(x))return y(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var U=this.i(N)>>>16,I=this.i(N)&65535,Be=O.i(P)>>>16,Je=O.i(P)&65535;R[2*N+2*P]+=I*Je,z(R,2*N+2*P),R[2*N+2*P+1]+=U*Je,z(R,2*N+2*P+1),R[2*N+2*P+1]+=I*Be,z(R,2*N+2*P+1),R[2*N+2*P+2]+=U*Be,z(R,2*N+2*P+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new c(R,0)};function z(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ee(O,C){this.g=O,this.h=C}function pe(O,C){if(V(C))throw Error("division by zero");if(V(O))return new ee(b,b);if(q(O))return C=pe(L(O),C),new ee(L(C.g),L(C.h));if(q(C))return C=pe(O,L(C)),new ee(L(C.g),C.h);if(30<O.g.length){if(q(O)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=C;0>=N.l(O);)R=se(R),N=se(N);var P=B(R,1),U=B(N,1);for(N=B(N,2),R=B(R,2);!V(N);){var I=U.add(N);0>=I.l(O)&&(P=P.add(R),U=I),N=B(N,1),R=B(R,1)}return C=Z(O,P.j(C)),new ee(P,C)}for(P=b;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(R),I=U.j(C);q(I)||0<I.l(O);)R-=N,U=y(R),I=U.j(C);V(U)&&(U=S),P=P.add(U),O=Z(O,I)}return new ee(P,O)}r.A=function(O){return pe(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&O.i(N);return new c(R,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|O.i(N);return new c(R,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^O.i(N);return new c(R,this.h^O.h)};function se(O){for(var C=O.g.length+1,R=[],N=0;N<C;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(R,O.h)}function B(O,C){var R=C>>5;C%=32;for(var N=O.g.length-R,P=[],U=0;U<N;U++)P[U]=0<C?O.i(U+R)>>>C|O.i(U+R+1)<<32-C:O.i(U+R);return new c(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,ra=c}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gb,Mu,yb,qh,Np,vb,_b,Eb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,v){if(v)e:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var Q=h[w];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,w=!1,Q={next:function(){if(!w&&E<h.length){var te=E++;return{value:v(te,h[te]),done:!1}}return w=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function b(h,v,E){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,w),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function S(h,v,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,S.apply(null,arguments)}function x(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function V(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(w,Q,te){for(var ge=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ge[dt-2]=arguments[dt];return v.prototype[Q].apply(w,ge)}}function q(h){const v=h.length;if(0<v){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function L(h,v){for(let E=1;E<arguments.length;E++){const w=arguments[E];if(p(w)){const Q=h.length||0,te=w.length||0;h.length=Q+te;for(let ge=0;ge<te;ge++)h[Q+ge]=w[ge]}else h.push(w)}}class Z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function ee(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var se=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function B(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function O(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let E,w;for(let Q=1;Q<arguments.length;Q++){w=arguments[Q];for(E in w)h[E]=w[E];for(let te=0;te<R.length;te++)E=R[te],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function P(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function U(h){f.setTimeout(()=>{throw h},0)}function I(){var h=Xe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,E){const w=Je.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Je=new Z(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Se=!1,Xe=new Be,j=()=>{const h=f.Promise.resolve(void 0);Ce=()=>{h.then(ce)}};var ce=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){U(E)}var v=Je;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Se=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return h}();function Fe(h,v){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(se){e:{try{pe(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}V(Fe,ve);var Le={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),it=0;function wt(h,v,E,w,Q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=Q,this.key=++it,this.da=this.fa=!1}function He(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h){this.src=h,this.g={},this.h=0}Dt.prototype.add=function(h,v,E,w,Q){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=jn(h,v,w,Q);return-1<ge?(v=h[ge],E||(v.fa=!1)):(v=new wt(v,this.src,te,!!w,Q),v.fa=E,h.push(v)),v};function Gn(h,v){var E=v.type;if(E in h.g){var w=h.g[E],Q=Array.prototype.indexOf.call(w,v,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(w,Q,1),te&&(He(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function jn(h,v,E,w){for(var Q=0;Q<h.length;++Q){var te=h[Q];if(!te.da&&te.listener==v&&te.capture==!!E&&te.ha==w)return Q}return-1}var on="closure_lm_"+(1e6*Math.random()|0),_r={};function tr(h,v,E,w,Q){if(Array.isArray(v)){for(var te=0;te<v.length;te++)tr(h,v[te],E,w,Q);return null}return E=Ee(E),h&&h[Vt]?h.K(v,E,y(w)?!!w.capture:!1,Q):Fr(h,v,E,!1,w,Q)}function Fr(h,v,E,w,Q,te){if(!v)throw Error("Invalid event type");var ge=y(Q)?!!Q.capture:!!Q,dt=W(h);if(dt||(h[on]=dt=new Dt(h)),E=dt.add(v,E,w,ge,te),E.proxy)return E;if(w=ai(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)_e||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),w,Q);else if(h.attachEvent)h.attachEvent(Hr(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ai(){function h(E){return v.call(h.src,h.listener,E)}const v=M;return h}function oi(h,v,E,w,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)oi(h,v[te],E,w,Q);else w=y(w)?!!w.capture:!!w,E=Ee(E),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],E=jn(te,E,w,Q),-1<E&&(He(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=W(h))&&(v=h.g[v.toString()],h=-1,v&&(h=jn(v,E,w,Q)),(E=-1<h?v[h]:null)&&li(E))}function li(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])Gn(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(Hr(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=W(v))?(Gn(E,h),E.h==0&&(E.src=null,v[on]=null)):He(h)}}}function Hr(h){return h in _r?_r[h]:_r[h]="on"+h}function M(h,v){if(h.da)h=!0;else{v=new Fe(v,this);var E=h.listener,w=h.ha||h.src;h.fa&&li(h),h=E.call(w,v)}return h}function W(h){return h=h[on],h instanceof Dt?h:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(h){return typeof h=="function"?h:(h[ne]||(h[ne]=function(v){return h.handleEvent(v)}),h[ne])}function he(){we.call(this),this.i=new Dt(this),this.M=this,this.F=null}V(he,we),he.prototype[Vt]=!0,he.prototype.removeEventListener=function(h,v,E,w){oi(this,h,v,E,w)};function ae(h,v){var E,w=h.F;if(w)for(E=[];w;w=w.F)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new ve(v,h);else if(v instanceof ve)v.target=v.target||h;else{var Q=v;v=new ve(w,h),N(v,Q)}if(Q=!0,E)for(var te=E.length-1;0<=te;te--){var ge=v.g=E[te];Q=be(ge,w,!0,v)&&Q}if(ge=v.g=h,Q=be(ge,w,!0,v)&&Q,Q=be(ge,w,!1,v)&&Q,E)for(te=0;te<E.length;te++)ge=v.g=E[te],Q=be(ge,w,!1,v)&&Q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],w=0;w<E.length;w++)He(E[w]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},he.prototype.L=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function be(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,te=0;te<v.length;++te){var ge=v[te];if(ge&&!ge.da&&ge.capture==E){var dt=ge.listener,ln=ge.ha||ge.src;ge.fa&&Gn(h.i,ge),Q=dt.call(ln,w)!==!1&&Q}}return Q&&!w.defaultPrevented}function We(h,v,E){if(typeof h=="function")E&&(h=S(h,E));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Rt(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,Rt(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class At extends we{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){we.call(this),this.h=h,this.g={}}V(Er,we);var $n=[];function Ut(h){B(h.g,function(v,E){this.g.hasOwnProperty(E)&&li(v)},h),h.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Ut(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=f.JSON.stringify,Pn=f.JSON.parse,Ht=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qr(){}qr.prototype.h=null;function _s(h){return h.h||(h.h=h.i())}function lo(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){ve.call(this,"d")}V(ui,ve);function nr(){ve.call(this,"c")}V(nr,ve);var xn={},lr=null;function Es(){return lr=lr||new he}xn.La="serverreachability";function ya(h){ve.call(this,xn.La,h)}V(ya,ve);function k(h){const v=Es();ae(v,new ya(v))}xn.STAT_EVENT="statevent";function G(h,v){ve.call(this,xn.STAT_EVENT,h),this.stat=v}V(G,ve);function Y(h){const v=Es();ae(v,new G(v,h))}xn.Ma="timingevent";function fe(h,v){ve.call(this,xn.Ma,h),this.size=v}V(fe,ve);function Te(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ue(h,v,E,w,Q,te){h.info(function(){if(h.g)if(te)for(var ge="",dt=te.split("&"),ln=0;ln<dt.length;ln++){var ft=dt[ln].split("=");if(1<ft.length){var _n=ft[0];ft=ft[1];var un=_n.split("_");ge=2<=un.length&&un[1]=="type"?ge+(_n+"="+ft+"&"):ge+(_n+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+w+") [attempt "+Q+"]: "+v+`
`+E+`
`+ge})}function Re(h,v,E,w,Q,te,ge){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+Q+"]: "+v+`
`+E+`
`+te+" "+ge})}function xe(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ne(h,E)+(w?" "+w:"")})}function ye(h,v){h.info(function(){return"TIMEOUT: "+v})}Ie.prototype.info=function(){};function Ne(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var w=E[h];if(!(2>w.length)){var Q=w[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return ki(E)}catch{return v}}var Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jt;function Tt(){}V(Tt,qr),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},jt=new Tt;function st(h,v,E,w){this.j=h,this.i=v,this.l=E,this.R=w||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var Kn={},ur={};function Qt(h,v,E){h.L=1,h.v=Ta(qt(v)),h.m=E,h.P=!0,Jt(h,null)}function Jt(h,v){h.F=Date.now(),_t(h),h.A=qt(h.v);var E=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),Bi(E.i,"t",w),h.C=0,E=h.j.J,h.h=new Pt,h.g=Ic(h.j,E?v:null,!h.m),0<h.O&&(h.M=new At(S(h.Y,h,h.g),h.O)),v=h.U,E=h.g,w=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&($n[0]=Q.toString()),Q=$n);for(var te=0;te<Q.length;te++){var ge=tr(E,Q[te],w||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),k(),Ue(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const v=this.M;v&&xr(h)==3?v.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const un=xr(this.g);var v=this.g.Ba();const Gi=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Tc(this.g)))){this.J||un!=4||v==7||(v==8||0>=Gi?k(3):k(2)),Gr(this);var E=this.g.Z();this.X=E;t:if(Tr(this)){var w=Tc(this.g);h="";var Q=w.length,te=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),et(this);var ge="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!(te&&v==Q-1)});w.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Re(this.i,this.u,this.A,this.l,this.R,un,E),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,ln=this.g;if((dt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(dt)){var ft=dt;break t}}ft=null}if(E=ft)xe(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,E);else{this.o=!1,this.s=3,Y(12),Et(this),et(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<ge.length;)if(Cn=rr(this,ge),Cn==ur){un==4&&(this.s=4,Y(14),E=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Kn){this.s=4,Y(15),xe(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else xe(this.i,this.l,Cn,null),yn(this,Cn);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ge.length!=0||this.h.h||(this.s=1,Y(16),E=!1),this.o=this.o&&E,!E)xe(this.i,this.l,ge,"[Invalid Chunked Response]"),Et(this),et(this);else if(0<ge.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ca(_n),_n.M=!0,Y(11))}}else xe(this.i,this.l,ge,null),yn(this,ge);un==4&&Et(this),this.o&&!this.J&&(un==4?Rc(this.j,this):(this.o=!1,_t(this)))}else of(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Et(this),et(this)}}}catch{}finally{}};function Tr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function rr(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?ur:(E=Number(v.substring(E,w)),isNaN(E)?Kn:(w+=1,w+E>v.length?ur:(v=v.slice(w,w+E),h.C=w+E,v)))}st.prototype.cancel=function(){this.J=!0,Et(this)};function _t(h){h.S=Date.now()+h.I,ci(h,h.I)}function ci(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(S(h.ba,h),v)}function Gr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ye(this.i,this.A),this.L!=2&&(k(),Y(17)),Et(this),this.s=2,et(this)):ci(this,this.S-h)};function et(h){h.j.G==0||h.J||Rc(h.j,h)}function Et(h){Gr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ut(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function yn(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||hi(E.h,h))){if(!h.K&&hi(E.h,h)&&E.G==3){try{var w=E.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var Q=w;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)_o(E),yo(E);else break e;Nl(E),Y(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(S(E.Za,E),6e3));if(1>=va(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else qi(E,11)}else if((h.K||E.g==h)&&_o(E),!z(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let ft=Q[v];if(E.T=ft[0],ft=ft[1],E.G==2)if(ft[0]=="c"){E.K=ft[1],E.ia=ft[2];const _n=ft[3];_n!=null&&(E.la=_n,E.j.info("VER="+E.la));const un=ft[4];un!=null&&(E.Aa=un,E.j.info("SVER="+E.Aa));const Gi=ft[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(w=1.5*Gi,E.L=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Cn=h.g;if(Cn){const vi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var te=w.h;te.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ts(te,te.h),te.h=null))}if(w.D){const Ml=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(w.ya=Ml,gt(w.I,w.D,Ml))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),w=E;var ge=h;if(w.qa=Cc(w,w.J?w.ia:null,w.W),ge.K){Sr(w.h,ge);var dt=ge,ln=w.L;ln&&(dt.I=ln),dt.B&&(Gr(dt),_t(dt)),w.g=ge}else Ac(w);0<E.i.length&&vo(E)}else ft[0]!="stop"&&ft[0]!="close"||qi(E,7);else E.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?qi(E,7):Il(E):ft[0]!="noop"&&E.l&&E.l.ta(ft),E.v=0)}}k(4)}catch{}}var Li=class{constructor(h,v){this.g=h,this.map=v}};function Nt(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function va(h){return h.h?1:h.g?h.g.size:0}function hi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ts(h,v){h.g?h.g.add(v):h.h=v}function Sr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Nt.prototype.cancel=function(){if(this.i=Qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Qn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return q(h.i)}function yc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,w=0;w<E;w++)v.push(h[w]);return v}v=[],E=0;for(w in h)v[E++]=h[w];return v}function nf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const w in h)v[E++]=w;return v}}}function _a(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=nf(h),w=yc(h),Q=w.length,te=0;te<Q;te++)v.call(void 0,w[te],E&&E[te],h)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var w=h[E].indexOf("="),Q=null;if(0<=w){var te=h[E].substring(0,w);Q=h[E].substring(w+1)}else te=h[E];v(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ui(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ui){this.h=h.h,bs(this,h.j),this.o=h.o,this.g=h.g,Ea(this,h.s),this.l=h.l;var v=h.i,E=new di;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),co(this,E),this.m=h.m}else h&&(v=String(h).match(Sl))?(this.h=!1,bs(this,v[1]||"",!0),this.o=Ss(v[2]||""),this.g=Ss(v[3]||"",!0),Ea(this,v[4]),this.l=Ss(v[5]||"",!0),co(this,v[6]||"",!0),this.m=Ss(v[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Ui.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ar(v,Al,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ar(v,Al,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ar(E,E.charAt(0)=="/"?wl:vc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ar(E,af)),h.join("")};function qt(h){return new Ui(h)}function bs(h,v,E){h.j=E?Ss(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ea(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function co(h,v,E){v instanceof di?(h.i=v,Rl(h.i,h.h)):(E||(v=Ar(v,sf)),h.i=new di(v,h.h))}function gt(h,v,E){h.i.set(v,E)}function Ta(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ss(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ar(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,rf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Al=/[#\/\?@]/g,vc=/[#\?:]/g,wl=/[#\?]/g,sf=/[#\?@]/g,af=/#/g;function di(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function wr(h){h.g||(h.g=new Map,h.h=0,h.i&&uo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=di.prototype,r.add=function(h,v){wr(this),this.i=null,h=Fi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function ho(h,v){wr(h),v=Fi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function zi(h,v){return wr(h),v=Fi(h,v),h.g.has(v)}r.forEach=function(h,v){wr(this),this.g.forEach(function(E,w){E.forEach(function(Q){h.call(v,Q,w,this)},this)},this)},r.na=function(){wr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let w=0;w<v.length;w++){const Q=h[w];for(let te=0;te<Q.length;te++)E.push(v[w])}return E},r.V=function(h){wr(this);let v=[];if(typeof h=="string")zi(this,h)&&(v=v.concat(this.g.get(Fi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},r.set=function(h,v){return wr(this),this.i=null,h=Fi(this,h),zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Bi(h,v,E){ho(h,v),0<E.length&&(h.i=null,h.g.set(Fi(h,v),q(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var w=v[E];const te=encodeURIComponent(String(w)),ge=this.V(w);for(w=0;w<ge.length;w++){var Q=te;ge[w]!==""&&(Q+="="+encodeURIComponent(String(ge[w]))),h.push(Q)}}return this.i=h.join("&")};function Fi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Rl(h,v){v&&!h.j&&(wr(h),h.i=null,h.g.forEach(function(E,w){var Q=w.toLowerCase();w!=Q&&(ho(this,w),Bi(this,Q,E))},h)),h.j=v}function _c(h,v){const E=new Ie;if(f.Image){const w=new Image;w.onload=x(Rr,E,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Rr,E,"TestLoadImage: error",!1,v,w),w.onabort=x(Rr,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Rr,E,"TestLoadImage: timeout",!1,v,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function ba(h,v){const E=new Ie,w=new AbortController,Q=setTimeout(()=>{w.abort(),Rr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(te=>{clearTimeout(Q),te.ok?Rr(E,"TestPingServer: ok",!0,v):Rr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Rr(E,"TestPingServer: error",!1,v)})}function Rr(h,v,E,w,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),w(E)}catch{}}function Sa(){this.g=new Ht}function fi(h,v,E){const w=E||"";try{_a(h,function(Q,te){let ge=Q;y(Q)&&(ge=ki(Q)),v.push(w+te+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(w+"type="+encodeURIComponent("_badmap")),Q}}function As(h){this.l=h.Ub||null,this.j=h.eb||!1}V(As,qr),As.prototype.g=function(){return new Hi(this.l,this.j)},As.prototype.i=function(h){return function(){return h}}({});function Hi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Hi,he),r=Hi.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,pi(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?mi(this):pi(this),this.readyState==3&&xl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,mi(this))},r.Qa=function(h){this.g&&(this.response=h,mi(this))},r.ga=function(){this.g&&mi(this)};function mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,pi(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cl(h){let v="";return B(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function vn(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Cl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):gt(h,v,E))}function bt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(bt,he);var fo=/^https?$/i,Aa=["POST","PUT"];r=bt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jt.g(),this.v=this.o?_s(this.o):_s(jt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){Ec(this,te);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var Q in w)E.set(Q,w[Q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const te of w.keys())E.set(te,w.get(te));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Aa,v,void 0))||w||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){Ec(this,te)}};function Ec(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,mo(h),gi(h)}function mo(h){h.A||(h.A=!0,ae(h,"complete"),ae(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ae(this,"complete"),ae(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},r.bb=function(){po(this)};function po(h){if(h.h&&typeof c<"u"&&(!h.v[1]||xr(h)!=4||h.Z()!=2)){if(h.u&&xr(h)==4)We(h.Ea,0,h);else if(ae(h,"readystatechange"),xr(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=ge===0){var Q=String(h.D).match(Sl)[1]||null;!Q&&f.self&&f.self.location&&(Q=f.self.location.protocol.slice(0,-1)),w=!fo.test(Q?Q.toLowerCase():"")}E=w}if(E)ae(h,"complete"),ae(h,"success");else{h.m=6;try{var te=2<xr(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",mo(h)}}finally{gi(h)}}}}function gi(h,v){if(h.g){wa(h);const E=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ae(h,"ready");try{E.onreadystatechange=w}catch{}}}function wa(h){h.I&&(f.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function xr(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Pn(v)}};function Tc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function of(h){const v={};h=(h.g&&2<=xr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(z(h[w]))continue;var E=P(h[w]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=v[Q]||[];v[Q]=te,te.push(E)}O(v,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function go(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,h),this.cb=Ra("retryDelaySeedMs",1e4,h),this.Wa=Ra("forwardChannelMaxRetries",2,h),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(h&&h.concurrentRequestLimit),this.Da=new Sa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=go.prototype,r.la=8,r.G=1,r.connect=function(h,v,E,w){Y(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.I=Cc(this,null,this.W),vo(this)};function Il(h){if(bc(h),h.G==3){var v=h.U++,E=qt(h.I);if(gt(E,"SID",h.K),gt(E,"RID",v),gt(E,"TYPE","terminate"),xa(h,E),v=new st(h,h.j,v),v.L=2,v.v=Ta(qt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Ic(v.j,null),v.g.ea(v.v)),v.F=Date.now(),_t(v)}xc(h)}function yo(h){h.g&&(Ca(h),h.g.cancel(),h.g=null)}function bc(h){yo(h),h.u&&(f.clearTimeout(h.u),h.u=null),_o(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function vo(h){if(!br(h.h)&&!h.s){h.s=!0;var v=h.Ga;Ce||j(),Se||(Ce(),Se=!0),Xe.add(v,h),h.B=0}}function lf(h,v){return va(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(S(h.Ga,h,v),Ol(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new st(this,this.j,h);let te=this.o;if(this.S&&(te?(te=C(te),N(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Sc(this,Q,v),E=qt(this.I),gt(E,"RID",h),gt(E,"CVER",22),this.D&&gt(E,"X-HTTP-Session-Id",this.D),xa(this,E),te&&(this.O?v="headers="+encodeURIComponent(String(Cl(te)))+"&"+v:this.m&&vn(E,this.m,te)),Ts(this.h,Q),this.Ua&&gt(E,"TYPE","init"),this.P?(gt(E,"$req",v),gt(E,"SID","null"),Q.T=!0,Qt(Q,E,null)):Qt(Q,E,v),this.G=2}}else this.G==3&&(h?Dl(this,h):this.i.length==0||br(this.h)||Dl(this))};function Dl(h,v){var E;v?E=v.l:E=h.U++;const w=qt(h.I);gt(w,"SID",h.K),gt(w,"RID",E),gt(w,"AID",h.T),xa(h,w),h.m&&h.o&&vn(w,h.m,h.o),E=new st(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Sc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ts(h.h,E),Qt(E,w,v)}function xa(h,v){h.H&&B(h.H,function(E,w){gt(v,w,E)}),h.l&&_a({},function(E,w){gt(v,w,E)})}function Sc(h,v,E){E=Math.min(h.i.length,E);var w=h.l?S(h.l.Na,h.l,h):null;e:{var Q=h.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=Q[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let dt=!0;for(let ln=0;ln<E;ln++){let ft=Q[ln].g;const _n=Q[ln].map;if(ft-=te,0>ft)te=Math.max(0,Q[ln].g-100),dt=!1;else try{fi(_n,ge,"req"+ft+"_")}catch{w&&w(_n)}}if(dt){w=ge.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,w}function Ac(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Ce||j(),Se||(Ce(),Se=!0),Xe.add(v,h),h.v=0}}function Nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(S(h.Fa,h),Ol(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(S(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),yo(this),wc(this))};function Ca(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function wc(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=qt(h.qa);gt(v,"RID","rpc"),gt(v,"SID",h.K),gt(v,"AID",h.T),gt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(v,"TO",h.ja),gt(v,"TYPE","xmlhttp"),xa(h,v),h.m&&h.o&&vn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ta(qt(v)),E.m=null,E.P=!0,Jt(E,h)}r.Za=function(){this.C!=null&&(this.C=null,yo(this),Nl(this),Y(19))};function _o(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Rc(h,v){var E=null;if(h.g==v){_o(h),Ca(h),h.g=null;var w=2}else if(hi(h.h,v))E=v.D,Sr(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;w=Es(),ae(w,new fe(w,E)),vo(h)}else Ac(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(w==1&&lf(h,v)||w==2&&Nl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Q){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function Ol(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function qi(h,v){if(h.j.info("Error code "+v),v==2){var E=S(h.fb,h),w=h.Xa;const Q=!w;w=new Ui(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||bs(w,"https"),Ta(w),Q?_c(w.toString(),E):ba(w.toString(),E)}else Y(2);h.G=0,h.l&&h.l.sa(v),xc(h),bc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function xc(h){if(h.G=0,h.ka=[],h.l){const v=Qn(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function Cc(h,v,E){var w=E instanceof Ui?qt(E):new Ui(E);if(w.g!="")v&&(w.g=v+"."+w.g),Ea(w,w.s);else{var Q=f.location;w=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Ui(null);w&&bs(te,w),v&&(te.g=v),Q&&Ea(te,Q),E&&(te.l=E),w=te}return E=h.D,v=h.ya,E&&v&&gt(w,E,v),gt(w,"VER",h.la),xa(h,w),w}function Ic(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new bt(new As({eb:E})):new bt(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}r=Dc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Eo(){}Eo.prototype.g=function(h,v){return new Yn(h,v)};function Yn(h,v){he.call(this),this.g=new go(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yi(this)}V(Yn,he),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Il(this.g)},Yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=ki(h),h=E);v.i.push(new Li(v.Ya++,h)),v.G==3&&vo(v)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,Yn.aa.N.call(this)};function Nc(h){ui.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Nc,ui);function Oc(){nr.call(this),this.status=1}V(Oc,nr);function yi(h){this.g=h}V(yi,Dc),yi.prototype.ua=function(){ae(this.g,"a")},yi.prototype.ta=function(h){ae(this.g,new Nc(h))},yi.prototype.sa=function(h){ae(this.g,new Oc)},yi.prototype.ra=function(){ae(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Eb=function(){return new Eo},_b=function(){return Es()},vb=xn,Np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,qh=Ve,ht.COMPLETE="complete",yb=ht,lo.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",he.prototype.listen=he.prototype.K,Mu=lo,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,gb=bt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",mE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new fg("@firebase/firestore");function Zo(){return eo.logLevel}function Ae(r,...e){if(eo.logLevel<=at.DEBUG){const t=e.map(gg);eo.debug(`Firestore (${vl}): ${r}`,...t)}}function ms(r,...e){if(eo.logLevel<=at.ERROR){const t=e.map(gg);eo.error(`Firestore (${vl}): ${r}`,...t)}}function ul(r,...e){if(eo.logLevel<=at.WARN){const t=e.map(gg);eo.warn(`Firestore (${vl}): ${r}`,...t)}}function gg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r="Unexpected state"){const e=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+r;throw ms(e),new Error(e)}function St(r,e){r||Ge()}function Ye(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends vs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class ND{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OD{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string"),new Tb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Bn(e)}}class MD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class VD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new MD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){St(this.o===void 0);const s=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new pE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ct(r,e){return r<e?-1:r>e?1:0}function cl(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,yE=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*yE);return new pn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gE)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new pn(0,0))}static max(){return new $e(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__name__";class wi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(),s===void 0?s=e.length-t:s>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=wi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=wi.isNumericId(e),o=wi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class Lt extends wi{construct(e,t,s){return new Lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new je(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends wi{construct(e,t,s){return new Mn(e,t,s)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new Mn([vE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new je(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new je(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(s+=f,o++):(l(),o++)}if(l(),c)throw new je(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Lt.fromString(e))}static fromName(e){return new ke(Lt.fromString(e).popFirst(5))}static empty(){return new ke(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function LD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new pn(t+1,0):new pn(t,s));return new aa(o,ke.empty(),e)}function UD(r){return new aa(r.readTime,r.key,Ku)}class aa{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new aa($e.min(),ke.empty(),Ku)}static max(){return new aa($e.max(),ke.empty(),Ku)}}function zD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(r.documentKey,e.documentKey),t!==0?t:ct(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==me.FAILED_PRECONDITION||r.message!==BD)throw r;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>s(p))}),c=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++f,f===l&&s(c)},_=>o(_))}})}static doWhile(e,t){return new le((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function HD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Md.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function Vd(r){return r==null}function ud(r){return r===0&&1/r==-1/0}function qD(r){return typeof r=="number"&&Number.isInteger(r)&&!ud(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function GD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=_E(e)),e=$D(r.get(t),e);return _E(e)}function $D(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Sb:t+="";break;default:t+=l}}return t}function _E(r){return r+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function fa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ab(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=l??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new On(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,s,o,l){return this}insert(e,t,s){return new On(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new gr([])}unionWith(e){let t=new gn(Mn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wb("Invalid base64 string: "+l):l}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(r){if(St(!!r),typeof r=="string"){let e=0;const t=KD.exec(r);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Wt(r.seconds),nanos:Wt(r.nanos)}}function Wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function la(r){return typeof r=="string"?Vn.fromBase64String(r):Vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="server_timestamp",xb="__type__",Cb="__previous_value__",Ib="__local_write_time__";function vg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xb])===null||t===void 0?void 0:t.stringValue)===Rb}function jd(r){const e=r.mapValue.fields[Cb];return vg(e)?jd(e):e}function Qu(r){const e=oa(r.mapValue.fields[Ib].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,s,o,l,c,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}const cd="(default)";class Yu{constructor(e,t){this.projectId=e,this.database=t||cd}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="__type__",YD="__max__",jh={mapValue:{}},Nb="__vector__",hd="value";function ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vg(r)?4:WD(r)?9007199254740991:XD(r)?10:11:Ge()}function Mi(r,e){if(r===e)return!0;const t=ua(r);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Qu(r).isEqual(Qu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=oa(o.timestampValue),f=oa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return la(o.bytesValue).isEqual(la(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Wt(o.geoPointValue.latitude)===Wt(l.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Wt(o.integerValue)===Wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Wt(o.doubleValue),f=Wt(l.doubleValue);return c===f?ud(c)===ud(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return cl(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(EE(c)!==EE(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Mi(c[p],f[p])))return!1;return!0}(r,e);default:return Ge()}}function Xu(r,e){return(r.values||[]).find(t=>Mi(t,e))!==void 0}function hl(r,e){if(r===e)return 0;const t=ua(r),s=ua(e);if(t!==s)return ct(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(r.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Wt(l.integerValue||l.doubleValue),p=Wt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return bE(r.timestampValue,e.timestampValue);case 4:return bE(Qu(r),Qu(e));case 5:return ct(r.stringValue,e.stringValue);case 6:return function(l,c){const f=la(l),p=la(c);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=ct(f[y],p[y]);if(_!==0)return _}return ct(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const f=ct(Wt(l.latitude),Wt(c.latitude));return f!==0?f:ct(Wt(l.longitude),Wt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return SE(r.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,y,_;const b=l.fields||{},S=c.fields||{},x=(f=b[hd])===null||f===void 0?void 0:f.arrayValue,V=(p=S[hd])===null||p===void 0?void 0:p.arrayValue,q=ct(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return q!==0?q:SE(x,V)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===jh.mapValue&&c===jh.mapValue)return 0;if(l===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const S=ct(p[b],_[b]);if(S!==0)return S;const x=hl(f[p[b]],y[_[b]]);if(x!==0)return x}return ct(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ge()}}function bE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ct(r,e);const t=oa(r),s=oa(e),o=ct(t.seconds,s.seconds);return o!==0?o:ct(t.nanos,s.nanos)}function SE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=hl(t[o],s[o]);if(l)return l}return ct(t.length,s.length)}function dl(r){return Op(r)}function Op(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=oa(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return la(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ke.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Op(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Op(t.fields[c])}`;return o+"}"}(r.mapValue):Ge()}function Gh(r){switch(ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(r);return e?16+Gh(e):16;case 5:return 2*r.stringValue.length;case 6:return la(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Gh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return fa(s.fields,(l,c)=>{o+=l.length+Gh(c)}),o}(r.mapValue);default:throw Ge()}}function Mp(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function AE(r){return!!r&&"nullValue"in r}function wE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $h(r){return!!r&&"mapValue"in r}function XD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Db])===null||t===void 0?void 0:t.stringValue)===Nb}function Uu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return fa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Uu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function WD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!$h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Mn.emptyPath(),s={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}c?s[f.lastSegment()]=Uu(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());$h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];$h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){fa(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new ar(Uu(this.value))}}function Ob(r){const e=[];return fa(r.fields,(t,s)=>{const o=new Mn([t]);if($h(s)){const l=Ob(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t,s,o,l,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Fn(e,0,$e.min(),$e.min(),$e.min(),ar.empty(),0)}static newFoundDocument(e,t,s,o){return new Fn(e,1,t,$e.min(),s,o,0)}static newNoDocument(e,t){return new Fn(e,2,t,$e.min(),$e.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,$e.min(),$e.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this.position=e,this.inclusive=t}}function RE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?s=ke.comparator(ke.fromName(c.referenceValue),t.key):s=hl(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function xE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{}class fn extends Mb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new eN(e,t,s):t==="array-contains"?new rN(e,s):t==="in"?new iN(e,s):t==="not-in"?new sN(e,s):t==="array-contains-any"?new aN(e,s):new fn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new tN(e,s):new nN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hl(t,this.value)):t!==null&&ua(this.value)===ua(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends Mb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Vi(e,t)}matches(e){return Vb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Vb(r){return r.op==="and"}function jb(r){return JD(r)&&Vb(r)}function JD(r){for(const e of r.filters)if(e instanceof Vi)return!1;return!0}function Vp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(jb(r))return r.filters.map(e=>Vp(e)).join(",");{const e=r.filters.map(t=>Vp(t)).join(",");return`${r.op}(${e})`}}function Pb(r,e){return r instanceof fn?function(s,o){return o instanceof fn&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)}(r,e):r instanceof Vi?function(s,o){return o instanceof Vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,f)=>l&&Pb(c,o.filters[f]),!0):!1}(r,e):void Ge()}function kb(r){return r instanceof fn?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(r):r instanceof Vi?function(t){return t.op.toString()+" {"+t.getFilters().map(kb).join(" ,")+"}"}(r):"Filter"}class eN extends fn{constructor(e,t,s){super(e,t,s),this.key=ke.fromName(s.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class tN extends fn{constructor(e,t){super(e,"in",t),this.keys=Lb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nN extends fn{constructor(e,t){super(e,"not-in",t),this.keys=Lb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ke.fromName(s.referenceValue))}class rN extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&Xu(t.arrayValue,this.value)}}class iN extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class sN extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Xu(this.value.arrayValue,t)}}class aN extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Xu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t=null,s=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function CE(r,e=null,t=[],s=[],o=null,l=null,c=null){return new oN(r,e,t,s,o,l,c)}function Eg(r){const e=Ye(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Vp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Vd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>dl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>dl(s)).join(",")),e.le=t}return e.le}function Tg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ZD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Pb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xE(r.startAt,e.startAt)&&xE(r.endAt,e.endAt)}function jp(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t=null,s=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lN(r,e,t,s,o,l,c,f){return new Pd(r,e,t,s,o,l,c,f)}function kd(r){return new Pd(r)}function IE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uN(r){return r.collectionGroup!==null}function zu(r){const e=Ye(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new gn(Mn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new fd(l,s))}),t.has(Mn.keyField().canonicalString())||e.he.push(new fd(Mn.keyField(),s))}return e.he}function Ii(r){const e=Ye(r);return e.Pe||(e.Pe=cN(e,zu(r))),e.Pe}function cN(r,e){if(r.limitType==="F")return CE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new fd(o.field,l)});const t=r.endAt?new dd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dd(r.startAt.position,r.startAt.inclusive):null;return CE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Pp(r,e,t){return new Pd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ld(r,e){return Tg(Ii(r),Ii(e))&&r.limitType===e.limitType}function Ub(r){return`${Eg(Ii(r))}|lt:${r.limitType}`}function Jo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>kb(o)).join(", ")}]`),Vd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>dl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>dl(o)).join(",")),`Target(${s})`}(Ii(r))}; limitType=${r.limitType})`}function Ud(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ke.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of zu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(c,f,p){const y=RE(c,f,p);return c.inclusive?y<=0:y<0}(s.startAt,zu(s),o)||s.endAt&&!function(c,f,p){const y=RE(c,f,p);return c.inclusive?y>=0:y>0}(s.endAt,zu(s),o))}(r,e)}function hN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zb(r){return(e,t)=>{let s=!1;for(const o of zu(r)){const l=dN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function dN(r,e,t){const s=r.field.isKeyField()?ke.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?hl(p,y):Ge()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ft(ke.comparator);function ps(){return fN}const Bb=new Ft(ke.comparator);function Vu(...r){let e=Bb;for(const t of r)e=e.insert(t.key,t);return e}function Fb(r){let e=Bb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Za(){return Bu()}function Hb(){return Bu()}function Bu(){return new so(r=>r.toString(),(r,e)=>r.isEqual(e))}const mN=new Ft(ke.comparator),pN=new gn(ke.comparator);function lt(...r){let e=pN;for(const t of r)e=e.add(t);return e}const gN=new gn(ct);function yN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function qb(r){return{integerValue:""+r}}function vN(r,e){return qD(e)?qb(e):bg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function _N(r,e,t){return r instanceof Wu?function(o,l){const c={fields:{[xb]:{stringValue:Rb},[Ib]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&vg(l)&&(l=jd(l)),l&&(c.fields[Cb]=l),{mapValue:c}}(t,e):r instanceof Zu?$b(r,e):r instanceof Ju?Kb(r,e):function(o,l){const c=Gb(o,l),f=DE(c)+DE(o.Ie);return Mp(c)&&Mp(o.Ie)?qb(f):bg(o.serializer,f)}(r,e)}function EN(r,e,t){return r instanceof Zu?$b(r,e):r instanceof Ju?Kb(r,e):t}function Gb(r,e){return r instanceof md?function(s){return Mp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Wu extends zd{}class Zu extends zd{constructor(e){super(),this.elements=e}}function $b(r,e){const t=Qb(e);for(const s of r.elements)t.some(o=>Mi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Ju extends zd{constructor(e){super(),this.elements=e}}function Kb(r,e){let t=Qb(e);for(const s of r.elements)t=t.filter(o=>!Mi(o,s));return{arrayValue:{values:t}}}class md extends zd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function DE(r){return Wt(r.integerValue||r.doubleValue)}function Qb(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t){this.field=e,this.transform=t}}function bN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zu&&o instanceof Zu||s instanceof Ju&&o instanceof Ju?cl(s.elements,o.elements,Mi):s instanceof md&&o instanceof md?Mi(s.Ie,o.Ie):s instanceof Wu&&o instanceof Wu}(r.transform,e.transform)}class SN{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bd{}function Yb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wb(r.key,ni.none()):new lc(r.key,r.data,ni.none());{const t=r.data,s=ar.empty();let o=new gn(Mn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ma(r.key,s,new gr(o.toArray()),ni.none())}}function AN(r,e,t){r instanceof lc?function(o,l,c){const f=o.value.clone(),p=OE(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ma?function(o,l,c){if(!Kh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=OE(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Xb(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Fu(r,e,t,s){return r instanceof lc?function(l,c,f,p){if(!Kh(l.precondition,c))return f;const y=l.value.clone(),_=ME(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof ma?function(l,c,f,p){if(!Kh(l.precondition,c))return f;const y=ME(l.fieldTransforms,p,c),_=c.data;return _.setAll(Xb(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(l,c,f){return Kh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(r,e,t)}function wN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Gb(s.transform,o||null);l!=null&&(t===null&&(t=ar.empty()),t.set(s.field,l))}return t||null}function NE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&cl(s,o,(l,c)=>bN(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lc extends Bd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends Bd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function OE(r,e,t){const s=new Map;St(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,f=e.data.field(l.field);s.set(l.field,EN(c,f,t[o]))}return s}function ME(r,e,t){const s=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);s.set(o.field,_N(l,c,e))}return s}class Wb extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Hb();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=Yb(c,f);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(t,s)=>NE(t,s))&&cl(this.baseMutations,e.baseMutations,(t,s)=>NE(t,s))}}class Sg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length);let o=function(){return mN}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Sg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,pt;function DN(r){switch(r){case me.OK:return Ge();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge()}}function Zb(r){if(r===void 0)return ms("GRPC error has no .code"),me.UNKNOWN;switch(r){case rn.OK:return me.OK;case rn.CANCELLED:return me.CANCELLED;case rn.UNKNOWN:return me.UNKNOWN;case rn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case rn.INTERNAL:return me.INTERNAL;case rn.UNAVAILABLE:return me.UNAVAILABLE;case rn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case rn.NOT_FOUND:return me.NOT_FOUND;case rn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case rn.ABORTED:return me.ABORTED;case rn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case rn.DATA_LOSS:return me.DATA_LOSS;default:return Ge()}}(pt=rn||(rn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new ra([4294967295,4294967295],0);function VE(r){const e=NN().encode(r),t=new pb;return t.update(e),new Uint8Array(t.digest())}function jE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ra([t,s],0),new ra([o,l],0)]}class Ag{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ju(`Invalid padding: ${t}`);if(s<0)throw new ju(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ju(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ra.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ra.fromNumber(s)));return o.compare(ON)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=VE(e),[s,o]=jE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ag(l,o,t);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=VE(e),[s,o]=jE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Fd($e.min(),o,new Ft(ct),ps(),lt())}}class uc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new uc(s,t,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Jb{constructor(e,t){this.targetId=e,this.ge=t}}class eS{constructor(e,t,s=Vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.pe=0,this.ye=kE(),this.we=Vn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=lt(),t=lt(),s=lt();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ge()}}),new uc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=kE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class MN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ps(),this.$e=Ph(),this.Ke=Ph(),this.Ue=new Ft(ct)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(jp(l))if(s===0){const c=new ke(l.path);this.ze(t,c,Fn.newNoDocument(c,$e.min()))}else St(s===1);else{const c=this.et(t);if(c!==s){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=la(s).toUint8Array()}catch(p){if(p instanceof wb)return ul("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ag(c,o,l)}catch(p){return ul(p instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&jp(f.target)){const p=new ke(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Fn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=lt();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new Fd(e,t,this.Ue,this.Qe,s);return this.Qe=ps(),this.$e=Ph(),this.Ke=Ph(),this.Ue=new Ft(ct),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new PE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new gn(ct),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new gn(ct),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new PE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new Ft(ke.comparator)}function kE(){return new Ft(ke.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PN={and:"AND",or:"OR"};class kN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(r,e){return r.useProto3Json||Vd(e)?e:{value:e}}function pd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LN(r,e){return pd(r,e.toTimestamp())}function Di(r){return St(!!r),$e.fromTimestamp(function(t){const s=oa(t);return new pn(s.seconds,s.nanos)}(r))}function wg(r,e){return Lp(r,e).canonicalString()}function Lp(r,e){const t=function(o){return new Lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function nS(r){const e=Lt.fromString(r);return St(oS(e)),e}function Up(r,e){return wg(r.databaseId,e.path)}function pp(r,e){const t=nS(e);if(t.get(1)!==r.databaseId.projectId)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ke(iS(t))}function rS(r,e){return wg(r.databaseId,e)}function UN(r){const e=nS(r);return e.length===4?Lt.emptyPath():iS(e)}function zp(r){return new Lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iS(r){return St(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function LE(r,e,t){return{name:Up(r,e),fields:t.value.mapValue.fields}}function zN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(St(_===void 0||typeof _=="string"),Vn.fromBase64String(_||"")):(St(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Vn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const _=y.code===void 0?me.UNKNOWN:Zb(y.code);return new je(_,y.message||"")}(c);t=new eS(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pp(r,s.document.name),l=Di(s.document.updateTime),c=s.document.createTime?Di(s.document.createTime):$e.min(),f=new ar({mapValue:{fields:s.document.fields}}),p=Fn.newFoundDocument(o,l,c,f),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Qh(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pp(r,s.document),l=s.readTime?Di(s.readTime):$e.min(),c=Fn.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Qh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pp(r,s.document),l=s.removedTargetIds||[];t=new Qh([],l,o,null)}else{if(!("filter"in e))return Ge();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new IN(o,l),f=s.targetId;t=new Jb(f,c)}}return t}function BN(r,e){let t;if(e instanceof lc)t={update:LE(r,e.key,e.value)};else if(e instanceof Wb)t={delete:Up(r,e.key)};else if(e instanceof ma)t={update:LE(r,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof RN))return Ge();t={verify:Up(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof md)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ge()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:LN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge()}(r,e.precondition)),t}function FN(r,e){return r&&r.length>0?(St(e!==void 0),r.map(t=>function(o,l){let c=o.updateTime?Di(o.updateTime):Di(l);return c.isEqual($e.min())&&(c=Di(l)),new SN(c,o.transformResults||[])}(t,e))):[]}function HN(r,e){return{documents:[rS(r,e.path)]}}function qN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rS(r,o);const l=function(y){if(y.length!==0)return aS(Vi.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:el(S.field),direction:KN(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=kp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function GN(r){let e=UN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const S=sS(b);return S instanceof Vi&&jb(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(S=>function(V){return new fd(tl(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(b){let S;return S=typeof b=="object"?b.value:b,Vd(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,x=b.values||[];return new dd(x,S)}(t.startAt));let y=null;return t.endAt&&(y=function(b){const S=!b.before,x=b.values||[];return new dd(x,S)}(t.endAt)),lN(e,o,c,l,f,"F",p,y)}function $N(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=tl(t.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(t.unaryFilter.field);return fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(t.unaryFilter.field);return fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=tl(t.unaryFilter.field);return fn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(r):r.fieldFilter!==void 0?function(t){return fn.create(tl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Vi.create(t.compositeFilter.filters.map(s=>sS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(r):Ge()}function KN(r){return VN[r]}function QN(r){return jN[r]}function YN(r){return PN[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return Mn.fromServerFormat(r.fieldPath)}function aS(r){return r instanceof fn?function(t){if(t.op==="=="){if(wE(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(AE(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wE(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(AE(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:QN(t.op),value:t.value}}}(r):r instanceof Vi?function(t){const s=t.getFilters().map(o=>aS(o));return s.length===1?s[0]:{compositeFilter:{op:YN(t.op),filters:s}}}(r):Ge()}function XN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,s,o,l=$e.min(),c=$e.min(),f=Vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.Tt=e}}function ZN(r){const e=GN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Tn=new eO}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(aa.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class eO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new gn(Lt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new gn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(lS,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fl(0)}static Un(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",tO=1048576;function BE([r,e],[t,s]){const o=ct(r,t);return o===0?ct(e,s):o}class nO{constructor(e){this.Hn=e,this.buffer=new gn(BE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();BE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(zE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?Ae(zE,"Ignoring IndexedDB error during garbage collection: ",t):await _l(t)}await this.er(3e5)})}}class iO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Md.ae);const s=new nO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(UE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,c,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,f=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Zo()<=at.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function sO(r,e){return new iO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Fu(s.mutation,o,gr.empty(),pn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,lt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=lt()){const o=Za();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Vu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Za();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,lt()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,s,o){let l=ps();const c=Bu(),f=function(){return Bu()}();return t.forEach((p,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ma)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),Fu(_.mutation,y,_.mutation.getFieldMask(),pn.now())):c.set(y.key,gr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var b;return f.set(y,new oO(_,(b=c.get(y))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Bu();let o=new Ft((c,f)=>c-f),l=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||gr.empty();_=f.applyToLocalView(y,_),s.set(p,_);const b=(o.get(f.batchId)||lt()).add(p);o=o.insert(f.batchId,b)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,b=Hb();_.forEach(S=>{if(!l.has(S)){const x=Yb(t.get(S),s.get(S));x!==null&&b.set(S,x),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,b))}return le.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):le.resolve(Za());let f=Ku,p=l;return c.next(y=>le.forEach(y,(_,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,lt())).next(_=>({batchId:f,changes:Fb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(s=>{let o=Vu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,l).next(f=>le.forEach(f,p=>{const y=function(b,S){return new Pd(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(_=>{_.forEach((b,S)=>{c=c.insert(b,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Fn.newInvalidDocument(_)))});let f=Vu();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&Fu(_.mutation,y,gr.empty(),pn.now()),Ud(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:ZN(o.bundledQuery),readTime:Di(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new Ft(ke.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Za();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Za(),l=t.length+1,c=new ke(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Ft((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=l.get(y.largestBatchId);_===null&&(_=Za(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Za(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return le.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new CN(t,s));let l=this.Rr.get(t);l===void 0&&(l=lt(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new gn(wn.mr),this.gr=new gn(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new wn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new wn(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ke(new Lt([])),s=new wn(t,e),o=new wn(t,e+1),l=[];return this.gr.forEachInRange([s,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ke(new Lt([])),s=new wn(t,e),o=new wn(t,e+1);let l=lt();return this.gr.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new wn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ke.comparator(e.key,t.key)||ct(e.Cr,t.Cr)}static pr(e,t){return ct(e.Cr,t.Cr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new gn(wn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xN(l,t,s,o);this.mutationQueue.push(c);for(const f of o)this.Mr=this.Mr.add(new wn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?yg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wn(t,0),o=new wn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],c=>{const f=this.Or(c.Cr);l.push(f)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gn(ct);return t.forEach(o=>{const l=new wn(o,0),c=new wn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{s=s.add(f.Cr)})}),le.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ke.isDocumentKey(l)||(l=l.child(""));const c=new wn(new ke(l),0);let f=new gn(ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Cr)),!0)},c),le.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){St(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return le.forEach(t.mutations,o=>{const l=new wn(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new wn(t,0),o=this.Mr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.kr=e,this.docs=function(){return new Ft(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let s=ps();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Fn.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=ps();const c=t.path,f=new ke(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||zD(UD(_),s)<=0||(o.has(_.key)||Ud(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ge()}qr(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new mO(this)}getSize(e){return le.resolve(this.size)}}class mO extends aO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.Qr=new so(t=>Eg(t),Tg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rg,this.targetCount=0,this.Ur=fl.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Md(0),this.zr=!1,this.zr=!0,this.jr=new hO,this.referenceDelegate=e(this),this.Hr=new pO(this),this.indexManager=new JN,this.remoteDocumentCache=function(o){return new fO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new WN(t),this.Yr=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new dO(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Ae("MemoryPersistence","Starting transaction:",e);const o=new gO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return le.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class gO extends FD{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new xg(e)}get ii(){if(this.ni)return this.ni;throw Ge()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,s=>{const o=ke.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class gd{constructor(e,t){this.persistence=e,this.oi=new so(s=>GD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sO(this,t)}static ri(e,t){return new gd(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(f=>{f||(s++,l.removeEntry(c,$e.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gh(e.data.value)),t}ar(e,t,s){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=lt(),o=lt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Cg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return d1()?8:HD(qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yO;return this._s(e,t,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Zo()<=at.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Zo()<=at.DEBUG&&Ae("QueryEngine","Query:",Jo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Zo()<=at.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):le.resolve())}rs(e,t){if(IE(t))return le.resolve(null);let s=Ii(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pp(t,null,"F"),s=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=lt(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(t,f);return this.ls(t,y,c,p.readTime)?this.rs(e,Pp(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,s,o){return IE(t)||o.isEqual($e.min())?le.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,o)?le.resolve(null):(Zo()<=at.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.hs(e,c,t,LD(o,Ku)).next(f=>f))})}cs(e,t){let s=new gn(zb(e));return t.forEach((o,l)=>{Ud(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return Zo()<=at.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.ns.getDocumentsMatchingQuery(e,t,aa.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",_O=3e8;class EO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ft(ct),this.Is=new so(l=>Eg(l),Tg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function TO(r,e,t,s){return new EO(r,e,t,s)}async function cS(r,e){const t=Ye(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let p=lt();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:f}))})})}function bO(r,e){const t=Ye(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const b=y.batch,S=b.keys();let x=le.resolve();return S.forEach(V=>{x=x.next(()=>_.getEntry(p,V)).next(q=>{const L=y.docVersions.get(V);St(L!==null),q.version.compareTo(L)<0&&(b.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),_.addEntry(q)))})}),x.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=lt();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function hS(r){const e=Ye(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function SO(r,e){const t=Ye(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((_,b)=>{const S=o.get(b);if(!S)return;f.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,b)));let x=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Vn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(b,x),function(q,L,Z){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=_O?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(S,x,_)&&f.push(t.Hr.updateTargetData(l,x))});let p=ps(),y=lt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(AO(l,c,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!s.isEqual($e.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(_)}return le.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function AO(r,e,t){let s=lt(),o=lt();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=ps();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Ae(Ig,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function wO(r,e){const t=Ye(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RO(r,e){const t=Ye(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,le.resolve(o)):t.Hr.allocateTargetId(s).next(c=>(o=new Js(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Bp(r,e,t){const s=Ye(r),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!El(c))throw c;Ae(Ig,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function FE(r,e,t){const s=Ye(r);let o=$e.min(),l=lt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const b=Ye(p),S=b.Is.get(_);return S!==void 0?le.resolve(b.Ts.get(S)):b.Hr.getTargetData(y,_)}(s,c,Ii(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?o:$e.min(),t?l:lt())).next(f=>(xO(s,hN(e),f),{documents:f,gs:l})))}function xO(r,e,t){let s=r.Es.get(e)||$e.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class HE{constructor(){this.activeTargetIds=yN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.ho=new HE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new HE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class GE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function Fp(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",DO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===cd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const c=Fp(),f=this.bo(e,t.toUriEncodedString());Ae(gp,`Sending RPC '${e}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,f,p,s).then(y=>(Ae(gp,`Received RPC '${e}' ${c}: `,y),y),y=>{throw ul(gp,`RPC '${e}' ${c} failed with error: `,y,"url: ",f,"request:",s),y})}Co(e,t,s,o,l,c){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=DO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class MO extends NO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Fp();return new Promise((c,f)=>{const p=new gb;p.setWithCredentials(!0),p.listenOnce(yb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const _=p.getResponseJson();Ae(Un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case qh.TIMEOUT:Ae(Un,`RPC '${e}' ${l} timed out`),f(new je(me.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const b=p.getStatus();if(Ae(Un,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const V=function(L){const Z=L.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Z)>=0?Z:me.UNKNOWN}(x.status);f(new je(V,x.message))}else f(new je(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new je(me.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ae(Un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);Ae(Un,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=Fp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Eb(),f=_b(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");Ae(Un,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);let S=!1,x=!1;const V=new OO({Fo:L=>{x?Ae(Un,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(Ae(Un,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),Ae(Un,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Mo:()=>b.close()}),q=(L,Z,z)=>{L.listen(Z,ee=>{try{z(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(b,Mu.EventType.OPEN,()=>{x||(Ae(Un,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),q(b,Mu.EventType.CLOSE,()=>{x||(x=!0,Ae(Un,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),q(b,Mu.EventType.ERROR,L=>{x||(x=!0,ul(Un,`RPC '${e}' stream ${o} transport errored:`,L),V.Ko(new je(me.UNAVAILABLE,"The operation could not be completed")))}),q(b,Mu.EventType.MESSAGE,L=>{var Z;if(!x){const z=L.data[0];St(!!z);const ee=z,pe=(ee==null?void 0:ee.error)||((Z=ee[0])===null||Z===void 0?void 0:Z.error);if(pe){Ae(Un,`RPC '${e}' stream ${o} received error:`,pe);const se=pe.status;let B=function(R){const N=rn[R];if(N!==void 0)return Zb(N)}(se),O=pe.message;B===void 0&&(B=me.INTERNAL,O="Unknown error status: "+se+" with message "+pe.message),x=!0,V.Ko(new je(B,O)),b.close()}else Ae(Un,`RPC '${e}' stream ${o} received:`,z),V.Uo(z)}}),q(f,vb.STAT_EVENT,L=>{L.stat===Np.PROXY?Ae(Un,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Np.NOPROXY&&Ae(Un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){return new kN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="PersistentStream";class fS{constructor(e,t,s,o,l,c,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new dS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new je(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae($E,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends fS{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=zN(this.serializer,e),s=function(l){if(!("targetChange"in l))return $e.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Di(c.readTime):$e.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=zp(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=jp(p)?{documents:HN(l,p)}:{query:qN(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=tS(l,c.resumeToken);const y=kp(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo($e.min())>0){f.readTime=pd(l,c.snapshotVersion.toTimestamp());const y=kp(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=$N(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=zp(this.serializer),t.removeTarget=e,this.I_(t)}}class jO extends fS{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=FN(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=zp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>BN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{}class kO extends PO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Lp(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(me.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,Lp(t,s),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(me.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ms(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class UO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{ao(this)&&(Ae(to,"Restarting streams for network reachability change."),await async function(p){const y=Ye(p);y.W_.add(4),await cc(y),y.j_.set("Unknown"),y.W_.delete(4),await qd(y)}(this))})}),this.j_=new LO(s,o)}}async function qd(r){if(ao(r))for(const e of r.G_)await e(!0)}async function cc(r){for(const e of r.G_)await e(!1)}function mS(r,e){const t=Ye(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Mg(t)?Og(t):Tl(t).c_()&&Ng(t,e))}function Dg(r,e){const t=Ye(r),s=Tl(t);t.U_.delete(e),s.c_()&&pS(t,e),t.U_.size===0&&(s.c_()?s.P_():ao(t)&&t.j_.set("Unknown"))}function Ng(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(r).y_(e)}function pS(r,e){r.H_.Ne(e),Tl(r).w_(e)}function Og(r){r.H_=new MN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.j_.B_()}function Mg(r){return ao(r)&&!Tl(r).u_()&&r.U_.size>0}function ao(r){return Ye(r).W_.size===0}function gS(r){r.H_=void 0}async function zO(r){r.j_.set("Online")}async function BO(r){r.U_.forEach((e,t)=>{Ng(r,e)})}async function FO(r,e){gS(r),Mg(r)?(r.j_.q_(e),Og(r)):r.j_.set("Unknown")}async function HO(r,e,t){if(r.j_.set("Online"),e instanceof eS&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.U_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(s){Ae(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yd(r,s)}else if(e instanceof Qh?r.H_.We(e):e instanceof Jb?r.H_.Ze(e):r.H_.je(e),!t.isEqual($e.min()))try{const s=await hS(r.localStore);t.compareTo(s)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(y);_&&l.U_.set(y,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(Vn.EMPTY_BYTE_STRING,_.snapshotVersion)),pS(l,p);const b=new Js(_.target,p,y,_.sequenceNumber);Ng(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){Ae(to,"Failed to raise snapshot:",s),await yd(r,s)}}async function yd(r,e,t){if(!El(e))throw e;r.W_.add(1),await cc(r),r.j_.set("Offline"),t||(t=()=>hS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ae(to,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await qd(r)})}function yS(r,e){return e().catch(t=>yd(r,t,e))}async function Gd(r){const e=Ye(r),t=ca(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:yg;for(;qO(e);)try{const o=await wO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,GO(e,o)}catch(o){await yd(e,o)}vS(e)&&_S(e)}function qO(r){return ao(r)&&r.K_.length<10}function GO(r,e){r.K_.push(e);const t=ca(r);t.c_()&&t.S_&&t.b_(e.mutations)}function vS(r){return ao(r)&&!ca(r).u_()&&r.K_.length>0}function _S(r){ca(r).start()}async function $O(r){ca(r).C_()}async function KO(r){const e=ca(r);for(const t of r.K_)e.b_(t.mutations)}async function QO(r,e,t){const s=r.K_.shift(),o=Sg.from(s,e,t);await yS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Gd(r)}async function YO(r,e){e&&ca(r).S_&&await async function(s,o){if(function(c){return DN(c)&&c!==me.ABORTED}(o.code)){const l=s.K_.shift();ca(s).h_(),await yS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Gd(s)}}(r,e),vS(r)&&_S(r)}async function KE(r,e){const t=Ye(r);t.asyncQueue.verifyOperationInProgress(),Ae(to,"RemoteStore received new credentials");const s=ao(t);t.W_.add(3),await cc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qd(t)}async function XO(r,e){const t=Ye(r);e?(t.W_.delete(2),await qd(t)):e||(t.W_.add(2),await cc(t),t.j_.set("Unknown"))}function Tl(r){return r.J_||(r.J_=function(t,s,o){const l=Ye(t);return l.M_(),new VO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:zO.bind(null,r),No:BO.bind(null,r),Lo:FO.bind(null,r),p_:HO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mg(r)?Og(r):r.j_.set("Unknown")):(await r.J_.stop(),gS(r))})),r.J_}function ca(r){return r.Y_||(r.Y_=function(t,s,o){const l=Ye(t);return l.M_(),new jO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:$O.bind(null,r),Lo:YO.bind(null,r),D_:KO.bind(null,r),v_:QO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Gd(r)):(await r.Y_.stop(),r.K_.length>0&&(Ae(to,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,f=new Vg(e,t,c,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(r,e){if(ms("AsyncQueue",`${e}: ${r}`),El(r))return new je(me.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ke.comparator(t.key,s.key):(t,s)=>ke.comparator(t.key,s.key),this.keyedMap=Vu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.Z_=new Ft(ke.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ge():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ml{constructor(e,t,s,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ml(e,t,il.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZO{constructor(){this.queries=YE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ye(t),l=o.queries;o.queries=YE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(s)})})(this,new je(me.ABORTED,"Firestore shutting down"))}}function YE(){return new so(r=>Ub(r),Ld)}async function Pg(r,e){const t=Ye(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new WO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=jg(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Lg(t)}async function kg(r,e){const t=Ye(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function JO(r,e){const t=Ye(r);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.ta)f.oa(o)&&(s=!0);c.ea=o}}s&&Lg(t)}function e2(r,e,t){const s=Ye(r),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Lg(r){r.ia.forEach(e=>{e.next()})}var Hp,XE;(XE=Hp||(Hp={}))._a="default",XE.Cache="cache";class Ug{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ml(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.key=e}}class TS{constructor(e){this.key=e}}class t2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=lt(),this.mutatedKeys=lt(),this.ya=zb(e),this.wa=new il(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new QE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const S=o.get(_),x=Ud(this.query,b)?b:null,V=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;S&&x?S.data.isEqual(x.data)?V!==q&&(s.track({type:3,doc:x}),L=!0):this.va(S,x)||(s.track({type:2,doc:x}),L=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(f=!0)):!S&&x?(s.track({type:0,doc:x}),L=!0):S&&!x&&(s.track({type:1,doc:S}),L=!0,(p||y)&&(f=!0)),L&&(x?(c=c.add(x),l=q?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:c,Da:s,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,b)=>function(x,V){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return q(x)-q(V)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new ml(this.query,e.wa,l,c,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new QE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=lt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new TS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new ES(s))}),t}Oa(e){this.fa=e.gs,this.pa=lt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ml.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zg="SyncEngine";class n2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class r2{constructor(e){this.key=e,this.Ba=!1}}class i2{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new so(f=>Ub(f),Ld),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(ke.comparator),this.Ka=new Map,this.Ua=new Rg,this.Wa={},this.Ga=new Map,this.za=fl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function s2(r,e,t=!0){const s=xS(r);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await bS(s,e,t,!0),o}async function a2(r,e){const t=xS(r);await bS(t,e,!0,!1)}async function bS(r,e,t,s){const o=await RO(r.localStore,Ii(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await o2(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&mS(r.remoteStore,o),f}async function o2(r,e,t,s,o){r.Ha=(b,S,x)=>async function(q,L,Z,z){let ee=L.view.ba(Z);ee.ls&&(ee=await FE(q.localStore,L.query,!1).then(({documents:O})=>L.view.ba(O,ee)));const pe=z&&z.targetChanges.get(L.targetId),se=z&&z.targetMismatches.get(L.targetId)!=null,B=L.view.applyChanges(ee,q.isPrimaryClient,pe,se);return ZE(q,L.targetId,B.Ma),B.snapshot}(r,b,S,x);const l=await FE(r.localStore,e,!0),c=new t2(e,l.gs),f=c.ba(l.documents),p=uc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=c.applyChanges(f,r.isPrimaryClient,p);ZE(r,t,y.Ma);const _=new n2(e,t,c);return r.ka.set(e,_),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function l2(r,e,t){const s=Ye(r),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(c=>!Ld(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Dg(s.remoteStore,o.targetId),qp(s,o.targetId)}).catch(_l)):(qp(s,o.targetId),await Bp(s.localStore,o.targetId,!0))}async function u2(r,e){const t=Ye(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(t.remoteStore,s.targetId))}async function c2(r,e,t){const s=y2(r);try{const o=await function(c,f){const p=Ye(c),y=pn.now(),_=f.reduce((x,V)=>x.add(V.key),lt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=ps(),q=lt();return p.ds.getEntries(x,_).next(L=>{V=L,V.forEach((Z,z)=>{z.isValidDocument()||(q=q.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,V)).next(L=>{b=L;const Z=[];for(const z of f){const ee=wN(z,b.get(z.key).overlayedDocument);ee!=null&&Z.push(new ma(z.key,ee,Ob(ee.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,Z,f)}).next(L=>{S=L;const Z=L.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(x,L.batchId,Z)})}).then(()=>({batchId:S.batchId,changes:Fb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let y=c.Wa[c.currentUser.toKey()];y||(y=new Ft(ct)),y=y.insert(f,p),c.Wa[c.currentUser.toKey()]=y}(s,o.batchId,t),await hc(s,o.changes),await Gd(s.remoteStore)}catch(o){const l=jg(o,"Failed to persist write");t.reject(l)}}async function SS(r,e){const t=Ye(r);try{const s=await SO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ka.get(l);c&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?St(c.Ba):o.removedDocuments.size>0&&(St(c.Ba),c.Ba=!1))}),await hc(t,s,e)}catch(s){await _l(s)}}function WE(r,e,t){const s=Ye(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Ye(c);p.onlineState=f;let y=!1;p.queries.forEach((_,b)=>{for(const S of b.ta)S.sa(f)&&(y=!0)}),y&&Lg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h2(r,e,t){const s=Ye(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let c=new Ft(ke.comparator);c=c.insert(l,Fn.newNoDocument(l,$e.min()));const f=lt().add(l),p=new Fd($e.min(),new Map,new Ft(ct),c,f);await SS(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),Bg(s)}else await Bp(s.localStore,e,!1).then(()=>qp(s,e,t)).catch(_l)}async function d2(r,e){const t=Ye(r),s=e.batch.batchId;try{const o=await bO(t.localStore,e);wS(t,s,null),AS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await hc(t,o)}catch(o){await _l(o)}}async function f2(r,e,t){const s=Ye(r);try{const o=await function(c,f){const p=Ye(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(b=>(St(b!==null),_=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(s.localStore,e);wS(s,e,t),AS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await hc(s,o)}catch(o){await _l(o)}}function AS(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function wS(r,e,t){const s=Ye(r);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function qp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||RS(r,s)})}function RS(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Dg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Bg(r))}function ZE(r,e,t){for(const s of t)s instanceof ES?(r.Ua.addReference(s.key,e),m2(r,s)):s instanceof TS?(Ae(zg,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||RS(r,s.key)):Ge()}function m2(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(Ae(zg,"New document in limbo: "+t),r.Qa.add(s),Bg(r))}function Bg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ke(Lt.fromString(e)),s=r.za.next();r.Ka.set(s,new r2(t)),r.$a=r.$a.insert(t,s),mS(r.remoteStore,new Js(Ii(kd(t.path)),s,"TargetPurposeLimboResolution",Md.ae))}}async function hc(r,e,t){const s=Ye(r),o=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{c.push(s.Ha(p,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Cg.Yi(p.targetId,y);l.push(b)}}))}),await Promise.all(c),s.La.p_(o),await async function(p,y){const _=Ye(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(y,S=>le.forEach(S.Hi,x=>_.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>le.forEach(S.Ji,x=>_.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!El(b))throw b;Ae(Ig,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const x=_.Ts.get(S),V=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(V);_.Ts=_.Ts.insert(S,q)}}}(s.localStore,l))}async function p2(r,e){const t=Ye(r);if(!t.currentUser.isEqual(e)){Ae(zg,"User change. New user:",e.toKey());const s=await cS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new je(me.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hc(t,s.Rs)}}function g2(r,e){const t=Ye(r),s=t.Ka.get(e);if(s&&s.Ba)return lt().add(s.key);{let o=lt();const l=t.qa.get(e);if(!l)return o;for(const c of l){const f=t.ka.get(c);o=o.unionWith(f.view.Sa)}return o}}function xS(r){const e=Ye(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.La.p_=JO.bind(null,e.eventManager),e.La.Ja=e2.bind(null,e.eventManager),e}function y2(r){const e=Ye(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f2.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return TO(this.persistence,new vO,e.initialUser,this.serializer)}Xa(e){return new uS(xg.ri,this.serializer)}Za(e){return new CO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class v2 extends vd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){St(this.persistence.referenceDelegate instanceof gd);const s=this.persistence.referenceDelegate.garbageCollector;return new rO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new uS(s=>gd.ri(s,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>WE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await XO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZO}()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),s=function(l){return new MO(l)}(e.databaseInfo);return function(l,c,f,p){return new kO(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,f){return new UO(s,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>WE(this.syncEngine,t,0),function(){return GE.D()?new GE:new IO}())}createSyncEngine(e,t){return function(o,l,c,f,p,y,_){const b=new i2(o,l,c,f,p,y);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ye(o);Ae(to,"RemoteStore shutting down."),l.W_.add(5),await cc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class _2{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Bn.UNAUTHENTICATED,this.clientId=bb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{Ae(ha,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Ae(ha,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=jg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vp(r,e){r.asyncQueue.verifyOperationInProgress(),Ae(ha,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function JE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await E2(r);Ae(ha,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>KE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>KE(e.remoteStore,o)),r._onlineComponents=e}async function E2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ae(ha,"Using user provided OfflineComponentProvider");try{await vp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ul("Error using user provided cache. Falling back to memory cache: "+t),await vp(r,new vd)}}else Ae(ha,"Using default OfflineComponentProvider"),await vp(r,new v2(void 0));return r._offlineComponents}async function CS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ae(ha,"Using user provided OnlineComponentProvider"),await JE(r,r._uninitializedComponentsProvider._online)):(Ae(ha,"Using default OnlineComponentProvider"),await JE(r,new Gp))),r._onlineComponents}function T2(r){return CS(r).then(e=>e.syncEngine)}async function _d(r){const e=await CS(r),t=e.eventManager;return t.onListen=s2.bind(null,e.syncEngine),t.onUnlisten=l2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=a2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u2.bind(null,e.syncEngine),t}function b2(r,e,t={}){const s=new hs;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,y){const _=new Fg({next:S=>{_.su(),c.enqueueAndForget(()=>kg(l,b));const x=S.docs.has(f);!x&&S.fromCache?y.reject(new je(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?y.reject(new je(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Ug(kd(f.path),_,{includeMetadataChanges:!0,Ta:!0});return Pg(l,b)}(await _d(r),r.asyncQueue,e,t,s)),s.promise}function S2(r,e,t={}){const s=new hs;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,y){const _=new Fg({next:S=>{_.su(),c.enqueueAndForget(()=>kg(l,b)),S.fromCache&&p.source==="server"?y.reject(new je(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Ug(f,_,{includeMetadataChanges:!0,Ta:!0});return Pg(l,b)}(await _d(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r,e,t){if(!t)throw new je(me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function A2(r,e,t,s){if(e===!0&&s===!0)throw new je(me.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function tT(r){if(!ke.isDocumentKey(r))throw new je(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nT(r){if(ke.isDocumentKey(r))throw new je(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge()}function vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new je(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hg(r);throw new je(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",rT=!0;class iT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new je(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=rT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new DD;switch(s.type){case"firstParty":return new VD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new je(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=eT.get(t);s&&(Ae("ComponentProvider","Removing Datastore"),eT.delete(t),s.terminate())}(this),Promise.resolve()}}function w2(r,e,t,s={}){var o;const l=(r=vr(r,$d))._getSettings(),c=`${e}:${t}`;if(l.host!==NS&&l.host!==c&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Bn.MOCK_USER;else{f=s1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new je(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bn(y)}r._authCredentials=new ND(new Tb(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class er{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class ia extends dc{constructor(e,t,s){super(e,t,kd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ke(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function qg(r,e,...t){if(r=Rn(r),DS("collection","path",e),r instanceof $d){const s=Lt.fromString(e,...t);return nT(s),new ia(r,null,s)}{if(!(r instanceof er||r instanceof ia))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...t));return nT(s),new ia(r.firestore,null,s)}}function ti(r,e,...t){if(r=Rn(r),arguments.length===1&&(e=bb.newId()),DS("doc","path",e),r instanceof $d){const s=Lt.fromString(e,...t);return tT(s),new er(r,null,new ke(s))}{if(!(r instanceof er||r instanceof ia))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...t));return tT(s),new er(r.firestore,r instanceof ia?r.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="AsyncQueue";class aT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new dS(this,"async_queue_retry"),this.Su=()=>{const s=yp();s&&Ae(sT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!El(e))throw e;Ae(sT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(s);throw ms("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Vg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function oT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class da extends $d{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new aT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function R2(r,e){const t=typeof r=="object"?r:db(),s=typeof r=="string"?r:cd,o=pg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=r1("firestore");l&&w2(o,...l)}return o}function Kd(r){if(r._terminated)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||x2(r),r._firestoreClient}function x2(r){var e,t,s;const o=r._freezeSettings(),l=function(f,p,y,_){return new QD(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,IS(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new _2(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(Vn.fromBase64String(e))}catch(t){throw new je(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^__.*__$/;class I2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class OS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Kg{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ed(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MS(this.Lu)&&C2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class D2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Hd(e)}ju(e,t,s,o=!1){return new Kg({Lu:e,methodName:t,zu:s,path:Mn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(r){const e=r._freezeSettings(),t=Hd(r._databaseId);return new D2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function VS(r,e,t,s,o,l={}){const c=r.ju(l.merge||l.mergeFields?2:0,e,t,o);Xg("Data must be an object, but it was:",c,s);const f=jS(s,c);let p,y;if(l.merge)p=new gr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const S=$p(e,b,t);if(!c.contains(S))throw new je(me.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);kS(_,S)||_.push(S)}p=new gr(_),y=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=c.fieldTransforms;return new I2(new ar(f),p,y)}class Xd extends Yd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}class Yg extends Yd{_toFieldTransform(e){return new TN(e.path,new Wu)}isEqual(e){return e instanceof Yg}}function N2(r,e,t,s){const o=r.ju(1,e,t);Xg("Data must be an object, but it was:",o,s);const l=[],c=ar.empty();fa(s,(p,y)=>{const _=Wg(e,p,t);y=Rn(y);const b=o.Ku(_);if(y instanceof Xd)l.push(_);else{const S=Wd(y,b);S!=null&&(l.push(_),c.set(_,S))}});const f=new gr(l);return new OS(c,f,o.fieldTransforms)}function O2(r,e,t,s,o,l){const c=r.ju(1,e,t),f=[$p(e,s,t)],p=[o];if(l.length%2!=0)throw new je(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push($p(e,l[S])),p.push(l[S+1]);const y=[],_=ar.empty();for(let S=f.length-1;S>=0;--S)if(!kS(y,f[S])){const x=f[S];let V=p[S];V=Rn(V);const q=c.Ku(x);if(V instanceof Xd)y.push(x);else{const L=Wd(V,q);L!=null&&(y.push(x),_.set(x,L))}}const b=new gr(y);return new OS(_,b,c.fieldTransforms)}function Wd(r,e){if(PS(r=Rn(r)))return Xg("Unsupported field value:",e,r),jS(r,e);if(r instanceof Yd)return function(s,o){if(!MS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const f of s){let p=Wd(f,o.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=Rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=pn.fromDate(s);return{timestampValue:pd(o.serializer,l)}}if(s instanceof pn){const l=new pn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pd(o.serializer,l)}}if(s instanceof Gg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pl)return{bytesValue:tS(o.serializer,s._byteString)};if(s instanceof er){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $g)return function(c,f){return{mapValue:{fields:{[Db]:{stringValue:Nb},[hd]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw f.Wu("VectorValues must only contain numeric values.");return bg(f.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Hg(s)}`)}(r,e)}function jS(r,e){const t={};return Ab(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(r,(s,o)=>{const l=Wd(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function PS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pn||r instanceof Gg||r instanceof pl||r instanceof er||r instanceof Yd||r instanceof $g)}function Xg(r,e,t){if(!PS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Hg(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function $p(r,e,t){if((e=Rn(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return Wg(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,t)}const M2=new RegExp("[~\\*/\\[\\]]");function Wg(r,e,t){if(e.search(M2)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Qd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ed(r,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new je(me.INVALID_ARGUMENT,f+r+p)}function kS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(US("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class V2 extends LS{data(){return super.data()}}function US(r,e){return typeof e=="string"?Wg(r,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new je(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j2{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return fa(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[hd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>Wt(c.doubleValue));return new $g(l)}convertGeoPoint(e){return new Gg(Wt(e.latitude),Wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=jd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const t=oa(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Lt.fromString(e);St(oS(s));const o=new Yu(s.get(1),s.get(3)),l=new ke(s.popFirst(5));return o.isEqual(t)||ms(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FS extends LS{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(US("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Yh extends FS{data(e={}){return super.data(e)}}class HS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Yh(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new Yh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Yh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:P2(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(r){r=vr(r,er);const e=vr(r.firestore,da);return b2(Kd(e),r._key).then(t=>qS(e,r,t))}class Jg extends j2{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function k2(r){r=vr(r,dc);const e=vr(r.firestore,da),t=Kd(e),s=new Jg(e);return zS(r._query),S2(t,r._query).then(o=>new HS(e,s,r,o))}function Zd(r,e,t){r=vr(r,er);const s=vr(r.firestore,da),o=BS(r.converter,e,t);return ty(s,[VS(Qg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,ni.none())])}function L2(r,e,t,...s){r=vr(r,er);const o=vr(r.firestore,da),l=Qg(o);let c;return c=typeof(e=Rn(e))=="string"||e instanceof Qd?O2(l,"updateDoc",r._key,e,t,s):N2(l,"updateDoc",r._key,e),ty(o,[c.toMutation(r._key,ni.exists(!0))])}function U2(r,e){const t=vr(r.firestore,da),s=ti(r),o=BS(r.converter,e);return ty(t,[VS(Qg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function ey(r,...e){var t,s,o;r=Rn(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||oT(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(oT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,y,_;if(r instanceof er)y=vr(r.firestore,da),_=kd(r._key.path),p={next:b=>{e[c]&&e[c](qS(y,r,b))},error:e[c+1],complete:e[c+2]};else{const b=vr(r,dc);y=vr(b.firestore,da),_=b._query;const S=new Jg(y);p={next:x=>{e[c]&&e[c](new HS(y,S,b,x))},error:e[c+1],complete:e[c+2]},zS(r._query)}return function(S,x,V,q){const L=new Fg(q),Z=new Ug(x,L,V);return S.asyncQueue.enqueueAndForget(async()=>Pg(await _d(S),Z)),()=>{L.su(),S.asyncQueue.enqueueAndForget(async()=>kg(await _d(S),Z))}}(Kd(y),_,f,p)}function ty(r,e){return function(s,o){const l=new hs;return s.asyncQueue.enqueueAndForget(async()=>c2(await T2(s),o,l)),l.promise}(Kd(r),e)}function qS(r,e,t){const s=t.docs.get(e._key),o=new Jg(r);return new FS(r,o,e._key,s,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}function GS(){return new Yg("serverTimestamp")}(function(e,t=!0){(function(o){vl=o})(yl),ll(new Ja("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new da(new OD(s.getProvider("auth-internal")),new jD(c,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new je(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),na(fE,mE,e),na(fE,mE,"esm2017")})();var z2="firebase",B2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(z2,B2,"app");function ny(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=$S,KS=new ac("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new fg("@firebase/auth");function H2(r,...e){Td.logLevel<=at.WARN&&Td.warn(`Auth (${yl}): ${r}`,...e)}function Xh(r,...e){Td.logLevel<=at.ERROR&&Td.error(`Auth (${yl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...e){throw ry(r,...e)}function Ni(r,...e){return ry(r,...e)}function QS(r,e,t){const s=Object.assign(Object.assign({},F2()),{[e]:t});return new ac("auth","Firebase",s).create(e,{appName:r.name})}function ds(r){return QS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ry(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return KS.create(r,...e)}function qe(r,e,...t){if(!r)throw ry(e,...t)}function ls(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xh(e),new Error(e)}function gs(r,e){r||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function q2(){return lT()==="http:"||lT()==="https:"}function lT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||u1()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=a1()||c1()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r,e){gs(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new fc(3e4,6e4);function pa(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ga(r,e,t,s,o={}){return XS(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=oc(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return l1()||(y.referrerPolicy="no-referrer"),YS.fetch()(WS(r,r.config.apiHost,t,f),y)})}async function XS(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},K2),e);try{const o=new X2(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Lh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Lh(r,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QS(r,_,y);ii(r,_)}}catch(o){if(o instanceof vs)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function mc(r,e,t,s,o={}){const l=await ga(r,e,t,s,o);return"mfaPendingCredential"in l&&ii(r,"multi-factor-auth-required",{_serverResponse:l}),l}function WS(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?iy(r.config,o):`${r.config.apiScheme}://${o}`}function Y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),Q2.get())})}}function Lh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=t,o}function uT(r){return r!==void 0&&r.enterprise!==void 0}class W2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Y2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z2(r,e){return ga(r,"GET","/v2/recaptchaConfig",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e){return ga(r,"POST","/v1/accounts:delete",e)}async function ZS(r,e){return ga(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eM(r,e=!1){const t=Rn(r),s=await t.getIdToken(e),o=sy(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Hu(_p(o.auth_time)),issuedAtTime:Hu(_p(o.iat)),expirationTime:Hu(_p(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _p(r){return Number(r)*1e3}function sy(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sb(t);return o?JSON.parse(o):(Xh("Failed to decode base64 JWT payload"),null)}catch(o){return Xh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cT(r){const e=sy(r);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof vs&&tM(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r){var e;const t=r.auth,s=await r.getIdToken(),o=await ec(r,ZS(t,{idToken:s}));qe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?JS(l.providerUserInfo):[],f=iM(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Qp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function rM(r){const e=Rn(r);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iM(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JS(r){return r.map(e=>{var{providerId:t}=e,s=ny(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(r,e){const t=await XS(r,{},async()=>{const s=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=WS(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(c,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aM(r,e){return ga(r,"POST","/v2/accounts:revokeToken",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=cT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await sM(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new sl;return s&&(qe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(qe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(r,e){qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class us{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eM(this,e)}reload(){return rM(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await bd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await ec(this,J2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,f,p,y,_;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=t.photoURL)!==null&&c!==void 0?c:void 0,q=(f=t.tenantId)!==null&&f!==void 0?f:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:pe,isAnonymous:se,providerData:B,stsTokenManager:O}=t;qe(ee&&O,e,"internal-error");const C=sl.fromJSON(this.name,O);qe(typeof ee=="string",e,"internal-error"),Gs(b,e.name),Gs(S,e.name),qe(typeof pe=="boolean",e,"internal-error"),qe(typeof se=="boolean",e,"internal-error"),Gs(x,e.name),Gs(V,e.name),Gs(q,e.name),Gs(L,e.name),Gs(Z,e.name),Gs(z,e.name);const R=new us({uid:ee,auth:e,email:S,emailVerified:pe,displayName:b,isAnonymous:se,photoURL:V,phoneNumber:x,tenantId:q,stsTokenManager:C,createdAt:Z,lastLoginAt:z});return B&&Array.isArray(B)&&(R.providerData=B.map(N=>Object.assign({},N))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new sl;o.updateFromServerResponse(t);const l=new us({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?JS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new sl;f.updateFromIdToken(s);const p=new us({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function cs(r){gs(r instanceof Function,"Expected a class definition");let e=hT.get(r);return e?(gs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eA.type="NONE";const dT=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(r,e,t){return`firebase:${r}:${e}:${t}`}class al{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Wh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?us._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new al(cs(dT),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||cs(dT);const c=Wh(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(c);if(_){const b=us._fromJSON(e,_);y!==l&&(f=b),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new al(l,e,s):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new al(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aA(e))return"Blackberry";if(oA(e))return"Webos";if(nA(e))return"Safari";if((e.includes("chrome/")||rA(e))&&!e.includes("edge/"))return"Chrome";if(sA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tA(r=qn()){return/firefox\//i.test(r)}function nA(r=qn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rA(r=qn()){return/crios\//i.test(r)}function iA(r=qn()){return/iemobile/i.test(r)}function sA(r=qn()){return/android/i.test(r)}function aA(r=qn()){return/blackberry/i.test(r)}function oA(r=qn()){return/webos/i.test(r)}function ay(r=qn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oM(r=qn()){var e;return ay(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lM(){return h1()&&document.documentMode===10}function lA(r=qn()){return ay(r)||sA(r)||oA(r)||aA(r)||/windows phone/i.test(r)||iA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(r,e=[]){let t;switch(r){case"Browser":t=fT(qn());break;case"Worker":t=`${fT(qn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(r,e={}){return ga(r,"GET","/v2/passwordPolicy",pa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=6;class dM{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:hM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new uM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ZS(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ds(this));const t=e?Rn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cM(this),t=new dM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await aM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&H2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(r){return Rn(r)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=_1(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mM(r){Jd=r}function cA(r){return Jd.loadJS(r)}function pM(){return Jd.recaptchaEnterpriseScript}function gM(){return Jd.gapiScript}function yM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vM{constructor(){this.enterprise=new _M}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _M{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EM="recaptcha-enterprise",hA="NO_RECAPTCHA";class TM{constructor(e){this.type=EM,this.auth=oo(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Z2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new W2(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,c,f){const p=window.grecaptcha;uT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(hA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!t&&uT(window.grecaptcha))o(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pM();p.length!==0&&(p+=f),cA(p).then(()=>{o(f,l,c)}).catch(y=>{c(y)})}}).catch(f=>{c(f)})})}}async function pT(r,e,t,s=!1,o=!1){const l=new TM(r);let c;if(o)c=hA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Yp(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pT(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await pT(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(r,e){const t=pg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(od(l,e??{}))return o;ii(o,"already-initialized")}return t.initialize({options:e})}function SM(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(cs);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AM(r,e,t){const s=oo(r);qe(s._canInitEmulator,s,"emulator-config-failed"),qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=dA(e),{host:c,port:f}=wM(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),RM()}function dA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wM(r){const e=dA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:gT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:gT(c)}}}function gT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RM(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function xM(r,e){return ga(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(r,e){return mc(r,"POST","/v1/accounts:signInWithPassword",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(r,e){return mc(r,"POST","/v1/accounts:signInWithEmailLink",pa(r,e))}async function DM(r,e){return mc(r,"POST","/v1/accounts:signInWithEmailLink",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends oy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new tc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,t,"signInWithPassword",CM);case"emailLink":return IM(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,s,"signUpPassword",xM);case"emailLink":return DM(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r,e){return mc(r,"POST","/v1/accounts:signInWithIdp",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class no extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ny(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new no(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ol(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MM(r){const e=Nu(Ou(r)).link,t=e?Nu(Ou(e)).deep_link_id:null,s=Nu(Ou(r)).deep_link_id;return(s?Nu(Ou(s)).link:null)||s||t||e||r}class ly{constructor(e){var t,s,o,l,c,f;const p=Nu(Ou(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,b=OM((o=p.mode)!==null&&o!==void 0?o:null);qe(y&&_&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=MM(e);try{return new ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ly.parseLink(t);return qe(s,"argument-error"),tc._fromEmailAndCode(e,s.code,s.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends fA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends pc{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Xs.credential(t,s)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends pc{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends pc{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Zs.credential(t,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(r,e){return mc(r,"POST","/v1/accounts:signUp",pa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await us._fromIdTokenResponse(e,s,o),c=yT(s);return new ro({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=yT(s);return new ro({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function yT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends vs{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Sd(e,t,s,o)}}function mA(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(r,l,e,s):l})}async function jM(r,e,t=!1){const s=await ec(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(r,e,t=!1){const{auth:s}=r;if(zr(s.app))return Promise.reject(ds(s));const o="reauthenticate";try{const l=await ec(r,mA(s,o,e,r),t);qe(l.idToken,s,"internal-error");const c=sy(l.idToken);qe(c,s,"internal-error");const{sub:f}=c;return qe(r.uid===f,s,"user-mismatch"),ro._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(r,e,t=!1){if(zr(r.app))return Promise.reject(ds(r));const s="signIn",o=await mA(r,s,e),l=await ro._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function kM(r,e){return pA(oo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(r){const e=oo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(r,e,t){if(zr(r.app))return Promise.reject(ds(r));const s=oo(r),c=await Yp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gA(r),p}),f=await ro._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function UM(r,e,t){return zr(r.app)?Promise.reject(ds(r)):kM(Rn(r),bl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gA(r),s})}function zM(r,e,t,s){return Rn(r).onIdTokenChanged(e,t,s)}function BM(r,e,t){return Rn(r).beforeAuthStateChanged(e,t)}function FM(r,e,t,s){return Rn(r).onAuthStateChanged(e,t,s)}function HM(r){return Rn(r).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1e3,GM=10;class vA extends yA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);lM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GM):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},qM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vA.type="LOCAL";const $M=vA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends yA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_A.type="SESSION";const EA=_A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(c).map(async y=>y(t.origin,l)),p=await KM(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const y=uy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function YM(r){Oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function XM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WM(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZM(){return TA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",JM=1,wd="firebaseLocalStorage",SA="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tf(r,e){return r.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function eV(){const r=indexedDB.deleteDatabase(bA);return new gc(r).toPromise()}function Xp(){const r=indexedDB.open(bA,JM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wd,{keyPath:SA})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wd)?e(s):(s.close(),await eV(),e(await Xp()))})})}async function vT(r,e,t){const s=tf(r,!0).put({[SA]:e,value:t});return new gc(s).toPromise()}async function tV(r,e){const t=tf(r,!1).get(e),s=await new gc(t).toPromise();return s===void 0?null:s.value}function _T(r,e){const t=tf(r,!0).delete(e);return new gc(t).toPromise()}const nV=800,rV=3;class AA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>rV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XM(),!this.activeServiceWorker)return;this.sender=new QM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await vT(e,Ad,"1"),await _T(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>tV(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_T(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=tf(o,!1).getAll();return new gc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AA.type="LOCAL";const iV=AA;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(r,e){return e?cs(e):(qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aV(r){return pA(r.auth,new cy(r),r.bypassAuthState)}function oV(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),PM(t,new cy(r),r.bypassAuthState)}async function lV(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),jM(t,new cy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return oV;default:ii(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new fc(2e3,1e4);class rl extends wA{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uV.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="pendingRedirect",Zh=new Map;class hV extends wA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const s=await dV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dV(r,e){const t=pV(e),s=mV(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function fV(r,e){Zh.set(r._key(),e)}function mV(r){return cs(r._redirectPersistence)}function pV(r){return Wh(cV,r.config.apiKey,r.name)}async function gV(r,e,t=!1){if(zr(r.app))return Promise.reject(ds(r));const s=oo(r),o=sV(s,e),c=await new hV(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=10*60*1e3;class vV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_V(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!RA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ni(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(e))}saveEventToCache(e){this.cachedEventUids.add(ET(e)),this.lastProcessedEventTime=Date.now()}}function ET(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _V(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(r,e={}){return ga(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bV=/^https?/;async function SV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EV(r);for(const t of e)try{if(AV(t))return}catch{}ii(r,"unauthorized-domain")}function AV(r){const e=Kp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!bV.test(t))return!1;if(TV.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new fc(3e4,6e4);function TT(){const r=Oi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function RV(r){return new Promise((e,t)=>{var s,o,l;function c(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),t(Ni(r,"network-request-failed"))},timeout:wV.get()})}if(!((o=(s=Oi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Oi().gapi)===null||l===void 0)&&l.load)c();else{const f=yM("iframefcb");return Oi()[f]=()=>{gapi.load?c():t(Ni(r,"network-request-failed"))},cA(`${gM()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function xV(r){return Jh=Jh||RV(r),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new fc(5e3,15e3),IV="__/auth/iframe",DV="emulator/auth/iframe",NV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MV(r){const e=r.config;qe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?iy(e,DV):`https://${r.config.authDomain}/${IV}`,s={apiKey:e.apiKey,appName:r.name,v:yl},o=OV.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${oc(s).slice(1)}`}async function VV(r){const e=await xV(r),t=Oi().gapi;return qe(t,r,"internal-error"),e.open({where:document.body,url:MV(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NV,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ni(r,"network-request-failed"),f=Oi().setTimeout(()=>{l(c)},CV.get());function p(){Oi().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PV=500,kV=600,LV="_blank",UV="http://localhost";class bT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(r,e,t,s=PV,o=kV){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},jV),{width:s.toString(),height:o.toString(),top:l,left:c}),y=qn().toLowerCase();t&&(f=rA(y)?LV:t),tA(y)&&(e=e||UV,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[x,V])=>`${S}${x}=${V},`,"");if(oM(y)&&f!=="_self")return BV(e||"",f),new bT(null);const b=window.open(e||"",f,_);qe(b,r,"popup-blocked");try{b.focus()}catch{}return new bT(b)}function BV(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="__/auth/handler",HV="emulator/auth/handler",qV=encodeURIComponent("fac");async function ST(r,e,t,s,o,l){qe(r.config.authDomain,r,"auth-domain-config-required"),qe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:yl,eventId:o};if(e instanceof fA){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",v1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof pc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await r._getAppCheckToken(),y=p?`#${qV}=${encodeURIComponent(p)}`:"";return`${GV(r)}?${oc(f).slice(1)}${y}`}function GV({config:r}){return r.emulator?iy(r,HV):`https://${r.authDomain}/${FV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EA,this._completeRedirectFn=gV,this._overrideRedirectResult=fV}async _openPopup(e,t,s,o){var l;gs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ST(e,t,s,Kp(),o);return zV(e,c,uy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await ST(e,t,s,Kp(),o);return YM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(gs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await VV(e),s=new vV(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ep,{type:Ep},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ep];c!==void 0&&t(!!c),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lA()||nA()||ay()}}const KV=$V;var AT="@firebase/auth",wT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XV(r){ll(new Ja("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(r)},y=new fM(s,o,l,p);return SM(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ll(new Ja("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(s=>new QV(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(AT,wT,YV(r)),na(AT,wT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=5*60,ZV=lb("authIdTokenMaxAge")||WV;let RT=null;const JV=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ZV)return;const o=t==null?void 0:t.token;RT!==o&&(RT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ej(r=db()){const e=pg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=bM(r,{popupRedirectResolver:KV,persistence:[iV,$M,EA]}),s=lb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=JV(l.toString());BM(t,c,()=>c(t.currentUser)),zM(t,f=>c(f))}}const o=ab("auth");return o&&AM(t,`http://${o}`),t}function tj(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}mM({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Ni("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",tj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XV("Browser");const nj={apiKey:"AIzaSyCZP8RoZcM8VZETlGVrXNPcUBYB9Ve6p7A",authDomain:"life-capital-1009spt.firebaseapp.com",projectId:"life-capital-1009spt",storageBucket:"life-capital-1009spt.firebasestorage.app",messagingSenderId:"1044786416139",appId:"1:1044786416139:web:129eca6881369653f8150e",measurementId:"G-5FM02GWHXQ"},rj=hb(nj),yr=R2(rj),Xo=ej(),ij="_wrapper_1jwsj_1",sj="_title_1jwsj_6",aj="_grid_1jwsj_12",oj="_createCard_1jwsj_18",lj="_plus_1jwsj_37",uj="_sessionCard_1jwsj_45",Wo={wrapper:ij,title:sj,grid:aj,createCard:oj,plus:lj,sessionCard:uj},cj=()=>{const{user:r,userData:e}=Pi(),[t,s]=K.useState([]),o=Id();K.useEffect(()=>{if(!r)return;const f=ey(qg(yr,"gameSessions"),p=>{const y=[];p.forEach(_=>{var V;const b=_.data(),S=b.hostId===r.uid,x=(V=b.players)==null?void 0:V.some(q=>q.email===r.email);(S||x)&&y.push({id:_.id,...b})}),s(y)});return()=>f()},[r]);const l=f=>{o(`/game/${f}`)},c=()=>{o("/createGame")};return g.jsxs("div",{className:Wo.wrapper,children:[g.jsx("h2",{className:Wo.title,children:"Мої ігрові сесії"}),g.jsxs("div",{className:Wo.grid,children:[(e==null?void 0:e.role)==="host"&&g.jsx("button",{className:Wo.createCard,onClick:c,children:g.jsx("span",{className:Wo.plus,children:"+"})}),t.length?t.map(f=>g.jsx("button",{className:Wo.sessionCard,onClick:()=>l(f.id),children:f.sessionName},f.id)):g.jsx("p",{children:"У вас немає жодної ігрової сесії, зачекайте поки ведучий вас додасть"})]})]})},hj="_header_hzlfz_1",dj="_open_hzlfz_22",fj="_logo_hzlfz_26",mj="_authDataContainer_hzlfz_32",pj="_overlay_hzlfz_44",Iu={header:hj,open:dj,logo:fj,authDataContainer:mj,overlay:pj},gj=({isOpen:r,setIsOpen:e,children:t})=>{const{userData:s,logout:o}=Pi();return g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:`${Iu.header} ${r?Iu.open:""}`,children:[g.jsxs("div",{children:[g.jsx("div",{className:Iu.logo,children:g.jsx("h1",{children:"Життєвий капітал"})}),t]}),g.jsx("div",{className:Iu.authDataContainer,children:s?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:s.displayName}),g.jsx(og,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:o})]}):g.jsx(an,{to:"/login",children:"Увійти"})})]}),r&&g.jsx("div",{className:Iu.overlay,onClick:()=>e(!1)})]})},yj="_main_fumk1_1",vj="_menuContainer_fumk1_18",_j="_menuButton_fumk1_30",Tp={main:yj,menuContainer:vj,menuButton:_j},Ej=({openMenu:r,children:e})=>g.jsxs("main",{className:Tp.main,children:[g.jsxs("div",{className:Tp.menuContainer,children:[g.jsx("button",{className:Tp.menuButton,onClick:r,children:g.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),g.jsx("p",{children:"Життєвий капітал"})]}),e]}),Tj="_nav_63n6r_1",bj="_link_63n6r_7",Ri={nav:Tj,link:bj},Sj=({setIsOpen:r})=>g.jsx("nav",{children:g.jsxs("ul",{className:Ri.nav,children:[g.jsx("li",{children:g.jsx(an,{to:"",className:Ri.link,onClick:()=>r(!1),children:"Легенда гравця"})}),g.jsx("li",{children:g.jsx(an,{to:"finances",onClick:()=>r(!1),className:Ri.link,children:"Фінанси"})}),g.jsx("li",{children:g.jsx(an,{to:"investments",className:Ri.link,onClick:()=>r(!1),children:"Інвестиції"})}),g.jsx("li",{children:g.jsx(an,{to:"events",className:Ri.link,onClick:()=>r(!1),children:"Активність"})}),g.jsx("li",{children:g.jsx(an,{to:"airbag",className:Ri.link,onClick:()=>r(!1),children:"Подушка безпеки"})})]})}),Aj=({setIsOpen:r})=>g.jsx("nav",{children:g.jsxs("ul",{className:Ri.nav,children:[g.jsx("li",{children:g.jsx(an,{to:"",className:Ri.link,onClick:()=>r(!1),children:"Налаштування сесії"})}),g.jsx("li",{children:g.jsx(an,{to:"",className:Ri.link,onClick:()=>r(!1),children:"Таблиці гравців"})}),g.jsx("li",{children:g.jsx(an,{to:"cards",className:Ri.link,onClick:()=>r(!1),children:"Картки"})})]})}),wj=()=>{const[r,e]=K.useState(!1);return{isOpen:r,openMenu:()=>e(!0),closeMenu:()=>e(!1),setIsOpen:e}};function Rj(){const{isOpen:r,openMenu:e,setIsOpen:t}=wj(),{sessionData:s}=ic(),{user:o}=Pi();return g.jsxs(g.Fragment,{children:[g.jsx(gj,{isOpen:r,setIsOpen:t,children:(s==null?void 0:s.hostId)===(o==null?void 0:o.uid)?g.jsx(Aj,{setIsOpen:t}):g.jsx(Sj,{setIsOpen:t})}),g.jsx(Ej,{openMenu:e,children:g.jsx(ig,{})})]})}const xj=r=>[...r].sort(()=>Math.random()-.5),Cj=["demands","events","expenses","highExpenses","smallInvestments","largeInvestments","playerLegend"],Ij=async r=>{for(const e of Cj){const t=ti(yr,"cards",e),s=await Zg(t);if(!s.exists())throw new Error(`❌ Картки '${e}' не знайдено в cards/${e}`);const o=s.data().list,l=xj(o),c=ti(yr,"gameSessions",r,"cards",e);await Zd(c,{list:l})}},Dj=async(r,e,t,s)=>{if(e.role!=="host")throw new Error("⛔️ Лише ведучий може створити сесію.");const o=await U2(qg(yr,"gameSessions"),{sessionName:t,hostId:r.uid,hostEmail:r.email,players:s,status:"waiting",createdAt:GS()}),l=ti(yr,"gameSessions",o.id,"cards","currentCards");return await Zd(l,{}),await Ij(o.id),o.id},Nj="_container_1e5cg_1",Oj="_title_1e5cg_11",Mj="_form_1e5cg_17",Vj="_input_1e5cg_23",jj="_button_1e5cg_32",Pj="_list_1e5cg_45",kj="_error_1e5cg_50",Lj="_primaryAction_1e5cg_55",Uj="_label_1e5cg_65",zj="_formGroup_1e5cg_71",An={container:Nj,title:Oj,form:Mj,input:Vj,button:jj,list:Pj,error:kj,primaryAction:Lj,label:Uj,formGroup:zj},Bj=()=>{const{user:r,userData:e}=Pi(),t=Id(),[s,o]=K.useState([]),[l,c]=K.useState([]),[f,p]=K.useState(null),[y,_]=K.useState(null),{register:b,handleSubmit:S,resetField:x,getValues:V,formState:{errors:q}}=dg();K.useEffect(()=>{(async()=>{const se=(await k2(qg(yr,"users"))).docs.map(B=>B.data());c(se)})()},[]);const L=()=>{const ee=V("newPlayerName").trim();if(_(null),!ee){_("Поле не може бути порожнім.");return}const pe=l.find(se=>se.displayName===ee);if(!pe){_("Користувача з таким імʼям не знайдено.");return}if(s.find(se=>se.email===pe.email)){_("Цей гравець вже доданий.");return}o(se=>[...se,{name:pe.displayName,email:pe.email}]),x("newPlayerName")},Z=ee=>{o(pe=>pe.filter(se=>se.email!==ee))},z=async ee=>{if(!r||!e){p("Не авторизовано");return}try{const pe=await Dj(r,e,ee.sessionName,s);t(`/game/${pe}`)}catch(pe){p(pe.message)}};return g.jsxs("div",{className:An.container,children:[g.jsx("h2",{className:An.title,children:"Створити нову гру"}),g.jsxs("form",{onSubmit:S(z),children:[g.jsxs("div",{className:An.formGroup,children:[g.jsx("label",{className:An.label,children:"Назва гри"}),g.jsx("input",{...b("sessionName",{required:"Назва гри обовʼязкова"}),className:An.input,placeholder:"Наприклад: Турнір #3"}),q.sessionName&&g.jsx("p",{className:An.error,children:q.sessionName.message})]}),g.jsxs("div",{className:An.formGroup,children:[g.jsx("label",{className:An.label,children:"Імʼя гравця"}),g.jsxs("div",{className:An.form,children:[g.jsx("input",{...b("newPlayerName"),className:An.input,placeholder:"Введіть імʼя гравця"}),g.jsx("button",{type:"button",className:An.button,onClick:L,children:"Додати"})]}),y&&g.jsx("p",{className:An.error,children:y})]}),s.length>0&&g.jsxs("div",{className:An.list,children:[g.jsx("strong",{children:"Гравці:"}),g.jsx("ul",{children:s.map(ee=>g.jsxs("li",{className:An.emailItem,children:[g.jsx("span",{children:ee.name})," — ",g.jsx("span",{children:ee.email}),g.jsx("button",{onClick:()=>Z(ee.email),className:An.removeButton,title:"Видалити",children:"×"})]},ee.email))})]}),g.jsx("button",{type:"submit",className:`${An.button} ${An.primaryAction}`,children:"Створити гру"}),f&&g.jsx("p",{className:An.error,children:f})]})]})},Fj=({children:r})=>{const{sessionId:e}=lx(),[,t]=QT(`gameData-${e}`,{}),[s,o]=K.useState(null);K.useEffect(()=>{if(!e)return;const _=ey(ti(yr,"gameSessions",e),b=>{b.exists()&&o(b.data())});return()=>_()},[e]);const l=K.useCallback((_,b)=>{t(S=>({...S,[_]:b}))},[t]),c=K.useCallback(_=>{const b=localStorage.getItem(`gameData-${e}`);if(!b)return null;try{return JSON.parse(b)[_]??null}catch(S){return console.error("Error parsing localStorage:",S),null}},[e]),f=async _=>{if(!e)throw new Error("sessionId is undefined");const b=ti(yr,"gameSessions",e,"cards",_),S=await Zg(b);return S.exists()?S.data().list||[]:[]},p=async(_,b)=>{if(!e)throw new Error("sessionId is undefined");const S=ti(yr,"gameSessions",e,"cards",_);await L2(S,{list:b})},y=K.useCallback(async(_,b)=>{if(!e)return;const S=ti(yr,"gameSessions",e,"cards","currentCards");try{await Zd(S,{[_]:b},{merge:!0})}catch(x){console.error(`❌ Не вдалося зберегти картку типу ${_}:`,x)}},[e]);return g.jsx(KT.Provider,{value:{sessionID:e,sessionData:s,saveToLocalSession:l,getFromLocalSession:c,getCardList:f,updateCardList:p,setCurrentCard:y},children:r})},Hj="_container_yuz5t_1",qj="_cardChooseContainer_yuz5t_15",Gj="_title_yuz5t_29",$j="_description_yuz5t_34",Kj="_cardInfo_yuz5t_38",Xt={container:Hj,cardChooseContainer:qj,title:Gj,description:$j,cardInfo:Kj},Qj=()=>{const{sessionID:r}=ic(),[e,t]=K.useState(null);return K.useEffect(()=>{if(!r)return;const s=ti(yr,"gameSessions",r,"cards","currentCards"),o=ey(s,l=>{l.exists()?t(l.data()):t(null)});return()=>o()},[r]),g.jsxs("div",{className:Xt.container,children:[g.jsxs("div",{className:Xt.cardChooseContainer,children:[g.jsx("h2",{className:Xt.cardTypeTitle,children:"Подія"}),g.jsx(ei,{borderColor:"purple",children:e!=null&&e.event?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:e.event.playerAdded}),g.jsxs("p",{children:["ID: ",e.event.card.id]}),g.jsxs("div",{className:Xt.cardInfo,children:[g.jsx("p",{className:Xt.title,children:e.event.card.title}),g.jsx("p",{className:Xt.description,dangerouslySetInnerHTML:{__html:e.event.card.description}})]})]}):""})]}),g.jsxs("div",{className:Xt.cardChooseContainer,children:[g.jsx("h2",{className:Xt.cardTypeTitle,children:"Попит"}),g.jsx(ei,{borderColor:"#328ff3ca",children:e!=null&&e.demand?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:e.demand.playerAdded}),g.jsxs("p",{children:["ID: ",e.demand.card.id]}),g.jsxs("div",{className:Xt.cardInfo,children:[g.jsx("p",{className:Xt.title,children:e.demand.card.title}),g.jsx("p",{className:Xt.description,dangerouslySetInnerHTML:{__html:e.demand.card.description}}),g.jsxs("p",{children:["Коди: ",e.demand.card.codes.join(", ")]})]})]}):""})]}),g.jsxs("div",{className:Xt.cardChooseContainer,children:[g.jsx("h2",{className:Xt.cardTypeTitle,children:"Витрати"}),g.jsx(ei,{borderColor:"rgb(117, 18, 18)",children:e!=null&&e.expense?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:e.expense.playerAdded}),g.jsxs("p",{children:["ID: ",e.expense.card.id]}),g.jsxs("div",{className:Xt.cardInfo,children:[g.jsx("p",{className:Xt.title,children:e.expense.card.amountOfExpenses}),g.jsx("p",{className:Xt.description,dangerouslySetInnerHTML:{__html:e.expense.card.description}})]})]}):""})]}),g.jsxs("div",{className:Xt.cardChooseContainer,children:[g.jsx("h2",{className:Xt.cardTypeTitle,children:"Інвестиції"}),g.jsx(ei,{borderColor:"rgba(221, 146, 6, 0.845)",children:e!=null&&e.investment?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["Картку витягнув гравець: ",e.investment.playerAdded]}),g.jsxs("p",{children:["ID: ",e.investment.card.id]}),g.jsxs("div",{className:Xt.cardInfo,children:[g.jsx("p",{className:Xt.title,children:e.investment.card.title}),g.jsx("p",{className:Xt.description,dangerouslySetInnerHTML:{__html:e.investment.card.description}}),g.jsx(Fh,{investment:e.investment.card})]})]}):""})]})]})},Yj=Xx([{path:"/",element:g.jsx(IC,{}),children:[{path:"rules",element:g.jsx(YI,{})},{path:"games",element:g.jsx(Oh,{children:g.jsx(cj,{})})},{path:"createGame",element:g.jsx(Bj,{})}]},{path:"game/:sessionId",element:g.jsx(Oh,{children:g.jsx(Fj,{children:g.jsx(Rj,{})})}),children:[{index:!0,element:g.jsx(NC,{})},{path:"investments",element:g.jsx(LC,{})},{path:"events",element:g.jsx(QC,{})},{path:"finances",element:g.jsx(ZC,{}),children:[{index:!0,element:g.jsx(JC,{})},{path:"income",element:g.jsx(nI,{})},{path:"extend",element:g.jsx(rI,{})}]},{path:"airbag",element:g.jsx(lI,{})},{path:"financial-freedom",element:g.jsx(fI,{})},{path:"cards",element:g.jsx(Qj,{})}]},{path:"login",element:g.jsx(Oh,{requireUnauth:!0,children:g.jsx(qI,{})})},{path:"register",element:g.jsx(Oh,{requireUnauth:!0,children:g.jsx(GI,{})})},{path:"forget-password",element:g.jsx($I,{})}]),Xj=({children:r})=>{const[e,t]=K.useState(null),[s,o]=K.useState(null),[l,c]=K.useState(!0);K.useEffect(()=>{const _=FM(Xo,async b=>{if(t(b),b){const S=`userData-${b.uid}`,x=localStorage.getItem(S);if(x)o(JSON.parse(x));else try{const V=ti(yr,"users",b.uid),q=await Zg(V);if(q.exists()){const L=q.data();localStorage.setItem(S,JSON.stringify({displayName:L.displayName,role:L.role})),o({displayName:L.displayName,role:L.role})}}catch(V){console.error("Помилка при завантаженні даних користувача:",V)}}else o(null);c(!1)});return()=>_()},[]);const f=async(_,b)=>{await UM(Xo,_,b)},p=async()=>{var _,b;if((_=Xo.currentUser)!=null&&_.uid){const S=`userData-${(b=Xo.currentUser)==null?void 0:b.uid}`;localStorage.removeItem(S)}await HM(Xo)},y=async(_,b,S)=>{const x=await LM(Xo,_,b);await Zd(ti(yr,"users",x.user.uid),{uid:x.user.uid,email:_,displayName:S,role:"player",createdAt:GS()})};return g.jsx($T.Provider,{value:{user:e,userData:s,loading:l,login:f,logout:p,register:y},children:r})},xT=document.getElementById("root");xT&&aR.createRoot(xT).render(g.jsx(K.StrictMode,{children:g.jsx(Xj,{children:g.jsx(uC,{router:Yj})})}));
