(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function iw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rp={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function sw(){if(yE)return bu;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:l}}return bu.Fragment=e,bu.jsx=t,bu.jsxs=t,bu}var vE;function aw(){return vE||(vE=1,rp.exports=sw()),rp.exports}var f=aw(),ip={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function ow(){if(_E)return Je;_E=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function j(k,ce,Ae){this.props=k,this.context=ce,this.refs=V,this.updater=Ae||R}j.prototype.isReactComponent={},j.prototype.setState=function(k,ce){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ce,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function z(k,ce,Ae){this.props=k,this.context=ce,this.refs=V,this.updater=Ae||R}var ee=z.prototype=new Y;ee.constructor=z,N(ee,j.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,se={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function M(k,ce,Ae,ve,_e,Fe){return Ae=Fe.ref,{$$typeof:r,type:k,key:ce,ref:Ae!==void 0?Ae:null,props:Fe}}function C(k,ce){return M(k.type,ce,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var ce={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Ae){return ce[Ae]})}var L=/\/+/g;function B(k,ce){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):ce.toString(36)}function I(){}function Be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(ce){k.status==="pending"&&(k.status="fulfilled",k.value=ce)},function(ce){k.status==="pending"&&(k.status="rejected",k.reason=ce)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function et(k,ce,Ae,ve,_e){var Fe=typeof k;(Fe==="undefined"||Fe==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(Fe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case r:case e:Le=!0;break;case _:return Le=k._init,et(Le(k._payload),ce,Ae,ve,_e)}}if(Le)return _e=_e(k),Le=ve===""?"."+B(k,0):ve,pe(_e)?(Ae="",Le!=null&&(Ae=Le.replace(L,"$&/")+"/"),et(_e,ce,Ae,"",function(wt){return wt})):_e!=null&&(w(_e)&&(_e=C(_e,Ae+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+Le)),ce.push(_e)),1;Le=0;var Vt=ve===""?".":ve+":";if(pe(k))for(var st=0;st<k.length;st++)ve=k[st],Fe=Vt+B(ve,st),Le+=et(ve,ce,Ae,Fe,_e);else if(st=x(k),typeof st=="function")for(k=st.call(k),st=0;!(ve=k.next()).done;)ve=ve.value,Fe=Vt+B(ve,st++),Le+=et(ve,ce,Ae,Fe,_e);else if(Fe==="object"){if(typeof k.then=="function")return et(Be(k),ce,Ae,ve,_e);throw ce=String(k),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(k,ce,Ae){if(k==null)return k;var ve=[],_e=0;return et(k,ve,"","",function(Fe){return ce.call(Ae,Fe,_e++)}),ve}function Ce(k){if(k._status===-1){var ce=k._result;ce=ce(),ce.then(function(Ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=Ae)},function(Ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=Ae)}),k._status===-1&&(k._status=0,k._result=ce)}if(k._status===1)return k._result.default;throw k._result}var xe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function We(){}return Je.Children={map:ue,forEach:function(k,ce,Ae){ue(k,function(){ce.apply(this,arguments)},Ae)},count:function(k){var ce=0;return ue(k,function(){ce++}),ce},toArray:function(k){return ue(k,function(ce){return ce})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Je.Component=j,Je.Fragment=t,Je.Profiler=o,Je.PureComponent=z,Je.StrictMode=s,Je.Suspense=g,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Je.act=function(){throw Error("act(...) is not supported in production builds of React.")},Je.cache=function(k){return function(){return k.apply(null,arguments)}},Je.cloneElement=function(k,ce,Ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ve=N({},k.props),_e=k.key,Fe=void 0;if(ce!=null)for(Le in ce.ref!==void 0&&(Fe=void 0),ce.key!==void 0&&(_e=""+ce.key),ce)!F.call(ce,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ce.ref===void 0||(ve[Le]=ce[Le]);var Le=arguments.length-2;if(Le===1)ve.children=Ae;else if(1<Le){for(var Vt=Array(Le),st=0;st<Le;st++)Vt[st]=arguments[st+2];ve.children=Vt}return M(k.type,_e,void 0,void 0,Fe,ve)},Je.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Je.createElement=function(k,ce,Ae){var ve,_e={},Fe=null;if(ce!=null)for(ve in ce.key!==void 0&&(Fe=""+ce.key),ce)F.call(ce,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(_e[ve]=ce[ve]);var Le=arguments.length-2;if(Le===1)_e.children=Ae;else if(1<Le){for(var Vt=Array(Le),st=0;st<Le;st++)Vt[st]=arguments[st+2];_e.children=Vt}if(k&&k.defaultProps)for(ve in Le=k.defaultProps,Le)_e[ve]===void 0&&(_e[ve]=Le[ve]);return M(k,Fe,void 0,void 0,null,_e)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(k){return{$$typeof:m,render:k}},Je.isValidElement=w,Je.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:Ce}},Je.memo=function(k,ce){return{$$typeof:y,type:k,compare:ce===void 0?null:ce}},Je.startTransition=function(k){var ce=se.T,Ae={};se.T=Ae;try{var ve=k(),_e=se.S;_e!==null&&_e(Ae,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(We,xe)}catch(Fe){xe(Fe)}finally{se.T=ce}},Je.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Je.use=function(k){return se.H.use(k)},Je.useActionState=function(k,ce,Ae){return se.H.useActionState(k,ce,Ae)},Je.useCallback=function(k,ce){return se.H.useCallback(k,ce)},Je.useContext=function(k){return se.H.useContext(k)},Je.useDebugValue=function(){},Je.useDeferredValue=function(k,ce){return se.H.useDeferredValue(k,ce)},Je.useEffect=function(k,ce){return se.H.useEffect(k,ce)},Je.useId=function(){return se.H.useId()},Je.useImperativeHandle=function(k,ce,Ae){return se.H.useImperativeHandle(k,ce,Ae)},Je.useInsertionEffect=function(k,ce){return se.H.useInsertionEffect(k,ce)},Je.useLayoutEffect=function(k,ce){return se.H.useLayoutEffect(k,ce)},Je.useMemo=function(k,ce){return se.H.useMemo(k,ce)},Je.useOptimistic=function(k,ce){return se.H.useOptimistic(k,ce)},Je.useReducer=function(k,ce,Ae){return se.H.useReducer(k,ce,Ae)},Je.useRef=function(k){return se.H.useRef(k)},Je.useState=function(k){return se.H.useState(k)},Je.useSyncExternalStore=function(k,ce,Ae){return se.H.useSyncExternalStore(k,ce,Ae)},Je.useTransition=function(){return se.H.useTransition()},Je.version="19.0.0",Je}var EE;function rg(){return EE||(EE=1,ip.exports=ow()),ip.exports}var G=rg();const Jr=iw(G);var sp={exports:{}},xu={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function lw(){return TE||(TE=1,function(r){function e(ue,Ce){var xe=ue.length;ue.push(Ce);e:for(;0<xe;){var We=xe-1>>>1,k=ue[We];if(0<o(k,Ce))ue[We]=Ce,ue[xe]=k,xe=We;else break e}}function t(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Ce=ue[0],xe=ue.pop();if(xe!==Ce){ue[0]=xe;e:for(var We=0,k=ue.length,ce=k>>>1;We<ce;){var Ae=2*(We+1)-1,ve=ue[Ae],_e=Ae+1,Fe=ue[_e];if(0>o(ve,xe))_e<k&&0>o(Fe,ve)?(ue[We]=Fe,ue[_e]=xe,We=_e):(ue[We]=ve,ue[Ae]=xe,We=Ae);else if(_e<k&&0>o(Fe,xe))ue[We]=Fe,ue[_e]=xe,We=_e;else break e}}return Ce}function o(ue,Ce){var xe=ue.sortIndex-Ce.sortIndex;return xe!==0?xe:ue.id-Ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var g=[],y=[],_=1,b=null,x=3,R=!1,N=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ee(ue){for(var Ce=t(y);Ce!==null;){if(Ce.callback===null)s(y);else if(Ce.startTime<=ue)s(y),Ce.sortIndex=Ce.expirationTime,e(g,Ce);else break;Ce=t(y)}}function pe(ue){if(V=!1,ee(ue),!N)if(t(g)!==null)N=!0,Be();else{var Ce=t(y);Ce!==null&&et(pe,Ce.startTime-ue)}}var se=!1,F=-1,M=5,C=-1;function w(){return!(r.unstable_now()-C<M)}function O(){if(se){var ue=r.unstable_now();C=ue;var Ce=!0;try{e:{N=!1,V&&(V=!1,Y(F),F=-1),R=!0;var xe=x;try{t:{for(ee(ue),b=t(g);b!==null&&!(b.expirationTime>ue&&w());){var We=b.callback;if(typeof We=="function"){b.callback=null,x=b.priorityLevel;var k=We(b.expirationTime<=ue);if(ue=r.unstable_now(),typeof k=="function"){b.callback=k,ee(ue),Ce=!0;break t}b===t(g)&&s(g),ee(ue)}else s(g);b=t(g)}if(b!==null)Ce=!0;else{var ce=t(y);ce!==null&&et(pe,ce.startTime-ue),Ce=!1}}break e}finally{b=null,x=xe,R=!1}Ce=void 0}}finally{Ce?L():se=!1}}}var L;if(typeof z=="function")L=function(){z(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=O,L=function(){I.postMessage(null)}}else L=function(){j(O,0)};function Be(){se||(se=!0,L())}function et(ue,Ce){F=j(function(){ue(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){N||R||(N=!0,Be())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ue){switch(x){case 1:case 2:case 3:var Ce=3;break;default:Ce=x}var xe=x;x=Ce;try{return ue()}finally{x=xe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,Ce){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var xe=x;x=ue;try{return Ce()}finally{x=xe}},r.unstable_scheduleCallback=function(ue,Ce,xe){var We=r.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?We+xe:We):xe=We,ue){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=xe+k,ue={id:_++,callback:Ce,priorityLevel:ue,startTime:xe,expirationTime:k,sortIndex:-1},xe>We?(ue.sortIndex=xe,e(y,ue),t(g)===null&&ue===t(y)&&(V?(Y(F),F=-1):V=!0,et(pe,xe-We))):(ue.sortIndex=k,e(g,ue),N||R||(N=!0,Be())),ue},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(ue){var Ce=x;return function(){var xe=x;x=Ce;try{return ue.apply(this,arguments)}finally{x=xe}}}}(op)),op}var bE;function uw(){return bE||(bE=1,ap.exports=lw()),ap.exports}var lp={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function cw(){if(xE)return zn;xE=1;var r=rg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(g,y,null,_)},zn.flushSync=function(g){var y=c.T,_=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=y,s.p=_,s.d.f()}},zn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},zn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},zn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:R}):_==="script"&&s.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},zn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},zn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},zn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},zn.requestFormReset=function(g){s.d.r(g)},zn.unstable_batchedUpdates=function(g,y){return g(y)},zn.useFormState=function(g,y,_){return c.H.useFormState(g,y,_)},zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},zn.version="19.0.0",zn}var SE;function jT(){if(SE)return lp.exports;SE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lp.exports=cw(),lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function hw(){if(AE)return xu;AE=1;var r=uw(),e=rg(),t=jT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Portal";case _:return"Profiler";case y:return"StrictMode";case V:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case R:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case N:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,L,B;function I(n){if(L===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+n+B}var Be=!1;function et(n,i){if(!n||Be)return"";Be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var J=re}Reflect.construct(n,[],de)}else{try{de.call()}catch(re){J=re}n.call(de.prototype)}}else{try{throw Error()}catch(re){J=re}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var D=T.split(`
`),q=S.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===q.length)for(u=D.length-1,d=q.length-1;1<=u&&0<=d&&D[u]!==q[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==q[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==q[d]){var ie=`
`+D[u].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=u&&0<=d);break}}}finally{Be=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function ue(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=et(n.type,!1),n;case 11:return n=et(n.type.render,!1),n;case 1:return n=et(n.type,!0),n;default:return""}}function Ce(n){try{var i="";do i+=ue(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function xe(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function We(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function k(n){if(xe(n)!==n)throw Error(s(188))}function ce(n){var i=n.alternate;if(!i){if(i=xe(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return k(d),n;if(p===u)return k(d),i;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=d,u=p;else{for(var T=!1,S=d.child;S;){if(S===a){T=!0,a=d,u=p;break}if(S===u){T=!0,u=d,a=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===a){T=!0,a=p,u=d;break}if(S===u){T=!0,u=p,a=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function Ae(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=Ae(n),i!==null)return i;n=n.sibling}return null}var ve=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe={pending:!1,data:null,method:null,action:null},Le=[],Vt=-1;function st(n){return{current:n}}function wt(n){0>Vt||(n.current=Le[Vt],Le[Vt]=null,Vt--)}function He(n,i){Vt++,Le[Vt]=n.current,n.current=i}var Dt=st(null),Qn=st(null),kn=st(null),ln=st(null);function br(n,i){switch(He(kn,i),He(Qn,n),He(Dt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?$_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=$_(n),i=K_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}wt(Dt),He(Dt,i)}function sr(){wt(Dt),wt(Qn),wt(kn)}function Gr(n){n.memoizedState!==null&&He(ln,n);var i=Dt.current,a=K_(i,n.type);i!==a&&(He(Qn,n),He(Dt,a))}function ci(n){Qn.current===n&&(wt(Dt),wt(Qn)),ln.current===n&&(wt(ln),yu._currentValue=Fe)}var hi=Object.prototype.hasOwnProperty,di=r.unstable_scheduleCallback,$r=r.unstable_cancelCallback,P=r.unstable_shouldYield,Z=r.unstable_requestPaint,ne=r.unstable_now,Ee=r.unstable_getCurrentPriorityLevel,he=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,be=r.unstable_NormalPriority,Ze=r.unstable_LowPriority,Rt=r.unstable_IdlePriority,At=r.log,xr=r.unstable_setDisableYieldValue,Yn=null,zt=null;function Ui(n){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}}function Ln(n){if(typeof At=="function"&&xr(n),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Yn,n)}catch{}}var qt=Math.clz32?Math.clz32:fo,Kr=Math.log,bs=Math.LN2;function fo(n){return n>>>=0,n===0?32:31-(Kr(n)/bs|0)|0}var hr=128,fi=4194304;function ar(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,d=n.suspendedLanes,p=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~d,a!==0?u=ar(a):(p&=S,p!==0?u=ar(p):n||(T=S&~T,T!==0&&(u=ar(T))))):(S=a&~d,S!==0?u=ar(S):p!==0?u=ar(p):n||(T=a&~T,T!==0&&(u=ar(T)))),u===0?0:i!==0&&i!==u&&!(i&d)&&(d=u&-u,T=i&-i,d>=T||d===32&&(T&4194176)!==0)?i:u}function dr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function xs(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(){var n=hr;return hr<<=1,!(hr&4194176)&&(hr=128),n}function U(){var n=fi;return fi<<=1,!(fi&62914560)&&(fi=4194304),n}function $(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function X(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fe(n,i,a,u,d,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,q=n.hiddenUpdates;for(a=T&~a;0<a;){var ie=31-qt(a),de=1<<ie;S[ie]=0,D[ie]=-1;var J=q[ie];if(J!==null)for(q[ie]=null,ie=0;ie<J.length;ie++){var re=J[ie];re!==null&&(re.lane&=-536870913)}a&=~de}u!==0&&Te(n,u,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~i))}function Te(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-qt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ie(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-qt(a),d=1<<u;d&i|n[u]&i&&(n[u]|=i),a&=~d}}function Ue(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function we(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:hE(n.type))}function Re(n,i){var a=_e.p;try{return _e.p=n,i()}finally{_e.p=a}}var ye=Math.random().toString(36).slice(2),De="__reactFiber$"+ye,Me="__reactProps$"+ye,dt="__reactContainer$"+ye,Pt="__reactEvents$"+ye,bt="__reactListeners$"+ye,at="__reactHandles$"+ye,kt="__reactResources$"+ye,Xn="__reactMarker$"+ye;function fr(n){delete n[De],delete n[Me],delete n[Pt],delete n[bt],delete n[at]}function Yt(n){var i=n[De];if(i)return i;for(var a=n.parentNode;a;){if(i=a[dt]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=X_(n);n!==null;){if(a=n[De])return a;n=X_(n)}return i}n=a,a=n.parentNode}return null}function tn(n){if(n=n[De]||n[dt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function or(n){var i=n[kt];return i||(i=n[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(n){n[Xn]=!0}var mi=new Set,Qr={};function tt(n,i){Tt(n,i),Tt(n+"Capture",i)}function Tt(n,i){for(Qr[n]=i,n=0;n<i.length;n++)mi.add(i[n])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ot={},Ar={};function ba(n){return hi.call(Ar,n)?!0:hi.call(Ot,n)?!1:zi.test(n)?Ar[n]=!0:(Ot[n]=!0,!1)}function pi(n,i,a){if(ba(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ss(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function wr(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function Wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lf(n){var i=Tc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function xa(n){n._valueTracker||(n._valueTracker=lf(n))}function Rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=Tc(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function mo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bi=/[\n"\\]/g;function Gt(n){return n.replace(Bi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function As(n,i,a,u,d,p,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Wn(i)):n.value!==""+Wn(i)&&(n.value=""+Wn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?po(n,T,Wn(i)):a!=null?po(n,T,Wn(a)):u!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Wn(S):n.removeAttribute("name")}function Sa(n,i,a,u,d,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+Wn(a):"",i=i!=null?""+Wn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function po(n,i,a){i==="number"&&mo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function yt(n,i,a,u){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Wn(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Aa(n,i,a){if(i!=null&&(i=""+Wn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Wn(a):""}function ws(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Wn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Rr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var uf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||uf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function bc(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&Cl(n,d,u)}else for(var p in i)i.hasOwnProperty(p)&&Cl(n,p,i[p])}function Il(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(n){return hf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Cr=null;function go(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fi=null,Hi=null;function qi(n){var i=tn(n);if(i&&(n=i.stateNode)){var a=n[Me]||null;e:switch(n=i.stateNode,i.type){case"input":if(As(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var d=u[Me]||null;if(!d)throw Error(s(90));As(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Rl(u)}break e;case"textarea":Aa(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&yt(n,!!a.multiple,i,!1)}}}var Nl=!1;function xc(n,i,a){if(Nl)return n(i,a);Nl=!0;try{var u=n(i);return u}finally{if(Nl=!1,(Fi!==null||Hi!==null)&&(mh(),Fi&&(i=Fi,n=Hi,Hi=Fi=null,qi(i),n)))for(i=0;i<n.length;i++)qi(n[i])}}function wa(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Me]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ir=!1;if(vn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Ir=!1}var yi=null,Rs=null,Gi=null;function Dl(){if(Gi)return Gi;var n,i=Rs,a=i.length,u,d="value"in yi?yi.value:yi.textContent,p=d.length;for(n=0;n<a&&i[n]===d[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===d[p-u];u++);return Gi=d.slice(n,1<u?1-u:void 0)}function vi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function _i(){return!0}function Ol(){return!1}function _n(n){function i(a,u,d,p,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:Ol,this.isPropagationStopped=Ol,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),i}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=_n(xt),Ca=O({},xt,{view:0,detail:0}),Sc=_n(Ca),vo,_o,Ei,Ia=O({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ei&&(Ei&&n.type==="mousemove"?(vo=n.screenX-Ei.screenX,_o=n.screenY-Ei.screenY):_o=vo=0,Ei=n),vo)},movementY:function(n){return"movementY"in n?n.movementY:_o}}),Nr=_n(Ia),Ac=O({},Ia,{dataTransfer:0}),df=_n(Ac),Na=O({},Ca,{relatedTarget:0}),Eo=_n(Na),jl=O({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),To=_n(jl),wc=O({},xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bo=_n(wc),ff=O({},xt,{data:0}),Ml=_n(ff),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Cc[n])?!!i[n]:!1}function Oa(){return Vl}var Ic=O({},Ca,{key:function(n){if(n.key){var i=Da[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(n){return n.type==="keypress"?vi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xo=_n(Ic),Nc=O({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=_n(Nc),$i=O({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Dc=_n($i),Oc=O({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=_n(Oc),Mc=O({},Ia,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),So=_n(Mc),Zn=O({},xt,{newState:0,oldState:0}),Vc=_n(Zn),Pc=[9,13,27,32],Ti=vn&&"CompositionEvent"in window,h=null;vn&&"documentMode"in document&&(h=document.documentMode);var v=vn&&"TextEvent"in window&&!h,E=vn&&(!Ti||h&&8<h&&11>=h),A=" ",Q=!1;function te(n,i){switch(n){case"keyup":return Pc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ft=!1;function un(n,i){switch(n){case"compositionend":return ge(i);case"keypress":return i.which!==32?null:(Q=!0,A);case"textInput":return n=i.data,n===A&&Q?null:n;default:return null}}function mt(n,i){if(ft)return n==="compositionend"||!Ti&&te(n,i)?(n=Dl(),Gi=Rs=yi=null,ft=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!En[n.type]:i==="textarea"}function Ki(n,i,a,u){Fi?Hi?Hi.push(u):Hi=[u]:Fi=u,i=_h(i,"onChange"),0<i.length&&(a=new yo("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var Nn=null,bi=null;function kl(n){B_(n,0)}function kc(n){var i=Sr(n);if(Rl(i))return n}function gy(n,i){if(n==="change")return i}var yy=!1;if(vn){var mf;if(vn){var pf="oninput"in document;if(!pf){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),pf=typeof vy.oninput=="function"}mf=pf}else mf=!1;yy=mf&&(!document.documentMode||9<document.documentMode)}function _y(){Nn&&(Nn.detachEvent("onpropertychange",Ey),bi=Nn=null)}function Ey(n){if(n.propertyName==="value"&&kc(bi)){var i=[];Ki(i,bi,n,go(n)),xc(kl,i)}}function MS(n,i,a){n==="focusin"?(_y(),Nn=i,bi=a,Nn.attachEvent("onpropertychange",Ey)):n==="focusout"&&_y()}function VS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kc(bi)}function PS(n,i){if(n==="click")return kc(i)}function kS(n,i){if(n==="input"||n==="change")return kc(i)}function LS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var mr=typeof Object.is=="function"?Object.is:LS;function Ll(n,i){if(mr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!hi.call(i,d)||!mr(n[d],i[d]))return!1}return!0}function Ty(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function by(n,i){var a=Ty(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ty(a)}}function xy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=mo(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=mo(n.document)}return i}function gf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function US(n,i){var a=Sy(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&xy(i.ownerDocument.documentElement,i)){if(u!==null&&gf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!a.extend&&p>u&&(d=u,u=p,p=d),d=by(i,p);var T=by(i,u);d&&T&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),p>u?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var zS=vn&&"documentMode"in document&&11>=document.documentMode,Ao=null,yf=null,Ul=null,vf=!1;function Ay(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Ao==null||Ao!==mo(u)||(u=Ao,"selectionStart"in u&&gf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Ll(Ul,u)||(Ul=u,u=_h(yf,"onSelect"),0<u.length&&(i=new yo("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=Ao)))}function ja(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var wo={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},_f={},wy={};vn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Ma(n){if(_f[n])return _f[n];if(!wo[n])return n;var i=wo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in wy)return _f[n]=i[a];return n}var Ry=Ma("animationend"),Cy=Ma("animationiteration"),Iy=Ma("animationstart"),BS=Ma("transitionrun"),FS=Ma("transitionstart"),HS=Ma("transitioncancel"),Ny=Ma("transitionend"),Dy=new Map,Oy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yr(n,i){Dy.set(n,i),tt(i,[n])}var Dr=[],Ro=0,Ef=0;function Lc(){for(var n=Ro,i=Ef=Ro=0;i<n;){var a=Dr[i];Dr[i++]=null;var u=Dr[i];Dr[i++]=null;var d=Dr[i];Dr[i++]=null;var p=Dr[i];if(Dr[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}p!==0&&jy(a,d,p)}}function Uc(n,i,a,u){Dr[Ro++]=n,Dr[Ro++]=i,Dr[Ro++]=a,Dr[Ro++]=u,Ef|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tf(n,i,a,u){return Uc(n,i,a,u),zc(n)}function Cs(n,i){return Uc(n,null,null,i),zc(n)}function jy(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var d=!1,p=n.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;d&&i!==null&&n.tag===3&&(p=n.stateNode,d=31-qt(a),p=p.hiddenUpdates,n=p[d],n===null?p[d]=[i]:n.push(i),i.lane=a|536870912)}function zc(n){if(50<cu)throw cu=0,Rm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Co={},My=new WeakMap;function Or(n,i){if(typeof n=="object"&&n!==null){var a=My.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ce(i)},My.set(n,i),i)}return{value:n,source:i,stack:Ce(i)}}var Io=[],No=0,Bc=null,Fc=0,jr=[],Mr=0,Va=null,Qi=1,Yi="";function Pa(n,i){Io[No++]=Fc,Io[No++]=Bc,Bc=n,Fc=i}function Vy(n,i,a){jr[Mr++]=Qi,jr[Mr++]=Yi,jr[Mr++]=Va,Va=n;var u=Qi;n=Yi;var d=32-qt(u)-1;u&=~(1<<d),a+=1;var p=32-qt(i)+d;if(30<p){var T=d-d%5;p=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Qi=1<<32-qt(i)+d|a<<d|u,Yi=p+n}else Qi=1<<p|a<<d|u,Yi=n}function bf(n){n.return!==null&&(Pa(n,1),Vy(n,1,0))}function xf(n){for(;n===Bc;)Bc=Io[--No],Io[No]=null,Fc=Io[--No],Io[No]=null;for(;n===Va;)Va=jr[--Mr],jr[Mr]=null,Yi=jr[--Mr],jr[Mr]=null,Qi=jr[--Mr],jr[Mr]=null}var Jn=null,Dn=null,vt=!1,Xr=null,xi=!1,Sf=Error(s(519));function ka(n){var i=Error(s(418,""));throw Fl(Or(i,n)),Sf}function Py(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[De]=n,i[Me]=u,a){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(a=0;a<du.length;a++)ct(du[a],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":ct("invalid",i),Sa(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xa(i);break;case"select":ct("invalid",i);break;case"textarea":ct("invalid",i),ws(i,u.value,u.defaultValue,u.children),xa(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||G_(i.textContent,a)?(u.popover!=null&&(ct("beforetoggle",i),ct("toggle",i)),u.onScroll!=null&&ct("scroll",i),u.onScrollEnd!=null&&ct("scrollend",i),u.onClick!=null&&(i.onclick=Eh),i=!0):i=!1,i||ka(n)}function ky(n){for(Jn=n.return;Jn;)switch(Jn.tag){case 3:case 27:xi=!0;return;case 5:case 13:xi=!1;return;default:Jn=Jn.return}}function zl(n){if(n!==Jn)return!1;if(!vt)return ky(n),vt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Dn&&ka(n),ky(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Dn=Zr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Dn=null}}else Dn=Jn?Zr(n.stateNode.nextSibling):null;return!0}function Bl(){Dn=Jn=null,vt=!1}function Fl(n){Xr===null?Xr=[n]:Xr.push(n)}var Hl=Error(s(460)),Ly=Error(s(474)),Af={then:function(){}};function Uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hc(){}function zy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Hc,Hc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Hl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Hc,Hc);else{if(n=jt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Hl?Error(s(483)):n}throw ql=i,Hl}}var ql=null;function By(){if(ql===null)throw Error(s(459));var n=ql;return ql=null,n}var Do=null,Gl=0;function qc(n){var i=Gl;return Gl+=1,Do===null&&(Do=[]),zy(Do,n,i)}function $l(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Gc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Fy(n){var i=n._init;return i(n._payload)}function Hy(n){function i(K,H){if(n){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function a(K,H){if(!n)return null;for(;H!==null;)i(K,H),H=H.sibling;return null}function u(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function d(K,H){return K=zs(K,H),K.index=0,K.sibling=null,K}function p(K,H,W){return K.index=W,n?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=33554434,H):W):(K.flags|=33554434,H)):(K.flags|=1048576,H)}function T(K){return n&&K.alternate===null&&(K.flags|=33554434),K}function S(K,H,W,oe){return H===null||H.tag!==6?(H=_m(W,K.mode,oe),H.return=K,H):(H=d(H,W),H.return=K,H)}function D(K,H,W,oe){var Ne=W.type;return Ne===g?ie(K,H,W.props.children,oe,W.key):H!==null&&(H.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&Fy(Ne)===H.type)?(H=d(H,W.props),$l(H,W),H.return=K,H):(H=uh(W.type,W.key,W.props,null,K.mode,oe),$l(H,W),H.return=K,H)}function q(K,H,W,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Em(W,K.mode,oe),H.return=K,H):(H=d(H,W.children||[]),H.return=K,H)}function ie(K,H,W,oe,Ne){return H===null||H.tag!==7?(H=Ka(W,K.mode,oe,Ne),H.return=K,H):(H=d(H,W),H.return=K,H)}function de(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=_m(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return W=uh(H.type,H.key,H.props,null,K.mode,W),$l(W,H),W.return=K,W;case m:return H=Em(H,K.mode,W),H.return=K,H;case z:var oe=H._init;return H=oe(H._payload),de(K,H,W)}if(ve(H)||F(H))return H=Ka(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return de(K,qc(H),W);if(H.$$typeof===R)return de(K,ah(K,H),W);Gc(K,H)}return null}function J(K,H,W,oe){var Ne=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ne!==null?null:S(K,H,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return W.key===Ne?D(K,H,W,oe):null;case m:return W.key===Ne?q(K,H,W,oe):null;case z:return Ne=W._init,W=Ne(W._payload),J(K,H,W,oe)}if(ve(W)||F(W))return Ne!==null?null:ie(K,H,W,oe,null);if(typeof W.then=="function")return J(K,H,qc(W),oe);if(W.$$typeof===R)return J(K,H,ah(K,W),oe);Gc(K,W)}return null}function re(K,H,W,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(W)||null,S(H,K,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return K=K.get(oe.key===null?W:oe.key)||null,D(H,K,oe,Ne);case m:return K=K.get(oe.key===null?W:oe.key)||null,q(H,K,oe,Ne);case z:var rt=oe._init;return oe=rt(oe._payload),re(K,H,W,oe,Ne)}if(ve(oe)||F(oe))return K=K.get(W)||null,ie(H,K,oe,Ne,null);if(typeof oe.then=="function")return re(K,H,W,qc(oe),Ne);if(oe.$$typeof===R)return re(K,H,W,ah(H,oe),Ne);Gc(H,oe)}return null}function je(K,H,W,oe){for(var Ne=null,rt=null,Pe=H,ze=H=0,xn=null;Pe!==null&&ze<W.length;ze++){Pe.index>ze?(xn=Pe,Pe=null):xn=Pe.sibling;var _t=J(K,Pe,W[ze],oe);if(_t===null){Pe===null&&(Pe=xn);break}n&&Pe&&_t.alternate===null&&i(K,Pe),H=p(_t,H,ze),rt===null?Ne=_t:rt.sibling=_t,rt=_t,Pe=xn}if(ze===W.length)return a(K,Pe),vt&&Pa(K,ze),Ne;if(Pe===null){for(;ze<W.length;ze++)Pe=de(K,W[ze],oe),Pe!==null&&(H=p(Pe,H,ze),rt===null?Ne=Pe:rt.sibling=Pe,rt=Pe);return vt&&Pa(K,ze),Ne}for(Pe=u(Pe);ze<W.length;ze++)xn=re(Pe,K,ze,W[ze],oe),xn!==null&&(n&&xn.alternate!==null&&Pe.delete(xn.key===null?ze:xn.key),H=p(xn,H,ze),rt===null?Ne=xn:rt.sibling=xn,rt=xn);return n&&Pe.forEach(function(Ks){return i(K,Ks)}),vt&&Pa(K,ze),Ne}function Ke(K,H,W,oe){if(W==null)throw Error(s(151));for(var Ne=null,rt=null,Pe=H,ze=H=0,xn=null,_t=W.next();Pe!==null&&!_t.done;ze++,_t=W.next()){Pe.index>ze?(xn=Pe,Pe=null):xn=Pe.sibling;var Ks=J(K,Pe,_t.value,oe);if(Ks===null){Pe===null&&(Pe=xn);break}n&&Pe&&Ks.alternate===null&&i(K,Pe),H=p(Ks,H,ze),rt===null?Ne=Ks:rt.sibling=Ks,rt=Ks,Pe=xn}if(_t.done)return a(K,Pe),vt&&Pa(K,ze),Ne;if(Pe===null){for(;!_t.done;ze++,_t=W.next())_t=de(K,_t.value,oe),_t!==null&&(H=p(_t,H,ze),rt===null?Ne=_t:rt.sibling=_t,rt=_t);return vt&&Pa(K,ze),Ne}for(Pe=u(Pe);!_t.done;ze++,_t=W.next())_t=re(Pe,K,ze,_t.value,oe),_t!==null&&(n&&_t.alternate!==null&&Pe.delete(_t.key===null?ze:_t.key),H=p(_t,H,ze),rt===null?Ne=_t:rt.sibling=_t,rt=_t);return n&&Pe.forEach(function(rw){return i(K,rw)}),vt&&Pa(K,ze),Ne}function Qt(K,H,W,oe){if(typeof W=="object"&&W!==null&&W.type===g&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case c:e:{for(var Ne=W.key;H!==null;){if(H.key===Ne){if(Ne=W.type,Ne===g){if(H.tag===7){a(K,H.sibling),oe=d(H,W.props.children),oe.return=K,K=oe;break e}}else if(H.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&Fy(Ne)===H.type){a(K,H.sibling),oe=d(H,W.props),$l(oe,W),oe.return=K,K=oe;break e}a(K,H);break}else i(K,H);H=H.sibling}W.type===g?(oe=Ka(W.props.children,K.mode,oe,W.key),oe.return=K,K=oe):(oe=uh(W.type,W.key,W.props,null,K.mode,oe),$l(oe,W),oe.return=K,K=oe)}return T(K);case m:e:{for(Ne=W.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){a(K,H.sibling),oe=d(H,W.children||[]),oe.return=K,K=oe;break e}else{a(K,H);break}else i(K,H);H=H.sibling}oe=Em(W,K.mode,oe),oe.return=K,K=oe}return T(K);case z:return Ne=W._init,W=Ne(W._payload),Qt(K,H,W,oe)}if(ve(W))return je(K,H,W,oe);if(F(W)){if(Ne=F(W),typeof Ne!="function")throw Error(s(150));return W=Ne.call(W),Ke(K,H,W,oe)}if(typeof W.then=="function")return Qt(K,H,qc(W),oe);if(W.$$typeof===R)return Qt(K,H,ah(K,W),oe);Gc(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(a(K,H.sibling),oe=d(H,W),oe.return=K,K=oe):(a(K,H),oe=_m(W,K.mode,oe),oe.return=K,K=oe),T(K)):a(K,H)}return function(K,H,W,oe){try{Gl=0;var Ne=Qt(K,H,W,oe);return Do=null,Ne}catch(Pe){if(Pe===Hl)throw Pe;var rt=Lr(29,Pe,null,K.mode);return rt.lanes=oe,rt.return=K,rt}finally{}}}var La=Hy(!0),qy=Hy(!1),Oo=st(null),$c=st(0);function Gy(n,i){n=as,He($c,n),He(Oo,i),as=n|i.baseLanes}function wf(){He($c,as),He(Oo,Oo.current)}function Rf(){as=$c.current,wt(Oo),wt($c)}var Vr=st(null),Si=null;function Is(n){var i=n.alternate;He(hn,hn.current&1),He(Vr,n),Si===null&&(i===null||Oo.current!==null||i.memoizedState!==null)&&(Si=n)}function $y(n){if(n.tag===22){if(He(hn,hn.current),He(Vr,n),Si===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Si=n)}}else Ns()}function Ns(){He(hn,hn.current),He(Vr,Vr.current)}function Xi(n){wt(Vr),Si===n&&(Si=null),wt(hn)}var hn=st(0);function Kc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},GS=r.unstable_scheduleCallback,$S=r.unstable_NormalPriority,dn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new qS,data:new Map,refCount:0}}function Kl(n){n.refCount--,n.refCount===0&&GS($S,function(){n.controller.abort()})}var Ql=null,If=0,jo=0,Mo=null;function KS(n,i){if(Ql===null){var a=Ql=[];If=0,jo=Vm(),Mo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return If++,i.then(Ky,Ky),i}function Ky(){if(--If===0&&Ql!==null){Mo!==null&&(Mo.status="fulfilled");var n=Ql;Ql=null,jo=0,Mo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function QS(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var Qy=w.S;w.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(n,i),Qy!==null&&Qy(n,i)};var Ua=st(null);function Nf(){var n=Ua.current;return n!==null?n:jt.pooledCache}function Qc(n,i){i===null?He(Ua,Ua.current):He(Ua,i.pool)}function Yy(){var n=Nf();return n===null?null:{parent:dn._currentValue,pool:n}}var Ds=0,nt=null,Ct=null,nn=null,Yc=!1,Vo=!1,za=!1,Xc=0,Yl=0,Po=null,YS=0;function Xt(){throw Error(s(321))}function Df(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!mr(n[a],i[a]))return!1;return!0}function Of(n,i,a,u,d,p){return Ds=p,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=n===null||n.memoizedState===null?Ba:Os,za=!1,p=a(u,d),za=!1,Vo&&(p=Wy(i,a,u,d)),Xy(n),p}function Xy(n){w.H=Ai;var i=Ct!==null&&Ct.next!==null;if(Ds=0,nn=Ct=nt=null,Yc=!1,Yl=0,Po=null,i)throw Error(s(300));n===null||Tn||(n=n.dependencies,n!==null&&sh(n)&&(Tn=!0))}function Wy(n,i,a,u){nt=n;var d=0;do{if(Vo&&(Po=null),Yl=0,Vo=!1,25<=d)throw Error(s(301));if(d+=1,nn=Ct=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}w.H=Fa,p=i(a,u)}while(Vo);return p}function XS(){var n=w.H,i=n.useState()[0];return i=typeof i.then=="function"?Xl(i):i,n=n.useState()[0],(Ct!==null?Ct.memoizedState:null)!==n&&(nt.flags|=1024),i}function jf(){var n=Xc!==0;return Xc=0,n}function Mf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Vf(n){if(Yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yc=!1}Ds=0,nn=Ct=nt=null,Vo=!1,Yl=Xc=0,Po=null}function lr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?nt.memoizedState=nn=n:nn=nn.next=n,nn}function rn(){if(Ct===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var i=nn===null?nt.memoizedState:nn.next;if(i!==null)nn=i,Ct=n;else{if(n===null)throw nt.alternate===null?Error(s(467)):Error(s(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},nn===null?nt.memoizedState=nn=n:nn=nn.next=n}return nn}var Wc;Wc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xl(n){var i=Yl;return Yl+=1,Po===null&&(Po=[]),n=zy(Po,n,i),i=nt,(nn===null?i.memoizedState:nn.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Ba:Os),n}function Zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xl(n);if(n.$$typeof===R)return Un(n)}throw Error(s(438,String(n)))}function Pf(n){var i=null,a=nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wc(),nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=pe;return i.index++,a}function Wi(n,i){return typeof i=="function"?i(n):i}function Jc(n){var i=rn();return kf(i,Ct,n)}function kf(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var d=n.baseQueue,p=u.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}i.baseQueue=d=p,u.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{i=d.next;var S=T=null,D=null,q=i,ie=!1;do{var de=q.lane&-536870913;if(de!==q.lane?(pt&de)===de:(Ds&de)===de){var J=q.revertLane;if(J===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),de===jo&&(ie=!0);else if((Ds&J)===J){q=q.next,J===jo&&(ie=!0);continue}else de={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=de,T=p):D=D.next=de,nt.lanes|=J,Bs|=J;de=q.action,za&&a(p,de),p=q.hasEagerState?q.eagerState:a(p,de)}else J={lane:de,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=J,T=p):D=D.next=J,nt.lanes|=de,Bs|=de;q=q.next}while(q!==null&&q!==i);if(D===null?T=p:D.next=S,!mr(p,n.memoizedState)&&(Tn=!0,ie&&(a=Mo,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=D,u.lastRenderedState=p}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Lf(n){var i=rn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do p=n(p,T.action),T=T.next;while(T!==d);mr(p,i.memoizedState)||(Tn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function Zy(n,i,a){var u=nt,d=rn(),p=vt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!mr((Ct||d).memoizedState,a);if(T&&(d.memoizedState=a,Tn=!0),d=d.queue,Bf(tv.bind(null,u,d,n),[n]),d.getSnapshot!==i||T||nn!==null&&nn.memoizedState.tag&1){if(u.flags|=2048,ko(9,ev.bind(null,u,d,a,i),{destroy:void 0},null),jt===null)throw Error(s(349));p||Ds&60||Jy(u,i,a)}return a}function Jy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i=Wc(),nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function ev(n,i,a,u){i.value=a,i.getSnapshot=u,nv(i)&&rv(n)}function tv(n,i,a){return a(function(){nv(i)&&rv(n)})}function nv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!mr(n,a)}catch{return!0}}function rv(n){var i=Cs(n,2);i!==null&&er(i,n,2)}function Uf(n){var i=lr();if(typeof n=="function"){var a=n;if(n=a(),za){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},i}function iv(n,i,a,u){return n.baseState=a,kf(n,Ct,typeof u=="function"?u:Wi)}function WS(n,i,a,u,d){if(nh(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};w.T!==null?a(!0):p.isTransition=!1,u(p),a=i.pending,a===null?(p.next=i.pending=p,sv(i,p)):(p.next=a.next,i.pending=a.next=p)}}function sv(n,i){var a=i.action,u=i.payload,d=n.state;if(i.isTransition){var p=w.T,T={};w.T=T;try{var S=a(d,u),D=w.S;D!==null&&D(T,S),av(n,i,S)}catch(q){zf(n,i,q)}finally{w.T=p}}else try{p=a(d,u),av(n,i,p)}catch(q){zf(n,i,q)}}function av(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){ov(n,i,u)},function(u){return zf(n,i,u)}):ov(n,i,a)}function ov(n,i,a){i.status="fulfilled",i.value=a,lv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,sv(n,a)))}function zf(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,lv(i),i=i.next;while(i!==u)}n.action=null}function lv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function uv(n,i){return i}function cv(n,i){if(vt){var a=jt.formState;if(a!==null){e:{var u=nt;if(vt){if(Dn){t:{for(var d=Dn,p=xi;d.nodeType!==8;){if(!p){d=null;break t}if(d=Zr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Dn=Zr(d.nextSibling),u=d.data==="F!";break e}}ka(u)}u=!1}u&&(i=a[0])}}return a=lr(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:i},a.queue=u,a=Cv.bind(null,nt,u),u.dispatch=a,u=Uf(!1),p=$f.bind(null,nt,!1,u.queue),u=lr(),d={state:i,dispatch:null,action:n,pending:null},u.queue=d,a=WS.bind(null,nt,d,p,a),d.dispatch=a,u.memoizedState=n,[i,a,!1]}function hv(n){var i=rn();return dv(i,Ct,n)}function dv(n,i,a){i=kf(n,i,uv)[0],n=Jc(Wi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Xl(i):i;var u=rn(),d=u.queue,p=d.dispatch;return a!==u.memoizedState&&(nt.flags|=2048,ko(9,ZS.bind(null,d,a),{destroy:void 0},null)),[i,p,n]}function ZS(n,i){n.action=i}function fv(n){var i=rn(),a=Ct;if(a!==null)return dv(i,a,n);rn(),i=i.memoizedState,a=rn();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function ko(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=nt.updateQueue,i===null&&(i=Wc(),nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function mv(){return rn().memoizedState}function eh(n,i,a,u){var d=lr();nt.flags|=n,d.memoizedState=ko(1|i,a,{destroy:void 0},u===void 0?null:u)}function th(n,i,a,u){var d=rn();u=u===void 0?null:u;var p=d.memoizedState.inst;Ct!==null&&u!==null&&Df(u,Ct.memoizedState.deps)?d.memoizedState=ko(i,a,p,u):(nt.flags|=n,d.memoizedState=ko(1|i,a,p,u))}function pv(n,i){eh(8390656,8,n,i)}function Bf(n,i){th(2048,8,n,i)}function gv(n,i){return th(4,2,n,i)}function yv(n,i){return th(4,4,n,i)}function vv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function _v(n,i,a){a=a!=null?a.concat([n]):null,th(4,4,vv.bind(null,i,n),a)}function Ff(){}function Ev(n,i){var a=rn();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Df(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function Tv(n,i){var a=rn();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Df(i,u[1]))return u[0];if(u=n(),za){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[u,i],u}function Hf(n,i,a){return a===void 0||Ds&1073741824?n.memoizedState=i:(n.memoizedState=a,n=x_(),nt.lanes|=n,Bs|=n,a)}function bv(n,i,a,u){return mr(a,i)?a:Oo.current!==null?(n=Hf(n,a,u),mr(n,i)||(Tn=!0),n):Ds&42?(n=x_(),nt.lanes|=n,Bs|=n,i):(Tn=!0,n.memoizedState=a)}function xv(n,i,a,u,d){var p=_e.p;_e.p=p!==0&&8>p?p:8;var T=w.T,S={};w.T=S,$f(n,!1,i,a);try{var D=d(),q=w.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=QS(D,u);Wl(n,i,ie,vr(n))}else Wl(n,i,u,vr(n))}catch(de){Wl(n,i,{then:function(){},status:"rejected",reason:de},vr())}finally{_e.p=p,w.T=T}}function JS(){}function qf(n,i,a,u){if(n.tag!==5)throw Error(s(476));var d=Sv(n).queue;xv(n,d,i,Fe,a===null?JS:function(){return Av(n),a(u)})}function Sv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Fe,baseState:Fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:Fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Av(n){var i=Sv(n).next.queue;Wl(n,i,{},vr())}function Gf(){return Un(yu)}function wv(){return rn().memoizedState}function Rv(){return rn().memoizedState}function eA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=vr();n=Vs(a);var u=Ps(i,n,a);u!==null&&(er(u,i,a),eu(u,i,a)),i={cache:Cf()},n.payload=i;return}i=i.return}}function tA(n,i,a){var u=vr();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nh(n)?Iv(i,a):(a=Tf(n,i,a,u),a!==null&&(er(a,n,u),Nv(a,i,u)))}function Cv(n,i,a){var u=vr();Wl(n,i,a,u)}function Wl(n,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nh(n))Iv(i,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,S=p(T,a);if(d.hasEagerState=!0,d.eagerState=S,mr(S,T))return Uc(n,i,d,0),jt===null&&Lc(),!1}catch{}finally{}if(a=Tf(n,i,d,u),a!==null)return er(a,n,u),Nv(a,i,u),!0}return!1}function $f(n,i,a,u){if(u={lane:2,revertLane:Vm(),action:u,hasEagerState:!1,eagerState:null,next:null},nh(n)){if(i)throw Error(s(479))}else i=Tf(n,a,u,2),i!==null&&er(i,n,2)}function nh(n){var i=n.alternate;return n===nt||i!==null&&i===nt}function Iv(n,i){Vo=Yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Nv(n,i,a){if(a&4194176){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}var Ai={readContext:Un,use:Zc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt};Ai.useCacheRefresh=Xt,Ai.useMemoCache=Xt,Ai.useHostTransitionStatus=Xt,Ai.useFormState=Xt,Ai.useActionState=Xt,Ai.useOptimistic=Xt;var Ba={readContext:Un,use:Zc,useCallback:function(n,i){return lr().memoizedState=[n,i===void 0?null:i],n},useContext:Un,useEffect:pv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,eh(4194308,4,vv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return eh(4194308,4,n,i)},useInsertionEffect:function(n,i){eh(4,2,n,i)},useMemo:function(n,i){var a=lr();i=i===void 0?null:i;var u=n();if(za){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=lr();if(a!==void 0){var d=a(i);if(za){Ln(!0);try{a(i)}finally{Ln(!1)}}}else d=i;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=tA.bind(null,nt,n),[u.memoizedState,n]},useRef:function(n){var i=lr();return n={current:n},i.memoizedState=n},useState:function(n){n=Uf(n);var i=n.queue,a=Cv.bind(null,nt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(n,i){var a=lr();return Hf(a,n,i)},useTransition:function(){var n=Uf(!1);return n=xv.bind(null,nt,n.queue,!0,!1),lr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=nt,d=lr();if(vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),jt===null)throw Error(s(349));pt&60||Jy(u,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,pv(tv.bind(null,u,p,n),[n]),u.flags|=2048,ko(9,ev.bind(null,u,p,a,i),{destroy:void 0},null),a},useId:function(){var n=lr(),i=jt.identifierPrefix;if(vt){var a=Yi,u=Qi;a=(u&~(1<<32-qt(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=Xc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=YS++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return lr().memoizedState=eA.bind(null,nt)}};Ba.useMemoCache=Pf,Ba.useHostTransitionStatus=Gf,Ba.useFormState=cv,Ba.useActionState=cv,Ba.useOptimistic=function(n){var i=lr();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,nt,!0,a),a.dispatch=i,[n,i]};var Os={readContext:Un,use:Zc,useCallback:Ev,useContext:Un,useEffect:Bf,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Tv,useReducer:Jc,useRef:mv,useState:function(){return Jc(Wi)},useDebugValue:Ff,useDeferredValue:function(n,i){var a=rn();return bv(a,Ct.memoizedState,n,i)},useTransition:function(){var n=Jc(Wi)[0],i=rn().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:Zy,useId:wv};Os.useCacheRefresh=Rv,Os.useMemoCache=Pf,Os.useHostTransitionStatus=Gf,Os.useFormState=hv,Os.useActionState=hv,Os.useOptimistic=function(n,i){var a=rn();return iv(a,Ct,n,i)};var Fa={readContext:Un,use:Zc,useCallback:Ev,useContext:Un,useEffect:Bf,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Tv,useReducer:Lf,useRef:mv,useState:function(){return Lf(Wi)},useDebugValue:Ff,useDeferredValue:function(n,i){var a=rn();return Ct===null?Hf(a,n,i):bv(a,Ct.memoizedState,n,i)},useTransition:function(){var n=Lf(Wi)[0],i=rn().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:Zy,useId:wv};Fa.useCacheRefresh=Rv,Fa.useMemoCache=Pf,Fa.useHostTransitionStatus=Gf,Fa.useFormState=fv,Fa.useActionState=fv,Fa.useOptimistic=function(n,i){var a=rn();return Ct!==null?iv(a,Ct,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Kf(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:O({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Qf={isMounted:function(n){return(n=n._reactInternals)?xe(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=vr(),d=Vs(u);d.payload=i,a!=null&&(d.callback=a),i=Ps(n,d,u),i!==null&&(er(i,n,u),eu(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=vr(),d=Vs(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ps(n,d,u),i!==null&&(er(i,n,u),eu(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=vr(),u=Vs(a);u.tag=2,i!=null&&(u.callback=i),i=Ps(n,u,a),i!==null&&(er(i,n,a),eu(i,n,a))}};function Dv(n,i,a,u,d,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,T):i.prototype&&i.prototype.isPureReactComponent?!Ll(a,u)||!Ll(d,p):!0}function Ov(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&Qf.enqueueReplaceState(i,i.state,null)}function Ha(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=O({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var rh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function jv(n){rh(n)}function Mv(n){console.error(n)}function Vv(n){rh(n)}function ih(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Pv(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yf(n,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){ih(n,i)},a}function kv(n){return n=Vs(n),n.tag=3,n}function Lv(n,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;n.payload=function(){return d(p)},n.callback=function(){Pv(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Pv(i,a,u),typeof d!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function nA(n,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Jl(i,a,d,!0),a=Vr.current,a!==null){switch(a.tag){case 13:return Si===null?Nm():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===Af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Om(n,u,d)),!1;case 22:return a.flags|=65536,u===Af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Om(n,u,d)),!1}throw Error(s(435,a.tag))}return Om(n,u,d),Nm(),!1}if(vt)return i=Vr.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==Sf&&(n=Error(s(422),{cause:u}),Fl(Or(n,a)))):(u!==Sf&&(i=Error(s(423),{cause:u}),Fl(Or(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Or(u,a),d=Yf(n.stateNode,u,d),cm(n,d),Kt!==4&&(Kt=2)),!1;var p=Error(s(520),{cause:u});if(p=Or(p,a),lu===null?lu=[p]:lu.push(p),Kt!==4&&(Kt=2),i===null)return!0;u=Or(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Yf(a.stateNode,u,n),cm(a,n),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Fs===null||!Fs.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=kv(d),Lv(d,n,a,u),cm(a,d),!1}a=a.return}while(a!==null);return!1}var Uv=Error(s(461)),Tn=!1;function On(n,i,a,u){i.child=n===null?qy(i,null,a,u):La(i,n.child,a,u)}function zv(n,i,a,u,d){a=a.render;var p=i.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Ga(i),u=Of(n,i,a,T,p,d),S=jf(),n!==null&&!Tn?(Mf(n,i,d),Zi(n,i,d)):(vt&&S&&bf(i),i.flags|=1,On(n,i,u,d),i.child)}function Bv(n,i,a,u,d){if(n===null){var p=a.type;return typeof p=="function"&&!vm(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,Fv(n,i,p,u,d)):(n=uh(a.type,null,u,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!im(n,d)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(T,u)&&n.ref===i.ref)return Zi(n,i,d)}return i.flags|=1,n=zs(p,u),n.ref=i.ref,n.return=i,i.child=n}function Fv(n,i,a,u,d){if(n!==null){var p=n.memoizedProps;if(Ll(p,u)&&n.ref===i.ref)if(Tn=!1,i.pendingProps=u=p,im(n,d))n.flags&131072&&(Tn=!0);else return i.lanes=n.lanes,Zi(n,i,d)}return Xf(n,i,a,u,d)}function Hv(n,i,a){var u=i.pendingProps,d=u.children,p=(i.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(Zl(n,i),u.mode==="hidden"||p){if(i.flags&128){if(u=T!==null?T.baseLanes|a:a,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return qv(n,i,u,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qc(i,T!==null?T.cachePool:null),T!==null?Gy(i,T):wf(),$y(i);else return i.lanes=i.childLanes=536870912,qv(n,i,T!==null?T.baseLanes|a:a,a)}else T!==null?(Qc(i,T.cachePool),Gy(i,T),Ns(),i.memoizedState=null):(n!==null&&Qc(i,null),wf(),Ns());return On(n,i,d,a),i.child}function qv(n,i,a,u){var d=Nf();return d=d===null?null:{parent:dn._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&Qc(i,null),wf(),$y(i),n!==null&&Jl(n,i,u,!0),null}function Zl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Xf(n,i,a,u,d){return Ga(i),a=Of(n,i,a,u,void 0,d),u=jf(),n!==null&&!Tn?(Mf(n,i,d),Zi(n,i,d)):(vt&&u&&bf(i),i.flags|=1,On(n,i,a,d),i.child)}function Gv(n,i,a,u,d,p){return Ga(i),i.updateQueue=null,a=Wy(i,u,a,d),Xy(n),u=jf(),n!==null&&!Tn?(Mf(n,i,p),Zi(n,i,p)):(vt&&u&&bf(i),i.flags|=1,On(n,i,a,p),i.child)}function $v(n,i,a,u,d){if(Ga(i),i.stateNode===null){var p=Co,T=a.contextType;typeof T=="object"&&T!==null&&(p=Un(T)),p=new a(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},lm(i),T=a.contextType,p.context=typeof T=="object"&&T!==null?Un(T):Co,p.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Kf(i,a,T,u),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Qf.enqueueReplaceState(p,p.state,null),nu(i,u,p,d),tu(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var S=i.memoizedProps,D=Ha(a,S);p.props=D;var q=p.context,ie=a.contextType;T=Co,typeof ie=="object"&&ie!==null&&(T=Un(ie));var de=a.getDerivedStateFromProps;ie=typeof de=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ie||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==T)&&Ov(i,p,u,T),Ms=!1;var J=i.memoizedState;p.state=J,nu(i,u,p,d),tu(),q=i.memoizedState,S||J!==q||Ms?(typeof de=="function"&&(Kf(i,a,de,u),q=i.memoizedState),(D=Ms||Dv(i,a,D,u,J,q,T))?(ie||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=q),p.props=u,p.state=q,p.context=T,u=D):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,um(n,i),T=i.memoizedProps,ie=Ha(a,T),p.props=ie,de=i.pendingProps,J=p.context,q=a.contextType,D=Co,typeof q=="object"&&q!==null&&(D=Un(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==de||J!==D)&&Ov(i,p,u,D),Ms=!1,J=i.memoizedState,p.state=J,nu(i,u,p,d),tu();var re=i.memoizedState;T!==de||J!==re||Ms||n!==null&&n.dependencies!==null&&sh(n.dependencies)?(typeof S=="function"&&(Kf(i,a,S,u),re=i.memoizedState),(ie=Ms||Dv(i,a,ie,u,J,re,D)||n!==null&&n.dependencies!==null&&sh(n.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,re,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,re,D)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),p.props=u,p.state=re,p.context=D,u=ie):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,Zl(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=La(i,n.child,null,d),i.child=La(i,null,a,d)):On(n,i,a,d),i.memoizedState=p.state,n=i.child):n=Zi(n,i,d),n}function Kv(n,i,a,u){return Bl(),i.flags|=256,On(n,i,a,u),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Zf(n){return{baseLanes:n,cachePool:Yy()}}function Jf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Ur),n}function Qv(n,i,a){var u=i.pendingProps,d=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(hn.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(vt){if(d?Is(i):Ns(),vt){var S=Dn,D;if(D=S){e:{for(D=S,S=xi;D.nodeType!==8;){if(!S){S=null;break e}if(D=Zr(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(i.memoizedState={dehydrated:S,treeContext:Va!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912},D=Lr(18,null,null,0),D.stateNode=S,D.return=i,i.child=D,Jn=i,Dn=null,D=!0):D=!1}D||ka(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Xi(i)}return S=u.children,u=u.fallback,d?(Ns(),d=i.mode,S=tm({mode:"hidden",children:S},d),u=Ka(u,d,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,d=i.child,d.memoizedState=Zf(a),d.childLanes=Jf(n,T,a),i.memoizedState=Wf,u):(Is(i),em(i,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(p)i.flags&256?(Is(i),i.flags&=-257,i=nm(n,i,a)):i.memoizedState!==null?(Ns(),i.child=n.child,i.flags|=128,i=null):(Ns(),d=u.fallback,S=i.mode,u=tm({mode:"visible",children:u.children},S),d=Ka(d,S,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,La(i,n.child,null,a),u=i.child,u.memoizedState=Zf(a),u.childLanes=Jf(n,T,a),i.memoizedState=Wf,i=d);else if(Is(i),S.data==="$!"){if(T=S.nextSibling&&S.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(s(419)),u.stack="",u.digest=T,Fl({value:u,source:null,stack:null}),i=nm(n,i,a)}else if(Tn||Jl(n,i,a,!1),T=(a&n.childLanes)!==0,Tn||T){if(T=jt,T!==null){if(u=a&-a,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|a)?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Cs(n,u),er(T,n,u),Uv}S.data==="$?"||Nm(),i=nm(n,i,a)}else S.data==="$?"?(i.flags|=128,i.child=n.child,i=yA.bind(null,n),S._reactRetry=i,i=null):(n=D.treeContext,Dn=Zr(S.nextSibling),Jn=i,vt=!0,Xr=null,xi=!1,n!==null&&(jr[Mr++]=Qi,jr[Mr++]=Yi,jr[Mr++]=Va,Qi=n.id,Yi=n.overflow,Va=i),i=em(i,u.children),i.flags|=4096);return i}return d?(Ns(),d=u.fallback,S=i.mode,D=n.child,q=D.sibling,u=zs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,q!==null?d=zs(q,d):(d=Ka(d,S,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,S=n.child.memoizedState,S===null?S=Zf(a):(D=S.cachePool,D!==null?(q=dn._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=Yy(),S={baseLanes:S.baseLanes|a,cachePool:D}),d.memoizedState=S,d.childLanes=Jf(n,T,a),i.memoizedState=Wf,u):(Is(i),a=n.child,n=a.sibling,a=zs(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function em(n,i){return i=tm({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function tm(n,i){return E_(n,i,0,null)}function nm(n,i,a){return La(i,n.child,null,a),n=em(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Yv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),am(n.return,i,a)}function rm(n,i,a,u,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=d)}function Xv(n,i,a){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(On(n,i,u.children,a),u=hn.current,u&2)u=u&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yv(n,a,i);else if(n.tag===19)Yv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(He(hn,u),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Kc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),rm(i,!1,d,a,p);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Kc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}rm(i,!0,a,null,p);break;case"together":rm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Bs|=i.lanes,!(a&i.childLanes))if(n!==null){if(Jl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=zs(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=zs(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function im(n,i){return n.lanes&i?!0:(n=n.dependencies,!!(n!==null&&sh(n)))}function rA(n,i,a){switch(i.tag){case 3:br(i,i.stateNode.containerInfo),js(i,dn,n.memoizedState.cache),Bl();break;case 27:case 5:Gr(i);break;case 4:br(i,i.stateNode.containerInfo);break;case 10:js(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Is(i),i.flags|=128,null):a&i.child.childLanes?Qv(n,i,a):(Is(i),n=Zi(n,i,a),n!==null?n.sibling:null);Is(i);break;case 19:var d=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Jl(n,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return Xv(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(hn,hn.current),u)break;return null;case 22:case 23:return i.lanes=0,Hv(n,i,a);case 24:js(i,dn,n.memoizedState.cache)}return Zi(n,i,a)}function Wv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Tn=!0;else{if(!im(n,a)&&!(i.flags&128))return Tn=!1,rA(n,i,a);Tn=!!(n.flags&131072)}else Tn=!1,vt&&i.flags&1048576&&Vy(i,Fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")vm(u)?(n=Ha(u,n),i.tag=1,i=$v(null,i,u,n,a)):(i.tag=0,i=Xf(null,i,u,n,a));else{if(u!=null){if(d=u.$$typeof,d===N){i.tag=11,i=zv(null,i,u,n,a);break e}else if(d===Y){i.tag=14,i=Bv(null,i,u,n,a);break e}}throw i=C(u)||u,Error(s(306,i,""))}}return i;case 0:return Xf(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=Ha(u,i.pendingProps),$v(n,i,u,d,a);case 3:e:{if(br(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var p=i.pendingProps;d=i.memoizedState,u=d.element,um(n,i),nu(i,p,null,a);var T=i.memoizedState;if(p=T.cache,js(i,dn,p),p!==d.cache&&om(i,[dn],a,!0),tu(),p=T.element,d.isDehydrated)if(d={element:p,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Kv(n,i,p,a);break e}else if(p!==u){u=Or(Error(s(424)),i),Fl(u),i=Kv(n,i,p,a);break e}else for(Dn=Zr(i.stateNode.containerInfo.firstChild),Jn=i,vt=!0,Xr=null,xi=!0,a=qy(i,null,p,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bl(),p===u){i=Zi(n,i,a);break e}On(n,i,p,a)}i=i.child}return i;case 26:return Zl(n,i),n===null?(a=eE(i.type,null,i.pendingProps,null))?i.memoizedState=a:vt||(a=i.type,n=i.pendingProps,u=Th(kn.current).createElement(a),u[De]=i,u[Me]=n,jn(u,a,n),Et(u),i.stateNode=u):i.memoizedState=eE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Gr(i),n===null&&vt&&(u=i.stateNode=W_(i.type,i.pendingProps,kn.current),Jn=i,xi=!0,Dn=Zr(u.firstChild)),u=i.pendingProps.children,n!==null||vt?On(n,i,u,a):i.child=La(i,null,u,a),Zl(n,i),i.child;case 5:return n===null&&vt&&((d=u=Dn)&&(u=jA(u,i.type,i.pendingProps,xi),u!==null?(i.stateNode=u,Jn=i,Dn=Zr(u.firstChild),xi=!1,d=!0):d=!1),d||ka(i)),Gr(i),d=i.type,p=i.pendingProps,T=n!==null?n.memoizedProps:null,u=p.children,qm(d,p)?u=null:T!==null&&qm(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Of(n,i,XS,null,null,a),yu._currentValue=d),Zl(n,i),On(n,i,u,a),i.child;case 6:return n===null&&vt&&((n=a=Dn)&&(a=MA(a,i.pendingProps,xi),a!==null?(i.stateNode=a,Jn=i,Dn=null,n=!0):n=!1),n||ka(i)),null;case 13:return Qv(n,i,a);case 4:return br(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=La(i,null,u,a):On(n,i,u,a),i.child;case 11:return zv(n,i,i.type,i.pendingProps,a);case 7:return On(n,i,i.pendingProps,a),i.child;case 8:return On(n,i,i.pendingProps.children,a),i.child;case 12:return On(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,js(i,i.type,u.value),On(n,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Ga(i),d=Un(d),u=u(d),i.flags|=1,On(n,i,u,a),i.child;case 14:return Bv(n,i,i.type,i.pendingProps,a);case 15:return Fv(n,i,i.type,i.pendingProps,a);case 19:return Xv(n,i,a);case 22:return Hv(n,i,a);case 24:return Ga(i),u=Un(dn),n===null?(d=Nf(),d===null&&(d=jt,p=Cf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),i.memoizedState={parent:u,cache:d},lm(i),js(i,dn,d)):(n.lanes&a&&(um(n,i),nu(i,null,null,a),tu()),d=n.memoizedState,p=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),js(i,dn,u)):(u=p.cache,js(i,dn,u),u!==d.cache&&om(i,[dn],a,!0))),On(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var sm=st(null),qa=null,Ji=null;function js(n,i,a){He(sm,i._currentValue),i._currentValue=a}function es(n){n._currentValue=sm.current,wt(sm)}function am(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function om(n,i,a,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var D=0;D<i.length;D++)if(S.context===i[D]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),am(p.return,a,n),u||(T=null);break e}p=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),am(T,a,n),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===n){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Jl(n,i,a,u){n=null;for(var d=i,p=!1;d!==null;){if(!p){if(d.flags&524288)p=!0;else if(d.flags&262144)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;mr(d.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(d===ln.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(yu):n=[yu])}d=d.return}n!==null&&om(i,n,a,u),i.flags|=262144}function sh(n){for(n=n.firstContext;n!==null;){if(!mr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ga(n){qa=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Un(n){return Zv(qa,n)}function ah(n,i){return qa===null&&Ga(n),Zv(n,i)}function Zv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(s(308));Ji=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ji=Ji.next=i;return a}var Ms=!1;function lm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ps(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,Ft&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=zc(n),jy(n,null,a),i}return Uc(n,u,i,a),zc(n)}function eu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}function cm(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var hm=!1;function tu(){if(hm){var n=Mo;if(n!==null)throw n}}function nu(n,i,a,u){hm=!1;var d=n.updateQueue;Ms=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,q=D.next;D.next=null,T===null?p=q:T.next=q,T=D;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==T&&(S===null?ie.firstBaseUpdate=q:S.next=q,ie.lastBaseUpdate=D))}if(p!==null){var de=d.baseState;T=0,ie=q=D=null,S=p;do{var J=S.lane&-536870913,re=J!==S.lane;if(re?(pt&J)===J:(u&J)===J){J!==0&&J===jo&&(hm=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var je=n,Ke=S;J=i;var Qt=a;switch(Ke.tag){case 1:if(je=Ke.payload,typeof je=="function"){de=je.call(Qt,de,J);break e}de=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ke.payload,J=typeof je=="function"?je.call(Qt,de,J):je,J==null)break e;de=O({},de,J);break e;case 2:Ms=!0}}J=S.callback,J!==null&&(n.flags|=64,re&&(n.flags|=8192),re=d.callbacks,re===null?d.callbacks=[J]:re.push(J))}else re={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(q=ie=re,D=de):ie=ie.next=re,T|=J;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;re=S,S=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);ie===null&&(D=de),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=ie,p===null&&(d.shared.lanes=0),Bs|=T,n.lanes=T,n.memoizedState=de}}function Jv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function e_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Jv(a[n],i)}function ru(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&n)===n){u=void 0;var p=a.create,T=a.inst;u=p(),T.destroy=u}a=a.next}while(a!==d)}}catch(S){Nt(i,i.return,S)}}function ks(n,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&n)===n){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=i;var D=a;try{S()}catch(q){Nt(d,D,q)}}}u=u.next}while(u!==p)}}catch(q){Nt(i,i.return,q)}}function t_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{e_(i,a)}catch(u){Nt(n,n.return,u)}}}function n_(n,i,a){a.props=Ha(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Nt(n,i,u)}}function $a(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof a=="function"?n.refCleanup=a(d):a.current=d}}catch(p){Nt(n,i,p)}}function pr(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){Nt(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Nt(n,i,d)}else a.current=null}function r_(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){Nt(n,n.return,d)}}function i_(n,i,a){try{var u=n.stateNode;CA(u,n.type,a,i),u[Me]=i}catch(d){Nt(n,n.return,d)}}function s_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function dm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||s_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fm(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Eh));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(fm(n,i,a),n=n.sibling;n!==null;)fm(n,i,a),n=n.sibling}function oh(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(oh(n,i,a),n=n.sibling;n!==null;)oh(n,i,a),n=n.sibling}var ts=!1,$t=!1,mm=!1,a_=typeof WeakSet=="function"?WeakSet:Set,bn=null,o_=!1;function iA(n,i){if(n=n.containerInfo,Fm=Rh,n=Sy(n),gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,S=-1,D=-1,q=0,ie=0,de=n,J=null;t:for(;;){for(var re;de!==a||d!==0&&de.nodeType!==3||(S=T+d),de!==p||u!==0&&de.nodeType!==3||(D=T+u),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)J=de,de=re;for(;;){if(de===n)break t;if(J===a&&++q===d&&(S=T),J===p&&++ie===u&&(D=T),(re=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=re}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:n,selectionRange:a},Rh=!1,bn=i;bn!==null;)if(i=bn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,bn=n;else for(;bn!==null;){switch(i=bn,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&p!==null){n=void 0,a=i,d=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var je=Ha(a.type,d,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(je,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ke){Nt(a,a.return,Ke)}}break;case 3:if(n&1024){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Km(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Km(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,bn=n;break}bn=i.return}return je=o_,o_=!1,je}function l_(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:rs(n,a),u&4&&ru(5,a);break;case 1:if(rs(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(S){Nt(a,a.return,S)}else{var d=Ha(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Nt(a,a.return,S)}}u&64&&t_(a),u&512&&$a(a,a.return);break;case 3:if(rs(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{e_(u,n)}catch(S){Nt(a,a.return,S)}}break;case 26:rs(n,a),u&512&&$a(a,a.return);break;case 27:case 5:rs(n,a),i===null&&u&4&&r_(a),u&512&&$a(a,a.return);break;case 12:rs(n,a);break;case 13:rs(n,a),u&4&&h_(n,a);break;case 22:if(d=a.memoizedState!==null||ts,!d){i=i!==null&&i.memoizedState!==null||$t;var p=ts,T=$t;ts=d,($t=i)&&!T?Ls(n,a,(a.subtreeFlags&8772)!==0):rs(n,a),ts=p,$t=T}u&512&&(a.memoizedProps.mode==="manual"?$a(a,a.return):pr(a,a.return));break;default:rs(n,a)}}function u_(n){var i=n.alternate;i!==null&&(n.alternate=null,u_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&fr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var sn=null,gr=!1;function ns(n,i,a){for(a=a.child;a!==null;)c_(n,i,a),a=a.sibling}function c_(n,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:$t||pr(a,i),ns(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$t||pr(a,i);var u=sn,d=gr;for(sn=a.stateNode,ns(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);fr(a),sn=u,gr=d;break;case 5:$t||pr(a,i);case 6:d=sn;var p=gr;if(sn=null,ns(n,i,a),sn=d,gr=p,sn!==null)if(gr)try{n=sn,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(T){Nt(a,i,T)}else try{sn.removeChild(a.stateNode)}catch(T){Nt(a,i,T)}break;case 18:sn!==null&&(gr?(i=sn,a=a.stateNode,i.nodeType===8?$m(i.parentNode,a):i.nodeType===1&&$m(i,a),Tu(i)):$m(sn,a.stateNode));break;case 4:u=sn,d=gr,sn=a.stateNode.containerInfo,gr=!0,ns(n,i,a),sn=u,gr=d;break;case 0:case 11:case 14:case 15:$t||ks(2,a,i),$t||ks(4,a,i),ns(n,i,a);break;case 1:$t||(pr(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&n_(a,i,u)),ns(n,i,a);break;case 21:ns(n,i,a);break;case 22:$t||pr(a,i),$t=(u=$t)||a.memoizedState!==null,ns(n,i,a),$t=u;break;default:ns(n,i,a)}}function h_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Tu(n)}catch(a){Nt(i,i.return,a)}}function sA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new a_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new a_),i;default:throw Error(s(435,n.tag))}}function pm(n,i){var a=sA(n);i.forEach(function(u){var d=vA.bind(null,n,u);a.has(u)||(a.add(u),u.then(d,d))})}function Pr(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],p=n,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:case 5:sn=S.stateNode,gr=!1;break e;case 3:sn=S.stateNode.containerInfo,gr=!0;break e;case 4:sn=S.stateNode.containerInfo,gr=!0;break e}S=S.return}if(sn===null)throw Error(s(160));c_(p,T,d),sn=null,gr=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)d_(i,n),i=i.sibling}var Wr=null;function d_(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pr(i,n),kr(n),u&4&&(ks(3,n,n.return),ru(3,n),ks(5,n,n.return));break;case 1:Pr(i,n),kr(n),u&512&&($t||a===null||pr(a,a.return)),u&64&&ts&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=Wr;if(Pr(i,n),kr(n),u&512&&($t||a===null||pr(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Xn]||p[De]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),jn(p,u,a),p[De]=n,Et(p),u=p;break e;case"link":var T=rE("link","href",d).get(u+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}p=d.createElement(u),jn(p,u,a),d.head.appendChild(p);break;case"meta":if(T=rE("meta","content",d).get(u+(a.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}p=d.createElement(u),jn(p,u,a),d.head.appendChild(p);break;default:throw Error(s(468,u))}p[De]=n,Et(p),u=p}n.stateNode=u}else iE(d,n.type,n.stateNode);else n.stateNode=nE(d,u,n.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?iE(d,n.type,n.stateNode):nE(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&i_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){d=n.stateNode,p=n.memoizedProps;try{for(var D=d.firstChild;D;){var q=D.nextSibling,ie=D.nodeName;D[Xn]||ie==="HEAD"||ie==="BODY"||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=q}for(var de=n.type,J=d.attributes;J.length;)d.removeAttributeNode(J[0]);jn(d,de,p),d[De]=n,d[Me]=p}catch(je){Nt(n,n.return,je)}}case 5:if(Pr(i,n),kr(n),u&512&&($t||a===null||pr(a,a.return)),n.flags&32){d=n.stateNode;try{Rr(d,"")}catch(je){Nt(n,n.return,je)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,i_(n,d,a!==null?a.memoizedProps:d)),u&1024&&(mm=!0);break;case 6:if(Pr(i,n),kr(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(je){Nt(n,n.return,je)}}break;case 3:if(Sh=null,d=Wr,Wr=bh(i.containerInfo),Pr(i,n),Wr=d,kr(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Tu(i.containerInfo)}catch(je){Nt(n,n.return,je)}mm&&(mm=!1,f_(n));break;case 4:u=Wr,Wr=bh(n.stateNode.containerInfo),Pr(i,n),kr(n),Wr=u;break;case 12:Pr(i,n),kr(n);break;case 13:Pr(i,n),kr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sm=ne()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,pm(n,u)));break;case 22:if(u&512&&($t||a===null||pr(a,a.return)),D=n.memoizedState!==null,q=a!==null&&a.memoizedState!==null,ie=ts,de=$t,ts=ie||D,$t=de||q,Pr(i,n),$t=de,ts=ie,kr(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=ts||$t,a===null||q||i||Lo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){q=a=i;try{if(d=q.stateNode,D)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=q.stateNode,S=q.memoizedProps.style;var re=S!=null&&S.hasOwnProperty("display")?S.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(je){Nt(q,q.return,je)}}}else if(i.tag===6){if(a===null){q=i;try{q.stateNode.nodeValue=D?"":q.memoizedProps}catch(je){Nt(q,q.return,je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,pm(n,a))));break;case 19:Pr(i,n),kr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,pm(n,u)));break;case 21:break;default:Pr(i,n),kr(n)}}function kr(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(s_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var d=u.stateNode,p=dm(n);oh(n,p,d);break;case 5:var T=u.stateNode;u.flags&32&&(Rr(T,""),u.flags&=-33);var S=dm(n);oh(n,S,T);break;case 3:case 4:var D=u.stateNode.containerInfo,q=dm(n);fm(n,q,D);break;default:throw Error(s(161))}}}catch(ie){Nt(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function f_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;f_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function rs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(n,i.alternate,i),i=i.sibling}function Lo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ks(4,i,i.return),Lo(i);break;case 1:pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&n_(i,i.return,a),Lo(i);break;case 26:case 27:case 5:pr(i,i.return),Lo(i);break;case 22:pr(i,i.return),i.memoizedState===null&&Lo(i);break;default:Lo(i)}n=n.sibling}}function Ls(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=n,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ls(d,p,a),ru(4,p);break;case 1:if(Ls(d,p,a),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Nt(u,u.return,q)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Jv(D[d],S)}catch(q){Nt(u,u.return,q)}}a&&T&64&&t_(p),$a(p,p.return);break;case 26:case 27:case 5:Ls(d,p,a),a&&u===null&&T&4&&r_(p),$a(p,p.return);break;case 12:Ls(d,p,a);break;case 13:Ls(d,p,a),a&&T&4&&h_(d,p);break;case 22:p.memoizedState===null&&Ls(d,p,a),$a(p,p.return);break;default:Ls(d,p,a)}i=i.sibling}}function gm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Kl(a))}function ym(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Kl(n))}function Us(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(n,i,a,u),i=i.sibling}function m_(n,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Us(n,i,a,u),d&2048&&ru(9,i);break;case 3:Us(n,i,a,u),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Kl(n)));break;case 12:if(d&2048){Us(n,i,a,u),n=i.stateNode;try{var p=i.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Nt(i,i.return,D)}}else Us(n,i,a,u);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?Us(n,i,a,u):iu(n,i):p._visibility&4?Us(n,i,a,u):(p._visibility|=4,Uo(n,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&gm(i.alternate,i);break;case 24:Us(n,i,a,u),d&2048&&ym(i.alternate,i);break;default:Us(n,i,a,u)}}function Uo(n,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,T=i,S=a,D=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:Uo(p,T,S,D,d),ru(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&4?Uo(p,T,S,D,d):iu(p,T):(ie._visibility|=4,Uo(p,T,S,D,d)),d&&q&2048&&gm(T.alternate,T);break;case 24:Uo(p,T,S,D,d),d&&q&2048&&ym(T.alternate,T);break;default:Uo(p,T,S,D,d)}i=i.sibling}}function iu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,d=u.flags;switch(u.tag){case 22:iu(a,u),d&2048&&gm(u.alternate,u);break;case 24:iu(a,u),d&2048&&ym(u.alternate,u);break;default:iu(a,u)}i=i.sibling}}var su=8192;function zo(n){if(n.subtreeFlags&su)for(n=n.child;n!==null;)p_(n),n=n.sibling}function p_(n){switch(n.tag){case 26:zo(n),n.flags&su&&n.memoizedState!==null&&KA(Wr,n.memoizedState,n.memoizedProps);break;case 5:zo(n);break;case 3:case 4:var i=Wr;Wr=bh(n.stateNode.containerInfo),zo(n),Wr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=su,su=16777216,zo(n),su=i):zo(n));break;default:zo(n)}}function g_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function au(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];bn=u,v_(u,n)}g_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)y_(n),n=n.sibling}function y_(n){switch(n.tag){case 0:case 11:case 15:au(n),n.flags&2048&&ks(9,n,n.return);break;case 3:au(n);break;case 12:au(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,lh(n)):au(n);break;default:au(n)}}function lh(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];bn=u,v_(u,n)}g_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ks(8,i,i.return),lh(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,lh(i));break;default:lh(i)}n=n.sibling}}function v_(n,i){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:ks(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,bn=u;else e:for(a=n;bn!==null;){u=bn;var d=u.sibling,p=u.return;if(u_(u),u===a){bn=null;break e}if(d!==null){d.return=p,bn=d;break e}bn=p}}}function aA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(n,i,a,u){return new aA(n,i,a,u)}function vm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zs(n,i){var a=n.alternate;return a===null?(a=Lr(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function __(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function uh(n,i,a,u,d,p){var T=0;if(u=n,typeof n=="function")vm(n)&&(T=1);else if(typeof n=="string")T=GA(n,a,Dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case g:return Ka(a.children,d,p,i);case y:T=8,d|=24;break;case _:return n=Lr(12,a,i,d|2),n.elementType=_,n.lanes=p,n;case V:return n=Lr(13,a,i,d),n.elementType=V,n.lanes=p,n;case j:return n=Lr(19,a,i,d),n.elementType=j,n.lanes=p,n;case ee:return E_(a,d,p,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case R:T=10;break e;case x:T=9;break e;case N:T=11;break e;case Y:T=14;break e;case z:T=16,u=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Lr(T,a,i,d),i.elementType=n,i.type=u,i.lanes=p,i}function Ka(n,i,a,u){return n=Lr(7,n,u,i),n.lanes=a,n}function E_(n,i,a,u){n=Lr(22,n,u,i),n.elementType=ee,n.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=d._current;if(p===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var T=Cs(p,2);T!==null&&(d._pendingVisibility|=2,er(T,p,2))}},attach:function(){var p=d._current;if(p===null)throw Error(s(456));if(d._pendingVisibility&2){var T=Cs(p,2);T!==null&&(d._pendingVisibility&=-3,er(T,p,2))}}};return n.stateNode=d,n}function _m(n,i,a){return n=Lr(6,n,null,i),n.lanes=a,n}function Em(n,i,a){return i=Lr(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function is(n){n.flags|=4}function T_(n,i){if(i.type!=="stylesheet"||i.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!sE(i)){if(i=Vr.current,i!==null&&((pt&4194176)===pt?Si!==null:(pt&62914560)!==pt&&!(pt&536870912)||i!==Si))throw ql=Af,Ly;n.flags|=8192}}function ch(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?U():536870912,n.lanes|=i,Fo|=i)}function ou(n,i){if(!vt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function oA(n,i,a){var u=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return Bt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),es(dn),sr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(zl(i)?is(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Xr!==null&&(Cm(Xr),Xr=null))),Bt(i),null;case 26:return a=i.memoizedState,n===null?(is(i),a!==null?(Bt(i),T_(i,a)):(Bt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(is(i),Bt(i),T_(i,a)):(Bt(i),i.flags&=-16777217):(n.memoizedProps!==u&&is(i),Bt(i),i.flags&=-16777217),null;case 27:ci(i),a=kn.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&is(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Bt(i),null}n=Dt.current,zl(i)?Py(i):(n=W_(d,u,a),i.stateNode=n,is(i))}return Bt(i),null;case 5:if(ci(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&is(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Bt(i),null}if(n=Dt.current,zl(i))Py(i);else{switch(d=Th(kn.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}n[De]=i,n[Me]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(jn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&is(i)}}return Bt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&is(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=kn.current,zl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,d=Jn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[De]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||G_(n.nodeValue,a)),n||ka(i)}else n=Th(n).createTextNode(u),n[De]=i,i.stateNode=n}return Bt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=zl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[De]=i}else Bl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Bt(i),d=!1}else Xr!==null&&(Cm(Xr),Xr=null),d=!0;if(!d)return i.flags&256?(Xi(i),i):(Xi(i),null)}if(Xi(i),i.flags&128)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ch(i,i.updateQueue),Bt(i),null;case 4:return sr(),n===null&&Um(i.stateNode.containerInfo),Bt(i),null;case 10:return es(i.type),Bt(i),null;case 19:if(wt(hn),d=i.memoizedState,d===null)return Bt(i),null;if(u=(i.flags&128)!==0,p=d.rendering,p===null)if(u)ou(d,!1);else{if(Kt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(p=Kc(n),p!==null){for(i.flags|=128,ou(d,!1),n=p.updateQueue,i.updateQueue=n,ch(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)__(a,n),a=a.sibling;return He(hn,hn.current&1|2),i.child}n=n.sibling}d.tail!==null&&ne()>hh&&(i.flags|=128,u=!0,ou(d,!1),i.lanes=4194304)}else{if(!u)if(n=Kc(p),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,ch(i,n),ou(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!vt)return Bt(i),null}else 2*ne()-d.renderingStartTime>hh&&a!==536870912&&(i.flags|=128,u=!0,ou(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(n=d.last,n!==null?n.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=ne(),i.sibling=null,n=hn.current,He(hn,u?n&1|2:n&1),i):(Bt(i),null);case 22:case 23:return Xi(i),Rf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?a&536870912&&!(i.flags&128)&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),a=i.updateQueue,a!==null&&ch(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&wt(Ua),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),es(dn),Bt(i),null;case 25:return null}throw Error(s(156,i.tag))}function lA(n,i){switch(xf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return es(dn),sr(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 13:if(Xi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return wt(hn),null;case 4:return sr(),null;case 10:return es(i.type),null;case 22:case 23:return Xi(i),Rf(),n!==null&&wt(Ua),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return es(dn),null;case 25:return null;default:return null}}function b_(n,i){switch(xf(i),i.tag){case 3:es(dn),sr();break;case 26:case 27:case 5:ci(i);break;case 4:sr();break;case 13:Xi(i);break;case 19:wt(hn);break;case 10:es(i.type);break;case 22:case 23:Xi(i),Rf(),n!==null&&wt(Ua);break;case 24:es(dn)}}var uA={getCacheForType:function(n){var i=Un(dn),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},cA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,jt=null,it=null,pt=0,Mt=0,yr=null,ss=!1,Bo=!1,Tm=!1,as=0,Kt=0,Bs=0,Qa=0,bm=0,Ur=0,Fo=0,lu=null,wi=null,xm=!1,Sm=0,hh=1/0,dh=null,Fs=null,fh=!1,Ya=null,uu=0,Am=0,wm=null,cu=0,Rm=null;function vr(){if(Ft&2&&pt!==0)return pt&-pt;if(w.T!==null){var n=jo;return n!==0?n:Vm()}return we()}function x_(){Ur===0&&(Ur=!(pt&536870912)||vt?Ta():536870912);var n=Vr.current;return n!==null&&(n.flags|=32),Ur}function er(n,i,a){(n===jt&&Mt===2||n.cancelPendingCommit!==null)&&(Ho(n,0),os(n,pt,Ur,!1)),X(n,a),(!(Ft&2)||n!==jt)&&(n===jt&&(!(Ft&2)&&(Qa|=a),Kt===4&&os(n,pt,Ur,!1)),Ri(n))}function S_(n,i,a){if(Ft&6)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||dr(n,i),d=u?fA(n,i):Dm(n,i,!0),p=u;do{if(d===0){Bo&&!u&&os(n,i,0,!1);break}else if(d===6)os(n,i,0,!ss);else{if(a=n.current.alternate,p&&!hA(a)){d=Dm(n,i,!1),p=!1;continue}if(d===2){if(p=i,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=n;d=lu;var D=S.current.memoizedState.isDehydrated;if(D&&(Ho(S,T).flags|=256),T=Dm(S,T,!1),T!==2){if(Tm&&!D){S.errorRecoveryDisabledLanes|=p,Qa|=p,d=4;break e}p=wi,wi=d,p!==null&&Cm(p)}d=T}if(p=!1,d!==2)continue}}if(d===1){Ho(n,0),os(n,i,0,!0);break}e:{switch(u=n,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){os(u,i,Ur,!ss);break e}break;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(p=Sm+300-ne(),10<p)){if(os(u,i,Ur,!ss),In(u,0)!==0)break e;u.timeoutHandle=Q_(A_.bind(null,u,a,wi,dh,xm,i,Ur,Qa,Fo,ss,2,-0,0),p);break e}A_(u,a,wi,dh,xm,i,Ur,Qa,Fo,ss,0,-0,0)}}break}while(!0);Ri(n)}function Cm(n){wi===null?wi=n:wi.push.apply(wi,n)}function A_(n,i,a,u,d,p,T,S,D,q,ie,de,J){var re=i.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:$A},p_(i),i=QA(),i!==null)){n.cancelPendingCommit=i(O_.bind(null,n,a,u,d,T,S,D,1,de,J)),os(n,p,T,!q);return}O_(n,a,u,d,T,S,D,ie,de,J)}function hA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],p=d.getSnapshot;d=d.value;try{if(!mr(p(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(n,i,a,u){i&=~bm,i&=~Qa,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var d=i;0<d;){var p=31-qt(d),T=1<<p;u[p]=-1,d&=~T}a!==0&&Te(n,a,i)}function mh(){return Ft&6?!0:(hu(0),!1)}function Im(){if(it!==null){if(Mt===0)var n=it.return;else n=it,Ji=qa=null,Vf(n),Do=null,Gl=0,n=it;for(;n!==null;)b_(n.alternate,n),n=n.return;it=null}}function Ho(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,NA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Im(),jt=n,it=a=zs(n.current,null),pt=i,Mt=0,yr=null,ss=!1,Bo=dr(n,i),Tm=!1,Fo=Ur=bm=Qa=Bs=Kt=0,wi=lu=null,xm=!1,i&8&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var d=31-qt(u),p=1<<d;i|=n[d],u&=~p}return as=i,Lc(),a}function w_(n,i){nt=null,w.H=Ai,i===Hl?(i=By(),Mt=3):i===Ly?(i=By(),Mt=4):Mt=i===Uv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yr=i,it===null&&(Kt=1,ih(n,Or(i,n.current)))}function R_(){var n=w.H;return w.H=Ai,n===null?Ai:n}function C_(){var n=w.A;return w.A=uA,n}function Nm(){Kt=4,ss||(pt&4194176)!==pt&&Vr.current!==null||(Bo=!0),!(Bs&134217727)&&!(Qa&134217727)||jt===null||os(jt,pt,Ur,!1)}function Dm(n,i,a){var u=Ft;Ft|=2;var d=R_(),p=C_();(jt!==n||pt!==i)&&(dh=null,Ho(n,i)),i=!1;var T=Kt;e:do try{if(Mt!==0&&it!==null){var S=it,D=yr;switch(Mt){case 8:Im(),T=6;break e;case 3:case 2:case 6:Vr.current===null&&(i=!0);var q=Mt;if(Mt=0,yr=null,qo(n,S,D,q),a&&Bo){T=0;break e}break;default:q=Mt,Mt=0,yr=null,qo(n,S,D,q)}}dA(),T=Kt;break}catch(ie){w_(n,ie)}while(!0);return i&&n.shellSuspendCounter++,Ji=qa=null,Ft=u,w.H=d,w.A=p,it===null&&(jt=null,pt=0,Lc()),T}function dA(){for(;it!==null;)I_(it)}function fA(n,i){var a=Ft;Ft|=2;var u=R_(),d=C_();jt!==n||pt!==i?(dh=null,hh=ne()+500,Ho(n,i)):Bo=dr(n,i);e:do try{if(Mt!==0&&it!==null){i=it;var p=yr;t:switch(Mt){case 1:Mt=0,yr=null,qo(n,i,p,1);break;case 2:if(Uy(p)){Mt=0,yr=null,N_(i);break}i=function(){Mt===2&&jt===n&&(Mt=7),Ri(n)},p.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:Uy(p)?(Mt=0,yr=null,N_(i)):(Mt=0,yr=null,qo(n,i,p,7));break;case 5:var T=null;switch(it.tag){case 26:T=it.memoizedState;case 5:case 27:var S=it;if(!T||sE(T)){Mt=0,yr=null;var D=S.sibling;if(D!==null)it=D;else{var q=S.return;q!==null?(it=q,ph(q)):it=null}break t}}Mt=0,yr=null,qo(n,i,p,5);break;case 6:Mt=0,yr=null,qo(n,i,p,6);break;case 8:Im(),Kt=6;break e;default:throw Error(s(462))}}mA();break}catch(ie){w_(n,ie)}while(!0);return Ji=qa=null,w.H=u,w.A=d,Ft=a,it!==null?0:(jt=null,pt=0,Lc(),Kt)}function mA(){for(;it!==null&&!P();)I_(it)}function I_(n){var i=Wv(n.alternate,n,as);n.memoizedProps=n.pendingProps,i===null?ph(n):it=i}function N_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Gv(a,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Gv(a,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Vf(i);default:b_(a,i),i=it=__(i,as),i=Wv(a,i,as)}n.memoizedProps=n.pendingProps,i===null?ph(n):it=i}function qo(n,i,a,u){Ji=qa=null,Vf(i),Do=null,Gl=0;var d=i.return;try{if(nA(n,d,i,a,pt)){Kt=1,ih(n,Or(a,n.current)),it=null;return}}catch(p){if(d!==null)throw it=d,p;Kt=1,ih(n,Or(a,n.current)),it=null;return}i.flags&32768?(vt||u===1?n=!0:Bo||pt&536870912?n=!1:(ss=n=!0,(u===2||u===3||u===6)&&(u=Vr.current,u!==null&&u.tag===13&&(u.flags|=16384))),D_(i,n)):ph(i)}function ph(n){var i=n;do{if(i.flags&32768){D_(i,ss);return}n=i.return;var a=oA(i.alternate,i,as);if(a!==null){it=a;return}if(i=i.sibling,i!==null){it=i;return}it=i=n}while(i!==null);Kt===0&&(Kt=5)}function D_(n,i){do{var a=lA(n.alternate,n);if(a!==null){a.flags&=32767,it=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){it=n;return}it=n=a}while(n!==null);Kt=6,it=null}function O_(n,i,a,u,d,p,T,S,D,q){var ie=w.T,de=_e.p;try{_e.p=2,w.T=null,pA(n,i,a,u,de,d,p,T,S,D,q)}finally{w.T=ie,_e.p=de}}function pA(n,i,a,u,d,p,T,S){do Go();while(Ya!==null);if(Ft&6)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var q=D.lanes|D.childLanes;if(q|=Ef,fe(n,u,q,p,T,S),n===jt&&(it=jt=null,pt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||fh||(fh=!0,Am=q,wm=a,_A(be,function(){return Go(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=w.T,w.T=null,p=_e.p,_e.p=2,T=Ft,Ft|=4,iA(n,D),d_(D,n),US(Hm,n.containerInfo),Rh=!!Fm,Hm=Fm=null,n.current=D,l_(n,D.alternate,D),Z(),Ft=T,_e.p=p,w.T=a):n.current=D,fh?(fh=!1,Ya=n,uu=u):j_(n,q),q=n.pendingLanes,q===0&&(Fs=null),Ui(D.stateNode),Ri(n),i!==null)for(d=n.onRecoverableError,D=0;D<i.length;D++)q=i[D],d(q.value,{componentStack:q.stack});return uu&3&&Go(),q=n.pendingLanes,u&4194218&&q&42?n===Rm?cu++:(cu=0,Rm=n):cu=0,hu(0),null}function j_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Kl(i)))}function Go(){if(Ya!==null){var n=Ya,i=Am;Am=0;var a=Ue(uu),u=w.T,d=_e.p;try{if(_e.p=32>a?32:a,w.T=null,Ya===null)var p=!1;else{a=wm,wm=null;var T=Ya,S=uu;if(Ya=null,uu=0,Ft&6)throw Error(s(331));var D=Ft;if(Ft|=4,y_(T.current),m_(T,T.current,S,a),Ft=D,hu(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Yn,T)}catch{}p=!0}return p}finally{_e.p=d,w.T=u,j_(n,i)}}return!1}function M_(n,i,a){i=Or(a,i),i=Yf(n.stateNode,i,2),n=Ps(n,i,2),n!==null&&(X(n,2),Ri(n))}function Nt(n,i,a){if(n.tag===3)M_(n,n,a);else for(;i!==null;){if(i.tag===3){M_(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fs===null||!Fs.has(u))){n=Or(a,n),a=kv(2),u=Ps(i,a,2),u!==null&&(Lv(a,u,i,n),X(u,2),Ri(u));break}}i=i.return}}function Om(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new cA;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(Tm=!0,d.add(a),n=gA.bind(null,n,i,a),i.then(n,n))}function gA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,jt===n&&(pt&a)===a&&(Kt===4||Kt===3&&(pt&62914560)===pt&&300>ne()-Sm?!(Ft&2)&&Ho(n,0):bm|=a,Fo===pt&&(Fo=0)),Ri(n)}function V_(n,i){i===0&&(i=U()),n=Cs(n,i),n!==null&&(X(n,i),Ri(n))}function yA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(n,a)}function vA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),V_(n,a)}function _A(n,i){return di(n,i)}var gh=null,$o=null,jm=!1,yh=!1,Mm=!1,Xa=0;function Ri(n){n!==$o&&n.next===null&&($o===null?gh=$o=n:$o=$o.next=n),yh=!0,jm||(jm=!0,TA(EA))}function hu(n,i){if(!Mm&&yh){Mm=!0;do for(var a=!1,u=gh;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var T=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-qt(42|n)+1)-1,p&=d&~(T&~S),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,L_(u,p))}else p=pt,p=In(u,u===jt?p:0),!(p&3)||dr(u,p)||(a=!0,L_(u,p));u=u.next}while(a);Mm=!1}}function EA(){yh=jm=!1;var n=0;Xa!==0&&(IA()&&(n=Xa),Xa=0);for(var i=ne(),a=null,u=gh;u!==null;){var d=u.next,p=P_(u,i);p===0?(u.next=null,a===null?gh=d:a.next=d,d===null&&($o=a)):(a=u,(n!==0||p&3)&&(yh=!0)),u=d}hu(n)}function P_(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-qt(p),S=1<<T,D=d[T];D===-1?(!(S&a)||S&u)&&(d[T]=xs(S,i)):D<=i&&(n.expiredLanes|=S),p&=~S}if(i=jt,a=pt,a=In(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Mt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&$r(u),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||dr(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&$r(u),Ue(a)){case 2:case 8:a=ae;break;case 32:a=be;break;case 268435456:a=Rt;break;default:a=be}return u=k_.bind(null,n),a=di(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&$r(u),n.callbackPriority=2,n.callbackNode=null,2}function k_(n,i){var a=n.callbackNode;if(Go()&&n.callbackNode!==a)return null;var u=pt;return u=In(n,n===jt?u:0),u===0?null:(S_(n,u,i),P_(n,ne()),n.callbackNode!=null&&n.callbackNode===a?k_.bind(null,n):null)}function L_(n,i){if(Go())return null;S_(n,i,!0)}function TA(n){DA(function(){Ft&6?di(he,n):n()})}function Vm(){return Xa===0&&(Xa=Ta()),Xa}function U_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:gi(""+n)}function z_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function bA(n,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var p=U_((d[Me]||null).action),T=u.submitter;T&&(i=(i=T[Me]||null)?U_(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var S=new yo("action","action",null,u,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xa!==0){var D=T?z_(d,T):new FormData(d);qf(a,{pending:!0,data:D,method:d.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=T?z_(d,T):new FormData(d),qf(a,{pending:!0,data:D,method:d.method,action:p},p,D))},currentTarget:d}]})}}for(var Pm=0;Pm<Oy.length;Pm++){var km=Oy[Pm],xA=km.toLowerCase(),SA=km[0].toUpperCase()+km.slice(1);Yr(xA,"on"+SA)}Yr(Ry,"onAnimationEnd"),Yr(Cy,"onAnimationIteration"),Yr(Iy,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(BS,"onTransitionRun"),Yr(FS,"onTransitionStart"),Yr(HS,"onTransitionCancel"),Yr(Ny,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function B_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var T=u.length-1;0<=T;T--){var S=u[T],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=q;try{p(d)}catch(ie){rh(ie)}d.currentTarget=null,p=D}else for(T=0;T<u.length;T++){if(S=u[T],D=S.instance,q=S.currentTarget,S=S.listener,D!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=q;try{p(d)}catch(ie){rh(ie)}d.currentTarget=null,p=D}}}}function ct(n,i){var a=i[Pt];a===void 0&&(a=i[Pt]=new Set);var u=n+"__bubble";a.has(u)||(F_(i,n,2,!1),a.add(u))}function Lm(n,i,a){var u=0;i&&(u|=4),F_(a,n,u,i)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Um(n){if(!n[vh]){n[vh]=!0,mi.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||Lm(a,!1,n),Lm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[vh]||(i[vh]=!0,Lm("selectionchange",!1,i))}}function F_(n,i,a,u){switch(hE(i)){case 2:var d=WA;break;case 8:d=ZA;break;default:d=Zm}a=d.bind(null,i,a,n),d=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function zm(n,i,a,u,d){var p=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&(D=T.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;T=T.return}for(;S!==null;){if(T=Yt(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=p=T;continue e}S=S.parentNode}}u=u.return}xc(function(){var q=p,ie=go(a),de=[];e:{var J=Dy.get(n);if(J!==void 0){var re=yo,je=n;switch(n){case"keypress":if(vi(a)===0)break e;case"keydown":case"keyup":re=xo;break;case"focusin":je="focus",re=Eo;break;case"focusout":je="blur",re=Eo;break;case"beforeblur":case"afterblur":re=Eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Dc;break;case Ry:case Cy:case Iy:re=To;break;case Ny:re=jc;break;case"scroll":case"scrollend":re=Sc;break;case"wheel":re=So;break;case"copy":case"cut":case"paste":re=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Pl;break;case"toggle":case"beforetoggle":re=Vc}var Ke=(i&4)!==0,Qt=!Ke&&(n==="scroll"||n==="scrollend"),K=Ke?J!==null?J+"Capture":null:J;Ke=[];for(var H=q,W;H!==null;){var oe=H;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||K===null||(oe=wa(H,K),oe!=null&&Ke.push(fu(H,oe,W))),Qt)break;H=H.return}0<Ke.length&&(J=new re(J,je,null,a,ie),de.push({event:J,listeners:Ke}))}}if(!(i&7)){e:{if(J=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",J&&a!==Cr&&(je=a.relatedTarget||a.fromElement)&&(Yt(je)||je[dt]))break e;if((re||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,re?(je=a.relatedTarget||a.toElement,re=q,je=je?Yt(je):null,je!==null&&(Qt=xe(je),Ke=je.tag,je!==Qt||Ke!==5&&Ke!==27&&Ke!==6)&&(je=null)):(re=null,je=q),re!==je)){if(Ke=Nr,oe="onMouseLeave",K="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=Pl,oe="onPointerLeave",K="onPointerEnter",H="pointer"),Qt=re==null?J:Sr(re),W=je==null?J:Sr(je),J=new Ke(oe,H+"leave",re,a,ie),J.target=Qt,J.relatedTarget=W,oe=null,Yt(ie)===q&&(Ke=new Ke(K,H+"enter",je,a,ie),Ke.target=W,Ke.relatedTarget=Qt,oe=Ke),Qt=oe,re&&je)t:{for(Ke=re,K=je,H=0,W=Ke;W;W=Ko(W))H++;for(W=0,oe=K;oe;oe=Ko(oe))W++;for(;0<H-W;)Ke=Ko(Ke),H--;for(;0<W-H;)K=Ko(K),W--;for(;H--;){if(Ke===K||K!==null&&Ke===K.alternate)break t;Ke=Ko(Ke),K=Ko(K)}Ke=null}else Ke=null;re!==null&&H_(de,J,re,Ke,!1),je!==null&&Qt!==null&&H_(de,Qt,je,Ke,!0)}}e:{if(J=q?Sr(q):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var Ne=gy;else if(cn(J))if(yy)Ne=kS;else{Ne=VS;var rt=MS}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?q&&Il(q.elementType)&&(Ne=gy):Ne=PS;if(Ne&&(Ne=Ne(n,q))){Ki(de,Ne,a,ie);break e}rt&&rt(n,J,q),n==="focusout"&&q&&J.type==="number"&&q.memoizedProps.value!=null&&po(J,"number",J.value)}switch(rt=q?Sr(q):window,n){case"focusin":(cn(rt)||rt.contentEditable==="true")&&(Ao=rt,yf=q,Ul=null);break;case"focusout":Ul=yf=Ao=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Ay(de,a,ie);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Ay(de,a,ie)}var Pe;if(Ti)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ft?te(n,a)&&(ze="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(E&&a.locale!=="ko"&&(ft||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ft&&(Pe=Dl()):(yi=ie,Rs="value"in yi?yi.value:yi.textContent,ft=!0)),rt=_h(q,ze),0<rt.length&&(ze=new Ml(ze,n,null,a,ie),de.push({event:ze,listeners:rt}),Pe?ze.data=Pe:(Pe=ge(a),Pe!==null&&(ze.data=Pe)))),(Pe=v?un(n,a):mt(n,a))&&(ze=_h(q,"onBeforeInput"),0<ze.length&&(rt=new Ml("onBeforeInput","beforeinput",null,a,ie),de.push({event:rt,listeners:ze}),rt.data=Pe)),bA(de,n,q,a,ie)}B_(de,i)})}function fu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function _h(n,i){for(var a=i+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=wa(n,a),d!=null&&u.unshift(fu(n,d,p)),d=wa(n,i),d!=null&&u.push(fu(n,d,p))),n=n.return}return u}function Ko(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function H_(n,i,a,u,d){for(var p=i._reactName,T=[];a!==null&&a!==u;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||q===null||(D=q,d?(q=wa(a,p),q!=null&&T.unshift(fu(a,q,D))):d||(q=wa(a,p),q!=null&&T.push(fu(a,q,D)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var wA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function q_(n){return(typeof n=="string"?n:""+n).replace(wA,`
`).replace(RA,"")}function G_(n,i){return i=q_(i),q_(n)===i}function Eh(){}function It(n,i,a,u,d,p){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Rr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Rr(n,""+u);break;case"className":Ss(n,"class",u);break;case"tabIndex":Ss(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(n,a,u);break;case"style":bc(n,u,p);break;case"data":if(i!=="object"){Ss(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=gi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&It(n,i,"name",d.name,d,null),It(n,i,"formEncType",d.formEncType,d,null),It(n,i,"formMethod",d.formMethod,d,null),It(n,i,"formTarget",d.formTarget,d,null)):(It(n,i,"encType",d.encType,d,null),It(n,i,"method",d.method,d,null),It(n,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=gi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Eh);break;case"onScroll":u!=null&&ct("scroll",n);break;case"onScrollEnd":u!=null&&ct("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=gi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":ct("beforetoggle",n),ct("toggle",n),pi(n,"popover",u);break;case"xlinkActuate":wr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,pi(n,a,u))}}function Bm(n,i,a,u,d,p){switch(a){case"style":bc(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Rr(n,u):(typeof u=="number"||typeof u=="bigint")&&Rr(n,""+u);break;case"onScroll":u!=null&&ct("scroll",n);break;case"onScrollEnd":u!=null&&ct("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),p=n[Me]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(i,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,d);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):pi(n,a,u)}}}function jn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",n),ct("load",n);var u=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(n,i,p,T,a,null)}}d&&It(n,i,"srcSet",a.srcSet,a,null),u&&It(n,i,"src",a.src,a,null);return;case"input":ct("invalid",n);var S=p=T=d=null,D=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var ie=a[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":T=ie;break;case"checked":D=ie;break;case"defaultChecked":q=ie;break;case"value":p=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:It(n,i,u,ie,a,null)}}Sa(n,p,S,D,q,T,d,!1),xa(n);return;case"select":ct("invalid",n),u=T=p=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:It(n,i,d,S,a,null)}i=p,a=T,n.multiple=!!u,i!=null?yt(n,!!u,i,!1):a!=null&&yt(n,!!u,a,!0);return;case"textarea":ct("invalid",n),p=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:It(n,i,T,S,a,null)}ws(n,u,d,p),xa(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:It(n,i,D,u,a,null)}return;case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":ct("load",n);break;case"video":case"audio":for(u=0;u<du.length;u++)ct(du[u],n);break;case"image":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"embed":case"source":case"link":ct("error",n),ct("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(n,i,q,u,a,null)}return;default:if(Il(i)){for(ie in a)a.hasOwnProperty(ie)&&(u=a[ie],u!==void 0&&Bm(n,i,ie,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&It(n,i,S,u,a,null))}function CA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,S=null,D=null,q=null,ie=null;for(re in a){var de=a[re];if(a.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":D=de;default:u.hasOwnProperty(re)||It(n,i,re,null,u,de)}}for(var J in u){var re=u[J];if(de=a[J],u.hasOwnProperty(J)&&(re!=null||de!=null))switch(J){case"type":p=re;break;case"name":d=re;break;case"checked":q=re;break;case"defaultChecked":ie=re;break;case"value":T=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==de&&It(n,i,J,re,u,de)}}As(n,T,S,D,q,ie,p,d);return;case"select":re=T=S=J=null;for(p in a)if(D=a[p],a.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":re=D;default:u.hasOwnProperty(p)||It(n,i,p,null,u,D)}for(d in u)if(p=u[d],D=a[d],u.hasOwnProperty(d)&&(p!=null||D!=null))switch(d){case"value":J=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==D&&It(n,i,d,p,u,D)}i=S,a=T,u=re,J!=null?yt(n,!!a,J,!1):!!u!=!!a&&(i!=null?yt(n,!!a,i,!0):yt(n,!!a,a?[]:"",!1));return;case"textarea":re=J=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:It(n,i,S,null,u,d)}for(T in u)if(d=u[T],p=a[T],u.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":J=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&It(n,i,T,d,u,p)}Aa(n,J,re);return;case"option":for(var je in a)if(J=a[je],a.hasOwnProperty(je)&&J!=null&&!u.hasOwnProperty(je))switch(je){case"selected":n.selected=!1;break;default:It(n,i,je,null,u,J)}for(D in u)if(J=u[D],re=a[D],u.hasOwnProperty(D)&&J!==re&&(J!=null||re!=null))switch(D){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:It(n,i,D,J,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in a)J=a[Ke],a.hasOwnProperty(Ke)&&J!=null&&!u.hasOwnProperty(Ke)&&It(n,i,Ke,null,u,J);for(q in u)if(J=u[q],re=a[q],u.hasOwnProperty(q)&&J!==re&&(J!=null||re!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:It(n,i,q,J,u,re)}return;default:if(Il(i)){for(var Qt in a)J=a[Qt],a.hasOwnProperty(Qt)&&J!==void 0&&!u.hasOwnProperty(Qt)&&Bm(n,i,Qt,void 0,u,J);for(ie in u)J=u[ie],re=a[ie],!u.hasOwnProperty(ie)||J===re||J===void 0&&re===void 0||Bm(n,i,ie,J,u,re);return}}for(var K in a)J=a[K],a.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&It(n,i,K,null,u,J);for(de in u)J=u[de],re=a[de],!u.hasOwnProperty(de)||J===re||J==null&&re==null||It(n,i,de,J,u,re)}var Fm=null,Hm=null;function Th(n){return n.nodeType===9?n:n.ownerDocument}function $_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function qm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gm=null;function IA(){var n=window.event;return n&&n.type==="popstate"?n===Gm?!1:(Gm=n,!0):(Gm=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(n){return Y_.resolve(null).then(n).catch(OA)}:Q_;function OA(n){setTimeout(function(){throw n})}function $m(n,i){var a=i,u=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){n.removeChild(d),Tu(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);Tu(i)}function Km(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Km(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function jA(n,i,a,u){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Xn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Zr(n.nextSibling),n===null)break}return null}function MA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zr(n.nextSibling),n===null))return null;return n}function Zr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function X_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function W_(n,i,a){switch(i=Th(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var zr=new Map,Z_=new Set;function bh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ls=_e.d;_e.d={f:VA,r:PA,D:kA,C:LA,L:UA,m:zA,X:FA,S:BA,M:HA};function VA(){var n=ls.f(),i=mh();return n||i}function PA(n){var i=tn(n);i!==null&&i.tag===5&&i.type==="form"?Av(i):ls.r(n)}var Qo=typeof document>"u"?null:document;function J_(n,i,a){var u=Qo;if(u&&typeof i=="string"&&i){var d=Gt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Z_.has(d)||(Z_.add(d),n={rel:n,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),jn(i,"link",n),Et(i),u.head.appendChild(i)))}}function kA(n){ls.D(n),J_("dns-prefetch",n,null)}function LA(n,i){ls.C(n,i),J_("preconnect",n,i)}function UA(n,i,a){ls.L(n,i,a);var u=Qo;if(u&&n&&i){var d='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Gt(a.imageSizes)+'"]')):d+='[href="'+Gt(n)+'"]';var p=d;switch(i){case"style":p=Yo(n);break;case"script":p=Xo(n)}zr.has(p)||(n=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),zr.set(p,n),u.querySelector(d)!==null||i==="style"&&u.querySelector(mu(p))||i==="script"&&u.querySelector(pu(p))||(i=u.createElement("link"),jn(i,"link",n),Et(i),u.head.appendChild(i)))}}function zA(n,i){ls.m(n,i);var a=Qo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(n)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Xo(n)}if(!zr.has(p)&&(n=O({rel:"modulepreload",href:n},i),zr.set(p,n),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pu(p)))return}u=a.createElement("link"),jn(u,"link",n),Et(u),a.head.appendChild(u)}}}function BA(n,i,a){ls.S(n,i,a);var u=Qo;if(u&&n){var d=or(u).hoistableStyles,p=Yo(n);i=i||"default";var T=d.get(p);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(mu(p)))S.loading=5;else{n=O({rel:"stylesheet",href:n,"data-precedence":i},a),(a=zr.get(p))&&Qm(n,a);var D=T=u.createElement("link");Et(D),jn(D,"link",n),D._p=new Promise(function(q,ie){D.onload=q,D.onerror=ie}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xh(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(p,T)}}}function FA(n,i){ls.X(n,i);var a=Qo;if(a&&n){var u=or(a).hoistableScripts,d=Xo(n),p=u.get(d);p||(p=a.querySelector(pu(d)),p||(n=O({src:n,async:!0},i),(i=zr.get(d))&&Ym(n,i),p=a.createElement("script"),Et(p),jn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function HA(n,i){ls.M(n,i);var a=Qo;if(a&&n){var u=or(a).hoistableScripts,d=Xo(n),p=u.get(d);p||(p=a.querySelector(pu(d)),p||(n=O({src:n,async:!0,type:"module"},i),(i=zr.get(d))&&Ym(n,i),p=a.createElement("script"),Et(p),jn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function eE(n,i,a,u){var d=(d=kn.current)?bh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Yo(a.href),a=or(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Yo(a.href);var p=or(d).hoistableStyles,T=p.get(n);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=d.querySelector(mu(n)))&&!p._p&&(T.instance=p,T.state.loading=5),zr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zr.set(n,a),p||qA(d,n,a,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xo(a),a=or(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Yo(n){return'href="'+Gt(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function tE(n){return O({},n,{"data-precedence":n.precedence,precedence:null})}function qA(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),jn(i,"link",a),Et(i),n.head.appendChild(i))}function Xo(n){return'[src="'+Gt(n)+'"]'}function pu(n){return"script[async]"+n}function nE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(u)return i.instance=u,Et(u),u;var d=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Et(u),jn(u,"style",d),xh(u,a.precedence,n),i.instance=u;case"stylesheet":d=Yo(a.href);var p=n.querySelector(mu(d));if(p)return i.state.loading|=4,i.instance=p,Et(p),p;u=tE(a),(d=zr.get(d))&&Qm(u,d),p=(n.ownerDocument||n).createElement("link"),Et(p);var T=p;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),jn(p,"link",u),i.state.loading|=4,xh(p,a.precedence,n),i.instance=p;case"script":return p=Xo(a.src),(d=n.querySelector(pu(p)))?(i.instance=d,Et(d),d):(u=a,(d=zr.get(p))&&(u=O({},a),Ym(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),Et(d),jn(d,"link",u),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(u=i.instance,i.state.loading|=4,xh(u,a.precedence,n));return i.instance}function xh(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===i)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Qm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Sh=null;function rE(n,i,a){if(Sh===null){var u=new Map,d=Sh=new Map;d.set(a,u)}else d=Sh,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var p=a[d];if(!(p[Xn]||p[De]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=n+T;var S=u.get(T);S?S.push(p):u.set(T,[p])}}return u}function iE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function GA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sE(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var gu=null;function $A(){}function KA(n,i,a){if(gu===null)throw Error(s(475));var u=gu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var d=Yo(a.href),p=n.querySelector(mu(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Ah.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=p,Et(p);return}p=n.ownerDocument||n,a=tE(a),(d=zr.get(d))&&Qm(a,d),p=p.createElement("link"),Et(p);var T=p;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),jn(p,"link",a),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&!(i.state.loading&3)&&(u.count++,i=Ah.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function QA(){if(gu===null)throw Error(s(475));var n=gu;return n.stylesheets&&n.count===0&&Xm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Xm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Ah(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function Xm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,i.forEach(YA,n),wh=null,Ah.call(n))}function YA(n,i){if(!(i.state.loading&4)){var a=wh.get(n);if(a)var u=a.get(null);else{a=new Map,wh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),p=a.get(T)||u,p===u&&a.set(null,d),a.set(T,d),this.count++,u=Ah.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var yu={$$typeof:R,Provider:null,Consumer:null,_currentValue:Fe,_currentValue2:Fe,_threadCount:0};function XA(n,i,a,u,d,p,T,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$(0),this.hiddenUpdates=$(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function aE(n,i,a,u,d,p,T,S,D,q,ie,de){return n=new XA(n,i,a,T,S,D,q,de),i=1,p===!0&&(i|=24),p=Lr(3,null,null,i),n.current=p,p.stateNode=n,i=Cf(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:i},lm(p),n}function oE(n){return n?(n=Co,n):Co}function lE(n,i,a,u,d,p){d=oE(d),u.context===null?u.context=d:u.pendingContext=d,u=Vs(i),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=Ps(n,u,i),a!==null&&(er(a,n,i),eu(a,n,i))}function uE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Wm(n,i){uE(n,i),(n=n.alternate)&&uE(n,i)}function cE(n){if(n.tag===13){var i=Cs(n,67108864);i!==null&&er(i,n,67108864),Wm(n,67108864)}}var Rh=!0;function WA(n,i,a,u){var d=w.T;w.T=null;var p=_e.p;try{_e.p=2,Zm(n,i,a,u)}finally{_e.p=p,w.T=d}}function ZA(n,i,a,u){var d=w.T;w.T=null;var p=_e.p;try{_e.p=8,Zm(n,i,a,u)}finally{_e.p=p,w.T=d}}function Zm(n,i,a,u){if(Rh){var d=Jm(u);if(d===null)zm(n,i,u,Ch,a),dE(n,u);else if(ew(d,n,i,a,u))u.stopPropagation();else if(dE(n,u),i&4&&-1<JA.indexOf(n)){for(;d!==null;){var p=tn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=ar(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-qt(T);S.entanglements[1]|=D,T&=~D}Ri(p),!(Ft&6)&&(hh=ne()+500,hu(0))}}break;case 13:S=Cs(p,2),S!==null&&er(S,p,2),mh(),Wm(p,2)}if(p=Jm(u),p===null&&zm(n,i,u,Ch,a),p===d)break;d=p}d!==null&&u.stopPropagation()}else zm(n,i,u,null,a)}}function Jm(n){return n=go(n),ep(n)}var Ch=null;function ep(n){if(Ch=null,n=Yt(n),n!==null){var i=xe(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=We(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ch=n,null}function hE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case he:return 2;case ae:return 8;case be:case Ze:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var tp=!1,Hs=null,qs=null,Gs=null,vu=new Map,_u=new Map,$s=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(n,i){switch(n){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(i.pointerId)}}function Eu(n,i,a,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=tn(i),i!==null&&cE(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function ew(n,i,a,u,d){switch(i){case"focusin":return Hs=Eu(Hs,n,i,a,u,d),!0;case"dragenter":return qs=Eu(qs,n,i,a,u,d),!0;case"mouseover":return Gs=Eu(Gs,n,i,a,u,d),!0;case"pointerover":var p=d.pointerId;return vu.set(p,Eu(vu.get(p)||null,n,i,a,u,d)),!0;case"gotpointercapture":return p=d.pointerId,_u.set(p,Eu(_u.get(p)||null,n,i,a,u,d)),!0}return!1}function fE(n){var i=Yt(n.target);if(i!==null){var a=xe(i);if(a!==null){if(i=a.tag,i===13){if(i=We(a),i!==null){n.blockedOn=i,Re(n.priority,function(){if(a.tag===13){var u=vr(),d=Cs(a,u);d!==null&&er(d,a,u),Wm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ih(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Cr=u,a.target.dispatchEvent(u),Cr=null}else return i=tn(a),i!==null&&cE(i),n.blockedOn=a,!1;i.shift()}return!0}function mE(n,i,a){Ih(n)&&a.delete(i)}function tw(){tp=!1,Hs!==null&&Ih(Hs)&&(Hs=null),qs!==null&&Ih(qs)&&(qs=null),Gs!==null&&Ih(Gs)&&(Gs=null),vu.forEach(mE),_u.forEach(mE)}function Nh(n,i){n.blockedOn===i&&(n.blockedOn=null,tp||(tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tw)))}var Dh=null;function pE(n){Dh!==n&&(Dh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dh===n&&(Dh=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],d=n[i+2];if(typeof u!="function"){if(ep(u||a)===null)continue;break}var p=tn(a);p!==null&&(n.splice(i,3),i-=3,qf(p,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Tu(n){function i(D){return Nh(D,n)}Hs!==null&&Nh(Hs,n),qs!==null&&Nh(qs,n),Gs!==null&&Nh(Gs,n),vu.forEach(i),_u.forEach(i);for(var a=0;a<$s.length;a++){var u=$s[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)fE(a),a.blockedOn===null&&$s.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],p=a[u+1],T=d[Me]||null;if(typeof p=="function")T||pE(a);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Me]||null)S=T.formAction;else if(ep(d)!==null)continue}else S=T.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),pE(a)}}}function np(n){this._internalRoot=n}Oh.prototype.render=np.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=vr();lE(a,u,n,i,null,null)},Oh.prototype.unmount=np.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Go(),lE(n.current,2,null,n,null,null),mh(),i[dt]=null}};function Oh(n){this._internalRoot=n}Oh.prototype.unstable_scheduleHydration=function(n){if(n){var i=we();n={blockedOn:null,target:n,priority:i};for(var a=0;a<$s.length&&i!==0&&i<$s[a].priority;a++);$s.splice(a,0,n),a===0&&fE(n)}};var gE=e.version;if(gE!=="19.0.0")throw Error(s(527,gE,"19.0.0"));_e.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ce(i),n=n!==null?Ae(n):null,n=n===null?null:n.stateNode,n};var nw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Yt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Yn=jh.inject(nw),zt=jh}catch{}}return xu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",d=jv,p=Mv,T=Vv,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=aE(n,1,!1,null,null,a,u,d,p,T,S,null),n[dt]=i.current,Um(n.nodeType===8?n.parentNode:n),new np(i)},xu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,d="",p=jv,T=Mv,S=Vv,D=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=aE(n,1,!0,i,a??null,u,d,p,T,S,D,q),i.context=oE(null),a=i.current,u=vr(),d=Vs(u),d.callback=null,Ps(a,d,u),i.current.lanes=u,X(i,u),Ri(i),n[dt]=i.current,Um(n),new Oh(i)},xu.version="19.0.0",xu}var wE;function dw(){if(wE)return sp.exports;wE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sp.exports=hw(),sp.exports}var fw=dw(),Su={},RE;function mw(){if(RE)return Su;RE=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=c,Su.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,R){const N=new l,V=x.length;if(V<2)return N;const j=(R==null?void 0:R.decode)||_;let Y=0;do{const z=x.indexOf("=",Y);if(z===-1)break;const ee=x.indexOf(";",Y),pe=ee===-1?V:ee;if(z>pe){Y=x.lastIndexOf(";",z-1)+1;continue}const se=m(x,Y,z),F=g(x,z,se),M=x.slice(se,F);if(N[M]===void 0){let C=m(x,z+1,pe),w=g(x,pe,C);const O=j(x.slice(C,w));N[M]=O}Y=pe+1}while(Y<V);return N}function m(x,R,N){do{const V=x.charCodeAt(R);if(V!==32&&V!==9)return R}while(++R<N);return N}function g(x,R,N){for(;R>N;){const V=x.charCodeAt(--R);if(V!==32&&V!==9)return R+1}return N}function y(x,R,N){const V=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const j=V(R);if(!e.test(j))throw new TypeError(`argument val is invalid: ${R}`);let Y=x+"="+j;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return o.call(x)==="[object Date]"}return Su}mw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CE="popstate";function pw(r={}){function e(o,l){let{pathname:c="/",search:m="",hash:g=""}=Es(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Qu("",{pathname:c,search:m,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof l=="string"?l:la(l))}function s(o,l){pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return yw(e,t,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function IE(r,e){return{usr:r.state,key:r.key,idx:e}}function Qu(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Es(e):e,state:t,key:e&&e.key||s||gw()}}function la({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Es(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function yw(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",g=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function b(){m="POP";let j=_(),Y=j==null?null:j-y;y=j,g&&g({action:m,location:V.location,delta:Y})}function x(j,Y){m="PUSH";let z=Qu(V.location,j,Y);t&&t(z,j),y=_()+1;let ee=IE(z,y),pe=V.createHref(z);try{c.pushState(ee,"",pe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(pe)}l&&g&&g({action:m,location:V.location,delta:1})}function R(j,Y){m="REPLACE";let z=Qu(V.location,j,Y);t&&t(z,j),y=_();let ee=IE(z,y),pe=V.createHref(z);c.replaceState(ee,"",pe),l&&g&&g({action:m,location:V.location,delta:0})}function N(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof j=="string"?j:la(j);return z=z.replace(/ $/,"%20"),lt(Y,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,Y)}let V={get action(){return m},get location(){return r(o,c)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(CE,b),g=j,()=>{o.removeEventListener(CE,b),g=null}},createHref(j){return e(o,j)},createURL:N,encodeLocation(j){let Y=N(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:x,replace:R,go(j){return c.go(j)}};return V}var vw=new Set(["lazy","caseSensitive","path","id","index","children"]);function _w(r){return r.index===!0}function id(r,e,t=[],s={}){return r.map((o,l)=>{let c=[...t,String(l)],m=typeof o.id=="string"?o.id:c.join("-");if(lt(o.index!==!0||!o.children,"Cannot specify children on an index route"),lt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),_w(o)){let g={...o,...e(o),id:m};return s[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return s[m]=g,o.children&&(g.children=id(o.children,e,c,s)),g}})}function Xs(r,e,t="/"){return Hh(r,e,t,!1)}function Hh(r,e,t,s){let o=typeof e=="string"?Es(e):e,l=si(o.pathname||"/",t);if(l==null)return null;let c=MT(r);Tw(c);let m=null;for(let g=0;m==null&&g<c.length;++g){let y=Ow(l);m=Nw(c[g],y,s)}return m}function Ew(r,e){let{route:t,pathname:s,params:o}=r;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function MT(r,e=[],t=[],s=""){let o=(l,c,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(lt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Oi([s,g.relativePath]),_=t.concat(g);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),MT(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Cw(y,l.index),routesMeta:_})};return r.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let g of VT(l.path))o(l,c,g)}),e}function VT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=VT(s.join("/")),m=[];return m.push(...c.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...c),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Tw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Iw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var bw=/^:[\w-]+$/,xw=3,Sw=2,Aw=1,ww=10,Rw=-2,NE=r=>r==="*";function Cw(r,e){let t=r.split("/"),s=t.length;return t.some(NE)&&(s+=Rw),e&&(s+=Sw),t.filter(o=>!NE(o)).reduce((o,l)=>o+(bw.test(l)?xw:l===""?Aw:ww),s)}function Iw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Nw(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",c=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=sd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),x=g.route;if(!b&&y&&t&&!s[s.length-1].route.index&&(b=sd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Oi([l,b.pathname]),pathnameBase:Vw(Oi([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Oi([l,b.pathnameBase]))}return c}function sd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Dw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:b},x)=>{if(_==="*"){let N=m[x]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=m[x];return b&&!R?y[_]=void 0:y[_]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:r}}function Dw(r,e=!1,t=!0){pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ow(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function jw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Es(r):r;return{pathname:t?t.startsWith("/")?t:Mw(t,e):e,search:Pw(s),hash:kw(o)}}function Mw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function up(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Od(r){let e=PT(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function jd(r,e,t,s=!1){let o;typeof r=="string"?o=Es(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let g=jw(o,m),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),Vw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ad=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var kT=["POST","PUT","PATCH","DELETE"],Lw=new Set(kT),Uw=["GET",...kT],zw=new Set(Uw),Bw=new Set([301,302,303,307,308]),Fw=new Set([307,308]),cp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Au={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qw=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),LT="remix-router-transitions",UT=Symbol("ResetLoaderData");function Gw(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";lt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||qw,o={},l=id(r.routes,s,void 0,o),c,m=r.basename||"/",g=r.dataStrategy||Xw,y=r.patchRoutesOnNavigation,_={...r.future},b=null,x=new Set,R=null,N=null,V=null,j=r.hydrationData!=null,Y=Xs(l,r.history.location,m),z=!1,ee=null;if(Y==null&&!y){let U=Fr(404,{pathname:r.history.location.pathname}),{matches:$,route:X}=BE(l);Y=$,ee={[X.id]:U}}Y&&!r.hydrationData&&In(Y,l,r.history.location.pathname).active&&(Y=null);let pe;if(Y)if(Y.some(U=>U.route.lazy))pe=!1;else if(!Y.some(U=>U.route.loader))pe=!0;else{let U=r.hydrationData?r.hydrationData.loaderData:null,$=r.hydrationData?r.hydrationData.errors:null;if($){let X=Y.findIndex(fe=>$[fe.route.id]!==void 0);pe=Y.slice(0,X+1).every(fe=>!Ip(fe.route,U,$))}else pe=Y.every(X=>!Ip(X.route,U,$))}else{pe=!1,Y=[];let U=In(null,l,r.history.location.pathname);U.active&&U.matches&&(z=!0,Y=U.matches)}let se,F={historyAction:r.history.action,location:r.history.location,matches:Y,initialized:pe,navigation:cp,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},M="POP",C=!1,w,O=!1,L=new Map,B=null,I=!1,Be=!1,et=new Set,ue=new Map,Ce=0,xe=-1,We=new Map,k=new Set,ce=new Map,Ae=new Map,ve=new Set,_e=new Map,Fe,Le=null;function Vt(){if(b=r.history.listen(({action:U,location:$,delta:X})=>{if(Fe){Fe(),Fe=void 0;return}pn(_e.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Kr({currentLocation:F.location,nextLocation:$,historyAction:U});if(fe&&X!=null){let Te=new Promise(Ie=>{Fe=Ie});r.history.go(X*-1),qt(fe,{state:"blocked",location:$,proceed(){qt(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),Te.then(()=>r.history.go(X))},reset(){let Ie=new Map(F.blockers);Ie.set(fe,Au),He({blockers:Ie})}});return}return ln(U,$)}),t){oR(e,L);let U=()=>lR(e,L);e.addEventListener("pagehide",U),B=()=>e.removeEventListener("pagehide",U)}return F.initialized||ln("POP",F.location,{initialHydration:!0}),se}function st(){b&&b(),B&&B(),x.clear(),w&&w.abort(),F.fetchers.forEach((U,$)=>Ze($)),F.blockers.forEach((U,$)=>Ln($))}function wt(U){return x.add(U),()=>x.delete(U)}function He(U,$={}){F={...F,...U};let X=[],fe=[];F.fetchers.forEach((Te,Ie)=>{Te.state==="idle"&&(ve.has(Ie)?X.push(Ie):fe.push(Ie))}),ve.forEach(Te=>{!F.fetchers.has(Te)&&!ue.has(Te)&&X.push(Te)}),[...x].forEach(Te=>Te(F,{deletedFetchers:X,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),X.forEach(Te=>Ze(Te)),fe.forEach(Te=>F.fetchers.delete(Te))}function Dt(U,$,{flushSync:X}={}){var ye,De;let fe=F.actionData!=null&&F.navigation.formMethod!=null&&ei(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ye=U.state)==null?void 0:ye._isRedirect)!==!0,Te;$.actionData?Object.keys($.actionData).length>0?Te=$.actionData:Te=null:fe?Te=F.actionData:Te=null;let Ie=$.loaderData?UE(F.loaderData,$.loaderData,$.matches||[],$.errors):F.loaderData,Ue=F.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Me,dt)=>Ue.set(dt,Au)));let we=C===!0||F.navigation.formMethod!=null&&ei(F.navigation.formMethod)&&((De=U.state)==null?void 0:De._isRedirect)!==!0;c&&(l=c,c=void 0),I||M==="POP"||(M==="PUSH"?r.history.push(U,U.state):M==="REPLACE"&&r.history.replace(U,U.state));let Re;if(M==="POP"){let Me=L.get(F.location.pathname);Me&&Me.has(U.pathname)?Re={currentLocation:F.location,nextLocation:U}:L.has(U.pathname)&&(Re={currentLocation:U,nextLocation:F.location})}else if(O){let Me=L.get(F.location.pathname);Me?Me.add(U.pathname):(Me=new Set([U.pathname]),L.set(F.location.pathname,Me)),Re={currentLocation:F.location,nextLocation:U}}He({...$,actionData:Te,loaderData:Ie,historyAction:M,location:U,initialized:!0,navigation:cp,revalidation:"idle",restoreScrollPosition:ar(U,$.matches||F.matches),preventScrollReset:we,blockers:Ue},{viewTransitionOpts:Re,flushSync:X===!0}),M="POP",C=!1,O=!1,I=!1,Be=!1,Le==null||Le.resolve(),Le=null}async function Qn(U,$){if(typeof U=="number"){r.history.go(U);return}let X=Cp(F.location,F.matches,m,U,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:fe,submission:Te,error:Ie}=DE(!1,X,$),Ue=F.location,we=Qu(F.location,fe,$&&$.state);we={...we,...r.history.encodeLocation(we)};let Re=$&&$.replace!=null?$.replace:void 0,ye="PUSH";Re===!0?ye="REPLACE":Re===!1||Te!=null&&ei(Te.formMethod)&&Te.formAction===F.location.pathname+F.location.search&&(ye="REPLACE");let De=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Me=($&&$.flushSync)===!0,dt=Kr({currentLocation:Ue,nextLocation:we,historyAction:ye});if(dt){qt(dt,{state:"blocked",location:we,proceed(){qt(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Qn(U,$)},reset(){let Pt=new Map(F.blockers);Pt.set(dt,Au),He({blockers:Pt})}});return}await ln(ye,we,{submission:Te,pendingError:Ie,preventScrollReset:De,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Me})}function kn(){Le||(Le=uR()),Ee(),He({revalidation:"loading"});let U=Le.promise;return F.navigation.state==="submitting"?U:F.navigation.state==="idle"?(ln(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),U):(ln(M||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:O===!0}),U)}async function ln(U,$,X){w&&w.abort(),w=null,M=U,I=(X&&X.startUninterruptedRevalidation)===!0,fi(F.location,F.matches),C=(X&&X.preventScrollReset)===!0,O=(X&&X.enableViewTransition)===!0;let fe=c||l,Te=X&&X.overrideNavigation,Ie=X!=null&&X.initialHydration&&F.matches&&F.matches.length>0&&!z?F.matches:Xs(fe,$,m),Ue=(X&&X.flushSync)===!0;if(Ie&&F.initialized&&!Be&&nR(F.location,$)&&!(X&&X.submission&&ei(X.submission.formMethod))){Dt($,{matches:Ie},{flushSync:Ue});return}let we=In(Ie,fe,$.pathname);if(we.active&&we.matches&&(Ie=we.matches),!Ie){let{error:bt,notFoundMatches:at,route:kt}=bs($.pathname);Dt($,{matches:at,loaderData:{},errors:{[kt.id]:bt}},{flushSync:Ue});return}w=new AbortController;let Re=Wo(r.history,$,w.signal,X&&X.submission),ye;if(X&&X.pendingError)ye=[Ja(Ie).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&ei(X.submission.formMethod)){let bt=await br(Re,$,X.submission,Ie,we.active,{replace:X.replace,flushSync:Ue});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[at,kt]=bt.pendingActionResult;if(_r(kt)&&Yu(kt.error)&&kt.error.status===404){w=null,Dt($,{matches:bt.matches,loaderData:{},errors:{[at]:kt.error}});return}}Ie=bt.matches||Ie,ye=bt.pendingActionResult,Te=hp($,X.submission),Ue=!1,we.active=!1,Re=Wo(r.history,Re.url,Re.signal)}let{shortCircuited:De,matches:Me,loaderData:dt,errors:Pt}=await sr(Re,$,Ie,we.active,Te,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Ue,ye);De||(w=null,Dt($,{matches:Me||Ie,...zE(ye),loaderData:dt,errors:Pt}))}async function br(U,$,X,fe,Te,Ie={}){Ee();let Ue=sR($,X);if(He({navigation:Ue},{flushSync:Ie.flushSync===!0}),Te){let ye=await dr(fe,$.pathname,U.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let De=Ja(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[De,{type:"error",error:ye.error}]}}else if(ye.matches)fe=ye.matches;else{let{notFoundMatches:De,error:Me,route:dt}=bs($.pathname);return{matches:De,pendingActionResult:[dt.id,{type:"error",error:Me}]}}}let we,Re=Mu(fe,$);if(!Re.route.action&&!Re.route.lazy)we={type:"error",error:Fr(405,{method:U.method,pathname:$.pathname,routeId:Re.route.id})};else if(we=(await Z("action",F,U,[Re],fe,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(eo(we)){let ye;return Ie&&Ie.replace!=null?ye=Ie.replace:ye=PE(we.response.headers.get("Location"),new URL(U.url),m)===F.location.pathname+F.location.search,await P(U,we,!0,{submission:X,replace:ye}),{shortCircuited:!0}}if(_r(we)){let ye=Ja(fe,Re.route.id);return(Ie&&Ie.replace)!==!0&&(M="PUSH"),{matches:fe,pendingActionResult:[ye.route.id,we]}}return{matches:fe,pendingActionResult:[Re.route.id,we]}}async function sr(U,$,X,fe,Te,Ie,Ue,we,Re,ye,De){let Me=Te||hp($,Ie),dt=Ie||Ue||HE(Me),Pt=!I&&!Re;if(fe){if(Pt){let Tt=Gr(De);He({navigation:Me,...Tt!==void 0?{actionData:Tt}:{}},{flushSync:ye})}let tt=await dr(X,$.pathname,U.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let Tt=Ja(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[Tt]:tt.error}}}else if(tt.matches)X=tt.matches;else{let{error:Tt,notFoundMatches:vn,route:zi}=bs($.pathname);return{matches:vn,loaderData:{},errors:{[zi.id]:Tt}}}}let bt=c||l,[at,kt]=jE(r.history,F,X,dt,$,Re===!0,Be,et,ve,ce,k,bt,m,De);if(xe=++Ce,at.length===0&&kt.length===0){let tt=Yn();return Dt($,{matches:X,loaderData:{},errors:De&&_r(De[1])?{[De[0]]:De[1].error}:null,...zE(De),...tt?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(Pt){let tt={};if(!fe){tt.navigation=Me;let Tt=Gr(De);Tt!==void 0&&(tt.actionData=Tt)}kt.length>0&&(tt.fetchers=ci(kt)),He(tt,{flushSync:ye})}kt.forEach(tt=>{At(tt.key),tt.controller&&ue.set(tt.key,tt.controller)});let Xn=()=>kt.forEach(tt=>At(tt.key));w&&w.signal.addEventListener("abort",Xn);let{loaderResults:fr,fetcherResults:Yt}=await ne(F,X,at,kt,U);if(U.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Xn),kt.forEach(tt=>ue.delete(tt.key));let tn=Mh(fr);if(tn)return await P(U,tn.result,!0,{replace:we}),{shortCircuited:!0};if(tn=Mh(Yt),tn)return k.add(tn.key),await P(U,tn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Sr,errors:or}=LE(F,X,fr,De,kt,Yt);Re&&F.errors&&(or={...F.errors,...or});let Et=Yn(),mi=zt(xe),Qr=Et||mi||kt.length>0;return{matches:X,loaderData:Sr,errors:or,...Qr?{fetchers:new Map(F.fetchers)}:{}}}function Gr(U){if(U&&!_r(U[1]))return{[U[0]]:U[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function ci(U){return U.forEach($=>{let X=F.fetchers.get($.key),fe=wu(void 0,X?X.data:void 0);F.fetchers.set($.key,fe)}),new Map(F.fetchers)}async function hi(U,$,X,fe){At(U);let Te=(fe&&fe.flushSync)===!0,Ie=c||l,Ue=Cp(F.location,F.matches,m,X,$,fe==null?void 0:fe.relative),we=Xs(Ie,Ue,m),Re=In(we,Ie,Ue);if(Re.active&&Re.matches&&(we=Re.matches),!we){ae(U,$,Fr(404,{pathname:Ue}),{flushSync:Te});return}let{path:ye,submission:De,error:Me}=DE(!0,Ue,fe);if(Me){ae(U,$,Me,{flushSync:Te});return}let dt=Mu(we,ye),Pt=(fe&&fe.preventScrollReset)===!0;if(De&&ei(De.formMethod)){await di(U,$,ye,dt,we,Re.active,Te,Pt,De);return}ce.set(U,{routeId:$,path:ye}),await $r(U,$,ye,dt,we,Re.active,Te,Pt,De)}async function di(U,$,X,fe,Te,Ie,Ue,we,Re){Ee(),ce.delete(U);function ye(Ot){if(!Ot.route.action&&!Ot.route.lazy){let Ar=Fr(405,{method:Re.formMethod,pathname:X,routeId:$});return ae(U,$,Ar,{flushSync:Ue}),!0}return!1}if(!Ie&&ye(fe))return;let De=F.fetchers.get(U);he(U,aR(Re,De),{flushSync:Ue});let Me=new AbortController,dt=Wo(r.history,X,Me.signal,Re);if(Ie){let Ot=await dr(Te,X,dt.signal);if(Ot.type==="aborted")return;if(Ot.type==="error"){ae(U,$,Ot.error,{flushSync:Ue});return}else if(Ot.matches){if(Te=Ot.matches,fe=Mu(Te,X),ye(fe))return}else{ae(U,$,Fr(404,{pathname:X}),{flushSync:Ue});return}}ue.set(U,Me);let Pt=Ce,at=(await Z("action",F,dt,[fe],Te,U))[fe.route.id];if(dt.signal.aborted){ue.get(U)===Me&&ue.delete(U);return}if(ve.has(U)){if(eo(at)||_r(at)){he(U,Ys(void 0));return}}else{if(eo(at))if(ue.delete(U),xe>Pt){he(U,Ys(void 0));return}else return k.add(U),he(U,wu(Re)),P(dt,at,!1,{fetcherSubmission:Re,preventScrollReset:we});if(_r(at)){ae(U,$,at.error);return}}let kt=F.navigation.location||F.location,Xn=Wo(r.history,kt,Me.signal),fr=c||l,Yt=F.navigation.state!=="idle"?Xs(fr,F.navigation.location,m):F.matches;lt(Yt,"Didn't find any matches after fetcher action");let tn=++Ce;We.set(U,tn);let Sr=wu(Re,at.data);F.fetchers.set(U,Sr);let[or,Et]=jE(r.history,F,Yt,Re,kt,!1,Be,et,ve,ce,k,fr,m,[fe.route.id,at]);Et.filter(Ot=>Ot.key!==U).forEach(Ot=>{let Ar=Ot.key,ba=F.fetchers.get(Ar),pi=wu(void 0,ba?ba.data:void 0);F.fetchers.set(Ar,pi),At(Ar),Ot.controller&&ue.set(Ar,Ot.controller)}),He({fetchers:new Map(F.fetchers)});let mi=()=>Et.forEach(Ot=>At(Ot.key));Me.signal.addEventListener("abort",mi);let{loaderResults:Qr,fetcherResults:tt}=await ne(F,Yt,or,Et,Xn);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",mi),We.delete(U),ue.delete(U),Et.forEach(Ot=>ue.delete(Ot.key));let Tt=Mh(Qr);if(Tt)return P(Xn,Tt.result,!1,{preventScrollReset:we});if(Tt=Mh(tt),Tt)return k.add(Tt.key),P(Xn,Tt.result,!1,{preventScrollReset:we});let{loaderData:vn,errors:zi}=LE(F,Yt,Qr,void 0,Et,tt);if(F.fetchers.has(U)){let Ot=Ys(at.data);F.fetchers.set(U,Ot)}zt(tn),F.navigation.state==="loading"&&tn>xe?(lt(M,"Expected pending action"),w&&w.abort(),Dt(F.navigation.location,{matches:Yt,loaderData:vn,errors:zi,fetchers:new Map(F.fetchers)})):(He({errors:zi,loaderData:UE(F.loaderData,vn,Yt,zi),fetchers:new Map(F.fetchers)}),Be=!1)}async function $r(U,$,X,fe,Te,Ie,Ue,we,Re){let ye=F.fetchers.get(U);he(U,wu(Re,ye?ye.data:void 0),{flushSync:Ue});let De=new AbortController,Me=Wo(r.history,X,De.signal);if(Ie){let at=await dr(Te,X,Me.signal);if(at.type==="aborted")return;if(at.type==="error"){ae(U,$,at.error,{flushSync:Ue});return}else if(at.matches)Te=at.matches,fe=Mu(Te,X);else{ae(U,$,Fr(404,{pathname:X}),{flushSync:Ue});return}}ue.set(U,De);let dt=Ce,bt=(await Z("loader",F,Me,[fe],Te,U))[fe.route.id];if(ue.get(U)===De&&ue.delete(U),!Me.signal.aborted){if(ve.has(U)){he(U,Ys(void 0));return}if(eo(bt))if(xe>dt){he(U,Ys(void 0));return}else{k.add(U),await P(Me,bt,!1,{preventScrollReset:we});return}if(_r(bt)){ae(U,$,bt.error);return}he(U,Ys(bt.data))}}async function P(U,$,X,{submission:fe,fetcherSubmission:Te,preventScrollReset:Ie,replace:Ue}={}){$.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let we=$.response.headers.get("Location");lt(we,"Expected a Location header on the redirect Response"),we=PE(we,new URL(U.url),m);let Re=Qu(F.location,we,{_isRedirect:!0});if(t){let bt=!1;if($.response.headers.has("X-Remix-Reload-Document"))bt=!0;else if(ig.test(we)){const at=r.history.createURL(we);bt=at.origin!==e.location.origin||si(at.pathname,m)==null}if(bt){Ue?e.location.replace(we):e.location.assign(we);return}}w=null;let ye=Ue===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:Me,formEncType:dt}=F.navigation;!fe&&!Te&&De&&Me&&dt&&(fe=HE(F.navigation));let Pt=fe||Te;if(Fw.has($.response.status)&&Pt&&ei(Pt.formMethod))await ln(ye,Re,{submission:{...Pt,formAction:we},preventScrollReset:Ie||C,enableViewTransition:X?O:void 0});else{let bt=hp(Re,fe);await ln(ye,Re,{overrideNavigation:bt,fetcherSubmission:Te,preventScrollReset:Ie||C,enableViewTransition:X?O:void 0})}}async function Z(U,$,X,fe,Te,Ie){let Ue,we={};try{Ue=await Ww(g,U,$,X,fe,Te,Ie,o,s)}catch(Re){return fe.forEach(ye=>{we[ye.route.id]={type:"error",error:Re}}),we}for(let[Re,ye]of Object.entries(Ue))if(rR(ye)){let De=ye.result;we[Re]={type:"redirect",response:eR(De,X,Re,Te,m)}}else we[Re]=await Jw(ye);return we}async function ne(U,$,X,fe,Te){let Ie=Z("loader",U,Te,X,$,null),Ue=Promise.all(fe.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Me=(await Z("loader",U,Wo(r.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Me}}else return Promise.resolve({[ye.key]:{type:"error",error:Fr(404,{pathname:ye.path})}})})),we=await Ie,Re=(await Ue).reduce((ye,De)=>Object.assign(ye,De),{});return{loaderResults:we,fetcherResults:Re}}function Ee(){Be=!0,ce.forEach((U,$)=>{ue.has($)&&et.add($),At($)})}function he(U,$,X={}){F.fetchers.set(U,$),He({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ae(U,$,X,fe={}){let Te=Ja(F.matches,$);Ze(U),He({errors:{[Te.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function be(U){return Ae.set(U,(Ae.get(U)||0)+1),ve.has(U)&&ve.delete(U),F.fetchers.get(U)||Hw}function Ze(U){let $=F.fetchers.get(U);ue.has(U)&&!($&&$.state==="loading"&&We.has(U))&&At(U),ce.delete(U),We.delete(U),k.delete(U),ve.delete(U),et.delete(U),F.fetchers.delete(U)}function Rt(U){let $=(Ae.get(U)||0)-1;$<=0?(Ae.delete(U),ve.add(U)):Ae.set(U,$),He({fetchers:new Map(F.fetchers)})}function At(U){let $=ue.get(U);$&&($.abort(),ue.delete(U))}function xr(U){for(let $ of U){let X=be($),fe=Ys(X.data);F.fetchers.set($,fe)}}function Yn(){let U=[],$=!1;for(let X of k){let fe=F.fetchers.get(X);lt(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(k.delete(X),U.push(X),$=!0)}return xr(U),$}function zt(U){let $=[];for(let[X,fe]of We)if(fe<U){let Te=F.fetchers.get(X);lt(Te,`Expected fetcher: ${X}`),Te.state==="loading"&&(At(X),We.delete(X),$.push(X))}return xr($),$.length>0}function Ui(U,$){let X=F.blockers.get(U)||Au;return _e.get(U)!==$&&_e.set(U,$),X}function Ln(U){F.blockers.delete(U),_e.delete(U)}function qt(U,$){let X=F.blockers.get(U)||Au;lt(X.state==="unblocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="proceeding"||X.state==="blocked"&&$.state==="unblocked"||X.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${$.state}`);let fe=new Map(F.blockers);fe.set(U,$),He({blockers:fe})}function Kr({currentLocation:U,nextLocation:$,historyAction:X}){if(_e.size===0)return;_e.size>1&&pn(!1,"A router only supports one blocker at a time");let fe=Array.from(_e.entries()),[Te,Ie]=fe[fe.length-1],Ue=F.blockers.get(Te);if(!(Ue&&Ue.state==="proceeding")&&Ie({currentLocation:U,nextLocation:$,historyAction:X}))return Te}function bs(U){let $=Fr(404,{pathname:U}),X=c||l,{matches:fe,route:Te}=BE(X);return{notFoundMatches:fe,route:Te,error:$}}function fo(U,$,X){if(R=U,V=$,N=X||null,!j&&F.navigation===cp){j=!0;let fe=ar(F.location,F.matches);fe!=null&&He({restoreScrollPosition:fe})}return()=>{R=null,V=null,N=null}}function hr(U,$){return N&&N(U,$.map(fe=>Ew(fe,F.loaderData)))||U.key}function fi(U,$){if(R&&V){let X=hr(U,$);R[X]=V()}}function ar(U,$){if(R){let X=hr(U,$),fe=R[X];if(typeof fe=="number")return fe}return null}function In(U,$,X){if(y)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Hh($,X,m,!0)}}else return{active:!0,matches:Hh($,X,m,!0)||[]};return{active:!1,matches:null}}async function dr(U,$,X){if(!y)return{type:"success",matches:U};let fe=U;for(;;){let Te=c==null,Ie=c||l,Ue=o;try{await y({signal:X,path:$,matches:fe,patch:(ye,De)=>{X.aborted||VE(ye,De,Ie,Ue,s)}})}catch(ye){return{type:"error",error:ye,partialMatches:fe}}finally{Te&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let we=Xs(Ie,$,m);if(we)return{type:"success",matches:we};let Re=Hh(Ie,$,m,!0);if(!Re||fe.length===Re.length&&fe.every((ye,De)=>ye.route.id===Re[De].route.id))return{type:"success",matches:null};fe=Re}}function xs(U){o={},c=id(U,s,void 0,o)}function Ta(U,$){let X=c==null;VE(U,$,c||l,o,s),X&&(l=[...l],He({}))}return se={get basename(){return m},get future(){return _},get state(){return F},get routes(){return l},get window(){return e},initialize:Vt,subscribe:wt,enableScrollRestoration:fo,navigate:Qn,fetch:hi,revalidate:kn,createHref:U=>r.history.createHref(U),encodeLocation:U=>r.history.encodeLocation(U),getFetcher:be,deleteFetcher:Rt,dispose:st,getBlocker:Ui,deleteBlocker:Ln,patchRoutes:Ta,_internalFetchControllers:ue,_internalSetRoutes:xs},se}function $w(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Cp(r,e,t,s,o,l){let c,m;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){m=y;break}}else c=e,m=e[e.length-1];let g=jd(s||".",Od(c),si(r.pathname,t)||r.pathname,l==="path");if(s==null&&(g.search=r.search,g.hash=r.hash),(s==null||s===""||s===".")&&m){let y=sg(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let _=new URLSearchParams(g.search),b=_.getAll("index");_.delete("index"),b.filter(R=>R).forEach(R=>_.append("index",R));let x=_.toString();g.search=x?`?${x}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:Oi([t,g.pathname])),la(g)}function DE(r,e,t){if(!t||!$w(t))return{path:e};if(t.formMethod&&!iR(t.formMethod))return{path:e,error:Fr(405,{method:t.formMethod})};let s=()=>({path:e,error:Fr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=BT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ei(l))return s();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[R,N])=>`${x}${R}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!ei(l))return s();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}lt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(t.formData)m=Np(t.formData),g=t.formData;else if(t.body instanceof FormData)m=Np(t.body),g=t.body;else if(t.body instanceof URLSearchParams)m=t.body,g=kE(m);else if(t.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(t.body),g=kE(m)}catch{return s()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(ei(y.formMethod))return{path:e,submission:y};let _=Es(e);return r&&_.search&&sg(_.search)&&m.append("index",""),_.search=`?${m}`,{path:la(_),submission:y}}function OE(r,e,t=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,t?s+1:s):r}function jE(r,e,t,s,o,l,c,m,g,y,_,b,x,R){let N=R?_r(R[1])?R[1].error:R[1].data:void 0,V=r.createURL(e.location),j=r.createURL(o),Y=t;l&&e.errors?Y=OE(t,Object.keys(e.errors)[0],!0):R&&_r(R[1])&&(Y=OE(t,R[0]));let z=R?R[1].statusCode:void 0,ee=z&&z>=400,pe=Y.filter((F,M)=>{let{route:C}=F;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return Ip(C,e.loaderData,e.errors);if(Kw(e.loaderData,e.matches[M],F))return!0;let w=e.matches[M],O=F;return ME(F,{currentUrl:V,currentParams:w.params,nextUrl:j,nextParams:O.params,...s,actionResult:N,actionStatus:z,defaultShouldRevalidate:ee?!1:c||V.pathname+V.search===j.pathname+j.search||V.search!==j.search||Qw(w,O)})}),se=[];return y.forEach((F,M)=>{if(l||!t.some(B=>B.route.id===F.routeId)||g.has(M))return;let C=Xs(b,F.path,x);if(!C){se.push({key:M,routeId:F.routeId,path:F.path,matches:null,match:null,controller:null});return}let w=e.fetchers.get(M),O=Mu(C,F.path),L=!1;_.has(M)?L=!1:m.has(M)?(m.delete(M),L=!0):w&&w.state!=="idle"&&w.data===void 0?L=c:L=ME(O,{currentUrl:V,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:t[t.length-1].params,...s,actionResult:N,actionStatus:z,defaultShouldRevalidate:ee?!1:c}),L&&se.push({key:M,routeId:F.routeId,path:F.path,matches:C,match:O,controller:new AbortController})}),[pe,se]}function Ip(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function Kw(r,e,t){let s=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return s||o}function Qw(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function ME(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function VE(r,e,t,s,o){let l;if(r){let g=s[r];lt(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),l=g.children}else l=t;let c=e.filter(g=>!l.some(y=>zT(g,y))),m=id(c,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...m)}function zT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(l=>zT(t,l))}):!1}async function Yw(r,e,t){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=t[r.id];lt(o,"No route found in manifest");let l={};for(let c in s){let g=o[c]!==void 0&&c!=="hasErrorBoundary";pn(!g,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!g&&!vw.has(c)&&(l[c]=s[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function Xw({matches:r}){let e=r.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[e[l].route.id]:o}),{})}async function Ww(r,e,t,s,o,l,c,m,g,y){let _=l.map(R=>R.route.lazy?Yw(R.route,g,m):void 0),b=l.map((R,N)=>{let V=_[N],j=o.some(z=>z.route.id===R.route.id);return{...R,shouldLoad:j,resolve:async z=>(z&&s.method==="GET"&&(R.route.lazy||R.route.loader)&&(j=!0),j?Zw(e,s,R,V,z,y):Promise.resolve({type:"data",result:void 0}))}}),x=await r({matches:b,request:s,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(_)}catch{}return x}async function Zw(r,e,t,s,o,l){let c,m,g=y=>{let _,b=new Promise((N,V)=>_=V);m=()=>_(),e.signal.addEventListener("abort",m);let x=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...N!==void 0?[N]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(V=>x(V)):x())}}catch(N){return{type:"error",result:N}}})();return Promise.race([R,b])};try{let y=t.route[r];if(s)if(y){let _,[b]=await Promise.all([g(y).catch(x=>{_=x}),s]);if(_!==void 0)throw _;c=b}else if(await s,y=t.route[r],y)c=await g(y);else if(r==="action"){let _=new URL(e.url),b=_.pathname+_.search;throw Fr(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await g(y);else{let _=new URL(e.url),b=_.pathname+_.search;throw Fr(404,{pathname:b})}}catch(y){return{type:"error",result:y}}finally{m&&e.signal.removeEventListener("abort",m)}return c}async function Jw(r){var s,o,l,c,m,g;let{result:e,type:t}=r;if(FT(e)){let y;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(_){return{type:"error",error:_}}return t==="error"?{type:"error",error:new ad(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return t==="error"?FE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ad(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Yu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yu(e)?e.status:void 0}:FE(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function eR(r,e,t,s,o){let l=r.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!ig.test(l)){let c=s.slice(0,s.findIndex(m=>m.route.id===t)+1);l=Cp(new URL(e.url),c,o,l),r.headers.set("Location",l)}return r}function PE(r,e,t){if(ig.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=si(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Wo(r,e,t,s){let o=r.createURL(BT(e)).toString(),l={signal:t};if(s&&ei(s.formMethod)){let{formMethod:c,formEncType:m}=s;l.method=c.toUpperCase(),m==="application/json"?(l.headers=new Headers({"Content-Type":m}),l.body=JSON.stringify(s.json)):m==="text/plain"?l.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?l.body=Np(s.formData):l.body=s.formData}return new Request(o,l)}function Np(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function kE(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function tR(r,e,t,s=!1,o=!1){let l={},c=null,m,g=!1,y={},_=t&&_r(t[1])?t[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let x=b.route.id,R=e[x];if(lt(!eo(R),"Cannot handle redirect results in processLoaderData"),_r(R)){let N=R.error;if(_!==void 0&&(N=_,_=void 0),c=c||{},o)c[x]=N;else{let V=Ja(r,x);c[V.route.id]==null&&(c[V.route.id]=N)}s||(l[x]=UT),g||(g=!0,m=Yu(R.error)?R.error.status:500),R.headers&&(y[x]=R.headers)}else l[x]=R.data,R.statusCode&&R.statusCode!==200&&!g&&(m=R.statusCode),R.headers&&(y[x]=R.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:m||200,loaderHeaders:y}}function LE(r,e,t,s,o,l){let{loaderData:c,errors:m}=tR(e,t,s);return o.forEach(g=>{let{key:y,match:_,controller:b}=g,x=l[y];if(lt(x,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(_r(x)){let R=Ja(r.matches,_==null?void 0:_.route.id);m&&m[R.route.id]||(m={...m,[R.route.id]:x.error}),r.fetchers.delete(y)}else if(eo(x))lt(!1,"Unhandled fetcher revalidation redirect");else{let R=Ys(x.data);r.fetchers.set(y,R)}}),{loaderData:c,errors:m}}function UE(r,e,t,s){let o=Object.entries(e).filter(([,l])=>l!==UT).reduce((l,[c,m])=>(l[c]=m,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(o[c]=r[c]),s&&s.hasOwnProperty(c))break}return o}function zE(r){return r?_r(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ja(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function BE(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Fr(r,{pathname:e,routeId:t,method:s,type:o,message:l}={}){let c="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?m=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(c="Forbidden",m=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",m=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?m=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new ad(r||500,c,new Error(m),!0)}function Mh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(eo(o))return{key:s,result:o}}}function BT(r){let e=typeof r=="string"?Es(r):r;return la({...e,hash:""})}function nR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function rR(r){return FT(r.result)&&Bw.has(r.result.status)}function _r(r){return r.type==="error"}function eo(r){return(r&&r.type)==="redirect"}function FE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function FT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function iR(r){return zw.has(r.toUpperCase())}function ei(r){return Lw.has(r.toUpperCase())}function sg(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Mu(r,e){let t=typeof e=="string"?Es(e).search:e.search;if(r[r.length-1].route.index&&sg(t||""))return r[r.length-1];let s=PT(r);return s[s.length-1]}function HE(r){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:l,json:c}=r;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function hp(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ys(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function oR(r,e){try{let t=r.sessionStorage.getItem(LT);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function lR(r,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{r.sessionStorage.setItem(LT,JSON.stringify(t))}catch(s){pn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function uR(){let r,e,t=new Promise((s,o)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var lo=G.createContext(null);lo.displayName="DataRouter";var ac=G.createContext(null);ac.displayName="DataRouterState";var ag=G.createContext({isTransitioning:!1});ag.displayName="ViewTransition";var HT=G.createContext(new Map);HT.displayName="Fetchers";var cR=G.createContext(null);cR.displayName="Await";var oi=G.createContext(null);oi.displayName="Navigation";var Md=G.createContext(null);Md.displayName="Location";var qr=G.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var og=G.createContext(null);og.displayName="RouteError";function hR(r,{relative:e}={}){lt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(oi),{hash:o,pathname:l,search:c}=lc(r,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Oi([t,l])),s.createHref({pathname:m,search:c,hash:o})}function El(){return G.useContext(Md)!=null}function li(){return lt(El(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Md).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(r){G.useContext(oi).static||G.useLayoutEffect(r)}function oc(){let{isDataRoute:r}=G.useContext(qr);return r?wR():dR()}function dR(){lt(El(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(lo),{basename:e,navigator:t}=G.useContext(oi),{matches:s}=G.useContext(qr),{pathname:o}=li(),l=JSON.stringify(Od(s)),c=G.useRef(!1);return GT(()=>{c.current=!0}),G.useCallback((g,y={})=>{if(pn(c.current,qT),!c.current)return;if(typeof g=="number"){t.go(g);return}let _=jd(g,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Oi([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,r])}var fR=G.createContext(null);function mR(r){let e=G.useContext(qr).outlet;return e&&G.createElement(fR.Provider,{value:r},e)}function lg(){let{matches:r}=G.useContext(qr),e=r[r.length-1];return e?e.params:{}}function lc(r,{relative:e}={}){let{matches:t}=G.useContext(qr),{pathname:s}=li(),o=JSON.stringify(Od(t));return G.useMemo(()=>jd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pR(r,e,t,s){lt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=G.useContext(oi),{matches:c}=G.useContext(qr),m=c[c.length-1],g=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let z=b&&b.path||"";$T(y,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=li(),R;R=x;let N=R.pathname||"/",V=N;if(_!=="/"){let z=_.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:Xs(r,{pathname:V});return pn(b||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),pn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ER(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:Oi([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:Oi([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,s)}function gR(){let r=AR(),e=Yu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,c)}var yR=G.createElement(gR,null),vR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(qr.Provider,{value:this.props.routeContext},G.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _R({routeContext:r,match:e,children:t}){let s=G.useContext(lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(qr.Provider,{value:r},t)}function ER(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:b}=t,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||x){c=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,_)=>{let b,x=!1,R=null,N=null;t&&(b=l&&y.route.id?l[y.route.id]:void 0,R=y.route.errorElement||yR,c&&(m<0&&_===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):m===_&&(x=!0,N=y.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,_+1)),j=()=>{let Y;return b?Y=R:x?Y=N:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=g,G.createElement(_R,{match:y,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:Y})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?G.createElement(vR,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:j(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):j()},null)}function ug(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TR(r){let e=G.useContext(lo);return lt(e,ug(r)),e}function bR(r){let e=G.useContext(ac);return lt(e,ug(r)),e}function xR(r){let e=G.useContext(qr);return lt(e,ug(r)),e}function cg(r){let e=xR(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function SR(){return cg("useRouteId")}function AR(){var s;let r=G.useContext(og),e=bR("useRouteError"),t=cg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function wR(){let{router:r}=TR("useNavigate"),e=cg("useNavigate"),t=G.useRef(!1);return GT(()=>{t.current=!0}),G.useCallback(async(o,l={})=>{pn(t.current,qT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var qE={};function $T(r,e,t){!e&&!qE[r]&&(qE[r]=!0,pn(!1,t))}var GE={};function $E(r,e){!r&&!GE[e]&&(GE[e]=!0,console.warn(e))}function RR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&pn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:G.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&pn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:G.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&pn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:G.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var CR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function IR({router:r,flushSync:e}){let[t,s]=G.useState(r.state),[o,l]=G.useState(),[c,m]=G.useState({isTransitioning:!1}),[g,y]=G.useState(),[_,b]=G.useState(),[x,R]=G.useState(),N=G.useRef(new Map),V=G.useCallback((ee,{deletedFetchers:pe,flushSync:se,viewTransitionOpts:F})=>{ee.fetchers.forEach((C,w)=>{C.data!==void 0&&N.current.set(w,C.data)}),pe.forEach(C=>N.current.delete(C)),$E(se===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if($E(F==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!M){e&&se?e(()=>s(ee)):G.startTransition(()=>s(ee));return}if(e&&se){e(()=>{_&&(g&&g.resolve(),_.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let C=r.window.document.startViewTransition(()=>{e(()=>s(ee))});C.finished.finally(()=>{e(()=>{y(void 0),b(void 0),l(void 0),m({isTransitioning:!1})})}),e(()=>b(C));return}_?(g&&g.resolve(),_.skipTransition(),R({state:ee,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(l(ee),m({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[r.window,e,_,g]);G.useLayoutEffect(()=>r.subscribe(V),[r,V]),G.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new CR)},[c]),G.useEffect(()=>{if(g&&o&&r.window){let ee=o,pe=g.promise,se=r.window.document.startViewTransition(async()=>{G.startTransition(()=>s(ee)),await pe});se.finished.finally(()=>{y(void 0),b(void 0),l(void 0),m({isTransitioning:!1})}),b(se)}},[o,g,r.window]),G.useEffect(()=>{g&&o&&t.location.key===o.location.key&&g.resolve()},[g,_,t.location,o]),G.useEffect(()=>{!c.isTransitioning&&x&&(l(x.state),m({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),R(void 0))},[c.isTransitioning,x]);let j=G.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ee=>r.navigate(ee),push:(ee,pe,se)=>r.navigate(ee,{state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(ee,pe,se)=>r.navigate(ee,{replace:!0,state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[r]),Y=r.basename||"/",z=G.useMemo(()=>({router:r,navigator:j,static:!1,basename:Y}),[r,j,Y]);return G.createElement(G.Fragment,null,G.createElement(lo.Provider,{value:z},G.createElement(ac.Provider,{value:t},G.createElement(HT.Provider,{value:N.current},G.createElement(ag.Provider,{value:c},G.createElement(OR,{basename:Y,location:t.location,navigationType:t.historyAction,navigator:j},G.createElement(NR,{routes:r.routes,future:r.future,state:t})))))),null)}var NR=G.memo(DR);function DR({routes:r,future:e,state:t}){return pR(r,void 0,t,e)}function KE({to:r,replace:e,state:t,relative:s}){lt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(oi);pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(qr),{pathname:c}=li(),m=oc(),g=jd(r,Od(l),c,s==="path"),y=JSON.stringify(g);return G.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function Vd(r){return mR(r.context)}function OR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){lt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Es(t));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:x="default"}=t,R=G.useMemo(()=>{let N=si(g,c);return N==null?null:{location:{pathname:N,search:y,hash:_,state:b,key:x},navigationType:s}},[c,g,y,_,b,x,s]);return pn(R!=null,`<Router basename="${c}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:G.createElement(oi.Provider,{value:m},G.createElement(Md.Provider,{children:e,value:R}))}var qh="get",Gh="application/x-www-form-urlencoded";function Pd(r){return r!=null&&typeof r.tagName=="string"}function jR(r){return Pd(r)&&r.tagName.toLowerCase()==="button"}function MR(r){return Pd(r)&&r.tagName.toLowerCase()==="form"}function VR(r){return Pd(r)&&r.tagName.toLowerCase()==="input"}function PR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kR(r,e){return r.button===0&&(!e||e==="_self")&&!PR(r)}var Vh=null;function LR(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var UR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(r){return r!=null&&!UR.has(r)?(pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):r}function zR(r,e){let t,s,o,l,c;if(MR(r)){let m=r.getAttribute("action");s=m?si(m,e):null,t=r.getAttribute("method")||qh,o=dp(r.getAttribute("enctype"))||Gh,l=new FormData(r)}else if(jR(r)||VR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?si(g,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||qh,o=dp(r.getAttribute("formenctype"))||dp(m.getAttribute("enctype"))||Gh,l=new FormData(m,r),!LR()){let{name:y,type:_,value:b}=r;if(_==="image"){let x=y?`${y}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else y&&l.append(y,b)}}else{if(Pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qh,s=null,o=Gh,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}function hg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function BR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HR(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await BR(l,t);return c.links?c.links():[]}return[]}));return KR(s.flat(1).filter(FR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function QE(r,e,t,s,o,l){let c=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var _;return t[y].pathname!==g.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>c(g,y)||m(g,y)):l==="data"?e.filter((g,y)=>{var b;let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(c(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qR(r,e,{includeHydrateFallback:t}={}){return GR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function GR(r){return[...new Set(r)]}function $R(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function KR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify($R(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function QR(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function YR(){let r=G.useContext(lo);return hg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XR(){let r=G.useContext(ac);return hg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dg=G.createContext(void 0);dg.displayName="FrameworkContext";function KT(){let r=G.useContext(dg);return hg(r,"You must render this element inside a <HydratedRouter> element"),r}function WR(r,e){let t=G.useContext(dg),[s,o]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=e,x=G.useRef(null);G.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let V=Y=>{Y.forEach(z=>{c(z.isIntersecting)})},j=new IntersectionObserver(V,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[r]),G.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let R=()=>{o(!0)},N=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:Ru(m,R),onBlur:Ru(g,N),onMouseEnter:Ru(y,R),onMouseLeave:Ru(_,N),onTouchStart:Ru(b,R)}]:[!1,x,{}]}function Ru(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ZR({page:r,...e}){let{router:t}=YR(),s=G.useMemo(()=>Xs(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?G.createElement(eC,{page:r,matches:s,...e}):null}function JR(r){let{manifest:e,routeModules:t}=KT(),[s,o]=G.useState([]);return G.useEffect(()=>{let l=!1;return HR(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),s}function eC({page:r,matches:e,...t}){let s=li(),{manifest:o,routeModules:l}=KT(),{loaderData:c,matches:m}=XR(),g=G.useMemo(()=>QE(r,e,m,o,s,"data"),[r,e,m,o,s]),y=G.useMemo(()=>QE(r,e,m,o,s,"assets"),[r,e,m,o,s]),_=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let R=new Set,N=!1;if(e.forEach(j=>{var z;let Y=o.routes[j.route.id];!Y||!Y.hasLoader||(!g.some(ee=>ee.route.id===j.route.id)&&j.route.id in c&&((z=l[j.route.id])!=null&&z.shouldRevalidate)||Y.hasClientLoader?N=!0:R.add(j.route.id))}),R.size===0)return[];let V=QR(r);return N&&R.size>0&&V.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[V.pathname+V.search]},[c,s,o,g,e,r,l]),b=G.useMemo(()=>qR(y,o),[y,o]),x=JR(y);return G.createElement(G.Fragment,null,_.map(R=>G.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),b.map(R=>G.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),x.map(({key:R,link:N})=>G.createElement("link",{key:R,...N})))}function tC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.2.0")}catch{}function nC(r,e){return Gw({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:pw({window:e==null?void 0:e.window}),hydrationData:rC(),routes:r,mapRouteProperties:RR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function rC(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:iC(r.errors)}),r}function iC(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new ad(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:g,to:y,preventScrollReset:_,viewTransition:b,...x},R){let{basename:N}=G.useContext(oi),V=typeof y=="string"&&YT.test(y),j,Y=!1;if(typeof y=="string"&&V&&(j=y,QT))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),L=si(O.pathname,N);O.origin===w.origin&&L!=null?y=L+O.search+O.hash:Y=!0}catch{pn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=hR(y,{relative:o}),[ee,pe,se]=WR(s,x),F=lC(y,{replace:c,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:b});function M(w){e&&e(w),w.defaultPrevented||F(w)}let C=G.createElement("a",{...x,...se,href:j||z,onClick:Y||l?e:M,ref:tC(R,pe),target:g,"data-discover":!V&&t==="render"?"true":void 0});return ee&&!V?G.createElement(G.Fragment,null,C,G.createElement(ZR,{page:z})):C});Jt.displayName="Link";var sC=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:g,...y},_){let b=lc(c,{relative:y.relative}),x=li(),R=G.useContext(ac),{navigator:N,basename:V}=G.useContext(oi),j=R!=null&&fC(b)&&m===!0,Y=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,z=x.pathname,ee=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(z=z.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&V&&(ee=si(ee,V)||ee);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let se=z===Y||!o&&z.startsWith(Y)&&z.charAt(pe)==="/",F=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),M={isActive:se,isPending:F,isTransitioning:j},C=se?e:void 0,w;typeof s=="function"?w=s(M):w=[s,se?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(M):l;return G.createElement(Jt,{...y,"aria-current":C,className:w,ref:_,style:O,to:c,viewTransition:m},typeof g=="function"?g(M):g)});sC.displayName="NavLink";var aC=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=qh,action:m,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:b,...x},R)=>{let N=hC(),V=dC(m,{relative:y}),j=c.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&YT.test(m),z=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,se=(pe==null?void 0:pe.getAttribute("formmethod"))||c;N(pe||ee.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:b})};return G.createElement("form",{ref:R,method:j,action:V,onSubmit:s?g:z,...x,"data-discover":!Y&&r==="render"?"true":void 0})});aC.displayName="Form";function oC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(r){let e=G.useContext(lo);return lt(e,oC(r)),e}function lC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=oc(),g=li(),y=lc(r,{relative:l});return G.useCallback(_=>{if(kR(_,e)){_.preventDefault();let b=t!==void 0?t:la(g)===la(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[g,m,y,t,s,e,r,o,l,c])}var uC=0,cC=()=>`__${String(++uC)}__`;function hC(){let{router:r}=XT("useSubmit"),{basename:e}=G.useContext(oi),t=SR();return G.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:g,body:y}=zR(s,e);if(o.navigate===!1){let _=o.fetcherKey||cC();await r.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function dC(r,{relative:e}={}){let{basename:t}=G.useContext(oi),s=G.useContext(qr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...lc(r||".",{relative:e})},c=li();if(r==null){l.search=c.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Oi([t,l.pathname])),la(l)}function fC(r,e={}){let t=G.useContext(ag);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XT("useViewTransitionState"),o=lc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=si(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=si(t.nextLocation.pathname,s)||t.nextLocation.pathname;return sd(o.pathname,c)!=null||sd(o.pathname,l)!=null}new TextEncoder;var mC=jT();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pC(r){return G.createElement(IR,{flushSync:mC.flushSync,...r})}const gC="_header_13y8r_1",yC="_authDataContainer_13y8r_22",vC="_open_13y8r_34",_C="_logo_13y8r_38",EC="_overlay_13y8r_44",TC="_menuContainer_13y8r_54",bC="_menuButton_13y8r_66",xC="_nav_13y8r_74",SC="_link_13y8r_80",AC="_main_13y8r_90",Br={header:gC,authDataContainer:yC,open:vC,logo:_C,overlay:EC,menuContainer:TC,menuButton:bC,nav:xC,link:SC,main:AC},WT=G.createContext(null),ui=()=>{const r=G.useContext(WT);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},wC="_button_1m3zb_1",RC="_backdrop_1m3zb_5",CC="_modal_1m3zb_18",IC="_actions_1m3zb_29",NC="_confirmButton_1m3zb_35",DC="_cancelButton_1m3zb_43",Zo={button:wC,backdrop:RC,modal:CC,actions:IC,confirmButton:NC,cancelButton:DC},fg=({buttonText:r,modalTitle:e,modalDescription:t,confirmText:s="Підтвердити",cancelText:o="Скасувати",onConfirm:l})=>{const[c,m]=G.useState(!1),g=G.useRef(null);G.useEffect(()=>{const b=x=>{x.key==="Escape"&&m(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),G.useEffect(()=>{c&&g.current&&g.current.focus()},[c]);const y=b=>{g.current&&!g.current.contains(b.target)&&m(!1)},_=()=>{l(),m(!1)};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:Zo.button,onClick:()=>m(!0),children:r}),c&&f.jsx("div",{className:Zo.backdrop,onClick:y,children:f.jsxs("div",{className:Zo.modal,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-desc",tabIndex:-1,ref:g,children:[f.jsx("h2",{id:"modal-title",children:e}),f.jsx("p",{id:"modal-desc",children:t}),f.jsxs("div",{className:Zo.actions,children:[f.jsx("button",{onClick:_,className:Zo.confirmButton,children:s}),f.jsx("button",{onClick:()=>m(!1),className:Zo.cancelButton,children:o})]})]})})]})},OC="_title_1ugut_1",jC={title:OC},MC=()=>f.jsx("div",{className:jC.title});function VC(){const[r,e]=G.useState(!1),{userData:t,logout:s}=ui(),o=li();return f.jsxs(f.Fragment,{children:[f.jsxs("header",{className:`${Br.header} ${r?Br.open:""}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:Br.logo,children:f.jsx("h1",{children:"Життєвий капітал"})}),f.jsx("nav",{children:f.jsxs("ul",{className:Br.nav,children:[f.jsx("li",{children:f.jsx(Jt,{to:"/",className:Br.link,onClick:()=>e(!1),children:"Інформація"})}),f.jsx("li",{children:f.jsx(Jt,{to:"/rules",className:Br.link,onClick:()=>e(!1),children:"Правила"})}),f.jsx("li",{children:f.jsx(Jt,{to:"/games",className:Br.link,onClick:()=>e(!1),children:"Мої ігри"})})]})})]}),f.jsx("div",{className:Br.authDataContainer,children:t?f.jsxs(f.Fragment,{children:[f.jsx("p",{children:t.displayName}),f.jsx(fg,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:s})]}):f.jsx(Jt,{to:"./login",children:"Увійти"})})]}),r&&f.jsx("div",{className:Br.overlay,onClick:()=>e(!1)}),f.jsxs("main",{className:Br.main,children:[f.jsxs("div",{className:Br.menuContainer,children:[f.jsx("button",{className:Br.menuButton,onClick:()=>e(!0),children:f.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),f.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),f.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),f.jsx("p",{children:"Життєвий капітал"})]}),o.pathname==="/"?f.jsx(MC,{}):f.jsx(Vd,{})]})]})}const PC="_table_hq37l_1",Cu={table:PC},fp=[{profession:"Дизайнер",salary:500,children:1,assets:{deposit:0,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:190,totalExpenses:310,otherExpenses:0,childExpenses:60,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Інженер",salary:900,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:5e3,intellectualPropertyIncome:59},costs:{incomeTax:80,utilities:80,householdExpenses:260,totalExpenses:420,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:43e3,interest:140},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2700,interest:100},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Викладач",salary:600,children:0,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:1e4,intellectualPropertyIncome:50},costs:{incomeTax:70,utilities:70,householdExpenses:190,totalExpenses:330,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:8e3,interest:120},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Кухар",salary:300,children:0,assets:{deposit:5e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:140,totalExpenses:230,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:2450,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Менеджер",salary:1100,children:2,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:100,utilities:80,householdExpenses:360,totalExpenses:540,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:7e4,interest:180},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:900,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Лікар",salary:600,children:1,assets:{deposit:3e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:70,utilities:60,householdExpenses:180,totalExpenses:310,otherExpenses:0,childExpenses:80,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Дистриб`ютор",salary:1e3,children:1,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:90,householdExpenses:390,totalExpenses:570,otherExpenses:0,childExpenses:110,credits:{realEstate:{amountOfCredit:8e4,interest:220},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Підприємець",salary:1200,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:100,householdExpenses:380,totalExpenses:570,otherExpenses:0,childExpenses:120,credits:{realEstate:{amountOfCredit:45e3,interest:100},car:{amountOfCredit:7e3,interest:140},machinery:{amountOfCredit:1700,interest:50},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Водій",salary:700,children:2,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:80,householdExpenses:200,totalExpenses:360,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Будівельник",salary:1500,children:2,assets:{deposit:4e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:180,utilities:120,householdExpenses:430,totalExpenses:730,otherExpenses:0,childExpenses:130,credits:{realEstate:{amountOfCredit:9e4,interest:200},car:{amountOfCredit:12e3,interest:150},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:60},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Працівник банку",salary:600,children:1,assets:{deposit:2e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:220,totalExpenses:340,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:5e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Офісний працівник",salary:400,children:1,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:150,totalExpenses:240,otherExpenses:0,childExpenses:50,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:1300,interest:40},furniture:{amountOfCredit:1200,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Програміст",salary:2e3,children:1,assets:{deposit:0,gold:3e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:200,utilities:150,householdExpenses:650,totalExpenses:1e3,otherExpenses:0,childExpenses:150,credits:{realEstate:{amountOfCredit:9e4,interest:250},car:{amountOfCredit:25e3,interest:300},machinery:{amountOfCredit:7e3,interest:250},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Військовослужбовець",salary:800,children:2,assets:{deposit:3e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:70,householdExpenses:260,totalExpenses:410,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1400,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}}],ZT=G.createContext(null),ga=()=>{const r=G.useContext(ZT);if(!r)throw new Error("useGameSession must be used within a GameSessionProvider");return r};function $n(r,e){const{getFromLocalSession:t,saveToLocalSession:s}=ga(),[o,l]=G.useState(()=>t(r)??e);return G.useEffect(()=>{s(r,o)},[r,o,s]),[o,l]}const kC=()=>{const[r,e]=G.useState(null),[t,s]=$n("legend-ProfessionName","");G.useEffect(()=>{if(t){const l=fp.find(c=>c.profession===t);e(l??null)}},[t]);const o=()=>{const l=Math.floor(Math.random()*fp.length),c=fp[l];e(c),s(c.profession)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"container",children:[f.jsx("button",{onClick:o,children:"Отримати легенду"}),r?f.jsxs("div",{style:{width:"100%"},className:"container",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Загальна інформація"}),f.jsx("table",{className:Cu.table,children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Професія"}),f.jsx("td",{className:"summary-td",children:r.profession})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Оплата праці"}),f.jsx("td",{className:"summary-td",children:r.salary})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Кількість дітей"}),f.jsx("td",{className:"summary-td",children:r.children})]})]})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Активи"}),f.jsx("table",{className:Cu.table,children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Депозитний банківський рахунок"}),f.jsx("td",{className:"summary-td",children:r.assets.deposit})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Банківське золото"}),f.jsx("td",{className:"summary-td",children:r.assets.gold})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Накопичувальне страхування"}),f.jsx("td",{className:"summary-td",children:r.assets.savingsInsurance})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Ризикове страхування"}),f.jsx("td",{className:"summary-td",children:r.assets.riskInsurance})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Інтелектуальна власність"}),f.jsx("td",{className:"summary-td",children:r.assets.intellectualProperty})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Інтелектуальна власність ПД"}),f.jsx("td",{className:"summary-td",children:r.assets.intellectualPropertyIncome})]})]})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Витрати"}),f.jsx("table",{className:Cu.table,children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні побутові витрати"}),f.jsx("td",{className:"summary-td",children:r.costs.totalExpenses})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Додаткові витрати"}),f.jsx("td",{className:"summary-td",children:r.costs.otherExpenses})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Витрати на одну дитину"}),f.jsx("td",{className:"summary-td",children:r.costs.childExpenses})]})]})})]}),f.jsx("div",{children:f.jsxs("table",{className:Cu.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Кредити"}),f.jsx("th",{children:"Сума кредита"}),f.jsx("th",{children:"Сплата, %"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{children:"На нерухомість"}),f.jsx("td",{children:r.costs.credits.realEstate.amountOfCredit}),f.jsx("td",{children:r.costs.credits.realEstate.interest})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"На автомобіль"}),f.jsx("td",{children:r.costs.credits.car.amountOfCredit}),f.jsx("td",{children:r.costs.credits.car.interest})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"На побутову техніку"}),f.jsx("td",{children:r.costs.credits.machinery.amountOfCredit}),f.jsx("td",{children:r.costs.credits.machinery.interest})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"На меблі"}),f.jsx("td",{children:r.costs.credits.furniture.amountOfCredit}),f.jsx("td",{children:r.costs.credits.furniture.interest})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"Інші кредити"}),f.jsx("td",{children:r.costs.credits.otherCredits.amountOfCredit}),f.jsx("td",{children:r.costs.credits.otherCredits.interest})]})]})]})})]}):f.jsx("div",{className:Cu.container,children:f.jsx("h2",{className:"table-header",children:"Отримайте легенду натиснувши на кнопку"})})]})})},LC="_investmentInfoContainer_1ydmn_15",UC="_boughtInvestmentList_1ydmn_32",Iu={investmentInfoContainer:LC,boughtInvestmentList:UC},zC=({row:r,index:e,handleChange:t})=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.packetCoast,onChange:s=>t(e,"packetCoast",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.sharePrice,onChange:s=>t(e,"sharePrice",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.numberOfShares,onChange:s=>t(e,"numberOfShares",s.target.value)})})]}),$h=({investment:r})=>f.jsxs("table",{children:[f.jsx("thead",{children:f.jsx("tr",{children:r.type==="shares"?f.jsxs(f.Fragment,{children:[f.jsx("th",{children:"Ціна акцій сьогодні"}),f.jsx("th",{children:"Діапазон цін"})]}):r.type==="currency"?f.jsxs(f.Fragment,{children:[f.jsx("th",{children:"Курс"}),f.jsx("th",{children:"Діапазон цін"})]}):f.jsxs(f.Fragment,{children:[f.jsx("th",{children:"Код"}),f.jsx("th",{children:"Перший внесок"}),f.jsx("th",{children:"Вартість"}),f.jsx("th",{children:"Інвестор"}),f.jsx("th",{children:"ПД"})]})})}),f.jsx("tbody",{children:f.jsx("tr",{children:r.type==="shares"?f.jsxs(f.Fragment,{children:[f.jsx("td",{children:r.currentlyPrice}),f.jsx("td",{children:r.priceRange})]}):r.type==="currency"?f.jsxs(f.Fragment,{children:[f.jsx("td",{children:r.exchangeRate}),f.jsx("td",{children:r.priceRange})]}):f.jsxs(f.Fragment,{children:[f.jsx("td",{children:r.code}),f.jsx("td",{children:r.firstPayment}),f.jsx("td",{children:r.cost}),f.jsx("td",{children:r.credit}),f.jsx("td",{children:r.passiveIncome})]})})})]}),BC="_preButtonIcon_1g0v7_1",FC={preButtonIcon:BC},Wa=({bgColor:r})=>f.jsx("div",{style:{backgroundColor:r},className:FC.preButtonIcon}),ri=({borderColor:r,children:e})=>f.jsx("div",{className:"card-template",style:{border:`1px solid ${r}`},children:e}),HC=Array.from({length:5},(r,e)=>({id:e+1,code:"",packetCoast:"",sharePrice:"",numberOfShares:""})),qC=()=>{const{userData:r}=ui(),{getCardList:e,updateCardList:t,setCurrentCard:s}=ga(),[o,l]=G.useState(!1),[c,m]=$n("invSelectedInvestment",null),[g,y]=$n("invBought",[]),[_,b]=$n("invShareTable",HC);G.useEffect(()=>{if(!c)return;g.some(ee=>ee.id===c.id)&&l(!0)},[g,c]);const x=async()=>{const z=await e("smallInvestments"),ee=z.shift();ee&&(m(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("smallInvestments",z),l(!1))},R=async()=>{const z=await e("largeInvestments"),ee=z.shift();ee&&(m(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("largeInvestments",z),l(!1))},N=()=>{c&&!g.some(z=>z.id===c.id)&&y(z=>[...z,{...c,inputValue:""}]),l(!0)},V=z=>{y(g.filter(ee=>ee.id!==z))},j=(z,ee,pe)=>{b(se=>se.map((F,M)=>M===z?{...F,[ee]:pe}:F))},Y=(z,ee)=>{y(pe=>pe.map(se=>se.id===z?{...se,inputValue:ee}:se))};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"container",children:f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsxs("button",{onClick:x,className:"investmentCardBorder",children:[f.jsx(Wa,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Маленькі інвестиції"]}),f.jsxs("button",{onClick:R,className:"investmentCardBorder",children:[f.jsx(Wa,{bgColor:"rgba(221, 146, 6, 0.845)"}),f.jsx(Wa,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Великі інвестиції"]})]}),f.jsx("div",{children:c?f.jsx(ri,{borderColor:"rgba(221, 146, 6, 0.845)",children:f.jsxs("div",{className:Iu.investmentInfoContainer,children:[f.jsxs("p",{children:["ID: ",c.id]}),f.jsx("p",{children:c.title}),f.jsx("p",{dangerouslySetInnerHTML:{__html:c.description}}),f.jsx($h,{investment:c}),o?f.jsxs("button",{disabled:o,style:{cursor:"not-allowed",border:"1px solid grey"},children:[f.jsx(Wa,{bgColor:"grey"}),"Інвестовано"]}):f.jsxs("button",{onClick:N,disabled:o,style:{border:"1px solid green"},children:[f.jsx(Wa,{bgColor:"green"}),"Інвестувати"]})]})}):f.jsx(ri,{borderColor:"rgba(221, 146, 6, 0.845)"})})]})}),f.jsx("div",{className:"borderBottom",style:{marginTop:"20px"}}),f.jsxs("div",{className:"container",children:[f.jsx("h2",{style:{margin:"20px 0 -20px",textAlign:"center"},children:"Мої інвестиції"}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Бізнес та нерухомість"}),f.jsx("div",{className:Iu.boughtInvestmentList,children:g.length?g.map(z=>z.type==="business"?f.jsx(ri,{borderColor:"rgba(221, 146, 6, 0.845)",children:f.jsxs("div",{className:Iu.investmentInfoContainer,children:[f.jsxs("p",{children:["ID: ",z.id]}),f.jsx("p",{children:z.title}),f.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),f.jsx($h,{investment:z},z.id),f.jsx("input",{type:"text",value:z.inputValue,onChange:ee=>Y(z.id,ee.target.value),placeholder:"Інформація про угоду"}),f.jsxs("button",{onClick:()=>V(z.id),style:{border:"1px solid red"},children:[f.jsx(Wa,{bgColor:"red"}),"Продати"]})]})},z.id):""):f.jsx("p",{children:"У вас немає жодної інвестиції"})})]}),f.jsx("div",{children:f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Цінні папери"}),f.jsx("div",{className:Iu.boughtInvestmentList,children:g.length?g.map(z=>z.type==="shares"||z.type==="currency"?f.jsx(ri,{borderColor:"rgba(221, 146, 6, 0.845)",children:f.jsxs("div",{className:Iu.investmentInfoContainer,children:[f.jsxs("p",{children:["ID: ",z.id]}),f.jsx("p",{children:z.title}),f.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),f.jsx($h,{investment:z},z.id),f.jsxs("button",{onClick:()=>V(z.id),style:{border:"1px solid red"},children:[f.jsx(Wa,{bgColor:"red"}),"Продати"]})]})},z.id):""):""}),f.jsxs("table",{style:{marginTop:"20px"},children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Код"}),f.jsx("th",{children:"Вартість пакета"}),f.jsx("th",{children:"Вартість однієї акції (пая)"}),f.jsx("th",{children:"Кількість"})]})}),f.jsx("tbody",{children:_.map((z,ee)=>f.jsx(zC,{row:z,index:ee,handleChange:j},z.id))})]})]})})]})]})},GC="_wrapper_25t8s_1",$C="_cardChooseContainer_25t8s_8",KC="_title_25t8s_20",QC="_description_25t8s_25",YC="_cardInfo_25t8s_29",XC="_expenseToggleWrapper_25t8s_38",WC="_label_25t8s_47",ZC="_active_25t8s_53",JC="_slider_25t8s_71",Sn={wrapper:GC,cardChooseContainer:$C,title:KC,description:QC,cardInfo:YC,expenseToggleWrapper:XC,label:WC,active:ZC,switch:"_switch_25t8s_58",slider:JC},eI=()=>{const{getCardList:r,updateCardList:e,setCurrentCard:t}=ga(),{userData:s}=ui(),[o,l]=$n("actDemands",null),[c,m]=$n("actEvents",null),[g,y]=$n("actExpenses",null),[_,b]=$n("actToggle",!1),x=async()=>{if(_){const V=await r("highExpenses"),j=V.shift();if(!j)return;y(j),V.push(j),await t("expense",{card:j,playerAdded:s==null?void 0:s.displayName}),await e("highExpenses",V)}else{const V=await r("expenses"),j=V.shift();if(!j)return;y(j),V.push(j),await t("expense",{card:j,playerAdded:s==null?void 0:s.displayName}),await e("expenses",V)}},R=async()=>{const V=await r("demands"),j=V.shift();j&&(l(j),V.push(j),await t("demand",{card:j,playerAdded:s==null?void 0:s.displayName}),await e("demands",V))},N=async()=>{const V=await r("events"),j=V.shift();j&&(m(j),V.push(j),await t("event",{card:j,playerAdded:s==null?void 0:s.displayName}),await e("events",V))};return f.jsx("div",{className:"container",children:f.jsxs("div",{className:Sn.wrapper,children:[f.jsxs("div",{className:Sn.cardChooseContainer,children:[f.jsx("button",{onClick:N,children:"Подія"}),f.jsx(ri,{borderColor:"purple",children:c?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["ID: ",c.id]}),f.jsxs("div",{className:Sn.cardInfo,children:[f.jsx("p",{className:Sn.title,children:c.title}),f.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:c.description}})]})]}):""})]}),f.jsxs("div",{className:Sn.cardChooseContainer,children:[f.jsx("button",{onClick:R,children:"Попит"}),f.jsx(ri,{borderColor:"#328ff3ca",children:o?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["ID: ",o.id]}),f.jsxs("div",{className:Sn.cardInfo,children:[f.jsx("p",{className:Sn.title,children:o.title}),f.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:o.description}}),f.jsxs("p",{children:["Коди: ",o.codes.join(", ")]})]})]}):""})]}),f.jsxs("div",{className:Sn.cardChooseContainer,children:[f.jsxs("div",{className:Sn.expenseToggleWrapper,children:[f.jsxs("label",{className:Sn.switch,children:[f.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(V=>!V),"aria-label":_?"Відображаються великі витрати":"Відображаються малі витрати"}),f.jsx("span",{className:Sn.slider})]}),f.jsx("span",{className:`${Sn.label} ${_?Sn.active:""}`,"aria-hidden":"true",children:_?"Великі витрати":"Маленькі витрати"})]}),f.jsx("button",{onClick:x,children:"Витрати"}),f.jsx(ri,{borderColor:"rgb(117, 18, 18)",children:g?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["ID: ",g.id]}),f.jsxs("div",{className:Sn.cardInfo,children:[f.jsx("p",{className:Sn.title,children:g.amountOfExpenses}),f.jsx("p",{className:Sn.description,dangerouslySetInnerHTML:{__html:g.description}})]})]}):""})]})]})})},tI="_mainContent_ajjim_1",nI="_navUl_ajjim_5",rI="_link_ajjim_12",Nu={mainContent:tI,navUl:nI,link:rI},iI=()=>f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"borderBottom",children:f.jsxs("ul",{className:Nu.navUl,children:[f.jsx("li",{children:f.jsx(Jt,{to:"",className:Nu.link,children:"Основна"})}),f.jsx("li",{children:f.jsx(Jt,{to:"./income",className:Nu.link,children:"Доходи"})}),f.jsx("li",{children:f.jsx(Jt,{to:"./extend",className:Nu.link,children:"Витрати"})})]})}),f.jsx("div",{className:Nu.mainContent,children:f.jsx(Vd,{})})]});var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],m=r[t++],g=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,m=c?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=l>>2,b=(l&3)<<4|m>>4;let x=(m&15)<<2|y>>6,R=y&63;g||(R=64,c||(x=64)),s.push(t[_],t[b],t[x],t[R])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(JT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||m==null||y==null||b==null)throw new aI;const x=l<<2|m>>4;if(s.push(x),y!==64){const R=m<<4&240|y>>2;if(s.push(R),b!==64){const N=y<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(r){const e=JT(r);return eb.encodeByteArray(e,!0)},od=function(r){return oI(r).replace(/\./g,"")},tb=function(r){try{return eb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof YE>"u")return;const r=YE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tb(r[1]);return e&&JSON.parse(e)},kd=()=>{try{return uI()||cI()||hI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nb=r=>{var e,t;return(t=(e=kd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},dI=r=>{const e=nb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},rb=()=>{var r;return(r=kd())===null||r===void 0?void 0:r.config},ib=r=>{var e;return(e=kd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[od(JSON.stringify(t)),od(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function gI(){var r;const e=(r=kd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const r=Kn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TI(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function xI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="FirebaseError";class Ts extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=SI,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?AI(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ts(o,m,s)}}function AI(r,e){return r.replace(wI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wI=/\{\$([^}]+)}/g;function RI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ld(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(XE(l)&&XE(c)){if(!ld(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function XE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Pu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function CI(r,e){const t=new II(r,e);return t.subscribe.bind(t)}class II{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=mp),o.error===void 0&&(o.error=mp),o.complete===void 0&&(o.complete=mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(r){return r&&r._delegate?r._delegate:r}class ro{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(r){return r===Za?void 0:r}function jI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ot||(ot={}));const VI={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},PI=ot.INFO,kI={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},LI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=kI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const UI=(r,e)=>e.some(t=>r instanceof t);let WE,ZE;function zI(){return WE||(WE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,Dp=new WeakMap,ab=new WeakMap,pp=new WeakMap,pg=new WeakMap;function FI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(ra(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sb.set(t,r)}).catch(()=>{}),pg.set(e,r),e}function HI(r){if(Dp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Dp.set(r,e)}let Op={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ab.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qI(r){Op=r(Op)}function GI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(gp(this),e,...t);return ab.set(s,e.sort?e.sort():[e]),ra(s)}:BI().includes(r)?function(...e){return r.apply(gp(this),e),ra(sb.get(this))}:function(...e){return ra(r.apply(gp(this),e))}}function $I(r){return typeof r=="function"?GI(r):(r instanceof IDBTransaction&&HI(r),UI(r,zI())?new Proxy(r,Op):r)}function ra(r){if(r instanceof IDBRequest)return FI(r);if(pp.has(r))return pp.get(r);const e=$I(r);return e!==r&&(pp.set(r,e),pg.set(e,r)),e}const gp=r=>pg.get(r);function KI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),m=ra(c);return s&&c.addEventListener("upgradeneeded",g=>{s(ra(c.result),g.oldVersion,g.newVersion,ra(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const QI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],yp=new Map;function JE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QI.includes(t)))return;const l=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return yp.set(e,l),l}qI(r=>({...r,get:(e,t,s)=>JE(e,t)||r.get(e,t,s),has:(e,t)=>!!JE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function WI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",e0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new mg("@firebase/app"),ZI="@firebase/app-compat",JI="@firebase/analytics-compat",e1="@firebase/analytics",t1="@firebase/app-check-compat",n1="@firebase/app-check",r1="@firebase/auth",i1="@firebase/auth-compat",s1="@firebase/database",a1="@firebase/data-connect",o1="@firebase/database-compat",l1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",d1="@firebase/messaging",f1="@firebase/messaging-compat",m1="@firebase/performance",p1="@firebase/performance-compat",g1="@firebase/remote-config",y1="@firebase/remote-config-compat",v1="@firebase/storage",_1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/vertexai",b1="@firebase/firestore-compat",x1="firebase",S1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",A1={[jp]:"fire-core",[ZI]:"fire-core-compat",[e1]:"fire-analytics",[JI]:"fire-analytics-compat",[n1]:"fire-app-check",[t1]:"fire-app-check-compat",[r1]:"fire-auth",[i1]:"fire-auth-compat",[s1]:"fire-rtdb",[a1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[l1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[d1]:"fire-fcm",[f1]:"fire-fcm-compat",[m1]:"fire-perf",[p1]:"fire-perf-compat",[g1]:"fire-rc",[y1]:"fire-rc-compat",[v1]:"fire-gcs",[_1]:"fire-gcs-compat",[E1]:"fire-fst",[b1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,w1=new Map,Vp=new Map;function t0(r,e){try{r.container.addComponent(e)}catch(t){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function hl(r){const e=r.name;if(Vp.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,r);for(const t of ud.values())t0(t,r);for(const t of w1.values())t0(t,r);return!0}function gg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Hr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new uc("app","Firebase",R1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=S1;function ob(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(t||(t=rb()),!t)throw ia.create("no-options");const l=ud.get(o);if(l){if(ld(t,l.options)&&ld(s,l.config))return l;throw ia.create("duplicate-app",{appName:o})}const c=new MI(o);for(const g of Vp.values())c.addComponent(g);const m=new C1(t,s,c);return ud.set(o,m),m}function lb(r=Mp){const e=ud.get(r);if(!e&&r===Mp&&rb())return ob();if(!e)throw ia.create("no-app",{appName:r});return e}function sa(r,e,t){var s;let o=(s=A1[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(m.join(" "));return}hl(new ro(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",N1=1,Xu="firebase-heartbeat-store";let vp=null;function ub(){return vp||(vp=KI(I1,N1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xu)}catch(t){console.warn(t)}}}}).catch(r=>{throw ia.create("idb-open",{originalErrorMessage:r.message})})),vp}async function D1(r){try{const t=(await ub()).transaction(Xu),s=await t.objectStore(Xu).get(cb(r));return await t.done,s}catch(e){if(e instanceof Ts)gs.warn(e.message);else{const t=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(t.message)}}}async function n0(r,e){try{const s=(await ub()).transaction(Xu,"readwrite");await s.objectStore(Xu).put(e,cb(r)),await s.done}catch(t){if(t instanceof Ts)gs.warn(t.message);else{const s=ia.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gs.warn(s.message)}}}function cb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=1024,j1=30;class M1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new P1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=r0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>j1){const c=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:s,unsentEntries:o}=V1(this._heartbeatsCache.heartbeats),l=od(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function V1(r,e=O1){const t=[];let s=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),i0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),i0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class P1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?xI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await D1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function i0(r){return od(JSON.stringify({version:2,heartbeats:r})).length}function k1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){hl(new ro("platform-logger",e=>new XI(e),"PRIVATE")),hl(new ro("heartbeat",e=>new M1(e),"PRIVATE")),sa(jp,e0,r),sa(jp,e0,"esm2017"),sa("fire-js","")}L1("");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,hb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function w(){}w.prototype=C.prototype,M.D=C.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,L,B){for(var I=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)I[Be-2]=arguments[Be];return C.prototype[L].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,w){w||(w=0);var O=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)O[L]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(L=0;16>L;++L)O[L]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=M.g[0],w=M.g[1],L=M.g[2];var B=M.g[3],I=C+(B^w&(L^B))+O[0]+3614090360&4294967295;C=w+(I<<7&4294967295|I>>>25),I=B+(L^C&(w^L))+O[1]+3905402710&4294967295,B=C+(I<<12&4294967295|I>>>20),I=L+(w^B&(C^w))+O[2]+606105819&4294967295,L=B+(I<<17&4294967295|I>>>15),I=w+(C^L&(B^C))+O[3]+3250441966&4294967295,w=L+(I<<22&4294967295|I>>>10),I=C+(B^w&(L^B))+O[4]+4118548399&4294967295,C=w+(I<<7&4294967295|I>>>25),I=B+(L^C&(w^L))+O[5]+1200080426&4294967295,B=C+(I<<12&4294967295|I>>>20),I=L+(w^B&(C^w))+O[6]+2821735955&4294967295,L=B+(I<<17&4294967295|I>>>15),I=w+(C^L&(B^C))+O[7]+4249261313&4294967295,w=L+(I<<22&4294967295|I>>>10),I=C+(B^w&(L^B))+O[8]+1770035416&4294967295,C=w+(I<<7&4294967295|I>>>25),I=B+(L^C&(w^L))+O[9]+2336552879&4294967295,B=C+(I<<12&4294967295|I>>>20),I=L+(w^B&(C^w))+O[10]+4294925233&4294967295,L=B+(I<<17&4294967295|I>>>15),I=w+(C^L&(B^C))+O[11]+2304563134&4294967295,w=L+(I<<22&4294967295|I>>>10),I=C+(B^w&(L^B))+O[12]+1804603682&4294967295,C=w+(I<<7&4294967295|I>>>25),I=B+(L^C&(w^L))+O[13]+4254626195&4294967295,B=C+(I<<12&4294967295|I>>>20),I=L+(w^B&(C^w))+O[14]+2792965006&4294967295,L=B+(I<<17&4294967295|I>>>15),I=w+(C^L&(B^C))+O[15]+1236535329&4294967295,w=L+(I<<22&4294967295|I>>>10),I=C+(L^B&(w^L))+O[1]+4129170786&4294967295,C=w+(I<<5&4294967295|I>>>27),I=B+(w^L&(C^w))+O[6]+3225465664&4294967295,B=C+(I<<9&4294967295|I>>>23),I=L+(C^w&(B^C))+O[11]+643717713&4294967295,L=B+(I<<14&4294967295|I>>>18),I=w+(B^C&(L^B))+O[0]+3921069994&4294967295,w=L+(I<<20&4294967295|I>>>12),I=C+(L^B&(w^L))+O[5]+3593408605&4294967295,C=w+(I<<5&4294967295|I>>>27),I=B+(w^L&(C^w))+O[10]+38016083&4294967295,B=C+(I<<9&4294967295|I>>>23),I=L+(C^w&(B^C))+O[15]+3634488961&4294967295,L=B+(I<<14&4294967295|I>>>18),I=w+(B^C&(L^B))+O[4]+3889429448&4294967295,w=L+(I<<20&4294967295|I>>>12),I=C+(L^B&(w^L))+O[9]+568446438&4294967295,C=w+(I<<5&4294967295|I>>>27),I=B+(w^L&(C^w))+O[14]+3275163606&4294967295,B=C+(I<<9&4294967295|I>>>23),I=L+(C^w&(B^C))+O[3]+4107603335&4294967295,L=B+(I<<14&4294967295|I>>>18),I=w+(B^C&(L^B))+O[8]+1163531501&4294967295,w=L+(I<<20&4294967295|I>>>12),I=C+(L^B&(w^L))+O[13]+2850285829&4294967295,C=w+(I<<5&4294967295|I>>>27),I=B+(w^L&(C^w))+O[2]+4243563512&4294967295,B=C+(I<<9&4294967295|I>>>23),I=L+(C^w&(B^C))+O[7]+1735328473&4294967295,L=B+(I<<14&4294967295|I>>>18),I=w+(B^C&(L^B))+O[12]+2368359562&4294967295,w=L+(I<<20&4294967295|I>>>12),I=C+(w^L^B)+O[5]+4294588738&4294967295,C=w+(I<<4&4294967295|I>>>28),I=B+(C^w^L)+O[8]+2272392833&4294967295,B=C+(I<<11&4294967295|I>>>21),I=L+(B^C^w)+O[11]+1839030562&4294967295,L=B+(I<<16&4294967295|I>>>16),I=w+(L^B^C)+O[14]+4259657740&4294967295,w=L+(I<<23&4294967295|I>>>9),I=C+(w^L^B)+O[1]+2763975236&4294967295,C=w+(I<<4&4294967295|I>>>28),I=B+(C^w^L)+O[4]+1272893353&4294967295,B=C+(I<<11&4294967295|I>>>21),I=L+(B^C^w)+O[7]+4139469664&4294967295,L=B+(I<<16&4294967295|I>>>16),I=w+(L^B^C)+O[10]+3200236656&4294967295,w=L+(I<<23&4294967295|I>>>9),I=C+(w^L^B)+O[13]+681279174&4294967295,C=w+(I<<4&4294967295|I>>>28),I=B+(C^w^L)+O[0]+3936430074&4294967295,B=C+(I<<11&4294967295|I>>>21),I=L+(B^C^w)+O[3]+3572445317&4294967295,L=B+(I<<16&4294967295|I>>>16),I=w+(L^B^C)+O[6]+76029189&4294967295,w=L+(I<<23&4294967295|I>>>9),I=C+(w^L^B)+O[9]+3654602809&4294967295,C=w+(I<<4&4294967295|I>>>28),I=B+(C^w^L)+O[12]+3873151461&4294967295,B=C+(I<<11&4294967295|I>>>21),I=L+(B^C^w)+O[15]+530742520&4294967295,L=B+(I<<16&4294967295|I>>>16),I=w+(L^B^C)+O[2]+3299628645&4294967295,w=L+(I<<23&4294967295|I>>>9),I=C+(L^(w|~B))+O[0]+4096336452&4294967295,C=w+(I<<6&4294967295|I>>>26),I=B+(w^(C|~L))+O[7]+1126891415&4294967295,B=C+(I<<10&4294967295|I>>>22),I=L+(C^(B|~w))+O[14]+2878612391&4294967295,L=B+(I<<15&4294967295|I>>>17),I=w+(B^(L|~C))+O[5]+4237533241&4294967295,w=L+(I<<21&4294967295|I>>>11),I=C+(L^(w|~B))+O[12]+1700485571&4294967295,C=w+(I<<6&4294967295|I>>>26),I=B+(w^(C|~L))+O[3]+2399980690&4294967295,B=C+(I<<10&4294967295|I>>>22),I=L+(C^(B|~w))+O[10]+4293915773&4294967295,L=B+(I<<15&4294967295|I>>>17),I=w+(B^(L|~C))+O[1]+2240044497&4294967295,w=L+(I<<21&4294967295|I>>>11),I=C+(L^(w|~B))+O[8]+1873313359&4294967295,C=w+(I<<6&4294967295|I>>>26),I=B+(w^(C|~L))+O[15]+4264355552&4294967295,B=C+(I<<10&4294967295|I>>>22),I=L+(C^(B|~w))+O[6]+2734768916&4294967295,L=B+(I<<15&4294967295|I>>>17),I=w+(B^(L|~C))+O[13]+1309151649&4294967295,w=L+(I<<21&4294967295|I>>>11),I=C+(L^(w|~B))+O[4]+4149444226&4294967295,C=w+(I<<6&4294967295|I>>>26),I=B+(w^(C|~L))+O[11]+3174756917&4294967295,B=C+(I<<10&4294967295|I>>>22),I=L+(C^(B|~w))+O[2]+718787259&4294967295,L=B+(I<<15&4294967295|I>>>17),I=w+(B^(L|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var w=C-this.blockSize,O=this.B,L=this.h,B=0;B<C;){if(L==0)for(;B<=w;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<C;)if(O[L++]=M.charCodeAt(B++),L==this.blockSize){o(this,O),L=0;break}}else for(;B<C;)if(O[L++]=M[B++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var w=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=w&255,w/=256;for(this.u(M),M=Array(16),C=w=0;4>C;++C)for(var O=0;32>O;O+=8)M[w++]=this.g[C]>>>O&255;return M};function l(M,C){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=C(M)}function c(M,C){this.h=C;for(var w=[],O=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;O&&B==C||(w[L]=B,O=!1)}this.g=w}var m={};function g(M){return-128<=M&&128>M?l(M,function(C){return new c([C|0],0>C?-1:0)}):new c([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return j(y(-M));for(var C=[],w=1,O=0;M>=w;O++)C[O]=M/w|0,w*=4294967296;return new c(C,0)}function _(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return j(_(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(C,8)),O=b,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),I=parseInt(M.substring(L,L+B),C);8>B?(B=y(Math.pow(C,B)),O=O.j(B).add(y(I))):(O=O.j(w),O=O.add(y(I)))}return O}var b=g(0),x=g(1),R=g(16777216);r=c.prototype,r.m=function(){if(V(this))return-j(this).m();for(var M=0,C=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(V(this))return"-"+j(this).toString(M);for(var C=y(Math.pow(M,6)),w=this,O="";;){var L=pe(w,C).g;w=Y(w,L.j(C));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=L,N(w))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function V(M){return M.h==-1}r.l=function(M){return M=Y(this,M),V(M)?-1:N(M)?0:1};function j(M){for(var C=M.g.length,w=[],O=0;O<C;O++)w[O]=~M.g[O];return new c(w,~M.h).add(x)}r.abs=function(){return V(this)?j(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),w=[],O=0,L=0;L<=C;L++){var B=O+(this.i(L)&65535)+(M.i(L)&65535),I=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);O=I>>>16,B&=65535,I&=65535,w[L]=I<<16|B}return new c(w,w[w.length-1]&-2147483648?-1:0)};function Y(M,C){return M.add(j(C))}r.j=function(M){if(N(this)||N(M))return b;if(V(this))return V(M)?j(this).j(j(M)):j(j(this).j(M));if(V(M))return j(this.j(j(M)));if(0>this.l(R)&&0>M.l(R))return y(this.m()*M.m());for(var C=this.g.length+M.g.length,w=[],O=0;O<2*C;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<M.g.length;L++){var B=this.i(O)>>>16,I=this.i(O)&65535,Be=M.i(L)>>>16,et=M.i(L)&65535;w[2*O+2*L]+=I*et,z(w,2*O+2*L),w[2*O+2*L+1]+=B*et,z(w,2*O+2*L+1),w[2*O+2*L+1]+=I*Be,z(w,2*O+2*L+1),w[2*O+2*L+2]+=B*Be,z(w,2*O+2*L+2)}for(O=0;O<C;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=C;O<2*C;O++)w[O]=0;return new c(w,0)};function z(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function ee(M,C){this.g=M,this.h=C}function pe(M,C){if(N(C))throw Error("division by zero");if(N(M))return new ee(b,b);if(V(M))return C=pe(j(M),C),new ee(j(C.g),j(C.h));if(V(C))return C=pe(M,j(C)),new ee(j(C.g),C.h);if(30<M.g.length){if(V(M)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=C;0>=O.l(M);)w=se(w),O=se(O);var L=F(w,1),B=F(O,1);for(O=F(O,2),w=F(w,2);!N(O);){var I=B.add(O);0>=I.l(M)&&(L=L.add(w),B=I),O=F(O,1),w=F(w,1)}return C=Y(M,L.j(C)),new ee(L,C)}for(L=b;0<=M.l(C);){for(w=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=y(w),I=B.j(C);V(I)||0<I.l(M);)w-=O,B=y(w),I=B.j(C);N(B)&&(B=x),L=L.add(B),M=Y(M,I)}return new ee(L,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),w=[],O=0;O<C;O++)w[O]=this.i(O)&M.i(O);return new c(w,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),w=[],O=0;O<C;O++)w[O]=this.i(O)|M.i(O);return new c(w,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),w=[],O=0;O<C;O++)w[O]=this.i(O)^M.i(O);return new c(w,this.h^M.h)};function se(M){for(var C=M.g.length+1,w=[],O=0;O<C;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(w,M.h)}function F(M,C){var w=C>>5;C%=32;for(var O=M.g.length-w,L=[],B=0;B<O;B++)L[B]=0<C?M.i(B+w)>>>C|M.i(B+w+1)<<32-C:M.i(B+w);return new c(L,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,aa=c}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var db,ku,fb,Kh,Pp,mb,pb,gb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var Q=h[A];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,A=!1,Q={next:function(){if(!A&&E<h.length){var te=E++;return{value:v(te,h[te]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function g(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function b(h,v,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function x(h,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,x.apply(null,arguments)}function R(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function N(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,Q,te){for(var ge=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ge[ft-2]=arguments[ft];return v.prototype[Q].apply(A,ge)}}function V(h){const v=h.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function j(h,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(g(A)){const Q=h.length||0,te=A.length||0;h.length=Q+te;for(let ge=0;ge<te;ge++)h[Q+ge]=A[ge]}else h.push(A)}}class Y{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function ee(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var se=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function F(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function M(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let E,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(E in A)h[E]=A[E];for(let te=0;te<w.length;te++)E=w[te],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function L(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function B(h){m.setTimeout(()=>{throw h},0)}function I(){var h=We;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,E){const A=et.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new Y(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,xe=!1,We=new Be,k=()=>{const h=m.Promise.resolve(void 0);Ce=()=>{h.then(ce)}};var ce=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){B(E)}var v=et;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}xe=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};m.addEventListener("test",E,v),m.removeEventListener("test",E,v)}catch{}return h}();function Fe(h,v){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(se){e:{try{pe(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}N(Fe,ve);var Le={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),st=0;function wt(h,v,E,A,Q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=Q,this.key=++st,this.da=this.fa=!1}function He(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h){this.src=h,this.g={},this.h=0}Dt.prototype.add=function(h,v,E,A,Q){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=kn(h,v,A,Q);return-1<ge?(v=h[ge],E||(v.fa=!1)):(v=new wt(v,this.src,te,!!A,Q),v.fa=E,h.push(v)),v};function Qn(h,v){var E=v.type;if(E in h.g){var A=h.g[E],Q=Array.prototype.indexOf.call(A,v,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(A,Q,1),te&&(He(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function kn(h,v,E,A){for(var Q=0;Q<h.length;++Q){var te=h[Q];if(!te.da&&te.listener==v&&te.capture==!!E&&te.ha==A)return Q}return-1}var ln="closure_lm_"+(1e6*Math.random()|0),br={};function sr(h,v,E,A,Q){if(Array.isArray(v)){for(var te=0;te<v.length;te++)sr(h,v[te],E,A,Q);return null}return E=Ee(E),h&&h[Vt]?h.K(v,E,y(A)?!!A.capture:!1,Q):Gr(h,v,E,!1,A,Q)}function Gr(h,v,E,A,Q,te){if(!v)throw Error("Invalid event type");var ge=y(Q)?!!Q.capture:!!Q,ft=Z(h);if(ft||(h[ln]=ft=new Dt(h)),E=ft.add(v,E,A,ge,te),E.proxy)return E;if(A=ci(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)_e||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),A,Q);else if(h.attachEvent)h.attachEvent($r(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ci(){function h(E){return v.call(h.src,h.listener,E)}const v=P;return h}function hi(h,v,E,A,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)hi(h,v[te],E,A,Q);else A=y(A)?!!A.capture:!!A,E=Ee(E),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],E=kn(te,E,A,Q),-1<E&&(He(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=Z(h))&&(v=h.g[v.toString()],h=-1,v&&(h=kn(v,E,A,Q)),(E=-1<h?v[h]:null)&&di(E))}function di(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])Qn(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent($r(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Z(v))?(Qn(E,h),E.h==0&&(E.src=null,v[ln]=null)):He(h)}}}function $r(h){return h in br?br[h]:br[h]="on"+h}function P(h,v){if(h.da)h=!0;else{v=new Fe(v,this);var E=h.listener,A=h.ha||h.src;h.fa&&di(h),h=E.call(A,v)}return h}function Z(h){return h=h[ln],h instanceof Dt?h:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(h){return typeof h=="function"?h:(h[ne]||(h[ne]=function(v){return h.handleEvent(v)}),h[ne])}function he(){Ae.call(this),this.i=new Dt(this),this.M=this,this.F=null}N(he,Ae),he.prototype[Vt]=!0,he.prototype.removeEventListener=function(h,v,E,A){hi(this,h,v,E,A)};function ae(h,v){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ve(v,h);else if(v instanceof ve)v.target=v.target||h;else{var Q=v;v=new ve(A,h),O(v,Q)}if(Q=!0,E)for(var te=E.length-1;0<=te;te--){var ge=v.g=E[te];Q=be(ge,A,!0,v)&&Q}if(ge=v.g=h,Q=be(ge,A,!0,v)&&Q,Q=be(ge,A,!1,v)&&Q,E)for(te=0;te<E.length;te++)ge=v.g=E[te],Q=be(ge,A,!1,v)&&Q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],A=0;A<E.length;A++)He(E[A]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},he.prototype.L=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function be(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,te=0;te<v.length;++te){var ge=v[te];if(ge&&!ge.da&&ge.capture==E){var ft=ge.listener,un=ge.ha||ge.src;ge.fa&&Qn(h.i,ge),Q=ft.call(un,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function Ze(h,v,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Rt(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,Rt(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class At extends Ae{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){Ae.call(this),this.h=h,this.g={}}N(xr,Ae);var Yn=[];function zt(h){F(h.g,function(v,E){this.g.hasOwnProperty(E)&&di(v)},h),h.g={}}xr.prototype.N=function(){xr.aa.N.call(this),zt(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=m.JSON.stringify,Ln=m.JSON.parse,qt=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Kr(){}Kr.prototype.h=null;function bs(h){return h.h||(h.h=h.i())}function fo(){}var hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){ve.call(this,"d")}N(fi,ve);function ar(){ve.call(this,"c")}N(ar,ve);var In={},dr=null;function xs(){return dr=dr||new he}In.La="serverreachability";function Ta(h){ve.call(this,In.La,h)}N(Ta,ve);function U(h){const v=xs();ae(v,new Ta(v))}In.STAT_EVENT="statevent";function $(h,v){ve.call(this,In.STAT_EVENT,h),this.stat=v}N($,ve);function X(h){const v=xs();ae(v,new $(v,h))}In.Ma="timingevent";function fe(h,v){ve.call(this,In.Ma,h),this.size=v}N(fe,ve);function Te(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ue(h,v,E,A,Q,te){h.info(function(){if(h.g)if(te)for(var ge="",ft=te.split("&"),un=0;un<ft.length;un++){var mt=ft[un].split("=");if(1<mt.length){var En=mt[0];mt=mt[1];var cn=En.split("_");ge=2<=cn.length&&cn[1]=="type"?ge+(En+"="+mt+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+v+`
`+E+`
`+ge})}function we(h,v,E,A,Q,te,ge){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+v+`
`+E+`
`+te+" "+ge})}function Re(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+De(h,E)+(A?" "+A:"")})}function ye(h,v){h.info(function(){return"TIMEOUT: "+v})}Ie.prototype.info=function(){};function De(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Ui(E)}catch{return v}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pt;function bt(){}N(bt,Kr),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},Pt=new bt;function at(h,v,E,A){this.j=h,this.i=v,this.l=E,this.R=A||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Xn={},fr={};function Yt(h,v,E){h.L=1,h.v=Aa(Gt(v)),h.m=E,h.P=!0,tn(h,null)}function tn(h,v){h.F=Date.now(),Et(h),h.A=Gt(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Hi(E.i,"t",A),h.C=0,E=h.j.J,h.h=new kt,h.g=jc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new At(x(h.Y,h,h.g),h.O)),v=h.U,E=h.g,A=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Yn[0]=Q.toString()),Q=Yn);for(var te=0;te<Q.length;te++){var ge=sr(E,Q[te],A||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),U(),Ue(h.i,h.u,h.A,h.l,h.R,h.m)}at.prototype.ca=function(h){h=h.target;const v=this.M;v&&Nr(h)==3?v.j():this.Y(h)},at.prototype.Y=function(h){try{if(h==this.g)e:{const cn=Nr(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Ac(this.g)))){this.J||cn!=4||v==7||(v==8||0>=Ki?U(3):U(2)),Qr(this);var E=this.g.Z();this.X=E;t:if(Sr(this)){var A=Ac(this.g);h="";var Q=A.length,te=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),tt(this);var ge="";break t}this.h.i=new m.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(te&&v==Q-1)});A.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,we(this.i,this.u,this.A,this.l,this.R,cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,un=this.g;if((ft=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ft)){var mt=ft;break t}}mt=null}if(E=mt)Re(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,E);else{this.o=!1,this.s=3,X(12),Tt(this),tt(this);break e}}if(this.P){E=!0;let Nn;for(;!this.J&&this.C<ge.length;)if(Nn=or(this,ge),Nn==fr){cn==4&&(this.s=4,X(14),E=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Xn){this.s=4,X(15),Re(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else Re(this.i,this.l,Nn,null),vn(this,Nn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||ge.length!=0||this.h.h||(this.s=1,X(16),E=!1),this.o=this.o&&E,!E)Re(this.i,this.l,ge,"[Invalid Chunked Response]"),Tt(this),tt(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Oa(En),En.M=!0,X(11))}}else Re(this.i,this.l,ge,null),vn(this,ge);cn==4&&Tt(this),this.o&&!this.J&&(cn==4?Nc(this.j,this):(this.o=!1,Et(this)))}else df(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Tt(this),tt(this)}}}catch{}finally{}};function Sr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function or(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?fr:(E=Number(v.substring(E,A)),isNaN(E)?Xn:(A+=1,A+E>v.length?fr:(v=v.slice(A,A+E),h.C=A+E,v)))}at.prototype.cancel=function(){this.J=!0,Tt(this)};function Et(h){h.S=Date.now()+h.I,mi(h,h.I)}function mi(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(x(h.ba,h),v)}function Qr(h){h.B&&(m.clearTimeout(h.B),h.B=null)}at.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ye(this.i,this.A),this.L!=2&&(U(),X(17)),Tt(this),this.s=2,tt(this)):mi(this,this.S-h)};function tt(h){h.j.G==0||h.J||Nc(h.j,h)}function Tt(h){Qr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,zt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function vn(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||pi(E.h,h))){if(!h.K&&pi(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)xo(E),To(E);else break e;Vl(E),X(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(x(E.Za,E),6e3));if(1>=ba(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $i(E,11)}else if((h.K||E.g==h)&&xo(E),!z(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let mt=Q[v];if(E.T=mt[0],mt=mt[1],E.G==2)if(mt[0]=="c"){E.K=mt[1],E.ia=mt[2];const En=mt[3];En!=null&&(E.la=En,E.j.info("VER="+E.la));const cn=mt[4];cn!=null&&(E.Aa=cn,E.j.info("SVER="+E.Aa));const Ki=mt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Nn=h.g;if(Nn){const bi=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var te=A.h;te.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ss(te,te.h),te.h=null))}if(A.D){const kl=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(A.ya=kl,yt(A.I,A.D,kl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ge=h;if(A.qa=Oc(A,A.J?A.ia:null,A.W),ge.K){wr(A.h,ge);var ft=ge,un=A.L;un&&(ft.I=un),ft.B&&(Qr(ft),Et(ft)),A.g=ge}else Cc(A);0<E.i.length&&bo(E)}else mt[0]!="stop"&&mt[0]!="close"||$i(E,7);else E.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?$i(E,7):jl(E):mt[0]!="noop"&&E.l&&E.l.ta(mt),E.v=0)}}U(4)}catch{}}var zi=class{constructor(h,v){this.g=h,this.map=v}};function Ot(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ar(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ba(h){return h.h?1:h.g?h.g.size:0}function pi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ss(h,v){h.g?h.g.add(v):h.h=v}function wr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ot.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return V(h.i)}function Tc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var v=[],E=h.length,A=0;A<E;A++)v.push(h[A]);return v}v=[],E=0;for(A in h)v[E++]=h[A];return v}function lf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const A in h)v[E++]=A;return v}}}function xa(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=lf(h),A=Tc(h),Q=A.length,te=0;te<Q;te++)v.call(void 0,A[te],E&&E[te],h)}var Rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),Q=null;if(0<=A){var te=h[E].substring(0,A);Q=h[E].substring(A+1)}else te=h[E];v(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Bi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Bi){this.h=h.h,As(this,h.j),this.o=h.o,this.g=h.g,Sa(this,h.s),this.l=h.l;var v=h.i,E=new gi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),po(this,E),this.m=h.m}else h&&(v=String(h).match(Rl))?(this.h=!1,As(this,v[1]||"",!0),this.o=ws(v[2]||""),this.g=ws(v[3]||"",!0),Sa(this,v[4]),this.l=ws(v[5]||"",!0),po(this,v[6]||"",!0),this.m=ws(v[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Bi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Rr(v,Cl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Rr(v,Cl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Rr(E,E.charAt(0)=="/"?Il:bc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Rr(E,hf)),h.join("")};function Gt(h){return new Bi(h)}function As(h,v,E){h.j=E?ws(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Sa(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function po(h,v,E){v instanceof gi?(h.i=v,Nl(h.i,h.h)):(E||(v=Rr(v,cf)),h.i=new gi(v,h.h))}function yt(h,v,E){h.i.set(v,E)}function Aa(h){return yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ws(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Rr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,uf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Cl=/[#\/\?@]/g,bc=/[#\?:]/g,Il=/[#\?]/g,cf=/[#\?@]/g,hf=/#/g;function gi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Cr(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=gi.prototype,r.add=function(h,v){Cr(this),this.i=null,h=qi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function go(h,v){Cr(h),v=qi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fi(h,v){return Cr(h),v=qi(h,v),h.g.has(v)}r.forEach=function(h,v){Cr(this),this.g.forEach(function(E,A){E.forEach(function(Q){h.call(v,Q,A,this)},this)},this)},r.na=function(){Cr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const Q=h[A];for(let te=0;te<Q.length;te++)E.push(v[A])}return E},r.V=function(h){Cr(this);let v=[];if(typeof h=="string")Fi(this,h)&&(v=v.concat(this.g.get(qi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},r.set=function(h,v){return Cr(this),this.i=null,h=qi(this,h),Fi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Hi(h,v,E){go(h,v),0<E.length&&(h.i=null,h.g.set(qi(h,v),V(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const te=encodeURIComponent(String(A)),ge=this.V(A);for(A=0;A<ge.length;A++){var Q=te;ge[A]!==""&&(Q+="="+encodeURIComponent(String(ge[A]))),h.push(Q)}}return this.i=h.join("&")};function qi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Nl(h,v){v&&!h.j&&(Cr(h),h.i=null,h.g.forEach(function(E,A){var Q=A.toLowerCase();A!=Q&&(go(this,A),Hi(this,Q,E))},h)),h.j=v}function xc(h,v){const E=new Ie;if(m.Image){const A=new Image;A.onload=R(Ir,E,"TestLoadImage: loaded",!0,v,A),A.onerror=R(Ir,E,"TestLoadImage: error",!1,v,A),A.onabort=R(Ir,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=R(Ir,E,"TestLoadImage: timeout",!1,v,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function wa(h,v){const E=new Ie,A=new AbortController,Q=setTimeout(()=>{A.abort(),Ir(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(te=>{clearTimeout(Q),te.ok?Ir(E,"TestPingServer: ok",!0,v):Ir(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Ir(E,"TestPingServer: error",!1,v)})}function Ir(h,v,E,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(E)}catch{}}function Ra(){this.g=new qt}function yi(h,v,E){const A=E||"";try{xa(h,function(Q,te){let ge=Q;y(Q)&&(ge=Ui(Q)),v.push(A+te+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(A+"type="+encodeURIComponent("_badmap")),Q}}function Rs(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Rs,Kr),Rs.prototype.g=function(){return new Gi(this.l,this.j)},Rs.prototype.i=function(h){return function(){return h}}({});function Gi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Gi,he),r=Gi.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,_i(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?vi(this):_i(this),this.readyState==3&&Dl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,vi(this))},r.Qa=function(h){this.g&&(this.response=h,vi(this))},r.ga=function(){this.g&&vi(this)};function vi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_i(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function _i(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ol(h){let v="";return F(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function _n(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Ol(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):yt(h,v,E))}function xt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(xt,he);var yo=/^https?$/i,Ca=["POST","PUT"];r=xt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pt.g(),this.v=this.o?bs(this.o):bs(Pt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){Sc(this,te);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)E.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const te of A.keys())E.set(te,A.get(te));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Q=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ca,v,void 0))||A||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){Sc(this,te)}};function Sc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,vo(h),Ei(h)}function vo(h){h.A||(h.A=!0,ae(h,"complete"),ae(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ae(this,"complete"),ae(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},r.bb=function(){_o(this)};function _o(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Nr(h)!=4||h.Z()!=2)){if(h.u&&Nr(h)==4)Ze(h.Ea,0,h);else if(ae(h,"readystatechange"),Nr(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=ge===0){var Q=String(h.D).match(Rl)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),A=!yo.test(Q?Q.toLowerCase():"")}E=A}if(E)ae(h,"complete"),ae(h,"success");else{h.m=6;try{var te=2<Nr(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",vo(h)}}finally{Ei(h)}}}}function Ei(h,v){if(h.g){Ia(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ae(h,"ready");try{E.onreadystatechange=A}catch{}}}function Ia(h){h.I&&(m.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Nr(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ln(v)}};function Ac(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function df(h){const v={};h=(h.g&&2<=Nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(z(h[A]))continue;var E=L(h[A]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=v[Q]||[];v[Q]=te,te.push(E)}M(v,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Eo(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,h),this.cb=Na("retryDelaySeedMs",1e4,h),this.Wa=Na("forwardChannelMaxRetries",2,h),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ot(h&&h.concurrentRequestLimit),this.Da=new Ra,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Eo.prototype,r.la=8,r.G=1,r.connect=function(h,v,E,A){X(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Oc(this,null,this.W),bo(this)};function jl(h){if(wc(h),h.G==3){var v=h.U++,E=Gt(h.I);if(yt(E,"SID",h.K),yt(E,"RID",v),yt(E,"TYPE","terminate"),Da(h,E),v=new at(h,h.j,v),v.L=2,v.v=Aa(Gt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=v.v,E=!0),E||(v.g=jc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Et(v)}Dc(h)}function To(h){h.g&&(Oa(h),h.g.cancel(),h.g=null)}function wc(h){To(h),h.u&&(m.clearTimeout(h.u),h.u=null),xo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function bo(h){if(!Ar(h.h)&&!h.s){h.s=!0;var v=h.Ga;Ce||k(),xe||(Ce(),xe=!0),We.add(v,h),h.B=0}}function ff(h,v){return ba(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(x(h.Ga,h,v),Pl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new at(this,this.j,h);let te=this.o;if(this.S&&(te?(te=C(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Rc(this,Q,v),E=Gt(this.I),yt(E,"RID",h),yt(E,"CVER",22),this.D&&yt(E,"X-HTTP-Session-Id",this.D),Da(this,E),te&&(this.O?v="headers="+encodeURIComponent(String(Ol(te)))+"&"+v:this.m&&_n(E,this.m,te)),Ss(this.h,Q),this.Ua&&yt(E,"TYPE","init"),this.P?(yt(E,"$req",v),yt(E,"SID","null"),Q.T=!0,Yt(Q,E,null)):Yt(Q,E,v),this.G=2}}else this.G==3&&(h?Ml(this,h):this.i.length==0||Ar(this.h)||Ml(this))};function Ml(h,v){var E;v?E=v.l:E=h.U++;const A=Gt(h.I);yt(A,"SID",h.K),yt(A,"RID",E),yt(A,"AID",h.T),Da(h,A),h.m&&h.o&&_n(A,h.m,h.o),E=new at(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ss(h.h,E),Yt(E,A,v)}function Da(h,v){h.H&&F(h.H,function(E,A){yt(v,A,E)}),h.l&&xa({},function(E,A){yt(v,A,E)})}function Rc(h,v,E){E=Math.min(h.i.length,E);var A=h.l?x(h.l.Na,h.l,h):null;e:{var Q=h.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=Q[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let ft=!0;for(let un=0;un<E;un++){let mt=Q[un].g;const En=Q[un].map;if(mt-=te,0>mt)te=Math.max(0,Q[un].g-100),ft=!1;else try{yi(En,ge,"req"+mt+"_")}catch{A&&A(En)}}if(ft){A=ge.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,A}function Cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Ce||k(),xe||(Ce(),xe=!0),We.add(v,h),h.v=0}}function Vl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(x(h.Fa,h),Pl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(x(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),To(this),Ic(this))};function Oa(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Ic(h){h.g=new at(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Gt(h.qa);yt(v,"RID","rpc"),yt(v,"SID",h.K),yt(v,"AID",h.T),yt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&yt(v,"TO",h.ja),yt(v,"TYPE","xmlhttp"),Da(h,v),h.m&&h.o&&_n(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Aa(Gt(v)),E.m=null,E.P=!0,tn(E,h)}r.Za=function(){this.C!=null&&(this.C=null,To(this),Vl(this),X(19))};function xo(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Nc(h,v){var E=null;if(h.g==v){xo(h),Oa(h),h.g=null;var A=2}else if(pi(h.h,v))E=v.D,wr(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;A=xs(),ae(A,new fe(A,E)),bo(h)}else Cc(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(A==1&&ff(h,v)||A==2&&Vl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Q){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function Pl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function $i(h,v){if(h.j.info("Error code "+v),v==2){var E=x(h.fb,h),A=h.Xa;const Q=!A;A=new Bi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||As(A,"https"),Aa(A),Q?xc(A.toString(),E):wa(A.toString(),E)}else X(2);h.G=0,h.l&&h.l.sa(v),Dc(h),wc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Dc(h){if(h.G=0,h.ka=[],h.l){const v=Wn(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ka,v),j(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function Oc(h,v,E){var A=E instanceof Bi?Gt(E):new Bi(E);if(A.g!="")v&&(A.g=v+"."+A.g),Sa(A,A.s);else{var Q=m.location;A=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Bi(null);A&&As(te,A),v&&(te.g=v),Q&&Sa(te,Q),E&&(te.l=E),A=te}return E=h.D,v=h.ya,E&&v&&yt(A,E,v),yt(A,"VER",h.la),Da(h,A),A}function jc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new xt(new Rs({eb:E})):new xt(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}r=Mc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function So(){}So.prototype.g=function(h,v){return new Zn(h,v)};function Zn(h,v){he.call(this),this.g=new Eo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ti(this)}N(Zn,he),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){jl(this.g)},Zn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ui(h),h=E);v.i.push(new zi(v.Ya++,h)),v.G==3&&bo(v)},Zn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Zn.aa.N.call(this)};function Vc(h){fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(Vc,fi);function Pc(){ar.call(this),this.status=1}N(Pc,ar);function Ti(h){this.g=h}N(Ti,Mc),Ti.prototype.ua=function(){ae(this.g,"a")},Ti.prototype.ta=function(h){ae(this.g,new Vc(h))},Ti.prototype.sa=function(h){ae(this.g,new Pc)},Ti.prototype.ra=function(){ae(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,gb=function(){return new So},pb=function(){return xs()},mb=In,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Kh=Me,dt.COMPLETE="complete",fb=dt,fo.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",he.prototype.listen=he.prototype.K,ku=fo,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,db=xt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new mg("@firebase/firestore");function nl(){return io.logLevel}function Se(r,...e){if(io.logLevel<=ot.DEBUG){const t=e.map(yg);io.debug(`Firestore (${bl}): ${r}`,...t)}}function ys(r,...e){if(io.logLevel<=ot.ERROR){const t=e.map(yg);io.error(`Firestore (${bl}): ${r}`,...t)}}function dl(r,...e){if(io.logLevel<=ot.WARN){const t=e.map(yg);io.warn(`Firestore (${bl}): ${r}`,...t)}}function yg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+r;throw ys(e),new Error(e)}function St(r,e){r||Ge()}function Xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hn.UNAUTHENTICATED))}shutdown(){}}class z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B1{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ms)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string"),new yb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Hn(e)}}class F1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class H1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new F1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){St(this.o===void 0);const s=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new l0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=G1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ht(r,e){return r<e?-1:r>e?1:0}function fl(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*c0);return new gn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<u0)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new gn(0,0))}static max(){return new $e(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class Ci{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(),s===void 0?s=e.length-t:s>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Ci.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ci.isNumericId(e),o=Ci.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class Ut extends Ci{construct(e,t,s){return new Ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Ci{construct(e,t,s){return new Vn(e,t,s)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new Vn([h0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ve(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ve(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ve(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new Ve(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(t)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Ut.fromString(e))}static fromName(e){return new ke(Ut.fromString(e).popFirst(5))}static empty(){return new ke(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function K1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new gn(t+1,0):new gn(t,s));return new ua(o,ke.empty(),e)}function Q1(r){return new ua(r.readTime,r.key,Wu)}class ua{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ua($e.min(),ke.empty(),Wu)}static max(){return new ua($e.max(),ke.empty(),Wu)}}function Y1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(r.documentKey,e.documentKey),t!==0?t:ht(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r){if(r.code!==me.FAILED_PRECONDITION||r.message!==X1)throw r;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&t()},g=>s(g))}),c=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(_=>{c[y]=_,++m,m===l&&s(c)},_=>o(_))}})}static doWhile(e,t){return new le((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function Z1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ld.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function Ud(r){return r==null}function cd(r){return r===0&&1/r==-1/0}function J1(r){return typeof r=="number"&&Number.isInteger(r)&&!cd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="";function eN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=d0(e)),e=tN(r.get(t),e);return d0(e)}function tN(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case _b:t+="";break;default:t+=l}}return t}function d0(r){return r+_b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ya(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Eb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||Mn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Mn.RED,this.left=o??Mn.EMPTY,this.right=l??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Mn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Er([])}unionWith(e){let t=new yn(Vn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Tb("Invalid base64 string: "+l):l}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(r){if(St(!!r),typeof r=="string"){let e=0;const t=nN.exec(r);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Zt(r.seconds),nanos:Zt(r.nanos)}}function Zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ha(r){return typeof r=="string"?Pn.fromBase64String(r):Pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="server_timestamp",xb="__type__",Sb="__previous_value__",Ab="__local_write_time__";function _g(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xb])===null||t===void 0?void 0:t.stringValue)===bb}function zd(r){const e=r.mapValue.fields[Sb];return _g(e)?zd(e):e}function Zu(r){const e=ca(r.mapValue.fields[Ab].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,s,o,l,c,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const hd="(default)";class Ju{constructor(e,t){this.projectId=e,this.database=t||hd}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__type__",iN="__max__",Lh={mapValue:{}},Rb="__vector__",dd="value";function da(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_g(r)?4:aN(r)?9007199254740991:sN(r)?10:11:Ge()}function ki(r,e){if(r===e)return!0;const t=da(r);if(t!==da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zu(r).isEqual(Zu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ca(o.timestampValue),m=ca(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return ha(o.bytesValue).isEqual(ha(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Zt(o.geoPointValue.latitude)===Zt(l.geoPointValue.latitude)&&Zt(o.geoPointValue.longitude)===Zt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Zt(o.integerValue)===Zt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Zt(o.doubleValue),m=Zt(l.doubleValue);return c===m?cd(c)===cd(m):isNaN(c)&&isNaN(m)}return!1}(r,e);case 9:return fl(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(f0(c)!==f0(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!ki(c[g],m[g])))return!1;return!0}(r,e);default:return Ge()}}function ec(r,e){return(r.values||[]).find(t=>ki(t,e))!==void 0}function ml(r,e){if(r===e)return 0;const t=da(r),s=da(e);if(t!==s)return ht(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(r.booleanValue,e.booleanValue);case 2:return function(l,c){const m=Zt(l.integerValue||l.doubleValue),g=Zt(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return p0(r.timestampValue,e.timestampValue);case 4:return p0(Zu(r),Zu(e));case 5:return ht(r.stringValue,e.stringValue);case 6:return function(l,c){const m=ha(l),g=ha(c);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),g=c.split("/");for(let y=0;y<m.length&&y<g.length;y++){const _=ht(m[y],g[y]);if(_!==0)return _}return ht(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const m=ht(Zt(l.latitude),Zt(c.latitude));return m!==0?m:ht(Zt(l.longitude),Zt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return g0(r.arrayValue,e.arrayValue);case 10:return function(l,c){var m,g,y,_;const b=l.fields||{},x=c.fields||{},R=(m=b[dd])===null||m===void 0?void 0:m.arrayValue,N=(g=x[dd])===null||g===void 0?void 0:g.arrayValue,V=ht(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:g0(R,N)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===Lh.mapValue&&c===Lh.mapValue)return 0;if(l===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),y=c.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const x=ht(g[b],_[b]);if(x!==0)return x;const R=ml(m[g[b]],y[_[b]]);if(R!==0)return R}return ht(g.length,_.length)}(r.mapValue,e.mapValue);default:throw Ge()}}function p0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ht(r,e);const t=ca(r),s=ca(e),o=ht(t.seconds,s.seconds);return o!==0?o:ht(t.nanos,s.nanos)}function g0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=ml(t[o],s[o]);if(l)return l}return ht(t.length,s.length)}function pl(r){return kp(r)}function kp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ca(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ha(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ke.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=kp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${kp(t.fields[c])}`;return o+"}"}(r.mapValue):Ge()}function Qh(r){switch(da(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(r);return e?16+Qh(e):16;case 5:return 2*r.stringValue.length;case 6:return ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Qh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ya(s.fields,(l,c)=>{o+=l.length+Qh(c)}),o}(r.mapValue);default:throw Ge()}}function Lp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function y0(r){return!!r&&"nullValue"in r}function v0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yh(r){return!!r&&"mapValue"in r}function sN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||t===void 0?void 0:t.stringValue)===Rb}function Bu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ya(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Bu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function aN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=Vn.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=Bu(c):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ya(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new cr(Bu(this.value))}}function Cb(r){const e=[];return ya(r.fields,(t,s)=>{const o=new Vn([t]);if(Yh(s)){const l=Cb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t,s,o,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Gn(e,0,$e.min(),$e.min(),$e.min(),cr.empty(),0)}static newFoundDocument(e,t,s,o){return new Gn(e,1,t,$e.min(),s,o,0)}static newNoDocument(e,t){return new Gn(e,2,t,$e.min(),$e.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,$e.min(),$e.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.position=e,this.inclusive=t}}function _0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?s=ke.comparator(ke.fromName(c.referenceValue),t.key):s=ml(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function E0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ki(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function oN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{}class mn extends Ib{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uN(e,t,s):t==="array-contains"?new dN(e,s):t==="in"?new fN(e,s):t==="not-in"?new mN(e,s):t==="array-contains-any"?new pN(e,s):new mn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cN(e,s):new hN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ml(t,this.value)):t!==null&&da(this.value)===da(t)&&this.matchesComparison(ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Ib{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Li(e,t)}matches(e){return Nb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Nb(r){return r.op==="and"}function Db(r){return lN(r)&&Nb(r)}function lN(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Up(r){if(r instanceof mn)return r.field.canonicalString()+r.op.toString()+pl(r.value);if(Db(r))return r.filters.map(e=>Up(e)).join(",");{const e=r.filters.map(t=>Up(t)).join(",");return`${r.op}(${e})`}}function Ob(r,e){return r instanceof mn?function(s,o){return o instanceof mn&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)}(r,e):r instanceof Li?function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&Ob(c,o.filters[m]),!0):!1}(r,e):void Ge()}function jb(r){return r instanceof mn?function(t){return`${t.field.canonicalString()} ${t.op} ${pl(t.value)}`}(r):r instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(jb).join(" ,")+"}"}(r):"Filter"}class uN extends mn{constructor(e,t,s){super(e,t,s),this.key=ke.fromName(s.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class cN extends mn{constructor(e,t){super(e,"in",t),this.keys=Mb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hN extends mn{constructor(e,t){super(e,"not-in",t),this.keys=Mb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ke.fromName(s.referenceValue))}class dN extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eg(t)&&ec(t.arrayValue,this.value)}}class fN extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}}class mN extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ec(this.value.arrayValue,t)}}class pN extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ec(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.le=null}}function T0(r,e=null,t=[],s=[],o=null,l=null,c=null){return new gN(r,e,t,s,o,l,c)}function Tg(r){const e=Xe(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Up(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>pl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>pl(s)).join(",")),e.le=t}return e.le}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ob(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!E0(r.startAt,e.startAt)&&E0(r.endAt,e.endAt)}function zp(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t=null,s=[],o=[],l=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yN(r,e,t,s,o,l,c,m){return new Bd(r,e,t,s,o,l,c,m)}function Fd(r){return new Bd(r)}function b0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vN(r){return r.collectionGroup!==null}function Fu(r){const e=Xe(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new yn(Vn.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new md(l,s))}),t.has(Vn.keyField().canonicalString())||e.he.push(new md(Vn.keyField(),s))}return e.he}function ji(r){const e=Xe(r);return e.Pe||(e.Pe=_N(e,Fu(r))),e.Pe}function _N(r,e){if(r.limitType==="F")return T0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new md(o.field,l)});const t=r.endAt?new fd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fd(r.startAt.position,r.startAt.inclusive):null;return T0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Bp(r,e,t){return new Bd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hd(r,e){return bg(ji(r),ji(e))&&r.limitType===e.limitType}function Vb(r){return`${Tg(ji(r))}|lt:${r.limitType}`}function rl(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>jb(o)).join(", ")}]`),Ud(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>pl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>pl(o)).join(",")),`Target(${s})`}(ji(r))}; limitType=${r.limitType})`}function qd(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ke.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Fu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(c,m,g){const y=_0(c,m,g);return c.inclusive?y<=0:y<0}(s.startAt,Fu(s),o)||s.endAt&&!function(c,m,g){const y=_0(c,m,g);return c.inclusive?y>=0:y>0}(s.endAt,Fu(s),o))}(r,e)}function EN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pb(r){return(e,t)=>{let s=!1;for(const o of Fu(r)){const l=TN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function TN(r,e,t){const s=r.field.isKeyField()?ke.comparator(e.key,t.key):function(l,c,m){const g=c.data.field(l),y=m.data.field(l);return g!==null&&y!==null?ml(g,y):Ge()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Eb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Ht(ke.comparator);function vs(){return bN}const kb=new Ht(ke.comparator);function Lu(...r){let e=kb;for(const t of r)e=e.insert(t.key,t);return e}function Lb(r){let e=kb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function to(){return Hu()}function Ub(){return Hu()}function Hu(){return new uo(r=>r.toString(),(r,e)=>r.isEqual(e))}const xN=new Ht(ke.comparator),SN=new yn(ke.comparator);function ut(...r){let e=SN;for(const t of r)e=e.add(t);return e}const AN=new yn(ht);function wN(){return AN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function zb(r){return{integerValue:""+r}}function RN(r,e){return J1(e)?zb(e):xg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function CN(r,e,t){return r instanceof tc?function(o,l){const c={fields:{[xb]:{stringValue:bb},[Ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_g(l)&&(l=zd(l)),l&&(c.fields[Sb]=l),{mapValue:c}}(t,e):r instanceof nc?Fb(r,e):r instanceof rc?Hb(r,e):function(o,l){const c=Bb(o,l),m=x0(c)+x0(o.Ie);return Lp(c)&&Lp(o.Ie)?zb(m):xg(o.serializer,m)}(r,e)}function IN(r,e,t){return r instanceof nc?Fb(r,e):r instanceof rc?Hb(r,e):t}function Bb(r,e){return r instanceof pd?function(s){return Lp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class tc extends Gd{}class nc extends Gd{constructor(e){super(),this.elements=e}}function Fb(r,e){const t=qb(e);for(const s of r.elements)t.some(o=>ki(o,s))||t.push(s);return{arrayValue:{values:t}}}class rc extends Gd{constructor(e){super(),this.elements=e}}function Hb(r,e){let t=qb(e);for(const s of r.elements)t=t.filter(o=>!ki(o,s));return{arrayValue:{values:t}}}class pd extends Gd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function x0(r){return Zt(r.integerValue||r.doubleValue)}function qb(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.field=e,this.transform=t}}function DN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof nc&&o instanceof nc||s instanceof rc&&o instanceof rc?fl(s.elements,o.elements,ki):s instanceof pd&&o instanceof pd?ki(s.Ie,o.Ie):s instanceof tc&&o instanceof tc}(r.transform,e.transform)}class ON{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $d{}function Gb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kb(r.key,ii.none()):new hc(r.key,r.data,ii.none());{const t=r.data,s=cr.empty();let o=new yn(Vn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new va(r.key,s,new Er(o.toArray()),ii.none())}}function jN(r,e,t){r instanceof hc?function(o,l,c){const m=o.value.clone(),g=A0(o.fieldTransforms,l,c.transformResults);m.setAll(g),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(r,e,t):r instanceof va?function(o,l,c){if(!Xh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=A0(o.fieldTransforms,l,c.transformResults),g=l.data;g.setAll($b(o)),g.setAll(m),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function qu(r,e,t,s){return r instanceof hc?function(l,c,m,g){if(!Xh(l.precondition,c))return m;const y=l.value.clone(),_=w0(l.fieldTransforms,g,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof va?function(l,c,m,g){if(!Xh(l.precondition,c))return m;const y=w0(l.fieldTransforms,g,c),_=c.data;return _.setAll($b(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(l,c,m){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(r,e,t)}function MN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Bb(s.transform,o||null);l!=null&&(t===null&&(t=cr.empty()),t.set(s.field,l))}return t||null}function S0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fl(s,o,(l,c)=>DN(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends $d{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends $d{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $b(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function A0(r,e,t){const s=new Map;St(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,IN(c,m,t[o]))}return s}function w0(r,e,t){const s=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);s.set(o.field,CN(l,c,e))}return s}class Kb extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=qu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=qu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ub();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const g=Gb(c,m);g!==null&&s.set(o.key,g),c.isValidDocument()||c.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(t,s)=>S0(t,s))&&fl(this.baseMutations,e.baseMutations,(t,s)=>S0(t,s))}}class Sg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length);let o=function(){return xN}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Sg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,gt;function UN(r){switch(r){case me.OK:return Ge();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge()}}function Qb(r){if(r===void 0)return ys("GRPC error has no .code"),me.UNKNOWN;switch(r){case an.OK:return me.OK;case an.CANCELLED:return me.CANCELLED;case an.UNKNOWN:return me.UNKNOWN;case an.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case an.INTERNAL:return me.INTERNAL;case an.UNAVAILABLE:return me.UNAVAILABLE;case an.UNAUTHENTICATED:return me.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case an.NOT_FOUND:return me.NOT_FOUND;case an.ALREADY_EXISTS:return me.ALREADY_EXISTS;case an.PERMISSION_DENIED:return me.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case an.ABORTED:return me.ABORTED;case an.OUT_OF_RANGE:return me.OUT_OF_RANGE;case an.UNIMPLEMENTED:return me.UNIMPLEMENTED;case an.DATA_LOSS:return me.DATA_LOSS;default:return Ge()}}(gt=an||(an={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new aa([4294967295,4294967295],0);function R0(r){const e=zN().encode(r),t=new hb;return t.update(e),new Uint8Array(t.digest())}function C0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new aa([t,s],0),new aa([o,l],0)]}class Ag{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(s<0)throw new Uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=aa.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(aa.fromNumber(s)));return o.compare(BN)===1&&(o=new aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=R0(e),[s,o]=C0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ag(l,o,t);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.Ee===0)return;const t=R0(e),[s,o]=C0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Kd($e.min(),o,new Ht(ht),vs(),ut())}}class dc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new dc(s,t,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Yb{constructor(e,t){this.targetId=e,this.ge=t}}class Xb{constructor(e,t,s=Pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class I0{constructor(){this.pe=0,this.ye=N0(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ut(),t=ut(),s=ut();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ge()}}),new dc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=N0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vs(),this.$e=Uh(),this.Ke=Uh(),this.Ue=new Ht(ht)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(zp(l))if(s===0){const c=new ke(l.path);this.ze(t,c,Gn.newNoDocument(c,$e.min()))}else St(s===1);else{const c=this.et(t);if(c!==s){const m=this.tt(e),g=m?this.nt(m,e,c):1;if(g!==0){this.Ye(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,m;try{c=ha(s).toUint8Array()}catch(g){if(g instanceof Tb)return dl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ag(c,o,l)}catch(g){return dl(g instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.ke.it(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const m=this.Xe(c);if(m){if(l.current&&zp(m.target)){const g=new ke(m.target.path);this._t(g).has(c)||this.ut(c,g)||this.ze(c,g,Gn.newNoDocument(g,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=ut();this.Ke.forEach((l,c)=>{let m=!0;c.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new Kd(e,t,this.Ue,this.Qe,s);return this.Qe=vs(),this.$e=Uh(),this.Ke=Uh(),this.Ue=new Ht(ht),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new I0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new yn(ht),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new yn(ht),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new I0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Uh(){return new Ht(ke.comparator)}function N0(){return new Ht(ke.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class $N{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(r,e){return r.useProto3Json||Ud(e)?e:{value:e}}function gd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KN(r,e){return gd(r,e.toTimestamp())}function Mi(r){return St(!!r),$e.fromTimestamp(function(t){const s=ca(t);return new gn(s.seconds,s.nanos)}(r))}function wg(r,e){return Hp(r,e).canonicalString()}function Hp(r,e){const t=function(o){return new Ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Zb(r){const e=Ut.fromString(r);return St(rx(e)),e}function qp(r,e){return wg(r.databaseId,e.path)}function _p(r,e){const t=Zb(e);if(t.get(1)!==r.databaseId.projectId)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ke(ex(t))}function Jb(r,e){return wg(r.databaseId,e)}function QN(r){const e=Zb(r);return e.length===4?Ut.emptyPath():ex(e)}function Gp(r){return new Ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ex(r){return St(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function D0(r,e,t){return{name:qp(r,e),fields:t.value.mapValue.fields}}function YN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(St(_===void 0||typeof _=="string"),Pn.fromBase64String(_||"")):(St(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Pn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(y){const _=y.code===void 0?me.UNKNOWN:Qb(y.code);return new Ve(_,y.message||"")}(c);t=new Xb(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_p(r,s.document.name),l=Mi(s.document.updateTime),c=s.document.createTime?Mi(s.document.createTime):$e.min(),m=new cr({mapValue:{fields:s.document.fields}}),g=Gn.newFoundDocument(o,l,c,m),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Wh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_p(r,s.document),l=s.readTime?Mi(s.readTime):$e.min(),c=Gn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Wh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_p(r,s.document),l=s.removedTargetIds||[];t=new Wh([],l,o,null)}else{if(!("filter"in e))return Ge();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new LN(o,l),m=s.targetId;t=new Yb(m,c)}}return t}function XN(r,e){let t;if(e instanceof hc)t={update:D0(r,e.key,e.value)};else if(e instanceof Kb)t={delete:qp(r,e.key)};else if(e instanceof va)t={update:D0(r,e.key,e.data),updateMask:sD(e.fieldMask)};else{if(!(e instanceof VN))return Ge();t={verify:qp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof tc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pd)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw Ge()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:KN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge()}(r,e.precondition)),t}function WN(r,e){return r&&r.length>0?(St(e!==void 0),r.map(t=>function(o,l){let c=o.updateTime?Mi(o.updateTime):Mi(l);return c.isEqual($e.min())&&(c=Mi(l)),new ON(c,o.transformResults||[])}(t,e))):[]}function ZN(r,e){return{documents:[Jb(r,e.path)]}}function JN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Jb(r,o);const l=function(y){if(y.length!==0)return nx(Li.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(x){return{field:il(x.field),direction:nD(x.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Fp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function eD(r){let e=QN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const x=tx(b);return x instanceof Li&&Db(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(x=>function(N){return new md(sl(N.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(x))}(t.orderBy));let m=null;t.limit&&(m=function(b){let x;return x=typeof b=="object"?b.value:b,Ud(x)?null:x}(t.limit));let g=null;t.startAt&&(g=function(b){const x=!!b.before,R=b.values||[];return new fd(R,x)}(t.startAt));let y=null;return t.endAt&&(y=function(b){const x=!b.before,R=b.values||[];return new fd(R,x)}(t.endAt)),yN(e,o,c,l,m,"F",g,y)}function tD(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tx(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=sl(t.unaryFilter.field);return mn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(t.unaryFilter.field);return mn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(t.unaryFilter.field);return mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sl(t.unaryFilter.field);return mn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(r):r.fieldFilter!==void 0?function(t){return mn.create(sl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(s=>tx(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(r):Ge()}function nD(r){return HN[r]}function rD(r){return qN[r]}function iD(r){return GN[r]}function il(r){return{fieldPath:r.canonicalString()}}function sl(r){return Vn.fromServerFormat(r.fieldPath)}function nx(r){return r instanceof mn?function(t){if(t.op==="=="){if(v0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(y0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(y0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:rD(t.op),value:t.value}}}(r):r instanceof Li?function(t){const s=t.getFilters().map(o=>nx(o));return s.length===1?s[0]:{compositeFilter:{op:iD(t.op),filters:s}}}(r):Ge()}function sD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,s,o,l=$e.min(),c=$e.min(),m=Pn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.Tt=e}}function oD(r){const e=eD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Tn=new uD}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ua.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class uD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new yn(Ut.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ix=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(ix,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new gl(0)}static Un(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="LruGarbageCollector",cD=1048576;function M0([r,e],[t,s]){const o=ht(r,t);return o===0?ht(e,s):o}class hD{constructor(e){this.Hn=e,this.buffer=new yn(M0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();M0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(j0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sl(t)?Se(j0,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.er(3e5)})}}class fD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Ld.ae);const s=new hD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(O0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,c,m,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),nl()<=ot.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function mD(r,e){return new fD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.changes=new uo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&qu(s.mutation,o,Er.empty(),gn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ut()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ut()){const o=to();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Lu();return l.forEach((m,g)=>{c=c.insert(m,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=to();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ut()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,s,o){let l=vs();const c=Hu(),m=function(){return Hu()}();return t.forEach((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof va)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),qu(_.mutation,y,_.mutation.getFieldMask(),gn.now())):c.set(y.key,Er.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var b;return m.set(y,new gD(_,(b=c.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Hu();let o=new Ht((c,m)=>c-m),l=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||Er.empty();_=m.applyToLocalView(y,_),s.set(g,_);const b=(o.get(m.batchId)||ut()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,_=g.value,b=Ub();_.forEach(x=>{if(!l.has(x)){const R=Gb(t.get(x),s.get(x));R!==null&&b.set(x,R),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,b))}return le.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):le.resolve(to());let m=Wu,g=l;return c.next(y=>le.forEach(y,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{g=g.insert(_,x)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,ut())).next(_=>({batchId:m,changes:Lb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(s=>{let o=Lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,l).next(m=>le.forEach(m,g=>{const y=function(b,x){return new Bd(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(_=>{_.forEach((b,x)=>{c=c.insert(b,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((g,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Gn.newInvalidDocument(_)))});let m=Lu();return c.forEach((g,y)=>{const _=l.get(g);_!==void 0&&qu(_.mutation,y,Er.empty(),gn.now()),qd(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:oD(o.bundledQuery),readTime:Mi(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.overlays=new Ht(ke.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=to();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=to(),l=t.length+1,c=new ke(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Ht((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=l.get(y.largestBatchId);_===null&&(_=to(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=to(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>m.set(y,_)),!(m.size()>=o)););return le.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new kN(t,s));let l=this.Rr.get(t);l===void 0&&(l=ut(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new yn(wn.mr),this.gr=new yn(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new wn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new wn(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ke(new Ut([])),s=new wn(t,e),o=new wn(t,e+1),l=[];return this.gr.forEachInRange([s,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ke(new Ut([])),s=new wn(t,e),o=new wn(t,e+1);let l=ut();return this.gr.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new wn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ke.comparator(e.key,t.key)||ht(e.Cr,t.Cr)}static pr(e,t){return ht(e.Cr,t.Cr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new yn(wn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PN(l,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Mr=this.Mr.add(new wn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?vg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wn(t,0),o=new wn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],c=>{const m=this.Or(c.Cr);l.push(m)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yn(ht);return t.forEach(o=>{const l=new wn(o,0),c=new wn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],m=>{s=s.add(m.Cr)})}),le.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ke.isDocumentKey(l)||(l=l.child(""));const c=new wn(new ke(l),0);let m=new yn(ht);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},c),le.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){St(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return le.forEach(t.mutations,o=>{const l=new wn(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new wn(t,0),o=this.Mr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.kr=e,this.docs=function(){return new Ht(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let s=vs();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Gn.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=vs();const c=t.path,m=new ke(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Y1(Q1(_),s)<=0||(o.has(_.key)||qd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ge()}qr(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new xD(this)}getSize(e){return le.resolve(this.size)}}class xD extends pD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.persistence=e,this.Qr=new uo(t=>Tg(t),bg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rg,this.targetCount=0,this.Ur=gl.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ld(0),this.zr=!1,this.zr=!0,this.jr=new ED,this.referenceDelegate=e(this),this.Hr=new SD(this),this.indexManager=new lD,this.remoteDocumentCache=function(o){return new bD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new aD(t),this.Yr=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _D,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new TD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const o=new AD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return le.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class AD extends W1{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new Cg(e)}get ii(){if(this.ni)return this.ni;throw Ge()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,s=>{const o=ke.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class yd{constructor(e,t){this.persistence=e,this.oi=new uo(s=>eN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mD(this,t)}static ri(e,t){return new yd(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(m=>{m||(s++,l.removeEntry(c,$e.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qh(e.data.value)),t}ar(e,t,s){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ut(),o=ut();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ig(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return TI()?8:Z1(Kn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new wD;return this._s(e,t,c).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,c,m.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(nl()<=ot.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(nl()<=ot.DEBUG&&Se("QueryEngine","Query:",rl(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(nl()<=ot.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):le.resolve())}rs(e,t){if(b0(t))return le.resolve(null);let s=ji(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Bp(t,null,"F"),s=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=ut(...l);return this.ns.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(t,m);return this.ls(t,y,c,g.readTime)?this.rs(e,Bp(t,null,"F")):this.hs(e,y,t,g)}))})))}ss(e,t,s,o){return b0(t)||o.isEqual($e.min())?le.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,o)?le.resolve(null):(nl()<=ot.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(t)),this.hs(e,c,t,K1(o,Wu)).next(m=>m))})}cs(e,t){let s=new yn(Pb(e));return t.forEach((o,l)=>{qd(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return nl()<=ot.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",rl(t)),this.ns.getDocumentsMatchingQuery(e,t,ua.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LocalStore",CD=3e8;class ID{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ht(ht),this.Is=new uo(l=>Tg(l),bg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ND(r,e,t,s){return new ID(r,e,t,s)}async function ax(r,e){const t=Xe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let g=ut();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of l){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:m}))})})}function DD(r,e){const t=Xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,_){const b=y.batch,x=b.keys();let R=le.resolve();return x.forEach(N=>{R=R.next(()=>_.getEntry(g,N)).next(V=>{const j=y.docVersions.get(N);St(j!==null),V.version.compareTo(j)<0&&(b.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),_.addEntry(V)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function ox(r){const e=Xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function OD(r,e){const t=Xe(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((_,b)=>{const x=o.get(b);if(!x)return;m.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,b)));let R=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(Pn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,s)),o=o.insert(b,R),function(V,j,Y){return V.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=CD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(x,R,_)&&m.push(t.Hr.updateTargetData(l,R))});let g=vs(),y=ut();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),m.push(jD(l,c,e.documentUpdates).next(_=>{g=_.Vs,y=_.fs})),!s.isEqual($e.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(_)}return le.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.Ts=o,l))}function jD(r,e,t){let s=ut(),o=ut();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=vs();return t.forEach((m,g)=>{const y=l.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):Se(Ng,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:c,fs:o}})}function MD(r,e){const t=Xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VD(r,e){const t=Xe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,le.resolve(o)):t.Hr.allocateTargetId(s).next(c=>(o=new na(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function $p(r,e,t){const s=Xe(r),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Sl(c))throw c;Se(Ng,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function V0(r,e,t){const s=Xe(r);let o=$e.min(),l=ut();return s.persistence.runTransaction("Execute query","readwrite",c=>function(g,y,_){const b=Xe(g),x=b.Is.get(_);return x!==void 0?le.resolve(b.Ts.get(x)):b.Hr.getTargetData(y,_)}(s,c,ji(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,m.targetId).next(g=>{l=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?o:$e.min(),t?l:ut())).next(m=>(PD(s,EN(e),m),{documents:m,gs:l})))}function PD(r,e,t){let s=r.Es.get(e)||$e.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class P0{constructor(){this.activeTargetIds=wN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kD{constructor(){this.ho=new P0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new P0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class L0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function Kp(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RestConnection",UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const c=Kp(),m=this.bo(e,t.toUriEncodedString());Se(Ep,`Sending RPC '${e}' ${c}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,l),this.vo(e,m,g,s).then(y=>(Se(Ep,`Received RPC '${e}' ${c}: `,y),y),y=>{throw dl(Ep,`RPC '${e}' ${c} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,t,s,o,l,c){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=UD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class FD extends zD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Kp();return new Promise((c,m)=>{const g=new db;g.setWithCredentials(!0),g.listenOnce(fb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Kh.NO_ERROR:const _=g.getResponseJson();Se(Bn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Kh.TIMEOUT:Se(Bn,`RPC '${e}' ${l} timed out`),m(new Ve(me.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const b=g.getStatus();if(Se(Bn,`RPC '${e}' ${l} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const N=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Y)>=0?Y:me.UNKNOWN}(R.status);m(new Ve(N,R.message))}else m(new Ve(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ve(me.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Se(Bn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);Se(Bn,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=Kp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gb(),m=pb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=l.join("");Se(Bn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const b=c.createWebChannel(_,g);let x=!1,R=!1;const N=new BD({Fo:j=>{R?Se(Bn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(x||(Se(Bn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),Se(Bn,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),V=(j,Y,z)=>{j.listen(Y,ee=>{try{z(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return V(b,ku.EventType.OPEN,()=>{R||(Se(Bn,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),V(b,ku.EventType.CLOSE,()=>{R||(R=!0,Se(Bn,`RPC '${e}' stream ${o} transport closed`),N.Ko())}),V(b,ku.EventType.ERROR,j=>{R||(R=!0,dl(Bn,`RPC '${e}' stream ${o} transport errored:`,j),N.Ko(new Ve(me.UNAVAILABLE,"The operation could not be completed")))}),V(b,ku.EventType.MESSAGE,j=>{var Y;if(!R){const z=j.data[0];St(!!z);const ee=z,pe=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(pe){Se(Bn,`RPC '${e}' stream ${o} received error:`,pe);const se=pe.status;let F=function(w){const O=an[w];if(O!==void 0)return Qb(O)}(se),M=pe.message;F===void 0&&(F=me.INTERNAL,M="Unknown error status: "+se+" with message "+pe.message),R=!0,N.Ko(new Ve(F,M)),b.close()}else Se(Bn,`RPC '${e}' stream ${o} received:`,z),N.Uo(z)}}),V(m,mb.STAT_EVENT,j=>{j.stat===Pp.PROXY?Se(Bn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Pp.NOPROXY&&Se(Bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r){return new $N(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="PersistentStream";class ux{constructor(e,t,s,o,l,c,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ys(t.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Ve(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Se(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HD extends ux{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YN(this.serializer,e),s=function(l){if(!("targetChange"in l))return $e.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Mi(c.readTime):$e.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Gp(this.serializer),t.addTarget=function(l,c){let m;const g=c.target;if(m=zp(g)?{documents:ZN(l,g)}:{query:JN(l,g).ht},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Wb(l,c.resumeToken);const y=Fp(l,c.expectedCount);y!==null&&(m.expectedCount=y)}else if(c.snapshotVersion.compareTo($e.min())>0){m.readTime=gd(l,c.snapshotVersion.toTimestamp());const y=Fp(l,c.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=tD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.I_(t)}}class qD extends ux{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=WN(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Gp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>XN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class $D extends GD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Hp(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(me.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Co(e,Hp(t,s),o,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ve(me.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ys(t),this.N_=!1):Se("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class QD{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{co(this)&&(Se(so,"Restarting streams for network reachability change."),await async function(g){const y=Xe(g);y.W_.add(4),await fc(y),y.j_.set("Unknown"),y.W_.delete(4),await Yd(y)}(this))})}),this.j_=new KD(s,o)}}async function Yd(r){if(co(r))for(const e of r.G_)await e(!0)}async function fc(r){for(const e of r.G_)await e(!1)}function cx(r,e){const t=Xe(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Mg(t)?jg(t):Al(t).c_()&&Og(t,e))}function Dg(r,e){const t=Xe(r),s=Al(t);t.U_.delete(e),s.c_()&&hx(t,e),t.U_.size===0&&(s.c_()?s.P_():co(t)&&t.j_.set("Unknown"))}function Og(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(r).y_(e)}function hx(r,e){r.H_.Ne(e),Al(r).w_(e)}function jg(r){r.H_=new FN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Al(r).start(),r.j_.B_()}function Mg(r){return co(r)&&!Al(r).u_()&&r.U_.size>0}function co(r){return Xe(r).W_.size===0}function dx(r){r.H_=void 0}async function YD(r){r.j_.set("Online")}async function XD(r){r.U_.forEach((e,t)=>{Og(r,e)})}async function WD(r,e){dx(r),Mg(r)?(r.j_.q_(e),jg(r)):r.j_.set("Unknown")}async function ZD(r,e,t){if(r.j_.set("Online"),e instanceof Xb&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){Se(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vd(r,s)}else if(e instanceof Wh?r.H_.We(e):e instanceof Yb?r.H_.Ze(e):r.H_.je(e),!t.isEqual($e.min()))try{const s=await ox(r.localStore);t.compareTo(s)>=0&&await function(l,c){const m=l.H_.ot(c);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.U_.get(y);_&&l.U_.set(y,_.withResumeToken(g.resumeToken,c))}}),m.targetMismatches.forEach((g,y)=>{const _=l.U_.get(g);if(!_)return;l.U_.set(g,_.withResumeToken(Pn.EMPTY_BYTE_STRING,_.snapshotVersion)),hx(l,g);const b=new na(_.target,g,y,_.sequenceNumber);Og(l,b)}),l.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){Se(so,"Failed to raise snapshot:",s),await vd(r,s)}}async function vd(r,e,t){if(!Sl(e))throw e;r.W_.add(1),await fc(r),r.j_.set("Offline"),t||(t=()=>ox(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Se(so,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Yd(r)})}function fx(r,e){return e().catch(t=>vd(r,t,e))}async function Xd(r){const e=Xe(r),t=fa(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:vg;for(;JD(e);)try{const o=await MD(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,eO(e,o)}catch(o){await vd(e,o)}mx(e)&&px(e)}function JD(r){return co(r)&&r.K_.length<10}function eO(r,e){r.K_.push(e);const t=fa(r);t.c_()&&t.S_&&t.b_(e.mutations)}function mx(r){return co(r)&&!fa(r).u_()&&r.K_.length>0}function px(r){fa(r).start()}async function tO(r){fa(r).C_()}async function nO(r){const e=fa(r);for(const t of r.K_)e.b_(t.mutations)}async function rO(r,e,t){const s=r.K_.shift(),o=Sg.from(s,e,t);await fx(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xd(r)}async function iO(r,e){e&&fa(r).S_&&await async function(s,o){if(function(c){return UN(c)&&c!==me.ABORTED}(o.code)){const l=s.K_.shift();fa(s).h_(),await fx(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Xd(s)}}(r,e),mx(r)&&px(r)}async function z0(r,e){const t=Xe(r);t.asyncQueue.verifyOperationInProgress(),Se(so,"RemoteStore received new credentials");const s=co(t);t.W_.add(3),await fc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Yd(t)}async function sO(r,e){const t=Xe(r);e?(t.W_.delete(2),await Yd(t)):e||(t.W_.add(2),await fc(t),t.j_.set("Unknown"))}function Al(r){return r.J_||(r.J_=function(t,s,o){const l=Xe(t);return l.M_(),new HD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:YD.bind(null,r),No:XD.bind(null,r),Lo:WD.bind(null,r),p_:ZD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mg(r)?jg(r):r.j_.set("Unknown")):(await r.J_.stop(),dx(r))})),r.J_}function fa(r){return r.Y_||(r.Y_=function(t,s,o){const l=Xe(t);return l.M_(),new qD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:tO.bind(null,r),Lo:iO.bind(null,r),D_:nO.bind(null,r),v_:rO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Xd(r)):(await r.Y_.stop(),r.K_.length>0&&(Se(so,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,m=new Vg(e,t,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(r,e){if(ys("AsyncQueue",`${e}: ${r}`),Sl(r))return new Ve(me.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ke.comparator(t.key,s.key):(t,s)=>ke.comparator(t.key,s.key),this.keyedMap=Lu(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ol;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.Z_=new Ht(ke.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ge():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class yl{constructor(e,t,s,o,l,c,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new yl(e,t,ol.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oO{constructor(){this.queries=F0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Xe(t),l=o.queries;o.queries=F0(),l.forEach((c,m)=>{for(const g of m.ta)g.onError(s)})})(this,new Ve(me.ABORTED,"Firestore shutting down"))}}function F0(){return new uo(r=>Vb(r),Hd)}async function kg(r,e){const t=Xe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new aO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=Pg(c,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Ug(t)}async function Lg(r,e){const t=Xe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function lO(r,e){const t=Xe(r);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const m of c.ta)m.oa(o)&&(s=!0);c.ea=o}}s&&Ug(t)}function uO(r,e,t){const s=Xe(r),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Ug(r){r.ia.forEach(e=>{e.next()})}var Qp,H0;(H0=Qp||(Qp={}))._a="default",H0.Cache="cache";class zg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.key=e}}class yx{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ut(),this.mutatedKeys=ut(),this.ya=Pb(e),this.wa=new ol(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new B0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const x=o.get(_),R=qd(this.query,b)?b:null,N=!!x&&this.mutatedKeys.has(x.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;x&&R?x.data.isEqual(R.data)?N!==V&&(s.track({type:3,doc:R}),j=!0):this.va(x,R)||(s.track({type:2,doc:R}),j=!0,(g&&this.ya(R,g)>0||y&&this.ya(R,y)<0)&&(m=!0)):!x&&R?(s.track({type:0,doc:R}),j=!0):x&&!R&&(s.track({type:1,doc:x}),j=!0,(g||y)&&(m=!0)),j&&(R?(c=c.add(R),l=V?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:c,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,b)=>function(R,N){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return V(R)-V(N)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,c.length!==0||y?{snapshot:new yl(this.query,e.wa,l,c,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ut(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new yx(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new gx(s))}),t}Oa(e){this.fa=e.gs,this.pa=ut();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bg="SyncEngine";class hO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dO{constructor(e){this.key=e,this.Ba=!1}}class fO{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new uo(m=>Vb(m),Hd),this.qa=new Map,this.Qa=new Set,this.$a=new Ht(ke.comparator),this.Ka=new Map,this.Ua=new Rg,this.Wa={},this.Ga=new Map,this.za=gl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mO(r,e,t=!0){const s=xx(r);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await vx(s,e,t,!0),o}async function pO(r,e){const t=xx(r);await vx(t,e,!0,!1)}async function vx(r,e,t,s){const o=await VD(r.localStore,ji(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await gO(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&cx(r.remoteStore,o),m}async function gO(r,e,t,s,o){r.Ha=(b,x,R)=>async function(V,j,Y,z){let ee=j.view.ba(Y);ee.ls&&(ee=await V0(V.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,ee)));const pe=z&&z.targetChanges.get(j.targetId),se=z&&z.targetMismatches.get(j.targetId)!=null,F=j.view.applyChanges(ee,V.isPrimaryClient,pe,se);return G0(V,j.targetId,F.Ma),F.snapshot}(r,b,x,R);const l=await V0(r.localStore,e,!0),c=new cO(e,l.gs),m=c.ba(l.documents),g=dc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=c.applyChanges(m,r.isPrimaryClient,g);G0(r,t,y.Ma);const _=new hO(e,t,c);return r.ka.set(e,_),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function yO(r,e,t){const s=Xe(r),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(c=>!Hd(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $p(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Dg(s.remoteStore,o.targetId),Yp(s,o.targetId)}).catch(xl)):(Yp(s,o.targetId),await $p(s.localStore,o.targetId,!0))}async function vO(r,e){const t=Xe(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(t.remoteStore,s.targetId))}async function _O(r,e,t){const s=wO(r);try{const o=await function(c,m){const g=Xe(c),y=gn.now(),_=m.reduce((R,N)=>R.add(N.key),ut());let b,x;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=vs(),V=ut();return g.ds.getEntries(R,_).next(j=>{N=j,N.forEach((Y,z)=>{z.isValidDocument()||(V=V.add(Y))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,N)).next(j=>{b=j;const Y=[];for(const z of m){const ee=MN(z,b.get(z.key).overlayedDocument);ee!=null&&Y.push(new va(z.key,ee,Cb(ee.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,Y,m)}).next(j=>{x=j;const Y=j.applyToLocalDocumentSet(b,V);return g.documentOverlayCache.saveOverlays(R,j.batchId,Y)})}).then(()=>({batchId:x.batchId,changes:Lb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,g){let y=c.Wa[c.currentUser.toKey()];y||(y=new Ht(ht)),y=y.insert(m,g),c.Wa[c.currentUser.toKey()]=y}(s,o.batchId,t),await mc(s,o.changes),await Xd(s.remoteStore)}catch(o){const l=Pg(o,"Failed to persist write");t.reject(l)}}async function _x(r,e){const t=Xe(r);try{const s=await OD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ka.get(l);c&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?St(c.Ba):o.removedDocuments.size>0&&(St(c.Ba),c.Ba=!1))}),await mc(t,s,e)}catch(s){await xl(s)}}function q0(r,e,t){const s=Xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,c)=>{const m=c.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const g=Xe(c);g.onlineState=m;let y=!1;g.queries.forEach((_,b)=>{for(const x of b.ta)x.sa(m)&&(y=!0)}),y&&Ug(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EO(r,e,t){const s=Xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let c=new Ht(ke.comparator);c=c.insert(l,Gn.newNoDocument(l,$e.min()));const m=ut().add(l),g=new Kd($e.min(),new Map,new Ht(ht),c,m);await _x(s,g),s.$a=s.$a.remove(l),s.Ka.delete(e),Fg(s)}else await $p(s.localStore,e,!1).then(()=>Yp(s,e,t)).catch(xl)}async function TO(r,e){const t=Xe(r),s=e.batch.batchId;try{const o=await DD(t.localStore,e);Tx(t,s,null),Ex(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await mc(t,o)}catch(o){await xl(o)}}async function bO(r,e,t){const s=Xe(r);try{const o=await function(c,m){const g=Xe(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(St(b!==null),_=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(s.localStore,e);Tx(s,e,t),Ex(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await mc(s,o)}catch(o){await xl(o)}}function Ex(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function Tx(r,e,t){const s=Xe(r);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Yp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||bx(r,s)})}function bx(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Dg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Fg(r))}function G0(r,e,t){for(const s of t)s instanceof gx?(r.Ua.addReference(s.key,e),xO(r,s)):s instanceof yx?(Se(Bg,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||bx(r,s.key)):Ge()}function xO(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(Se(Bg,"New document in limbo: "+t),r.Qa.add(s),Fg(r))}function Fg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ke(Ut.fromString(e)),s=r.za.next();r.Ka.set(s,new dO(t)),r.$a=r.$a.insert(t,s),cx(r.remoteStore,new na(ji(Fd(t.path)),s,"TargetPurposeLimboResolution",Ld.ae))}}async function mc(r,e,t){const s=Xe(r),o=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{c.push(s.Ha(g,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Ig.Yi(g.targetId,y);l.push(b)}}))}),await Promise.all(c),s.La.p_(o),await async function(g,y){const _=Xe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(y,x=>le.forEach(x.Hi,R=>_.persistence.referenceDelegate.addReference(b,x.targetId,R)).next(()=>le.forEach(x.Ji,R=>_.persistence.referenceDelegate.removeReference(b,x.targetId,R)))))}catch(b){if(!Sl(b))throw b;Se(Ng,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const R=_.Ts.get(x),N=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(x,V)}}}(s.localStore,l))}async function SO(r,e){const t=Xe(r);if(!t.currentUser.isEqual(e)){Se(Bg,"User change. New user:",e.toKey());const s=await ax(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(m=>{m.forEach(g=>{g.reject(new Ve(me.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(t,s.Rs)}}function AO(r,e){const t=Xe(r),s=t.Ka.get(e);if(s&&s.Ba)return ut().add(s.key);{let o=ut();const l=t.qa.get(e);if(!l)return o;for(const c of l){const m=t.ka.get(c);o=o.unionWith(m.view.Sa)}return o}}function xx(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.La.p_=lO.bind(null,e.eventManager),e.La.Ja=uO.bind(null,e.eventManager),e}function wO(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ND(this.persistence,new RD,e.initialUser,this.serializer)}Xa(e){return new sx(Cg.ri,this.serializer)}Za(e){return new kD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class RO extends _d{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){St(this.persistence.referenceDelegate instanceof yd);const s=this.persistence.referenceDelegate.garbageCollector;return new dD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new sx(s=>yd.ri(s,t),this.serializer)}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SO.bind(null,this.syncEngine),await sO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oO}()}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),s=function(l){return new FD(l)}(e.databaseInfo);return function(l,c,m,g){return new $D(l,c,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,m){return new QD(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>q0(this.syncEngine,t,0),function(){return L0.D()?new L0:new LD}())}createSyncEngine(e,t){return function(o,l,c,m,g,y,_){const b=new fO(o,l,c,m,g,y);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Xe(o);Se(so,"RemoteStore shutting down."),l.W_.add(5),await fc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class CO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{Se(ma,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Se(ma,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Pg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bp(r,e){r.asyncQueue.verifyOperationInProgress(),Se(ma,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ax(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await IO(r);Se(ma,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>z0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>z0(e.remoteStore,o)),r._onlineComponents=e}async function IO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Se(ma,"Using user provided OfflineComponentProvider");try{await bp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;dl("Error using user provided cache. Falling back to memory cache: "+t),await bp(r,new _d)}}else Se(ma,"Using default OfflineComponentProvider"),await bp(r,new RO(void 0));return r._offlineComponents}async function Sx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Se(ma,"Using user provided OnlineComponentProvider"),await $0(r,r._uninitializedComponentsProvider._online)):(Se(ma,"Using default OnlineComponentProvider"),await $0(r,new Xp))),r._onlineComponents}function NO(r){return Sx(r).then(e=>e.syncEngine)}async function Ed(r){const e=await Sx(r),t=e.eventManager;return t.onListen=mO.bind(null,e.syncEngine),t.onUnlisten=yO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),t}function DO(r,e,t={}){const s=new ms;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,m,g,y){const _=new Hg({next:x=>{_.su(),c.enqueueAndForget(()=>Lg(l,b));const R=x.docs.has(m);!R&&x.fromCache?y.reject(new Ve(me.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&g&&g.source==="server"?y.reject(new Ve(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new zg(Fd(m.path),_,{includeMetadataChanges:!0,Ta:!0});return kg(l,b)}(await Ed(r),r.asyncQueue,e,t,s)),s.promise}function OO(r,e,t={}){const s=new ms;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,m,g,y){const _=new Hg({next:x=>{_.su(),c.enqueueAndForget(()=>Lg(l,b)),x.fromCache&&g.source==="server"?y.reject(new Ve(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new zg(m,_,{includeMetadataChanges:!0,Ta:!0});return kg(l,b)}(await Ed(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(r,e,t){if(!t)throw new Ve(me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jO(r,e,t,s){if(e===!0&&s===!0)throw new Ve(me.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Q0(r){if(!ke.isDocumentKey(r))throw new Ve(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y0(r){if(ke.isDocumentKey(r))throw new Ve(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge()}function Tr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ve(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qg(r);throw new Ve(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firestore.googleapis.com",X0=!0;class W0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rx,this.ssl=X0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:X0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ix;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cD)throw new Ve(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ve(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ve(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ve(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new U1;switch(s.type){case"firstParty":return new H1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ve(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=K0.get(t);s&&(Se("ComponentProvider","Removing Datastore"),K0.delete(t),s.terminate())}(this),Promise.resolve()}}function MO(r,e,t,s={}){var o;const l=(r=Tr(r,Wd))._getSettings(),c=`${e}:${t}`;if(l.host!==Rx&&l.host!==c&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Hn.MOCK_USER;else{m=mI(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Ve(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Hn(y)}r._authCredentials=new z1(new yb(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class ir{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class oa extends pc{constructor(e,t,s){super(e,t,Fd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new ke(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Gg(r,e,...t){if(r=Cn(r),wx("collection","path",e),r instanceof Wd){const s=Ut.fromString(e,...t);return Y0(s),new oa(r,null,s)}{if(!(r instanceof ir||r instanceof oa))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(e,...t));return Y0(s),new oa(r.firestore,null,s)}}function qn(r,e,...t){if(r=Cn(r),arguments.length===1&&(e=vb.newId()),wx("doc","path",e),r instanceof Wd){const s=Ut.fromString(e,...t);return Q0(s),new ir(r,null,new ke(s))}{if(!(r instanceof ir||r instanceof oa))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(e,...t));return Q0(s),new ir(r.firestore,r instanceof oa?r.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lx(this,"async_queue_retry"),this.Su=()=>{const s=Tp();s&&Se(Z0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Sl(e))throw e;Se(Z0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ys("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Vg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function eT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class pa extends Wd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new J0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function VO(r,e){const t=typeof r=="object"?r:lb(),s=typeof r=="string"?r:hd,o=gg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=dI("firestore");l&&MO(o,...l)}return o}function Zd(r){if(r._terminated)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PO(r),r._firestoreClient}function PO(r){var e,t,s;const o=r._freezeSettings(),l=function(m,g,y,_){return new rN(m,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Ax(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new CO(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(Pn.fromBase64String(e))}catch(t){throw new Ve(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ve(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class LO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}class Cx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ix(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Qg{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Td(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ix(this.Lu)&&kO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Qd(e)}ju(e,t,s,o=!1){return new Qg({Lu:e,methodName:t,zu:s,path:Vn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yg(r){const e=r._freezeSettings(),t=Qd(r._databaseId);return new UO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Nx(r,e,t,s,o,l={}){const c=r.ju(l.merge||l.mergeFields?2:0,e,t,o);Wg("Data must be an object, but it was:",c,s);const m=Dx(s,c);let g,y;if(l.merge)g=new Er(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const x=Wp(e,b,t);if(!c.contains(x))throw new Ve(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);jx(_,x)||_.push(x)}g=new Er(_),y=c.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=c.fieldTransforms;return new LO(new cr(m),g,y)}class tf extends ef{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class Xg extends ef{_toFieldTransform(e){return new NN(e.path,new tc)}isEqual(e){return e instanceof Xg}}function zO(r,e,t,s){const o=r.ju(1,e,t);Wg("Data must be an object, but it was:",o,s);const l=[],c=cr.empty();ya(s,(g,y)=>{const _=Zg(e,g,t);y=Cn(y);const b=o.Ku(_);if(y instanceof tf)l.push(_);else{const x=nf(y,b);x!=null&&(l.push(_),c.set(_,x))}});const m=new Er(l);return new Cx(c,m,o.fieldTransforms)}function BO(r,e,t,s,o,l){const c=r.ju(1,e,t),m=[Wp(e,s,t)],g=[o];if(l.length%2!=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)m.push(Wp(e,l[x])),g.push(l[x+1]);const y=[],_=cr.empty();for(let x=m.length-1;x>=0;--x)if(!jx(y,m[x])){const R=m[x];let N=g[x];N=Cn(N);const V=c.Ku(R);if(N instanceof tf)y.push(R);else{const j=nf(N,V);j!=null&&(y.push(R),_.set(R,j))}}const b=new Er(y);return new Cx(_,b,c.fieldTransforms)}function nf(r,e){if(Ox(r=Cn(r)))return Wg("Unsupported field value:",e,r),Dx(r,e);if(r instanceof ef)return function(s,o){if(!Ix(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let g=nf(m,o.Uu(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gn.fromDate(s);return{timestampValue:gd(o.serializer,l)}}if(s instanceof gn){const l=new gn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gd(o.serializer,l)}}if(s instanceof $g)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vl)return{bytesValue:Wb(o.serializer,s._byteString)};if(s instanceof ir){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kg)return function(c,m){return{mapValue:{fields:{[wb]:{stringValue:Rb},[dd]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return xg(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${qg(s)}`)}(r,e)}function Dx(r,e){const t={};return Eb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(r,(s,o)=>{const l=nf(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Ox(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gn||r instanceof $g||r instanceof vl||r instanceof ir||r instanceof ef||r instanceof Kg)}function Wg(r,e,t){if(!Ox(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=qg(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Wp(r,e,t){if((e=Cn(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return Zg(r,e);throw Td("Field path arguments must be of type string or ",r,!1,void 0,t)}const FO=new RegExp("[~\\*/\\[\\]]");function Zg(r,e,t){if(e.search(FO)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Td(r,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${s}`),c&&(g+=` in document ${o}`),g+=")"),new Ve(me.INVALID_ARGUMENT,m+r+g)}function jx(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HO extends Mx{data(){return super.data()}}function Vx(r,e){return typeof e=="string"?Zg(r,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ve(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qO{convertValue(e,t="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ya(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[dd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>Zt(c.doubleValue));return new Kg(l)}convertGeoPoint(e){return new $g(Zt(e.latitude),Zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const t=ca(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ut.fromString(e);St(rx(s));const o=new Ju(s.get(1),s.get(3)),l=new ke(s.popFirst(5));return o.isEqual(t)||ys(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lx extends Mx{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Zh extends Lx{data(e={}){return super.data(e)}}class Ux{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Zh(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const g=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const g=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return m.type!==0&&(y=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:GO(m.type),doc:g,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){r=Tr(r,ir);const e=Tr(r.firestore,pa);return DO(Zd(e),r._key).then(t=>Bx(e,r,t))}class Jg extends qO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function $O(r){r=Tr(r,pc);const e=Tr(r.firestore,pa),t=Zd(e),s=new Jg(e);return Px(r._query),OO(t,r._query).then(o=>new Ux(e,s,r,o))}function _l(r,e,t){r=Tr(r,ir);const s=Tr(r.firestore,pa),o=kx(r.converter,e,t);return ey(s,[Nx(Yg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,ii.none())])}function zx(r,e,t,...s){r=Tr(r,ir);const o=Tr(r.firestore,pa),l=Yg(o);let c;return c=typeof(e=Cn(e))=="string"||e instanceof Jd?BO(l,"updateDoc",r._key,e,t,s):zO(l,"updateDoc",r._key,e),ey(o,[c.toMutation(r._key,ii.exists(!0))])}function KO(r,e){const t=Tr(r.firestore,pa),s=qn(r),o=kx(r.converter,e);return ey(t,[Nx(Yg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function xd(r,...e){var t,s,o;r=Cn(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||eT(e[c])||(l=e[c],c++);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(eT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,y,_;if(r instanceof ir)y=Tr(r.firestore,pa),_=Fd(r._key.path),g={next:b=>{e[c]&&e[c](Bx(y,r,b))},error:e[c+1],complete:e[c+2]};else{const b=Tr(r,pc);y=Tr(b.firestore,pa),_=b._query;const x=new Jg(y);g={next:R=>{e[c]&&e[c](new Ux(y,x,b,R))},error:e[c+1],complete:e[c+2]},Px(r._query)}return function(x,R,N,V){const j=new Hg(V),Y=new zg(R,j,N);return x.asyncQueue.enqueueAndForget(async()=>kg(await Ed(x),Y)),()=>{j.su(),x.asyncQueue.enqueueAndForget(async()=>Lg(await Ed(x),Y))}}(Zd(y),_,m,g)}function ey(r,e){return function(s,o){const l=new ms;return s.asyncQueue.enqueueAndForget(async()=>_O(await NO(s),o,l)),l.promise}(Zd(r),e)}function Bx(r,e,t){const s=t.docs.get(e._key),o=new Jg(r);return new Lx(r,o,e._key,s,new zu(t.hasPendingWrites,t.fromCache),e.converter)}function Fx(){return new Xg("serverTimestamp")}(function(e,t=!0){(function(o){bl=o})(Tl),hl(new ro("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new pa(new B1(s.getProvider("auth-internal")),new q1(c,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ve(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),sa(a0,o0,e),sa(a0,o0,"esm2017")})();var QO="firebase",YO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(QO,YO,"app");function ty(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XO=Hx,qx=new uc("auth","Firebase",Hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new mg("@firebase/auth");function WO(r,...e){Sd.logLevel<=ot.WARN&&Sd.warn(`Auth (${Tl}): ${r}`,...e)}function Jh(r,...e){Sd.logLevel<=ot.ERROR&&Sd.error(`Auth (${Tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...e){throw ny(r,...e)}function Vi(r,...e){return ny(r,...e)}function Gx(r,e,t){const s=Object.assign(Object.assign({},XO()),{[e]:t});return new uc("auth","Firebase",s).create(e,{appName:r.name})}function ps(r){return Gx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return qx.create(r,...e)}function qe(r,e,...t){if(!r)throw ny(e,...t)}function cs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jh(e),new Error(e)}function _s(r,e){r||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ZO(){return tT()==="http:"||tT()==="https:"}function tT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||vI()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=pI()||_I()}get(){return JO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r,e){_s(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new gc(3e4,6e4);function _a(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ea(r,e,t,s,o={}){return Kx(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=cc(Object.assign({key:r.config.apiKey},c)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},l);return yI()||(y.referrerPolicy="no-referrer"),$x.fetch()(Qx(r,r.config.apiHost,t,m),y)})}async function Kx(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},tj),e);try{const o=new ij(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(r,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Bh(r,"email-already-in-use",c);if(g==="USER_DISABLED")throw Bh(r,"user-disabled",c);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gx(r,_,y);ai(r,_)}}catch(o){if(o instanceof Ts)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function yc(r,e,t,s,o={}){const l=await Ea(r,e,t,s,o);return"mfaPendingCredential"in l&&ai(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Qx(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?ry(r.config,o):`${r.config.apiScheme}://${o}`}function rj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),nj.get())})}}function Bh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Vi(r,e,s);return o.customData._tokenResponse=t,o}function nT(r){return r!==void 0&&r.enterprise!==void 0}class sj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aj(r,e){return Ea(r,"GET","/v2/recaptchaConfig",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(r,e){return Ea(r,"POST","/v1/accounts:delete",e)}async function Yx(r,e){return Ea(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(r,e=!1){const t=Cn(r),s=await t.getIdToken(e),o=iy(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Gu(xp(o.auth_time)),issuedAtTime:Gu(xp(o.iat)),expirationTime:Gu(xp(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xp(r){return Number(r)*1e3}function iy(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(t);return o?JSON.parse(o):(Jh("Failed to decode base64 JWT payload"),null)}catch(o){return Jh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rT(r){const e=iy(r);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ts&&uj(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(r){var e;const t=r.auth,s=await r.getIdToken(),o=await ic(r,Yx(t,{idToken:s}));qe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Xx(l.providerUserInfo):[],m=dj(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(m!=null&&m.length),_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Jp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function hj(r){const e=Cn(r);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dj(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Xx(r){return r.map(e=>{var{providerId:t}=e,s=ty(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(r,e){const t=await Kx(r,{},async()=>{const s=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=Qx(r,o,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$x.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mj(r,e){return Ea(r,"POST","/v2/accounts:revokeToken",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=rT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await fj(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new ll;return s&&(qe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(qe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(r,e){qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ic(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lj(this,e)}reload(){return hj(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await ic(this,oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,m,g,y,_;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(m=t.tenantId)!==null&&m!==void 0?m:void 0,j=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,Y=(y=t.createdAt)!==null&&y!==void 0?y:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:pe,isAnonymous:se,providerData:F,stsTokenManager:M}=t;qe(ee&&M,e,"internal-error");const C=ll.fromJSON(this.name,M);qe(typeof ee=="string",e,"internal-error"),Qs(b,e.name),Qs(x,e.name),qe(typeof pe=="boolean",e,"internal-error"),qe(typeof se=="boolean",e,"internal-error"),Qs(R,e.name),Qs(N,e.name),Qs(V,e.name),Qs(j,e.name),Qs(Y,e.name),Qs(z,e.name);const w=new hs({uid:ee,auth:e,email:x,emailVerified:pe,displayName:b,isAnonymous:se,photoURL:N,phoneNumber:R,tenantId:V,stsTokenManager:C,createdAt:Y,lastLoginAt:z});return F&&Array.isArray(F)&&(w.providerData=F.map(O=>Object.assign({},O))),j&&(w._redirectEventId=j),w}static async _fromIdTokenResponse(e,t,s=!1){const o=new ll;o.updateFromServerResponse(t);const l=new hs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ad(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Xx(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new ll;m.updateFromIdToken(s);const g=new hs({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function ds(r){_s(r instanceof Function,"Expected a class definition");let e=iT.get(r);return e?(_s(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wx.type="NONE";const sT=Wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r,e,t){return`firebase:${r}:${e}:${t}`}class ul{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=ed(this.userKey,o.apiKey,l),this.fullPersistenceKey=ed("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ul(ds(sT),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||ds(sT);const c=ed(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const _=await y._get(c);if(_){const b=hs._fromJSON(e,_);y!==l&&(m=b),l=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new ul(l,e,s):(l=g[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new ul(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(iS(e))return"Webos";if(Jx(e))return"Safari";if((e.includes("chrome/")||eS(e))&&!e.includes("edge/"))return"Chrome";if(nS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Zx(r=Kn()){return/firefox\//i.test(r)}function Jx(r=Kn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eS(r=Kn()){return/crios\//i.test(r)}function tS(r=Kn()){return/iemobile/i.test(r)}function nS(r=Kn()){return/android/i.test(r)}function rS(r=Kn()){return/blackberry/i.test(r)}function iS(r=Kn()){return/webos/i.test(r)}function sy(r=Kn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pj(r=Kn()){var e;return sy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return EI()&&document.documentMode===10}function sS(r=Kn()){return sy(r)||nS(r)||iS(r)||rS(r)||/windows phone/i.test(r)||tS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r,e=[]){let t;switch(r){case"Browser":t=aT(Kn());break;case"Worker":t=`${aT(Kn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const g=e(l);c(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(r,e={}){return Ea(r,"GET","/v2/passwordPolicy",_a(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=6;class Ej{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:_j,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsNumericCharacter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ds(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yx(this,{idToken:e}),s=await hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===m)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(ps(this));const t=e?Cn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),t=new Ej(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await mj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ds(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&WO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ho(r){return Cn(r)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=CI(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bj(r){rf=r}function oS(r){return rf.loadJS(r)}function xj(){return rf.recaptchaEnterpriseScript}function Sj(){return rf.gapiScript}function Aj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class wj{constructor(){this.enterprise=new Rj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Cj="recaptcha-enterprise",lS="NO_RECAPTCHA";class Ij{constructor(e){this.type=Cj,this.auth=ho(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{aj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new sj(g);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(g=>{m(g)})})}function o(l,c,m){const g=window.grecaptcha;nT(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(lS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wj().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&nT(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=xj();g.length!==0&&(g+=m),oS(g).then(()=>{o(m,l,c)}).catch(y=>{c(y)})}}).catch(m=>{c(m)})})}}async function lT(r,e,t,s=!1,o=!1){const l=new Ij(r);let c;if(o)c=lS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function eg(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await lT(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await lT(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(r,e){const t=gg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ld(l,e??{}))return o;ai(o,"already-initialized")}return t.initialize({options:e})}function Dj(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ds);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Oj(r,e,t){const s=ho(r);qe(s._canInitEmulator,s,"emulator-config-failed"),qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=uS(e),{host:c,port:m}=jj(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),Mj()}function uS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jj(r){const e=uS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:uT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:uT(c)}}}function uT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Mj(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,t){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function Vj(r,e){return Ea(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(r,e){return yc(r,"POST","/v1/accounts:signInWithPassword",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(r,e){return yc(r,"POST","/v1/accounts:signInWithEmailLink",_a(r,e))}async function Lj(r,e){return yc(r,"POST","/v1/accounts:signInWithEmailLink",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends ay{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new sc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new sc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,t,"signInWithPassword",Pj);case"emailLink":return kj(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,s,"signUpPassword",Vj);case"emailLink":return Lj(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(r,e){return yc(r,"POST","/v1/accounts:signInWithIdp",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="http://localhost";class ao extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ty(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new ao(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return cl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,cl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:Uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(r){const e=Vu(Pu(r)).link,t=e?Vu(Pu(e)).deep_link_id:null,s=Vu(Pu(r)).deep_link_id;return(s?Vu(Pu(s)).link:null)||s||t||e||r}class oy{constructor(e){var t,s,o,l,c,m;const g=Vu(Pu(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,_=(s=g.oobCode)!==null&&s!==void 0?s:null,b=zj((o=g.mode)!==null&&o!==void 0?o:null);qe(y&&_&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=_,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=g.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Bj(e);try{return new oy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,t){return sc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=oy.parseLink(t);return qe(s,"argument-error"),sc._fromEmailAndCode(e,s.code,s.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends cS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends vc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zs.credential(t,s)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends vc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends vc{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ea.credential(t,s)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(r,e){return yc(r,"POST","/v1/accounts:signUp",_a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await hs._fromIdTokenResponse(e,s,o),c=cT(s);return new oo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=cT(s);return new oo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function cT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Ts{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new wd(e,t,s,o)}}function hS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(r,l,e,s):l})}async function Hj(r,e,t=!1){const s=await ic(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return oo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(r,e,t=!1){const{auth:s}=r;if(Hr(s.app))return Promise.reject(ps(s));const o="reauthenticate";try{const l=await ic(r,hS(s,o,e,r),t);qe(l.idToken,s,"internal-error");const c=iy(l.idToken);qe(c,s,"internal-error");const{sub:m}=c;return qe(r.uid===m,s,"user-mismatch"),oo._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(r,e,t=!1){if(Hr(r.app))return Promise.reject(ps(r));const s="signIn",o=await hS(r,s,e),l=await oo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function Gj(r,e){return dS(ho(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(r){const e=ho(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $j(r,e,t){if(Hr(r.app))return Promise.reject(ps(r));const s=ho(r),c=await eg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&fS(r),g}),m=await oo._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function Kj(r,e,t){return Hr(r.app)?Promise.reject(ps(r)):Gj(Cn(r),wl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fS(r),s})}function Qj(r,e,t,s){return Cn(r).onIdTokenChanged(e,t,s)}function Yj(r,e,t){return Cn(r).beforeAuthStateChanged(e,t)}function Xj(r,e,t,s){return Cn(r).onAuthStateChanged(e,t,s)}function Wj(r){return Cn(r).signOut()}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=1e3,Jj=10;class pS extends mS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);gj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Jj):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pS.type="LOCAL";const e2=pS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends mS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gS.type="SESSION";const yS=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async y=>y(t.origin,l)),g=await t2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,g)=>{const y=ly("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(x.data.response);break;default:clearTimeout(_),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function r2(r){Pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function i2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function a2(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebaseLocalStorageDb",o2=1,Cd="firebaseLocalStorage",ES="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(r,e){return r.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function l2(){const r=indexedDB.deleteDatabase(_S);return new _c(r).toPromise()}function tg(){const r=indexedDB.open(_S,o2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Cd,{keyPath:ES})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Cd)?e(s):(s.close(),await l2(),e(await tg()))})})}async function hT(r,e,t){const s=af(r,!0).put({[ES]:e,value:t});return new _c(s).toPromise()}async function u2(r,e){const t=af(r,!1).get(e),s=await new _c(t).toPromise();return s===void 0?null:s.value}function dT(r,e){const t=af(r,!0).delete(e);return new _c(t).toPromise()}const c2=800,h2=3;class TS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>h2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(a2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new n2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await hT(e,Rd,"1"),await dT(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>u2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=af(o,!1).getAll();return new _c(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TS.type="LOCAL";const d2=TS;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r,e){return e?ds(e):(qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function m2(r){return dS(r.auth,new uy(r),r.bypassAuthState)}function p2(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),qj(t,new uy(r),r.bypassAuthState)}async function g2(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),Hj(t,new uy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:ai(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new gc(2e3,1e4);class al extends bS{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y2.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="pendingRedirect",td=new Map;class _2 extends bS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const s=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(r,e){const t=x2(e),s=b2(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function T2(r,e){td.set(r._key(),e)}function b2(r){return ds(r._redirectPersistence)}function x2(r){return ed(v2,r.config.apiKey,r.name)}async function S2(r,e,t=!1){if(Hr(r.app))return Promise.reject(ps(r));const s=ho(r),o=f2(s,e),c=await new _2(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=10*60*1e3;class w2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!xS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e={}){return Ea(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function D2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await C2(r);for(const t of e)try{if(O2(t))return}catch{}ai(r,"unauthorized-domain")}function O2(r){const e=Zp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!N2.test(t))return!1;if(I2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new gc(3e4,6e4);function mT(){const r=Pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function M2(r){return new Promise((e,t)=>{var s,o,l;function c(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),t(Vi(r,"network-request-failed"))},timeout:j2.get()})}if(!((o=(s=Pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Pi().gapi)===null||l===void 0)&&l.load)c();else{const m=Aj("iframefcb");return Pi()[m]=()=>{gapi.load?c():t(Vi(r,"network-request-failed"))},oS(`${Sj()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw nd=null,e})}let nd=null;function V2(r){return nd=nd||M2(r),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new gc(5e3,15e3),k2="__/auth/iframe",L2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(r){const e=r.config;qe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ry(e,L2):`https://${r.config.authDomain}/${k2}`,s={apiKey:e.apiKey,appName:r.name,v:Tl},o=z2.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${cc(s).slice(1)}`}async function F2(r){const e=await V2(r),t=Pi().gapi;return qe(t,r,"internal-error"),e.open({where:document.body,url:B2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Vi(r,"network-request-failed"),m=Pi().setTimeout(()=>{l(c)},P2.get());function g(){Pi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,G2=600,$2="_blank",K2="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q2(r,e,t,s=q2,o=G2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},H2),{width:s.toString(),height:o.toString(),top:l,left:c}),y=Kn().toLowerCase();t&&(m=eS(y)?$2:t),Zx(y)&&(e=e||K2,g.scrollbars="yes");const _=Object.entries(g).reduce((x,[R,N])=>`${x}${R}=${N},`,"");if(pj(y)&&m!=="_self")return Y2(e||"",m),new pT(null);const b=window.open(e||"",m,_);qe(b,r,"popup-blocked");try{b.focus()}catch{}return new pT(b)}function Y2(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",W2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function gT(r,e,t,s,o,l){qe(r.config.authDomain,r,"auth-domain-config-required"),qe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Tl,eventId:o};if(e instanceof cS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",RI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof vc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),y=g?`#${Z2}=${encodeURIComponent(g)}`:"";return`${J2(r)}?${cc(m).slice(1)}${y}`}function J2({config:r}){return r.emulator?ry(r,W2):`https://${r.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class eM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yS,this._completeRedirectFn=S2,this._overrideRedirectResult=T2}async _openPopup(e,t,s,o){var l;_s((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await gT(e,t,s,Zp(),o);return Q2(e,c,ly())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await gT(e,t,s,Zp(),o);return r2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(_s(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await F2(e),s=new w2(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Sp];c!==void 0&&t(!!c),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=D2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sS()||Jx()||sy()}}const tM=eM;var yT="@firebase/auth",vT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iM(r){hl(new ro("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(r)},y=new Tj(s,o,l,g);return Dj(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),hl(new ro("auth-internal",e=>{const t=ho(e.getProvider("auth").getImmediate());return(s=>new nM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(yT,vT,rM(r)),sa(yT,vT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=5*60,aM=ib("authIdTokenMaxAge")||sM;let _T=null;const oM=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aM)return;const o=t==null?void 0:t.token;_T!==o&&(_T=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lM(r=lb()){const e=gg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Nj(r,{popupRedirectResolver:tM,persistence:[d2,e2,yS]}),s=ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oM(l.toString());Yj(t,c,()=>c(t.currentUser)),Qj(t,m=>c(m))}}const o=nb("auth");return o&&Oj(t,`http://${o}`),t}function uM(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}bj({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Vi("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",uM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iM("Browser");const cM={apiKey:"AIzaSyCZP8RoZcM8VZETlGVrXNPcUBYB9Ve6p7A",authDomain:"life-capital-1009spt.firebaseapp.com",projectId:"life-capital-1009spt",storageBucket:"life-capital-1009spt.firebasestorage.app",messagingSenderId:"1044786416139",appId:"1:1044786416139:web:129eca6881369653f8150e",measurementId:"G-5FM02GWHXQ"},hM=ob(cM),Rn=VO(hM),Jo=lM(),dM=()=>{const{sessionID:r,getFromLocalSession:e}=ga(),{userData:t}=ui(),[s,o]=$n("finGlobal",{balance:"",depositAmount:"",amountOfSummaryIncomes:"",amountOfSummaryExpenses:"",amountOfFreeMoney:""}),l=g=>{o(y=>({...y,[g.target.name]:g.target.value}))},c=()=>{localStorage.clear(),window.location.reload()},m=async()=>{if(!t)return;const g=["finGlobal","finIncomes","finExpenses","invShareTable","finBusinessTable","abTable"],y={};if(g.forEach(b=>{const x=e(b);x!==null&&(y[b]=x)}),Object.keys(y).length===0){console.warn("Nothing to update — all fields are null.");return}const _=qn(Rn,"gameSessions",r,"gameState",t.displayName);await zx(_,y)};return f.jsxs("div",{className:"container",children:[f.jsx("table",{children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Готівка"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"balance",type:"text",value:s.balance,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Депозит"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"depositAmount",type:"text",value:s.depositAmount,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:s.amountOfSummaryIncomes,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:s.amountOfSummaryExpenses,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні вільні кошти (ВК)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"amountOfFreeMoney",type:"text",value:s.amountOfFreeMoney,onChange:l})})]})]})}),f.jsx("div",{}),f.jsx(fg,{buttonText:"Завершити гру",modalTitle:"Підтвердження завершення гри",modalDescription:"Ви впевнені, що хочете завершити гру? Усі дані буде втрачено.",confirmText:"Так, завершити",cancelText:"Скасувати",onConfirm:c}),f.jsx("button",{onClick:m,children:"Save Data"})]})},fM=({row:r,index:e,handleChange:t})=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.firstPayment,onChange:s=>t(e,"firstPayment",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.credit,onChange:s=>t(e,"credit",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),mM=Array.from({length:5},(r,e)=>({id:e+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""})),pM=()=>{const[r,e]=$n("finBusinessTable",mM),[t,s]=$n("finGlobal",{depositAmount:"",amountOfSummaryIncomes:""}),[o,l]=$n("finIncomes",{salary:"",childSupport:"",depositAmount:"",depositIncome:"",goldAmount:"",goldIncome:"",riskInsuranceAmount:"",riskInsuranceIncome:"",intellectualPropertyAmount:"",intellectualPropertyIncome:"",savingsInsuranceAmount:"",savingsInsuranceIncome:"",amountOfSummaryIncomes:""}),c=_=>{l({...o,[_.target.name]:_.target.value})},m=_=>{const{name:b,value:x}=_.target;s(R=>({...R,[b]:x}))},g=(_,b,x)=>{e(R=>R.map((N,V)=>V===_?{...N,[b]:x}:N))},y=()=>{const _={id:r.length+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""};e([...r,_])};return f.jsxs("div",{className:"container",children:[f.jsx("table",{className:"incomes-table1",children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Доходи"}),f.jsx("th",{children:"Сума в звітній період"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Оплата праці"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{name:"salary",type:"text",value:o.salary,onChange:c})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Допомога на дітей"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{name:"childSupport",type:"text",value:o.childSupport,onChange:c})})]})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Активи"}),f.jsxs("table",{className:"incomes-table2",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Активи"}),f.jsx("th",{children:"Сума активів"}),f.jsx("th",{children:"Пасивний дохід (ПД)"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Депозитний банківський рахунок 2%"}),f.jsx("td",{children:f.jsx("input",{className:"asset-input",name:"depositAmount",type:"text",value:t.depositAmount,onChange:m})}),f.jsx("td",{children:f.jsx("input",{className:"income-input",name:"depositIncome",type:"text",value:o.depositIncome,onChange:c})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Банківське золото 1%"}),f.jsx("td",{children:f.jsx("input",{className:"asset-input",name:"goldAmount",type:"text",value:o.goldAmount,onChange:c})}),f.jsx("td",{children:f.jsx("input",{className:"income-input",name:"goldIncome",type:"text",value:o.goldIncome,onChange:c})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Накопичувальне страхування"}),f.jsx("td",{children:f.jsx("input",{className:"asset-input",name:"savingsInsuranceAmount",type:"text",value:o.savingsInsuranceAmount,onChange:c})}),f.jsx("td",{children:f.jsx("input",{className:"income-input",name:"savingsInsuranceIncome",type:"text",value:o.savingsInsuranceIncome,onChange:c})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Ризикове страхування"}),f.jsx("td",{children:f.jsx("input",{className:"asset-input",name:"riskInsuranceAmount",type:"text",value:o.riskInsuranceAmount,onChange:c})}),f.jsx("td",{children:f.jsx("input",{className:"income-input",name:"riskInsuranceIncome",type:"text",value:o.riskInsuranceIncome,onChange:c})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Інтелектуальна власність"}),f.jsx("td",{children:f.jsx("input",{className:"asset-input",name:"intellectualPropertyAmount",type:"text",value:o.intellectualPropertyAmount,onChange:c})}),f.jsx("td",{children:f.jsx("input",{className:"income-input",name:"intellectualPropertyIncome",type:"text",value:o.intellectualPropertyIncome,onChange:c})})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Бізнес і нерухомість"}),f.jsxs("table",{className:"incomes-table3",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Код"}),f.jsx("th",{children:"Перший внесок"}),f.jsx("th",{children:"Вартість"}),f.jsx("th",{children:"Інвестор"}),f.jsx("th",{children:"ПД"})]})}),f.jsx("tbody",{children:r.map((_,b)=>f.jsx(fM,{row:_,index:b,handleChange:g},_.id))})]}),r.length<20?f.jsx("button",{onClick:y,children:"Додати поле"}):""]}),f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:t.amountOfSummaryIncomes,onChange:m})})]})})})]})},gM=()=>{const[r,e]=$n("finGlobal",{amountOfSummaryExpenses:""}),[t,s]=$n("finExpenses",{expenseMonthlyHousehold:"",expenseAdditional:"",expenseNumChildren:"",expenseChild:"",realEstateAmount:"",realEstateExpense:"",carAmount:"",carExpense:"",appliancesAmount:"",appliancesExpense:"",furnitureAmount:"",furnitureExpense:"",othersAmount:"",othersExpense:""}),o=c=>{const{name:m,value:g}=c.target;e(y=>({...y,[m]:g}))},l=c=>{s(m=>({...m,[c.target.name]:c.target.value}))};return f.jsxs("div",{className:"container",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Щомісячні витрати"}),f.jsxs("table",{className:"extends-table1",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Витрати"}),f.jsx("th",{children:"Сума в звітній період"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Щомісячні побутові витрати"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"expense-input",name:"expenseMonthlyHousehold",type:"text",value:t.expenseMonthlyHousehold,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Додаткові витрати"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"expense-input",name:"expenseAdditional",type:"text",value:t.expenseAdditional,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Кіл-ть дітей"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"expense-input",name:"expenseNumChildren",type:"text",value:t.expenseNumChildren,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Витрати на дитину"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"expense-input",name:"expenseChild",type:"text",value:t.expenseChild,onChange:l})})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Кредити"}),f.jsxs("table",{className:"extends-table2",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Найменування кредитів (пасиви)"}),f.jsx("th",{children:"Сума кредитів"}),f.jsx("th",{children:"Сплата, %"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На нерухомість"}),f.jsx("td",{children:f.jsx("input",{className:"summary-input",name:"realEstateAmount",type:"text",value:t.realEstateAmount,onChange:l})}),f.jsx("td",{children:f.jsx("input",{className:"expense-input",name:"realEstateExpense",type:"text",value:t.realEstateExpense,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На автомобіль"}),f.jsx("td",{children:f.jsx("input",{className:"summary-input",name:"carAmount",type:"text",value:t.carAmount,onChange:l})}),f.jsx("td",{children:f.jsx("input",{className:"expense-input",name:"carExpense",type:"text",value:t.carExpense,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На побутову техніку"}),f.jsx("td",{children:f.jsx("input",{className:"summary-input",name:"appliancesAmount",type:"text",value:t.appliancesAmount,onChange:l})}),f.jsx("td",{children:f.jsx("input",{className:"expense-input",name:"appliancesExpense",type:"text",value:t.appliancesExpense,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На меблі"}),f.jsx("td",{children:f.jsx("input",{className:"summary-input",name:"furnitureAmount",type:"text",value:t.furnitureAmount,onChange:l})}),f.jsx("td",{children:f.jsx("input",{className:"expense-input",name:"furnitureExpense",type:"text",value:t.furnitureExpense,onChange:l})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Інші кредити 3%"}),f.jsx("td",{children:f.jsx("input",{className:"summary-input",name:"othersAmount",type:"text",value:t.othersAmount,onChange:l})}),f.jsx("td",{children:f.jsx("input",{className:"expense-input",name:"othersExpense",type:"text",value:t.othersExpense,onChange:l})})]})]})]})]}),f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:r.amountOfSummaryExpenses,onChange:o})})]})})})]})},yM="_tdStyle_4n9sn_1",vM="_tdIndexStyle_4n9sn_5",fs={tdStyle:yM,tdIndexStyle:vM},_M=({row:r,index:e,handleChange:t})=>f.jsxs("tr",{children:[f.jsx("td",{className:fs.tdIndexStyle,children:r.id}),f.jsx("td",{className:fs.tdStyle,children:f.jsx("input",{type:"text",value:r.source,onChange:s=>t(e,"source",s.target.value)})}),f.jsx("td",{className:fs.tdStyle,children:f.jsx("input",{type:"text",value:r.replenishment,onChange:s=>t(e,"replenishment",s.target.value)})}),f.jsx("td",{className:fs.tdStyle,children:f.jsx("input",{type:"text",value:r.accumulatedAmount,onChange:s=>t(e,"accumulatedAmount",s.target.value)})})]}),EM=Array.from({length:10},(r,e)=>({id:e+1,source:"",replenishment:"",accumulatedAmount:""})),TM=()=>{const[r,e]=$n("abTable",EM),[t,s]=$n("abValue",""),o=c=>{s(c.target.value)},l=(c,m,g)=>{e(y=>y.map((_,b)=>b===c?{..._,[m]:g}:_))};return f.jsxs("div",{className:"container",children:[f.jsx("table",{className:fs.airBagInputValueTable,children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Значення подушки безпеки (6*ЗВ)"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{type:"text",name:"airBagValue",value:t,onChange:o})})]})})}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"№"}),f.jsx("th",{children:"Джерело доходу"}),f.jsx("th",{children:"Поповнення"}),f.jsx("th",{children:"Накопичувальна сума"})]})}),f.jsx("tbody",{children:r.map((c,m)=>f.jsx(_M,{row:c,index:m,handleChange:l},c.id))})]})]})};function SS(r,e){const[t,s]=G.useState(()=>{const o=localStorage.getItem(r);try{return o?JSON.parse(o):e}catch(l){return console.error("Error parsing localStorage data:",l),e}});return G.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(t))}catch(o){console.error("Error saving to localStorage:",o)}},[r,t]),[t,s]}const bM=({row:r,index:e,onChange:t})=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("input",{type:"text",value:r.businessName,onChange:s=>t(e,"businessName",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.insurance,onChange:s=>t(e,"insurance",s.target.value)})}),f.jsx("td",{children:f.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),xM={businessName:"",cost:"",insurance:"",passiveIncome:""},SM={tableData:Array.from({length:10},()=>({...xM})),moneyValue:"",passiveIncome:""},AM=()=>{const[r,e]=SS("secondPartData",SM),t=o=>{e({...r,[o.target.name]:o.target.value})},s=(o,l,c)=>{const m=[...r.tableData];m[o][l]=c,e({...r,tableData:m})};return f.jsxs("div",{className:"container",children:[f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Готівка"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{type:"text",name:"moneyValue",value:r.moneyValue,onChange:t})})]})})}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Найменування бізнесу"}),f.jsx("th",{children:"Вартість"}),f.jsx("th",{children:"Страхування"}),f.jsx("th",{children:"ПД"})]})}),f.jsx("tbody",{children:r.tableData.map((o,l)=>f.jsx(bM,{row:o,index:l,onChange:s},l))})]}),f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Початковий пасивний дохід"}),f.jsx("td",{className:"summary-td",children:f.jsx("input",{type:"text",name:"passiveIncome",value:r.passiveIncome,onChange:t})})]})})})]})},wM=()=>f.jsx("div",{className:"container",children:f.jsx(AM,{})});var Ec=r=>r.type==="checkbox",no=r=>r instanceof Date,rr=r=>r==null;const AS=r=>typeof r=="object";var en=r=>!rr(r)&&!Array.isArray(r)&&AS(r)&&!no(r),RM=r=>en(r)&&r.target?Ec(r.target)?r.target.checked:r.target.value:r,CM=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,IM=(r,e)=>r.has(CM(e)),NM=r=>{const e=r.constructor&&r.constructor.prototype;return en(e)&&e.hasOwnProperty("isPrototypeOf")},cy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fn(r){let e;const t=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(cy&&(r instanceof Blob||s))&&(t||en(r)))if(e=t?[]:{},!t&&!NM(r))e=r;else for(const o in r)r.hasOwnProperty(o)&&(e[o]=Fn(r[o]));else return r;return e}var of=r=>Array.isArray(r)?r.filter(Boolean):[],on=r=>r===void 0,Oe=(r,e,t)=>{if(!e||!en(r))return t;const s=of(e.split(/[,[\].]+?/)).reduce((o,l)=>rr(o)?o:o[l],r);return on(s)||s===r?on(r[e])?t:r[e]:s},Ii=r=>typeof r=="boolean",hy=r=>/^\w*$/.test(r),wS=r=>of(r.replace(/["|']|\]/g,"").split(/\.|\[/)),Lt=(r,e,t)=>{let s=-1;const o=hy(e)?[e]:wS(e),l=o.length,c=l-1;for(;++s<l;){const m=o[s];let g=t;if(s!==c){const y=r[m];g=en(y)||Array.isArray(y)?y:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;r[m]=g,r=r[m]}};const ET={BLUR:"blur",FOCUS_OUT:"focusout"},ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Jr.createContext(null);var DM=(r,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const l in r)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==ti.all&&(e._proxyFormState[c]=!s||ti.all),r[c]}});return o},Di=r=>typeof r=="string",OM=(r,e,t,s,o)=>Di(r)?(s&&e.watch.add(r),Oe(t,r,o)):Array.isArray(r)?r.map(l=>(s&&e.watch.add(l),Oe(t,l))):(s&&(e.watchAll=!0),t),jM=(r,e,t,s,o)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[s]:o||!0}}:{},$u=r=>Array.isArray(r)?r:[r],TT=()=>{let r=[];return{get observers(){return r},next:o=>{for(const l of r)l.next&&l.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(l=>l!==o)}}),unsubscribe:()=>{r=[]}}},ng=r=>rr(r)||!AS(r);function ta(r,e){if(ng(r)||ng(e))return r===e;if(no(r)&&no(e))return r.getTime()===e.getTime();const t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o of t){const l=r[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=e[o];if(no(l)&&no(c)||en(l)&&en(c)||Array.isArray(l)&&Array.isArray(c)?!ta(l,c):l!==c)return!1}}return!0}var nr=r=>en(r)&&!Object.keys(r).length,dy=r=>r.type==="file",ni=r=>typeof r=="function",Id=r=>{if(!cy)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},RS=r=>r.type==="select-multiple",fy=r=>r.type==="radio",MM=r=>fy(r)||Ec(r),Ap=r=>Id(r)&&r.isConnected;function VM(r,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)r=on(r)?s++:r[e[s++]];return r}function PM(r){for(const e in r)if(r.hasOwnProperty(e)&&!on(r[e]))return!1;return!0}function fn(r,e){const t=Array.isArray(e)?e:hy(e)?[e]:wS(e),s=t.length===1?r:VM(r,t),o=t.length-1,l=t[o];return s&&delete s[l],o!==0&&(en(s)&&nr(s)||Array.isArray(s)&&PM(s))&&fn(r,t.slice(0,-1)),r}var CS=r=>{for(const e in r)if(ni(r[e]))return!0;return!1};function Nd(r,e={}){const t=Array.isArray(r);if(en(r)||t)for(const s in r)Array.isArray(r[s])||en(r[s])&&!CS(r[s])?(e[s]=Array.isArray(r[s])?[]:{},Nd(r[s],e[s])):rr(r[s])||(e[s]=!0);return e}function IS(r,e,t){const s=Array.isArray(r);if(en(r)||s)for(const o in r)Array.isArray(r[o])||en(r[o])&&!CS(r[o])?on(e)||ng(t[o])?t[o]=Array.isArray(r[o])?Nd(r[o],[]):{...Nd(r[o])}:IS(r[o],rr(e)?{}:e[o],t[o]):t[o]=!ta(r[o],e[o]);return t}var Du=(r,e)=>IS(r,e,Nd(e));const bT={value:!1,isValid:!1},xT={value:!0,isValid:!0};var NS=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!on(r[0].attributes.value)?on(r[0].value)||r[0].value===""?xT:{value:r[0].value,isValid:!0}:xT:bT}return bT},DS=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>on(r)?r:e?r===""?NaN:r&&+r:t&&Di(r)?new Date(r):s?s(r):r;const ST={isValid:!1,value:null};var OS=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ST):ST;function AT(r){const e=r.ref;return dy(e)?e.files:fy(e)?OS(r.refs).value:RS(e)?[...e.selectedOptions].map(({value:t})=>t):Ec(e)?NS(r.refs).value:DS(on(e.value)?r.ref.value:e.value,r)}var kM=(r,e,t,s)=>{const o={};for(const l of r){const c=Oe(e,l);c&&Lt(o,l,c._f)}return{criteriaMode:t,names:[...r],fields:o,shouldUseNativeValidation:s}},Dd=r=>r instanceof RegExp,Ou=r=>on(r)?r:Dd(r)?r.source:en(r)?Dd(r.value)?r.value.source:r.value:r,wT=r=>({isOnSubmit:!r||r===ti.onSubmit,isOnBlur:r===ti.onBlur,isOnChange:r===ti.onChange,isOnAll:r===ti.all,isOnTouch:r===ti.onTouched});const RT="AsyncFunction";var LM=r=>!!r&&!!r.validate&&!!(ni(r.validate)&&r.validate.constructor.name===RT||en(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===RT)),UM=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),CT=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const Ku=(r,e,t,s)=>{for(const o of t||Object.keys(r)){const l=Oe(r,o);if(l){const{_f:c,...m}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(Ku(m,e))break}else if(en(m)&&Ku(m,e))break}}};function IT(r,e,t){const s=Oe(r,t);if(s||hy(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),c=Oe(e,l),m=Oe(r,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(m&&m.type)return{name:l,error:m};o.pop()}return{name:t}}var zM=(r,e,t,s)=>{t(r);const{name:o,...l}=r;return nr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||ti.all))},BM=(r,e,t)=>!r||!e||r===e||$u(r).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),FM=(r,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||r):(t?s.isOnBlur:o.isOnBlur)?!r:(t?s.isOnChange:o.isOnChange)?r:!0,HM=(r,e)=>!of(Oe(r,e)).length&&fn(r,e),qM=(r,e,t)=>{const s=$u(Oe(r,t));return Lt(s,"root",e[t]),Lt(r,t,s),r},rd=r=>Di(r);function NT(r,e,t="validate"){if(rd(r)||Array.isArray(r)&&r.every(rd)||Ii(r)&&!r)return{type:t,message:rd(r)?r:"",ref:e}}var el=r=>en(r)&&!Dd(r)?r:{value:r,message:""},DT=async(r,e,t,s,o,l)=>{const{ref:c,refs:m,required:g,maxLength:y,minLength:_,min:b,max:x,pattern:R,validate:N,name:V,valueAsNumber:j,mount:Y}=r._f,z=Oe(t,V);if(!Y||e.has(V))return{};const ee=m?m[0]:c,pe=B=>{o&&ee.reportValidity&&(ee.setCustomValidity(Ii(B)?"":B||""),ee.reportValidity())},se={},F=fy(c),M=Ec(c),C=F||M,w=(j||dy(c))&&on(c.value)&&on(z)||Id(c)&&c.value===""||z===""||Array.isArray(z)&&!z.length,O=jM.bind(null,V,s,se),L=(B,I,Be,et=us.maxLength,ue=us.minLength)=>{const Ce=B?I:Be;se[V]={type:B?et:ue,message:Ce,ref:c,...O(B?et:ue,Ce)}};if(l?!Array.isArray(z)||!z.length:g&&(!C&&(w||rr(z))||Ii(z)&&!z||M&&!NS(m).isValid||F&&!OS(m).isValid)){const{value:B,message:I}=rd(g)?{value:!!g,message:g}:el(g);if(B&&(se[V]={type:us.required,message:I,ref:ee,...O(us.required,I)},!s))return pe(I),se}if(!w&&(!rr(b)||!rr(x))){let B,I;const Be=el(x),et=el(b);if(!rr(z)&&!isNaN(z)){const ue=c.valueAsNumber||z&&+z;rr(Be.value)||(B=ue>Be.value),rr(et.value)||(I=ue<et.value)}else{const ue=c.valueAsDate||new Date(z),Ce=k=>new Date(new Date().toDateString()+" "+k),xe=c.type=="time",We=c.type=="week";Di(Be.value)&&z&&(B=xe?Ce(z)>Ce(Be.value):We?z>Be.value:ue>new Date(Be.value)),Di(et.value)&&z&&(I=xe?Ce(z)<Ce(et.value):We?z<et.value:ue<new Date(et.value))}if((B||I)&&(L(!!B,Be.message,et.message,us.max,us.min),!s))return pe(se[V].message),se}if((y||_)&&!w&&(Di(z)||l&&Array.isArray(z))){const B=el(y),I=el(_),Be=!rr(B.value)&&z.length>+B.value,et=!rr(I.value)&&z.length<+I.value;if((Be||et)&&(L(Be,B.message,I.message),!s))return pe(se[V].message),se}if(R&&!w&&Di(z)){const{value:B,message:I}=el(R);if(Dd(B)&&!z.match(B)&&(se[V]={type:us.pattern,message:I,ref:c,...O(us.pattern,I)},!s))return pe(I),se}if(N){if(ni(N)){const B=await N(z,t),I=NT(B,ee);if(I&&(se[V]={...I,...O(us.validate,I.message)},!s))return pe(I.message),se}else if(en(N)){let B={};for(const I in N){if(!nr(B)&&!s)break;const Be=NT(await N[I](z,t),ee,I);Be&&(B={...Be,...O(I,Be.message)},pe(Be.message),s&&(se[V]=B))}if(!nr(B)&&(se[V]={ref:ee,...B},!s))return se}}return pe(!0),se};const GM={mode:ti.onSubmit,reValidateMode:ti.onChange,shouldFocusError:!0};function $M(r={}){let e={...GM,...r},t={submitCount:0,isDirty:!1,isLoading:ni(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=en(e.defaultValues)||en(e.values)?Fn(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:Fn(o),c={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,y=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={..._};const x={array:TT(),state:TT()},R=wT(e.mode),N=wT(e.reValidateMode),V=e.criteriaMode===ti.all,j=P=>Z=>{clearTimeout(y),y=setTimeout(P,Z)},Y=async P=>{if(!e.disabled&&(_.isValid||b.isValid||P)){const Z=e.resolver?nr((await w()).errors):await L(s,!0);Z!==t.isValid&&x.state.next({isValid:Z})}},z=(P,Z)=>{!e.disabled&&(_.isValidating||_.validatingFields||b.isValidating||b.validatingFields)&&((P||Array.from(m.mount)).forEach(ne=>{ne&&(Z?Lt(t.validatingFields,ne,Z):fn(t.validatingFields,ne))}),x.state.next({validatingFields:t.validatingFields,isValidating:!nr(t.validatingFields)}))},ee=(P,Z=[],ne,Ee,he=!0,ae=!0)=>{if(Ee&&ne&&!e.disabled){if(c.action=!0,ae&&Array.isArray(Oe(s,P))){const be=ne(Oe(s,P),Ee.argA,Ee.argB);he&&Lt(s,P,be)}if(ae&&Array.isArray(Oe(t.errors,P))){const be=ne(Oe(t.errors,P),Ee.argA,Ee.argB);he&&Lt(t.errors,P,be),HM(t.errors,P)}if((_.touchedFields||b.touchedFields)&&ae&&Array.isArray(Oe(t.touchedFields,P))){const be=ne(Oe(t.touchedFields,P),Ee.argA,Ee.argB);he&&Lt(t.touchedFields,P,be)}(_.dirtyFields||b.dirtyFields)&&(t.dirtyFields=Du(o,l)),x.state.next({name:P,isDirty:I(P,Z),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Lt(l,P,Z)},pe=(P,Z)=>{Lt(t.errors,P,Z),x.state.next({errors:t.errors})},se=P=>{t.errors=P,x.state.next({errors:t.errors,isValid:!1})},F=(P,Z,ne,Ee)=>{const he=Oe(s,P);if(he){const ae=Oe(l,P,on(ne)?Oe(o,P):ne);on(ae)||Ee&&Ee.defaultChecked||Z?Lt(l,P,Z?ae:AT(he._f)):ue(P,ae),c.mount&&Y()}},M=(P,Z,ne,Ee,he)=>{let ae=!1,be=!1;const Ze={name:P};if(!e.disabled){if(!ne||Ee){(_.isDirty||b.isDirty)&&(be=t.isDirty,t.isDirty=Ze.isDirty=I(),ae=be!==Ze.isDirty);const Rt=ta(Oe(o,P),Z);be=!!Oe(t.dirtyFields,P),Rt?fn(t.dirtyFields,P):Lt(t.dirtyFields,P,!0),Ze.dirtyFields=t.dirtyFields,ae=ae||(_.dirtyFields||b.dirtyFields)&&be!==!Rt}if(ne){const Rt=Oe(t.touchedFields,P);Rt||(Lt(t.touchedFields,P,ne),Ze.touchedFields=t.touchedFields,ae=ae||(_.touchedFields||b.touchedFields)&&Rt!==ne)}ae&&he&&x.state.next(Ze)}return ae?Ze:{}},C=(P,Z,ne,Ee)=>{const he=Oe(t.errors,P),ae=(_.isValid||b.isValid)&&Ii(Z)&&t.isValid!==Z;if(e.delayError&&ne?(g=j(()=>pe(P,ne)),g(e.delayError)):(clearTimeout(y),g=null,ne?Lt(t.errors,P,ne):fn(t.errors,P)),(ne?!ta(he,ne):he)||!nr(Ee)||ae){const be={...Ee,...ae&&Ii(Z)?{isValid:Z}:{},errors:t.errors,name:P};t={...t,...be},x.state.next(be)}},w=async P=>{z(P,!0);const Z=await e.resolver(l,e.context,kM(P||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return z(P),Z},O=async P=>{const{errors:Z}=await w(P);if(P)for(const ne of P){const Ee=Oe(Z,ne);Ee?Lt(t.errors,ne,Ee):fn(t.errors,ne)}else t.errors=Z;return Z},L=async(P,Z,ne={valid:!0})=>{for(const Ee in P){const he=P[Ee];if(he){const{_f:ae,...be}=he;if(ae){const Ze=m.array.has(ae.name),Rt=he._f&&LM(he._f);Rt&&_.validatingFields&&z([Ee],!0);const At=await DT(he,m.disabled,l,V,e.shouldUseNativeValidation&&!Z,Ze);if(Rt&&_.validatingFields&&z([Ee]),At[ae.name]&&(ne.valid=!1,Z))break;!Z&&(Oe(At,ae.name)?Ze?qM(t.errors,At,ae.name):Lt(t.errors,ae.name,At[ae.name]):fn(t.errors,ae.name))}!nr(be)&&await L(be,Z,ne)}}return ne.valid},B=()=>{for(const P of m.unMount){const Z=Oe(s,P);Z&&(Z._f.refs?Z._f.refs.every(ne=>!Ap(ne)):!Ap(Z._f.ref))&&wt(P)}m.unMount=new Set},I=(P,Z)=>!e.disabled&&(P&&Z&&Lt(l,P,Z),!ta(Ae(),o)),Be=(P,Z,ne)=>OM(P,m,{...c.mount?l:on(Z)?o:Di(P)?{[P]:Z}:Z},ne,Z),et=P=>of(Oe(c.mount?l:o,P,e.shouldUnregister?Oe(o,P,[]):[])),ue=(P,Z,ne={})=>{const Ee=Oe(s,P);let he=Z;if(Ee){const ae=Ee._f;ae&&(!ae.disabled&&Lt(l,P,DS(Z,ae)),he=Id(ae.ref)&&rr(Z)?"":Z,RS(ae.ref)?[...ae.ref.options].forEach(be=>be.selected=he.includes(be.value)):ae.refs?Ec(ae.ref)?ae.refs.length>1?ae.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(he)?!!he.find(Ze=>Ze===be.value):he===be.value)):ae.refs[0]&&(ae.refs[0].checked=!!he):ae.refs.forEach(be=>be.checked=be.value===he):dy(ae.ref)?ae.ref.value="":(ae.ref.value=he,ae.ref.type||x.state.next({name:P,values:Fn(l)})))}(ne.shouldDirty||ne.shouldTouch)&&M(P,he,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ce(P)},Ce=(P,Z,ne)=>{for(const Ee in Z){const he=Z[Ee],ae=`${P}.${Ee}`,be=Oe(s,ae);(m.array.has(P)||en(he)||be&&!be._f)&&!no(he)?Ce(ae,he,ne):ue(ae,he,ne)}},xe=(P,Z,ne={})=>{const Ee=Oe(s,P),he=m.array.has(P),ae=Fn(Z);Lt(l,P,ae),he?(x.array.next({name:P,values:Fn(l)}),(_.isDirty||_.dirtyFields||b.isDirty||b.dirtyFields)&&ne.shouldDirty&&x.state.next({name:P,dirtyFields:Du(o,l),isDirty:I(P,ae)})):Ee&&!Ee._f&&!rr(ae)?Ce(P,ae,ne):ue(P,ae,ne),CT(P,m)&&x.state.next({...t}),x.state.next({name:c.mount?P:void 0,values:Fn(l)})},We=async P=>{c.mount=!0;const Z=P.target;let ne=Z.name,Ee=!0;const he=Oe(s,ne),ae=be=>{Ee=Number.isNaN(be)||no(be)&&isNaN(be.getTime())||ta(be,Oe(l,ne,be))};if(he){let be,Ze;const Rt=Z.type?AT(he._f):RM(P),At=P.type===ET.BLUR||P.type===ET.FOCUS_OUT,xr=!UM(he._f)&&!e.resolver&&!Oe(t.errors,ne)&&!he._f.deps||FM(At,Oe(t.touchedFields,ne),t.isSubmitted,N,R),Yn=CT(ne,m,At);Lt(l,ne,Rt),At?(he._f.onBlur&&he._f.onBlur(P),g&&g(0)):he._f.onChange&&he._f.onChange(P);const zt=M(ne,Rt,At),Ui=!nr(zt)||Yn;if(!At&&x.state.next({name:ne,type:P.type,values:Fn(l)}),xr)return(_.isValid||b.isValid)&&(e.mode==="onBlur"?At&&Y():At||Y()),Ui&&x.state.next({name:ne,...Yn?{}:zt});if(!At&&Yn&&x.state.next({...t}),e.resolver){const{errors:Ln}=await w([ne]);if(ae(Rt),Ee){const qt=IT(t.errors,s,ne),Kr=IT(Ln,s,qt.name||ne);be=Kr.error,ne=Kr.name,Ze=nr(Ln)}}else z([ne],!0),be=(await DT(he,m.disabled,l,V,e.shouldUseNativeValidation))[ne],z([ne]),ae(Rt),Ee&&(be?Ze=!1:(_.isValid||b.isValid)&&(Ze=await L(s,!0)));Ee&&(he._f.deps&&ce(he._f.deps),C(ne,Ze,be,zt))}},k=(P,Z)=>{if(Oe(t.errors,Z)&&P.focus)return P.focus(),1},ce=async(P,Z={})=>{let ne,Ee;const he=$u(P);if(e.resolver){const ae=await O(on(P)?P:he);ne=nr(ae),Ee=P?!he.some(be=>Oe(ae,be)):ne}else P?(Ee=(await Promise.all(he.map(async ae=>{const be=Oe(s,ae);return await L(be&&be._f?{[ae]:be}:be)}))).every(Boolean),!(!Ee&&!t.isValid)&&Y()):Ee=ne=await L(s);return x.state.next({...!Di(P)||(_.isValid||b.isValid)&&ne!==t.isValid?{}:{name:P},...e.resolver||!P?{isValid:ne}:{},errors:t.errors}),Z.shouldFocus&&!Ee&&Ku(s,k,P?he:m.mount),Ee},Ae=P=>{const Z={...c.mount?l:o};return on(P)?Z:Di(P)?Oe(Z,P):P.map(ne=>Oe(Z,ne))},ve=(P,Z)=>({invalid:!!Oe((Z||t).errors,P),isDirty:!!Oe((Z||t).dirtyFields,P),error:Oe((Z||t).errors,P),isValidating:!!Oe(t.validatingFields,P),isTouched:!!Oe((Z||t).touchedFields,P)}),_e=P=>{P&&$u(P).forEach(Z=>fn(t.errors,Z)),x.state.next({errors:P?t.errors:{}})},Fe=(P,Z,ne)=>{const Ee=(Oe(s,P,{_f:{}})._f||{}).ref,he=Oe(t.errors,P)||{},{ref:ae,message:be,type:Ze,...Rt}=he;Lt(t.errors,P,{...Rt,...Z,ref:Ee}),x.state.next({name:P,errors:t.errors,isValid:!1}),ne&&ne.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},Le=(P,Z)=>ni(P)?x.state.subscribe({next:ne=>P(Be(void 0,Z),ne)}):Be(P,Z,!0),Vt=P=>x.state.subscribe({next:Z=>{BM(P.name,Z.name,P.exact)&&zM(Z,P.formState||_,hi,P.reRenderRoot)&&P.callback({values:{...l},...t,...Z})}}).unsubscribe,st=P=>(c.mount=!0,b={...b,...P.formState},Vt({...P,formState:b})),wt=(P,Z={})=>{for(const ne of P?$u(P):m.mount)m.mount.delete(ne),m.array.delete(ne),Z.keepValue||(fn(s,ne),fn(l,ne)),!Z.keepError&&fn(t.errors,ne),!Z.keepDirty&&fn(t.dirtyFields,ne),!Z.keepTouched&&fn(t.touchedFields,ne),!Z.keepIsValidating&&fn(t.validatingFields,ne),!e.shouldUnregister&&!Z.keepDefaultValue&&fn(o,ne);x.state.next({values:Fn(l)}),x.state.next({...t,...Z.keepDirty?{isDirty:I()}:{}}),!Z.keepIsValid&&Y()},He=({disabled:P,name:Z})=>{(Ii(P)&&c.mount||P||m.disabled.has(Z))&&(P?m.disabled.add(Z):m.disabled.delete(Z))},Dt=(P,Z={})=>{let ne=Oe(s,P);const Ee=Ii(Z.disabled)||Ii(e.disabled);return Lt(s,P,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:P}},name:P,mount:!0,...Z}}),m.mount.add(P),ne?He({disabled:Ii(Z.disabled)?Z.disabled:e.disabled,name:P}):F(P,!0,Z.value),{...Ee?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Ou(Z.min),max:Ou(Z.max),minLength:Ou(Z.minLength),maxLength:Ou(Z.maxLength),pattern:Ou(Z.pattern)}:{},name:P,onChange:We,onBlur:We,ref:he=>{if(he){Dt(P,Z),ne=Oe(s,P);const ae=on(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,be=MM(ae),Ze=ne._f.refs||[];if(be?Ze.find(Rt=>Rt===ae):ae===ne._f.ref)return;Lt(s,P,{_f:{...ne._f,...be?{refs:[...Ze.filter(Ap),ae,...Array.isArray(Oe(o,P))?[{}]:[]],ref:{type:ae.type,name:P}}:{ref:ae}}}),F(P,!1,void 0,ae)}else ne=Oe(s,P,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(IM(m.array,P)&&c.action)&&m.unMount.add(P)}}},Qn=()=>e.shouldFocusError&&Ku(s,k,m.mount),kn=P=>{Ii(P)&&(x.state.next({disabled:P}),Ku(s,(Z,ne)=>{const Ee=Oe(s,ne);Ee&&(Z.disabled=Ee._f.disabled||P,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(he=>{he.disabled=Ee._f.disabled||P}))},0,!1))},ln=(P,Z)=>async ne=>{let Ee;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let he=Fn(l);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:be}=await w();t.errors=ae,he=be}else await L(s);if(m.disabled.size)for(const ae of m.disabled)Lt(he,ae,void 0);if(fn(t.errors,"root"),nr(t.errors)){x.state.next({errors:{}});try{await P(he,ne)}catch(ae){Ee=ae}}else Z&&await Z({...t.errors},ne),Qn(),setTimeout(Qn);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},br=(P,Z={})=>{Oe(s,P)&&(on(Z.defaultValue)?xe(P,Fn(Oe(o,P))):(xe(P,Z.defaultValue),Lt(o,P,Fn(Z.defaultValue))),Z.keepTouched||fn(t.touchedFields,P),Z.keepDirty||(fn(t.dirtyFields,P),t.isDirty=Z.defaultValue?I(P,Fn(Oe(o,P))):I()),Z.keepError||(fn(t.errors,P),_.isValid&&Y()),x.state.next({...t}))},sr=(P,Z={})=>{const ne=P?Fn(P):o,Ee=Fn(ne),he=nr(P),ae=he?o:Ee;if(Z.keepDefaultValues||(o=ne),!Z.keepValues){if(Z.keepDirtyValues){const be=new Set([...m.mount,...Object.keys(Du(o,l))]);for(const Ze of Array.from(be))Oe(t.dirtyFields,Ze)?Lt(ae,Ze,Oe(l,Ze)):xe(Ze,Oe(ae,Ze))}else{if(cy&&on(P))for(const be of m.mount){const Ze=Oe(s,be);if(Ze&&Ze._f){const Rt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(Id(Rt)){const At=Rt.closest("form");if(At){At.reset();break}}}}for(const be of m.mount)xe(be,Oe(ae,be))}l=Fn(ae),x.array.next({values:{...ae}}),x.state.next({values:{...ae}})}m={mount:Z.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,c.watch=!!e.shouldUnregister,x.state.next({submitCount:Z.keepSubmitCount?t.submitCount:0,isDirty:he?!1:Z.keepDirty?t.isDirty:!!(Z.keepDefaultValues&&!ta(P,o)),isSubmitted:Z.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:he?{}:Z.keepDirtyValues?Z.keepDefaultValues&&l?Du(o,l):t.dirtyFields:Z.keepDefaultValues&&P?Du(o,P):Z.keepDirty?t.dirtyFields:{},touchedFields:Z.keepTouched?t.touchedFields:{},errors:Z.keepErrors?t.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Gr=(P,Z)=>sr(ni(P)?P(l):P,Z),ci=(P,Z={})=>{const ne=Oe(s,P),Ee=ne&&ne._f;if(Ee){const he=Ee.refs?Ee.refs[0]:Ee.ref;he.focus&&(he.focus(),Z.shouldSelect&&ni(he.select)&&he.select())}},hi=P=>{t={...t,...P}},$r={control:{register:Dt,unregister:wt,getFieldState:ve,handleSubmit:ln,setError:Fe,_subscribe:Vt,_runSchema:w,_getWatch:Be,_getDirty:I,_setValid:Y,_setFieldArray:ee,_setDisabledField:He,_setErrors:se,_getFieldArray:et,_reset:sr,_resetDefaultValues:()=>ni(e.defaultValues)&&e.defaultValues().then(P=>{Gr(P,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:kn,_subjects:x,_proxyFormState:_,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(P){c=P},get _defaultValues(){return o},get _names(){return m},set _names(P){m=P},get _formState(){return t},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:st,trigger:ce,register:Dt,handleSubmit:ln,watch:Le,setValue:xe,getValues:Ae,reset:Gr,resetField:br,clearErrors:_e,unregister:wt,setError:Fe,setFocus:ci,getFieldState:ve};return{...$r,formControl:$r}}function my(r={}){const e=Jr.useRef(void 0),t=Jr.useRef(void 0),[s,o]=Jr.useState({isDirty:!1,isValidating:!1,isLoading:ni(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:ni(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:$M(r),formState:s},r.formControl&&r.defaultValues&&!ni(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const l=e.current.control;return l._options=r,Jr.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),Jr.useEffect(()=>l._disableForm(r.disabled),[l,r.disabled]),Jr.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),Jr.useEffect(()=>{r.values&&!ta(r.values,t.current)?(l._reset(r.values,l._options.resetOptions),t.current=r.values,o(c=>({...c}))):l._resetDefaultValues()},[r.values,l]),Jr.useEffect(()=>{r.errors&&!nr(r.errors)&&l._setErrors(r.errors)},[r.errors,l]),Jr.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Jr.useEffect(()=>{r.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[r.shouldUnregister,l]),e.current.formState=DM(s,l),e.current}const KM="_pageContainer_e5zzt_1",QM="_container_e5zzt_12",YM="_title_e5zzt_17",XM="_inputGroup_e5zzt_23",WM="_label_e5zzt_27",ZM="_input_e5zzt_23",JM="_links_e5zzt_42",eV="_link_e5zzt_42",tV="_separator_e5zzt_58",nV="_validatingErrorMessage_e5zzt_62",Ye={pageContainer:KM,container:QM,title:YM,inputGroup:XM,label:WM,input:ZM,links:JM,link:eV,separator:tV,validatingErrorMessage:nV},rV=()=>{const{login:r}=ui(),{register:e,handleSubmit:t,formState:{errors:s},reset:o}=my(),l=c=>{try{r(c.email,c.password),o()}catch(m){console.error("Error with registration",m)}};return f.jsx("div",{className:Ye.pageContainer,children:f.jsxs("div",{className:Ye.container,children:[f.jsx("h2",{className:Ye.title,children:"Авторизація"}),f.jsxs("form",{onSubmit:t(l),children:[f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"email",className:Ye.label,children:["Електронна пошта:",s.email&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.email.message]})]}),f.jsx("input",{type:"email",id:"email",className:Ye.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов`язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"password",className:Ye.label,children:["Пароль:",s.password&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.password.message]})]}),f.jsx("input",{type:"password",id:"password",className:Ye.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов`язковий.",minLength:{value:8,message:"Пароль повинен містити мінімум 8 символів."}})})]}),f.jsx("button",{type:"submit",children:"Увійти"}),f.jsxs("div",{className:Ye.links,children:[f.jsx("a",{href:"#",className:Ye.link,children:"Забули пароль?"}),f.jsx("span",{className:Ye.separator,children:"|"}),f.jsx(Jt,{to:"/register",className:Ye.link,children:"Зареєструватися"})]})]})]})})},iV=()=>{const{register:r}=ui(),{register:e,handleSubmit:t,formState:{errors:s},watch:o,reset:l}=my(),c=m=>{try{r(m.email,m.password,m.name),l()}catch(g){console.error("Error with registration",g)}};return f.jsx("div",{className:Ye.pageContainer,children:f.jsxs("div",{className:Ye.container,children:[f.jsx("h2",{className:Ye.title,children:"Реєстрація"}),f.jsxs("form",{onSubmit:t(c),children:[f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"name",className:Ye.label,children:["Ім’я:",s.name&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.name.message]})]}),f.jsx("input",{type:"text",id:"name",className:Ye.input,placeholder:"Введіть ваше ім’я",...e("name",{required:"Ім’я користувача обов'язкове.",minLength:{value:3,message:"Ім’я має містити щонайменше 3 символи."}})})]}),f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"email",className:Ye.label,children:["Електронна пошта:",s.email&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.email.message]})]}),f.jsx("input",{type:"email",id:"email",className:Ye.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов’язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"password",className:Ye.label,children:["Пароль:",s.password&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.password.message]})]}),f.jsx("input",{type:"password",id:"password",className:Ye.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов’язковий.",minLength:{value:8,message:"Пароль має містити щонайменше 8 символів."}})})]}),f.jsxs("div",{className:Ye.inputGroup,children:[f.jsxs("label",{htmlFor:"confirmPassword",className:Ye.label,children:["Підтвердіть пароль:",s.confirmPassword&&f.jsxs("span",{className:Ye.validatingErrorMessage,children:[" ","*",s.confirmPassword.message]})]}),f.jsx("input",{type:"password",id:"confirmPassword",className:Ye.input,placeholder:"Підтвердіть ваш пароль",...e("confirmPassword",{required:"Підтвердження пароля обов’язкове.",validate:m=>m===o("password")||"Паролі не збігаються."})})]}),f.jsx("button",{type:"submit",children:"Зареєструватися"}),f.jsx("div",{className:Ye.links,children:f.jsx(Jt,{to:"/login",className:Ye.link,children:"Вже є аккаунт? Увійти"})})]})]})})},sV=()=>f.jsx("div",{className:Ye.pageContainer,children:f.jsxs("div",{className:Ye.container,children:[f.jsx("h2",{className:Ye.title,children:"Відновлення пароля"}),f.jsxs("form",{children:[f.jsxs("div",{className:Ye.inputGroup,children:[f.jsx("label",{htmlFor:"email",className:Ye.label,children:"Електронна пошта:"}),f.jsx("input",{type:"email",id:"email",className:Ye.input,placeholder:"Введіть вашу електронну пошту"})]}),f.jsx("button",{type:"submit",children:"Відновити пароль"}),f.jsx("div",{className:Ye.links,children:f.jsx("a",{href:"/login",className:Ye.link,children:"Повернутися до авторизації"})})]})]})}),Fh=({children:r,requireUnauth:e=!1})=>{const{user:t,loading:s}=ui(),o=li();return s?null:e&&t?f.jsx(KE,{to:"/games",replace:!0}):!e&&!t?f.jsx(KE,{to:"/login",replace:!0,state:{from:o}}):f.jsx(f.Fragment,{children:r})},aV="_title_1qipx_1",oV={title:aV},lV=()=>f.jsx("div",{className:oV.title}),uV="_wrapper_1jwsj_1",cV="_title_1jwsj_6",hV="_grid_1jwsj_12",dV="_createCard_1jwsj_18",fV="_plus_1jwsj_37",mV="_sessionCard_1jwsj_45",tl={wrapper:uV,title:cV,grid:hV,createCard:dV,plus:fV,sessionCard:mV},pV=()=>{const{user:r,userData:e}=ui(),[t,s]=G.useState([]),o=oc();G.useEffect(()=>{if(!r)return;const m=xd(Gg(Rn,"gameSessions"),g=>{const y=[];g.forEach(_=>{var N;const b=_.data(),x=b.hostId===r.uid,R=(N=b.players)==null?void 0:N.some(V=>V.email===r.email);(x||R)&&y.push({id:_.id,...b})}),s(y)});return()=>m()},[r]);const l=m=>{o(`/game/${m}`)},c=()=>{o("/createGame")};return f.jsxs("div",{className:tl.wrapper,children:[f.jsx("h2",{className:tl.title,children:"Мої ігрові сесії"}),f.jsxs("div",{className:tl.grid,children:[(e==null?void 0:e.role)==="host"&&f.jsx("button",{className:tl.createCard,onClick:c,children:f.jsx("span",{className:tl.plus,children:"+"})}),t.length?t.map(m=>f.jsx("button",{className:tl.sessionCard,onClick:()=>l(m.id),children:m.sessionName},m.id)):f.jsx("p",{children:"У вас немає жодної ігрової сесії, зачекайте поки ведучий вас додасть"})]})]})},gV="_header_hzlfz_1",yV="_open_hzlfz_22",vV="_logo_hzlfz_26",_V="_authDataContainer_hzlfz_32",EV="_overlay_hzlfz_44",ju={header:gV,open:yV,logo:vV,authDataContainer:_V,overlay:EV},TV=({isOpen:r,setIsOpen:e,children:t})=>{const{userData:s,logout:o}=ui();return f.jsxs(f.Fragment,{children:[f.jsxs("header",{className:`${ju.header} ${r?ju.open:""}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:ju.logo,children:f.jsx("h1",{children:"Життєвий капітал"})}),t]}),f.jsx("div",{className:ju.authDataContainer,children:s?f.jsxs(f.Fragment,{children:[f.jsx("p",{children:s.displayName}),f.jsx(fg,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:o})]}):f.jsx(Jt,{to:"/login",children:"Увійти"})})]}),r&&f.jsx("div",{className:ju.overlay,onClick:()=>e(!1)})]})},bV="_main_fumk1_1",xV="_menuContainer_fumk1_18",SV="_menuButton_fumk1_30",wp={main:bV,menuContainer:xV,menuButton:SV},AV=({openMenu:r,children:e})=>f.jsxs("main",{className:wp.main,children:[f.jsxs("div",{className:wp.menuContainer,children:[f.jsx("button",{className:wp.menuButton,onClick:r,children:f.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),f.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),f.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),f.jsx("p",{children:"Життєвий капітал"})]}),e]}),wV="_nav_63n6r_1",RV="_link_63n6r_7",Ni={nav:wV,link:RV},CV=({setIsOpen:r})=>f.jsx("nav",{children:f.jsxs("ul",{className:Ni.nav,children:[f.jsx("li",{children:f.jsx(Jt,{to:"player/legend",className:Ni.link,onClick:()=>r(!1),children:"Легенда гравця"})}),f.jsx("li",{children:f.jsx(Jt,{to:"player/finances",onClick:()=>r(!1),className:Ni.link,children:"Фінанси"})}),f.jsx("li",{children:f.jsx(Jt,{to:"player/investments",className:Ni.link,onClick:()=>r(!1),children:"Інвестиції"})}),f.jsx("li",{children:f.jsx(Jt,{to:"player/events",className:Ni.link,onClick:()=>r(!1),children:"Активність"})}),f.jsx("li",{children:f.jsx(Jt,{to:"player/airbag",className:Ni.link,onClick:()=>r(!1),children:"Подушка безпеки"})})]})}),IV=({setIsOpen:r})=>f.jsx("nav",{children:f.jsxs("ul",{className:Ni.nav,children:[f.jsx("li",{children:f.jsx(Jt,{to:"",className:Ni.link,onClick:()=>r(!1),children:"Налаштування сесії"})}),f.jsx("li",{children:f.jsx(Jt,{to:"host/stat",className:Ni.link,onClick:()=>r(!1),children:"Таблиці гравців"})}),f.jsx("li",{children:f.jsx(Jt,{to:"host/cards",className:Ni.link,onClick:()=>r(!1),children:"Картки"})})]})}),NV=()=>{const[r,e]=G.useState(!1);return{isOpen:r,openMenu:()=>e(!0),closeMenu:()=>e(!1),setIsOpen:e}};function DV(){const{isOpen:r,openMenu:e,setIsOpen:t}=NV(),{sessionData:s}=ga(),{user:o}=ui();return f.jsxs(f.Fragment,{children:[f.jsx(TV,{isOpen:r,setIsOpen:t,children:(s==null?void 0:s.hostId)===(o==null?void 0:o.uid)?f.jsx(IV,{setIsOpen:t}):f.jsx(CV,{setIsOpen:t})}),f.jsx(AV,{openMenu:e,children:f.jsx(Vd,{})})]})}const OV=r=>[...r].sort(()=>Math.random()-.5),jV=["demands","events","expenses","highExpenses","smallInvestments","largeInvestments","playerLegend"],MV=async r=>{for(const e of jV){const t=qn(Rn,"cards",e),s=await bd(t);if(!s.exists())throw new Error(`❌ Картки '${e}' не знайдено в cards/${e}`);const o=s.data().list,l=OV(o),c=qn(Rn,"gameSessions",r,"cards",e);await _l(c,{list:l})}},jS={finGlobal:{balance:"",depositAmount:"",amountOfSummaryIncomes:"",amountOfSummaryExpenses:"",amountOfFreeMoney:""},finIncomes:{salary:"",childSupport:"",depositIncome:"",goldAmount:"",goldIncome:"",riskInsuranceAmount:"",riskInsuranceIncome:"",intellectualPropertyAmount:"",intellectualPropertyIncome:"",savingsInsuranceAmount:"",savingsInsuranceIncome:"",amountOfSummaryIncomes:""},finBusinessTable:Array.from({length:5},(r,e)=>({id:e+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""})),finExpenses:{expenseMonthlyHousehold:"",expenseAdditional:"",expenseNumChildren:"",expenseChild:"",realEstateAmount:"",realEstateExpense:"",carAmount:"",carExpense:"",appliancesAmount:"",appliancesExpense:"",furnitureAmount:"",furnitureExpense:"",othersAmount:"",othersExpense:""},invShareTable:Array.from({length:5},(r,e)=>({id:e+1,code:"",packetCoast:"",sharePrice:"",numberOfShares:""})),abTable:Array.from({length:10},(r,e)=>({id:e+1,source:"",replenishment:"",accumulatedAmount:""}))},VV=async(r,e,t,s)=>{if(e.role!=="host")throw new Error("⛔️ Лише ведучий може створити сесію.");const o=await KO(Gg(Rn,"gameSessions"),{sessionName:t,hostId:r.uid,hostEmail:r.email,players:s,status:"waiting",createdAt:Fx()}),l=qn(Rn,"gameSessions",o.id,"cards","currentCards");await _l(l,{});const c=s.map(m=>{const g=qn(Rn,"gameSessions",o.id,"gameState",m.name);return _l(g,jS)});return await Promise.all(c),await MV(o.id),o.id},PV="_container_1e5cg_1",kV="_title_1e5cg_11",LV="_form_1e5cg_17",UV="_input_1e5cg_23",zV="_button_1e5cg_32",BV="_list_1e5cg_45",FV="_error_1e5cg_50",HV="_primaryAction_1e5cg_55",qV="_label_1e5cg_65",GV="_formGroup_1e5cg_71",An={container:PV,title:kV,form:LV,input:UV,button:zV,list:BV,error:FV,primaryAction:HV,label:qV,formGroup:GV},$V=()=>{const{user:r,userData:e}=ui(),t=oc(),[s,o]=G.useState([]),[l,c]=G.useState([]),[m,g]=G.useState(null),[y,_]=G.useState(null),{register:b,handleSubmit:x,resetField:R,getValues:N,formState:{errors:V}}=my();G.useEffect(()=>{(async()=>{const se=(await $O(Gg(Rn,"users"))).docs.map(F=>F.data());c(se)})()},[]);const j=()=>{const ee=N("newPlayerName").trim();if(_(null),!ee){_("Поле не може бути порожнім.");return}const pe=l.find(se=>se.displayName===ee);if(!pe){_("Користувача з таким імʼям не знайдено.");return}if(s.find(se=>se.email===pe.email)){_("Цей гравець вже доданий.");return}o(se=>[...se,{name:pe.displayName,email:pe.email}]),R("newPlayerName")},Y=ee=>{o(pe=>pe.filter(se=>se.email!==ee))},z=async ee=>{if(!r||!e){g("Не авторизовано");return}try{const pe=await VV(r,e,ee.sessionName,s);t(`/game/${pe}`)}catch(pe){g(pe.message)}};return f.jsxs("div",{className:An.container,children:[f.jsx("h2",{className:An.title,children:"Створити нову гру"}),f.jsxs("form",{onSubmit:x(z),children:[f.jsxs("div",{className:An.formGroup,children:[f.jsx("label",{className:An.label,children:"Назва гри"}),f.jsx("input",{...b("sessionName",{required:"Назва гри обовʼязкова"}),className:An.input,placeholder:"Наприклад: Турнір #3"}),V.sessionName&&f.jsx("p",{className:An.error,children:V.sessionName.message})]}),f.jsxs("div",{className:An.formGroup,children:[f.jsx("label",{className:An.label,children:"Імʼя гравця"}),f.jsxs("div",{className:An.form,children:[f.jsx("input",{...b("newPlayerName"),className:An.input,placeholder:"Введіть імʼя гравця"}),f.jsx("button",{type:"button",className:An.button,onClick:j,children:"Додати"})]}),y&&f.jsx("p",{className:An.error,children:y})]}),s.length>0&&f.jsxs("div",{className:An.list,children:[f.jsx("strong",{children:"Гравці:"}),f.jsx("ul",{children:s.map(ee=>f.jsxs("li",{className:An.emailItem,children:[f.jsx("span",{children:ee.name})," — ",f.jsx("span",{children:ee.email}),f.jsx("button",{onClick:()=>Y(ee.email),className:An.removeButton,title:"Видалити",children:"×"})]},ee.email))})]}),f.jsx("button",{type:"submit",className:`${An.button} ${An.primaryAction}`,children:"Створити гру"}),m&&f.jsx("p",{className:An.error,children:m})]})]})};function KV(r,e){const t={},s=new Set([...Object.keys(r),...Object.keys(e)]);for(const o of s){const l=r[o],c=e[o];!l&&c?t[o]="added":l&&!c?t[o]="removed":l!==c&&(t[o]="changed")}return t}const QV=({children:r})=>{const{sessionId:e}=lg(),[,t]=SS(`gameData-${e}`,{}),[s,o]=G.useState(null);G.useEffect(()=>{if(!e)return;const N=xd(qn(Rn,"gameSessions",e),V=>{V.exists()&&o(V.data())});return()=>N()},[e]);const l=G.useCallback((N,V)=>{t(j=>({...j,[N]:V}))},[t]),c=G.useCallback(N=>{const V=localStorage.getItem(`gameData-${e}`);if(!V)return null;try{return JSON.parse(V)[N]??null}catch(j){return console.error("Error parsing localStorage:",j),null}},[e]),m=async N=>{if(!e)throw new Error("sessionId is undefined");const V=qn(Rn,"gameSessions",e,"cards",N),j=await bd(V);return j.exists()?j.data().list||[]:[]},g=async(N,V)=>{if(!e)throw new Error("sessionId is undefined");const j=qn(Rn,"gameSessions",e,"cards",N);await zx(j,{list:V})},y=G.useCallback(async(N,V)=>{if(!e)return;const j=qn(Rn,"gameSessions",e,"cards","currentCards");try{await _l(j,{[N]:V},{merge:!0})}catch(Y){console.error(`❌ Не вдалося зберегти картку типу ${N}:`,Y)}},[e]),_=G.useCallback(async(N,V,j)=>{if(!e)return;const Y=qn(Rn,"gameSessions",e,"gameState",N);await _l(Y,{[V]:j},{merge:!0})},[e]),b=G.useCallback(async(N,V)=>{if(!e)return null;const j=qn(Rn,"gameSessions",e,"gameState",N),Y=await bd(j);if(!Y.exists())return null;const z=Y.data();return(z==null?void 0:z[V])??null},[e]),x=G.useCallback((N,V)=>{if(!e)throw new Error("Session ID is not defined");const j=qn(Rn,"gameSessions",e,"gameState",N);return xd(j,z=>{if(z.exists()){const ee=z.data();V(ee)}})},[e]),R=G.useCallback((N,V)=>KV(N,V),[]);return f.jsx(ZT.Provider,{value:{sessionID:e,sessionData:s,saveToLocalSession:l,getFromLocalSession:c,getCardList:m,updateCardList:g,setCurrentCard:y,updatePlayerState:_,getPlayerState:b,subscribeToPlayerState:x,detectFieldChanges:R},children:r})},YV="_container_yuz5t_1",XV="_cardChooseContainer_yuz5t_15",WV="_title_yuz5t_29",ZV="_description_yuz5t_34",JV="_cardInfo_yuz5t_38",Wt={container:YV,cardChooseContainer:XV,title:WV,description:ZV,cardInfo:JV},eP=()=>{const{sessionID:r}=ga(),[e,t]=G.useState(null);return G.useEffect(()=>{if(!r)return;const s=qn(Rn,"gameSessions",r,"cards","currentCards"),o=xd(s,l=>{l.exists()?t(l.data()):t(null)});return()=>o()},[r]),f.jsxs("div",{className:Wt.container,children:[f.jsxs("div",{className:Wt.cardChooseContainer,children:[f.jsx("h2",{className:Wt.cardTypeTitle,children:"Подія"}),f.jsx(ri,{borderColor:"purple",children:e!=null&&e.event?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Картку витягнув гравець: ",e.event.playerAdded]}),f.jsxs("p",{children:["ID: ",e.event.card.id]}),f.jsxs("div",{className:Wt.cardInfo,children:[f.jsx("p",{className:Wt.title,children:e.event.card.title}),f.jsx("p",{className:Wt.description,dangerouslySetInnerHTML:{__html:e.event.card.description}})]})]}):""})]}),f.jsxs("div",{className:Wt.cardChooseContainer,children:[f.jsx("h2",{className:Wt.cardTypeTitle,children:"Попит"}),f.jsx(ri,{borderColor:"#328ff3ca",children:e!=null&&e.demand?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Картку витягнув гравець: ",e.demand.playerAdded]}),f.jsxs("p",{children:["ID: ",e.demand.card.id]}),f.jsxs("div",{className:Wt.cardInfo,children:[f.jsx("p",{className:Wt.title,children:e.demand.card.title}),f.jsx("p",{className:Wt.description,dangerouslySetInnerHTML:{__html:e.demand.card.description}}),f.jsxs("p",{children:["Коди: ",e.demand.card.codes.join(", ")]})]})]}):""})]}),f.jsxs("div",{className:Wt.cardChooseContainer,children:[f.jsx("h2",{className:Wt.cardTypeTitle,children:"Витрати"}),f.jsx(ri,{borderColor:"rgb(117, 18, 18)",children:e!=null&&e.expense?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Картку витягнув гравець: ",e.expense.playerAdded]}),f.jsxs("p",{children:["ID: ",e.expense.card.id]}),f.jsxs("div",{className:Wt.cardInfo,children:[f.jsx("p",{className:Wt.title,children:e.expense.card.amountOfExpenses}),f.jsx("p",{className:Wt.description,dangerouslySetInnerHTML:{__html:e.expense.card.description}})]})]}):""})]}),f.jsxs("div",{className:Wt.cardChooseContainer,children:[f.jsx("h2",{className:Wt.cardTypeTitle,children:"Інвестиції"}),f.jsx(ri,{borderColor:"rgba(221, 146, 6, 0.845)",children:e!=null&&e.investment?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Картку витягнув гравець: ",e.investment.playerAdded]}),f.jsxs("p",{children:["ID: ",e.investment.card.id]}),f.jsxs("div",{className:Wt.cardInfo,children:[f.jsx("p",{className:Wt.title,children:e.investment.card.title}),f.jsx("p",{className:Wt.description,dangerouslySetInnerHTML:{__html:e.investment.card.description}}),f.jsx($h,{investment:e.investment.card})]})]}):""})]})]})};function py(r,e="",t={}){for(const s in r){const o=r[s],l=e?`${e}.${s}`:s;o&&typeof o=="object"&&!Array.isArray(o)?py(o,l,t):t[l]=o}return t}const Qe=(r,e)=>{switch(e[r]){case"changed":return"changed";case"added":return"added";case"removed":return"removed";default:return""}},tP=({row:r,changes:e={}})=>f.jsxs("tr",{children:[f.jsx("td",{className:fs.tdIndexStyle,children:r.id}),f.jsx("td",{className:`${fs.tdStyle} ${Qe("source",e)}`,children:f.jsx("input",{name:"source",type:"text",value:r.source,readOnly:!0})}),f.jsx("td",{className:`${fs.tdStyle} ${Qe("replenishment",e)}`,children:f.jsx("input",{name:"replenishment",type:"text",value:r.replenishment,readOnly:!0})}),f.jsx("td",{className:`${fs.tdStyle} ${Qe("accumulatedAmount",e)}`,children:f.jsx("input",{type:"accumulatedAmount",value:r.accumulatedAmount,readOnly:!0})})]}),nP=({row:r,changes:e={}})=>f.jsxs("tr",{children:[f.jsx("td",{className:Qe("code",e),children:f.jsx("input",{name:"code",type:"text",value:r.code,readOnly:!0})}),f.jsx("td",{className:Qe("firstPayment",e),children:f.jsx("input",{name:"firstPayment",type:"text",value:r.firstPayment,readOnly:!0})}),f.jsx("td",{className:Qe("cost",e),children:f.jsx("input",{name:"cost",type:"text",value:r.cost,readOnly:!0})}),f.jsx("td",{className:Qe("credit",e),children:f.jsx("input",{name:"credit",type:"text",value:r.credit,readOnly:!0})}),f.jsx("td",{className:Qe("passiveIncome",e),children:f.jsx("input",{name:"passiveIncome",type:"text",value:r.passiveIncome,readOnly:!0})})]}),rP=({row:r,changes:e={}})=>f.jsxs("tr",{children:[f.jsx("td",{className:`${Qe("code",e)}`,children:f.jsx("input",{name:"code",type:"text",value:r.code,readOnly:!0})}),f.jsx("td",{className:`${Qe("packetCoast",e)}`,children:f.jsx("input",{name:"packetCoast",type:"text",value:r.packetCoast,readOnly:!0})}),f.jsx("td",{className:`${Qe("sharePrice",e)}`,children:f.jsx("input",{name:"sharePrice",type:"text",value:r.sharePrice,readOnly:!0})}),f.jsx("td",{className:`${Qe("numberOfShares",e)}`,children:f.jsx("input",{name:"numberOfShares",type:"text",value:r.numberOfShares,readOnly:!0})})]}),iP="_container_18b46_1",sP="_notValid_18b46_11",aP="_valid_18b46_15",oP="_navBar_18b46_19",lP="_main_18b46_25",uP="_link_18b46_29",cP="_active_18b46_33",tr={container:iP,notValid:sP,valid:aP,navBar:oP,main:lP,link:uP,active:cP};function Rp(r,e){const t={},s=Math.max(r.length,e.length);for(let o=0;o<s;o++){const l=r[o]||{},c=e[o]||{},m={};for(const g of Object.keys(c))!l[g]&&c[g]?m[g]="added":l[g]&&!c[g]?m[g]="removed":l[g]!==c[g]&&(m[g]="changed");Object.keys(m).length>0&&(t[o]=m)}return t}const hP=py(jS),dP=()=>{const{subscribeToPlayerState:r,detectFieldChanges:e}=ga(),[t,s]=G.useState(hP),o=G.useRef({}),[l,c]=G.useState({}),[m,g]=G.useState({finBusinessTable:[],invShareTable:[],abTable:[]}),{player:y}=lg();G.useEffect(()=>{if(!y)return;const R=r(y,N=>{const V=py(N),j=o.current[y]??V,Y=e(j,V);console.log("changes",Y);const z={finBusinessTable:Rp(j.finBusinessTable,N.finBusinessTable),invShareTable:Rp(j.invShareTable,N.invShareTable),abTable:Rp(j.abTable,N.abTable)};g(z),c(Y),s(V),o.current[y]=V});return()=>R()},[y,r,e]);const _=parseInt(t["finIncomes.salary"]||"0")+parseInt(t["finIncomes.childSupport"]||"0")+parseInt(t["finIncomes.depositIncome"]||"0")+parseInt(t["finIncomes.goldIncome"]||"0")+parseInt(t["finIncomes.intellectualPropertyIncome"]||"0")+parseInt(t.finBusinessTable.reduce((R,N)=>R+parseInt(N.passiveIncome||"0"),0))===parseInt(t["finGlobal.amountOfSummaryIncomes"]||"0"),b=parseInt(t["finExpenses.expenseMonthlyHousehold"]||"0")+parseInt(t["finExpenses.expenseAdditional"]||"0")+parseInt(t["finExpenses.expenseChild"]||"0")+parseInt(t["finExpenses.realEstateExpense"]||"0")+parseInt(t["finExpenses.carExpense"]||"0")+parseInt(t["finExpenses.appliancesExpense"]||"0")+parseInt(t["finExpenses.furnitureExpense"]||"0")+parseInt(t["finExpenses.othersExpense"]||"0")===parseInt(t["finGlobal.amountOfSummaryExpenses"]||"0"),x=parseInt(t["finGlobal.amountOfSummaryIncomes"]||"0")-parseInt(t["finGlobal.amountOfSummaryExpenses"]||"0")===parseInt(t["finGlobal.amountOfFreeMoney"]||"0");return f.jsxs("div",{className:tr.container,children:[f.jsxs("div",{className:"container",style:{justifyContent:"start"},children:[f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Основна"}),f.jsx("table",{children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Готівка"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.balance",l)}`,children:f.jsx("input",{className:"summary-td-input",name:"finGlobal.balance",type:"text",value:t["finGlobal.balance"],readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.amountOfSummaryIncomes",l)}`,children:f.jsx("input",{className:`summary-td-input ${_?tr.valid:tr.notValid}`,name:"finGlobal.amountOfSummaryIncomes",type:"text",value:t["finGlobal.amountOfSummaryIncomes"],readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.amountOfSummaryExpenses",l)}`,children:f.jsx("input",{className:`summary-td-input ${b?tr.valid:tr.notValid}`,name:"finGlobal.amountOfSummaryExpenses",type:"text",value:t["finGlobal.amountOfSummaryExpenses"],readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні вільні кошти (ВК)"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.amountOfFreeMoney",l)}`,children:f.jsx("input",{className:`summary-td-input ${x?tr.valid:tr.notValid}`,name:"finGlobal.amountOfFreeMoney",type:"text",value:t["finGlobal.amountOfFreeMoney"],readOnly:!0})})]})]})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Щомісячні витрати"}),f.jsxs("table",{className:"extends-table1",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Витрати"}),f.jsx("th",{children:"Сума в звітній період"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Щомісячні побутові витрати"}),f.jsx("td",{className:`summary-td ${Qe("finExpenses.expenseMonthlyHousehold",l)}`,children:f.jsx("input",{className:"expense-input",name:"expenseMonthlyHousehold",type:"text",value:t["finExpenses.expenseMonthlyHousehold"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Додаткові витрати"}),f.jsx("td",{className:`summary-td ${Qe("finExpenses.expenseAdditional",l)}`,children:f.jsx("input",{className:"expense-input",name:"expenseAdditional",type:"text",value:t["finExpenses.expenseAdditional"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Кіл-ть дітей"}),f.jsx("td",{className:`summary-td ${Qe("finExpenses.expenseNumChildren",l)}`,children:f.jsx("input",{className:"expense-input",name:"expenseNumChildren",type:"text",value:t["finExpenses.expenseNumChildren"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Витрати на дитину"}),f.jsx("td",{className:`summary-td ${Qe("finExpenses.expenseChild",l)}`,children:f.jsx("input",{className:"expense-input",name:"expenseChild",type:"text",value:t["finExpenses.expenseChild"]||"",readOnly:!0})})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Кредити"}),f.jsxs("table",{className:"extends-table2",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Найменування кредитів (пасиви)"}),f.jsx("th",{children:"Сума кредитів"}),f.jsx("th",{children:"Сплата, %"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На нерухомість"}),f.jsx("td",{className:Qe("finExpenses.realEstateAmount",l),children:f.jsx("input",{className:"summary-input",name:"realEstateAmount",type:"text",value:t["finExpenses.realEstateAmount"]||"",readOnly:!0})}),f.jsx("td",{className:Qe("finExpenses.realEstateExpense",l),children:f.jsx("input",{className:"expense-input",name:"realEstateExpense",type:"text",value:t["finExpenses.realEstateExpense"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На автомобіль"}),f.jsx("td",{className:Qe("finExpenses.carAmount",l),children:f.jsx("input",{className:"summary-input",name:"carAmount",type:"text",value:t["finExpenses.carAmount"]||"",readOnly:!0})}),f.jsx("td",{className:Qe("finExpenses.carExpense",l),children:f.jsx("input",{className:"expense-input",name:"carExpense",type:"text",value:t["finExpenses.carExpense"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На побутову техніку"}),f.jsx("td",{className:Qe("finExpenses.appliancesAmount",l),children:f.jsx("input",{className:"summary-input",name:"appliancesAmount",type:"text",value:t["finExpenses.appliancesAmount"]||"",readOnly:!0})}),f.jsx("td",{className:Qe("finExpenses.appliancesExpense",l),children:f.jsx("input",{className:"expense-input",name:"appliancesExpense",type:"text",value:t["finExpenses.appliancesExpense"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"На меблі"}),f.jsx("td",{className:Qe("finExpenses.furnitureAmount",l),children:f.jsx("input",{className:"summary-input",name:"furnitureAmount",type:"text",value:t["finExpenses.furnitureAmount"]||"",readOnly:!0})}),f.jsx("td",{className:Qe("finExpenses.furnitureExpense",l),children:f.jsx("input",{className:"expense-input",name:"furnitureExpense",type:"text",value:t["finExpenses.furnitureExpense"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Інші кредити 3%"}),f.jsx("td",{className:Qe("finExpenses.othersAmount",l),children:f.jsx("input",{className:"summary-input",name:"othersAmount",type:"text",value:t["finExpenses.othersAmount"]||"",readOnly:!0})}),f.jsx("td",{className:Qe("finExpenses.othersExpense",l),children:f.jsx("input",{className:"expense-input",name:"othersExpense",type:"text",value:t["finExpenses.othersExpense"]||"",readOnly:!0})})]})]})]})]}),f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.amountOfSummaryExpenses",l)}`,children:f.jsx("input",{className:`summary-td-input ${b?tr.valid:tr.notValid}`,name:"finGlobal.amountOfSummaryExpenses",type:"text",value:t["finGlobal.amountOfSummaryExpenses"],readOnly:!0})})]})})})]}),f.jsxs("div",{className:"container",children:[f.jsx("div",{children:f.jsx("table",{className:"incomes-table1",children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"Доходи"}),f.jsx("th",{children:"Сума в звітній період"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Оплата праці"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.salary",l)}`,children:f.jsx("input",{className:"summary-td-input",name:"finIncomes.salary",type:"text",value:t["finIncomes.salary"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Допомога на дітей"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.childSupport",l)}`,children:f.jsx("input",{className:"summary-td-input",name:"finIncomes.childSupport",type:"text",value:t["finIncomes.childSupport"]||"",readOnly:!0})})]})]})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Активи"}),f.jsxs("table",{className:"incomes-table2",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Активи"}),f.jsx("th",{children:"Сума активів"}),f.jsx("th",{children:"Пасивний дохід (ПД)"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Депозитний банківський рахунок 2%"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.depositAmount",l)}`,children:f.jsx("input",{className:"asset-input summary-td-input",name:"depositAmount",type:"text",value:t["finGlobal.depositAmount"]||"",readOnly:!0})}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.depositIncome",l)}`,children:f.jsx("input",{className:"income-input summary-td-input",name:"depositIncome",type:"text",value:t["finIncomes.depositIncome"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Банківське золото 1%"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.goldAmount",l)}`,children:f.jsx("input",{className:"asset-input summary-td-input",name:"goldAmount",type:"text",value:t["finIncomes.goldAmount"]||"",readOnly:!0})}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.goldIncome",l)}`,children:f.jsx("input",{className:"income-input summary-td-input",name:"goldIncome",type:"text",value:t["finIncomes.goldIncome"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Накопичувальне страхування"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.savingsInsuranceAmount",l)}`,children:f.jsx("input",{className:"asset-input summary-td-input",name:"savingsInsuranceAmount",type:"text",value:t["finIncomes.savingsInsuranceAmount"]||"",readOnly:!0})}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.savingsInsuranceIncome",l)}`,children:f.jsx("input",{className:"income-input summary-td-input",name:"savingsInsuranceIncome",type:"text",value:t["finIncomes.savingsInsuranceIncome"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Ризикове страхування"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.riskInsuranceAmount",l)}`,children:f.jsx("input",{className:"asset-input summary-td-input",name:"riskInsuranceAmount",type:"text",value:t["finIncomes.riskInsuranceAmount"]||"",readOnly:!0})}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.riskInsuranceIncome",l)}`,children:f.jsx("input",{className:"income-input summary-td-input",name:"riskInsuranceIncome",type:"text",value:t["finIncomes.riskInsuranceIncome"]||"",readOnly:!0})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"td-text",children:"Інтелектуальна власність"}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.intellectualPropertyAmount",l)}`,children:f.jsx("input",{className:"asset-input summary-td-input",name:"intellectualPropertyAmount",type:"text",value:t["finIncomes.intellectualPropertyAmount"]||"",readOnly:!0})}),f.jsx("td",{className:`summary-td ${Qe("finIncomes.intellectualPropertyIncome",l)}`,children:f.jsx("input",{className:"income-input summary-td-input",name:"intellectualPropertyIncome",type:"text",value:t["finIncomes.intellectualPropertyIncome"]||"",readOnly:!0})})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Бізнес і нерухомість"}),f.jsxs("table",{className:"incomes-table3",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Код"}),f.jsx("th",{children:"Перший внесок"}),f.jsx("th",{children:"Вартість"}),f.jsx("th",{children:"Інвестор"}),f.jsx("th",{children:"ПД"})]})}),f.jsx("tbody",{children:t.finBusinessTable.map((R,N)=>{var V;return f.jsx(nP,{row:R,changes:(V=m.finBusinessTable)==null?void 0:V[N]},R.id)})})]})]}),f.jsx("table",{children:f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),f.jsx("td",{className:`summary-td ${Qe("finGlobal.amountOfSummaryIncomes",l)}`,children:f.jsx("input",{className:`summary-td-input ${_?tr.valid:tr.notValid}`,name:"finGlobal.amountOfSummaryIncomes",type:"text",value:t["finGlobal.amountOfSummaryIncomes"],readOnly:!0})})]})})})]}),f.jsxs("div",{className:"container",style:{justifyContent:"start"},children:[f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Цінні папери"}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Код"}),f.jsx("th",{children:"Вартість пакета"}),f.jsx("th",{children:"Вартість однієї акції (пая)"}),f.jsx("th",{children:"Кількість"})]})}),f.jsx("tbody",{children:t.invShareTable.map((R,N)=>{var V;return f.jsx(rP,{row:R,changes:(V=m.invShareTable)==null?void 0:V[N]},R.id)})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"table-header",children:"Подушка безпеки"}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"№"}),f.jsx("th",{children:"Джерело доходу"}),f.jsx("th",{children:"Поповнення"}),f.jsx("th",{children:"Накопичувальна сума"})]})}),f.jsx("tbody",{children:t.abTable.map((R,N)=>{var V;return f.jsx(tP,{row:R,changes:(V=m.abTable)==null?void 0:V[N]},R.id)})})]})]})]})]})},fP=()=>{var o;const{sessionData:r}=ga(),e=li(),t=oc(),{player:s}=lg();return G.useEffect(()=>{var l;(l=r==null?void 0:r.players)!=null&&l.length&&e.pathname.endsWith("/stat")&&t(`${e.pathname}/${r.players[0].name}`)},[r,e.pathname,t]),f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"borderBottom",children:f.jsx("ul",{className:tr.navBar,children:(o=r==null?void 0:r.players)!=null&&o.length?r.players.map(l=>f.jsx("li",{className:l.name===s?tr.active:tr.link,children:f.jsx(Jt,{to:`${l.name}`,children:l.name})},l.email)):""})}),f.jsx("div",{className:tr.main,children:f.jsx(Vd,{})})]})},mP=[{path:"legend",element:f.jsx(kC,{})},{path:"investments",element:f.jsx(qC,{})},{path:"events",element:f.jsx(eI,{})},{path:"finances",element:f.jsx(iI,{}),children:[{index:!0,element:f.jsx(dM,{})},{path:"income",element:f.jsx(pM,{})},{path:"extend",element:f.jsx(gM,{})}]},{path:"airbag",element:f.jsx(TM,{})},{path:"financial-freedom",element:f.jsx(wM,{})}],pP=[{path:"cards",element:f.jsx(eP,{})},{path:"stat",element:f.jsx(fP,{}),children:[{path:":player",element:f.jsx(dP,{})}]}],gP=nC([{path:"/",element:f.jsx(VC,{}),children:[{path:"rules",element:f.jsx(lV,{})},{path:"games",element:f.jsx(Fh,{children:f.jsx(pV,{})})},{path:"createGame",element:f.jsx($V,{})}]},{path:"game/:sessionId",element:f.jsx(Fh,{children:f.jsx(QV,{children:f.jsx(DV,{})})}),children:[{path:"player",children:mP},{path:"host",children:pP}]},{path:"login",element:f.jsx(Fh,{requireUnauth:!0,children:f.jsx(rV,{})})},{path:"register",element:f.jsx(Fh,{requireUnauth:!0,children:f.jsx(iV,{})})},{path:"forget-password",element:f.jsx(sV,{})}]),yP=({children:r})=>{const[e,t]=G.useState(null),[s,o]=G.useState(null),[l,c]=G.useState(!0);G.useEffect(()=>{const _=Xj(Jo,async b=>{if(t(b),b){const x=`userData-${b.uid}`,R=localStorage.getItem(x);if(R)o(JSON.parse(R));else try{const N=qn(Rn,"users",b.uid),V=await bd(N);if(V.exists()){const j=V.data();localStorage.setItem(x,JSON.stringify({displayName:j.displayName,role:j.role})),o({displayName:j.displayName,role:j.role})}}catch(N){console.error("Помилка при завантаженні даних користувача:",N)}}else o(null);c(!1)});return()=>_()},[]);const m=async(_,b)=>{await Kj(Jo,_,b)},g=async()=>{var _,b;if((_=Jo.currentUser)!=null&&_.uid){const x=`userData-${(b=Jo.currentUser)==null?void 0:b.uid}`;localStorage.removeItem(x)}await Wj(Jo)},y=async(_,b,x)=>{const R=await $j(Jo,_,b);await _l(qn(Rn,"users",R.user.uid),{uid:R.user.uid,email:_,displayName:x,role:"player",createdAt:Fx()})};return f.jsx(WT.Provider,{value:{user:e,userData:s,loading:l,login:m,logout:g,register:y},children:r})},OT=document.getElementById("root");OT&&fw.createRoot(OT).render(f.jsx(G.StrictMode,{children:f.jsx(yP,{children:f.jsx(pC,{router:gP})})}));
