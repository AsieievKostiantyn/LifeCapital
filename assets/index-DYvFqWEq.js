(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Xw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ym={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Ww(){if(c0)return yu;c0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:l}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var h0;function Zw(){return h0||(h0=1,Ym.exports=Ww()),Ym.exports}var y=Zw(),Xm={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Jw(){if(f0)return Ze;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function L(P,ce,we){this.props=P,this.context=ce,this.refs=q,this.updater=we||x}L.prototype.isReactComponent={},L.prototype.setState=function(P,ce){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ce,"setState")},L.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=L.prototype;function z(P,ce,we){this.props=P,this.context=ce,this.refs=q,this.updater=we||x}var ee=z.prototype=new Z;ee.constructor=z,V(ee,L.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,se={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function O(P,ce,we,ve,_e,Fe){return we=Fe.ref,{$$typeof:r,type:P,key:ce,ref:we!==void 0?we:null,props:Fe}}function C(P,ce){return O(P.type,ce,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function N(P){var ce={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(we){return ce[we]})}var j=/\/+/g;function U(P,ce){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):ce.toString(36)}function I(){}function Be(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(ce){P.status==="pending"&&(P.status="fulfilled",P.value=ce)},function(ce){P.status==="pending"&&(P.status="rejected",P.reason=ce)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Je(P,ce,we,ve,_e){var Fe=typeof P;(Fe==="undefined"||Fe==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Fe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case r:case e:Le=!0;break;case _:return Le=P._init,Je(Le(P._payload),ce,we,ve,_e)}}if(Le)return _e=_e(P),Le=ve===""?"."+U(P,0):ve,pe(_e)?(we="",Le!=null&&(we=Le.replace(j,"$&/")+"/"),Je(_e,ce,we,"",function(wt){return wt})):_e!=null&&(R(_e)&&(_e=C(_e,we+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Le)),ce.push(_e)),1;Le=0;var Vt=ve===""?".":ve+":";if(pe(P))for(var it=0;it<P.length;it++)ve=P[it],Fe=Vt+U(ve,it),Le+=Je(ve,ce,we,Fe,_e);else if(it=S(P),typeof it=="function")for(P=it.call(P),it=0;!(ve=P.next()).done;)ve=ve.value,Fe=Vt+U(ve,it++),Le+=Je(ve,ce,we,Fe,_e);else if(Fe==="object"){if(typeof P.then=="function")return Je(Be(P),ce,we,ve,_e);throw ce=String(P),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(P,ce,we){if(P==null)return P;var ve=[],_e=0;return Je(P,ve,"","",function(Fe){return ce.call(we,Fe,_e++)}),ve}function Ce(P){if(P._status===-1){var ce=P._result;ce=ce(),ce.then(function(we){(P._status===0||P._status===-1)&&(P._status=1,P._result=we)},function(we){(P._status===0||P._status===-1)&&(P._status=2,P._result=we)}),P._status===-1&&(P._status=0,P._result=ce)}if(P._status===1)return P._result.default;throw P._result}var Se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Xe(){}return Ze.Children={map:ue,forEach:function(P,ce,we){ue(P,function(){ce.apply(this,arguments)},we)},count:function(P){var ce=0;return ue(P,function(){ce++}),ce},toArray:function(P){return ue(P,function(ce){return ce})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ze.Component=L,Ze.Fragment=t,Ze.Profiler=o,Ze.PureComponent=z,Ze.StrictMode=s,Ze.Suspense=p,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ze.cache=function(P){return function(){return P.apply(null,arguments)}},Ze.cloneElement=function(P,ce,we){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ve=V({},P.props),_e=P.key,Fe=void 0;if(ce!=null)for(Le in ce.ref!==void 0&&(Fe=void 0),ce.key!==void 0&&(_e=""+ce.key),ce)!B.call(ce,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ce.ref===void 0||(ve[Le]=ce[Le]);var Le=arguments.length-2;if(Le===1)ve.children=we;else if(1<Le){for(var Vt=Array(Le),it=0;it<Le;it++)Vt[it]=arguments[it+2];ve.children=Vt}return O(P.type,_e,void 0,void 0,Fe,ve)},Ze.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ze.createElement=function(P,ce,we){var ve,_e={},Fe=null;if(ce!=null)for(ve in ce.key!==void 0&&(Fe=""+ce.key),ce)B.call(ce,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(_e[ve]=ce[ve]);var Le=arguments.length-2;if(Le===1)_e.children=we;else if(1<Le){for(var Vt=Array(Le),it=0;it<Le;it++)Vt[it]=arguments[it+2];_e.children=Vt}if(P&&P.defaultProps)for(ve in Le=P.defaultProps,Le)_e[ve]===void 0&&(_e[ve]=Le[ve]);return O(P,Fe,void 0,void 0,null,_e)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(P){return{$$typeof:d,render:P}},Ze.isValidElement=R,Ze.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:Ce}},Ze.memo=function(P,ce){return{$$typeof:g,type:P,compare:ce===void 0?null:ce}},Ze.startTransition=function(P){var ce=se.T,we={};se.T=we;try{var ve=P(),_e=se.S;_e!==null&&_e(we,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Xe,Se)}catch(Fe){Se(Fe)}finally{se.T=ce}},Ze.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ze.use=function(P){return se.H.use(P)},Ze.useActionState=function(P,ce,we){return se.H.useActionState(P,ce,we)},Ze.useCallback=function(P,ce){return se.H.useCallback(P,ce)},Ze.useContext=function(P){return se.H.useContext(P)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(P,ce){return se.H.useDeferredValue(P,ce)},Ze.useEffect=function(P,ce){return se.H.useEffect(P,ce)},Ze.useId=function(){return se.H.useId()},Ze.useImperativeHandle=function(P,ce,we){return se.H.useImperativeHandle(P,ce,we)},Ze.useInsertionEffect=function(P,ce){return se.H.useInsertionEffect(P,ce)},Ze.useLayoutEffect=function(P,ce){return se.H.useLayoutEffect(P,ce)},Ze.useMemo=function(P,ce){return se.H.useMemo(P,ce)},Ze.useOptimistic=function(P,ce){return se.H.useOptimistic(P,ce)},Ze.useReducer=function(P,ce,we){return se.H.useReducer(P,ce,we)},Ze.useRef=function(P){return se.H.useRef(P)},Ze.useState=function(P){return se.H.useState(P)},Ze.useSyncExternalStore=function(P,ce,we){return se.H.useSyncExternalStore(P,ce,we)},Ze.useTransition=function(){return se.H.useTransition()},Ze.version="19.0.0",Ze}var d0;function Yp(){return d0||(d0=1,Xm.exports=Jw()),Xm.exports}var $=Yp();const Yr=Xw($);var Wm={exports:{}},vu={},Zm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function eR(){return m0||(m0=1,function(r){function e(ue,Ce){var Se=ue.length;ue.push(Ce);e:for(;0<Se;){var Xe=Se-1>>>1,P=ue[Xe];if(0<o(P,Ce))ue[Xe]=Ce,ue[Se]=P,Se=Xe;else break e}}function t(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Ce=ue[0],Se=ue.pop();if(Se!==Ce){ue[0]=Se;e:for(var Xe=0,P=ue.length,ce=P>>>1;Xe<ce;){var we=2*(Xe+1)-1,ve=ue[we],_e=we+1,Fe=ue[_e];if(0>o(ve,Se))_e<P&&0>o(Fe,ve)?(ue[Xe]=Fe,ue[_e]=Se,Xe=_e):(ue[Xe]=ve,ue[we]=Se,Xe=we);else if(_e<P&&0>o(Fe,Se))ue[Xe]=Fe,ue[_e]=Se,Xe=_e;else break e}}return Ce}function o(ue,Ce){var Se=ue.sortIndex-Ce.sortIndex;return Se!==0?Se:ue.id-Ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,b=null,S=3,x=!1,V=!1,q=!1,L=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ee(ue){for(var Ce=t(g);Ce!==null;){if(Ce.callback===null)s(g);else if(Ce.startTime<=ue)s(g),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=t(g)}}function pe(ue){if(q=!1,ee(ue),!V)if(t(p)!==null)V=!0,Be();else{var Ce=t(g);Ce!==null&&Je(pe,Ce.startTime-ue)}}var se=!1,B=-1,O=5,C=-1;function R(){return!(r.unstable_now()-C<O)}function N(){if(se){var ue=r.unstable_now();C=ue;var Ce=!0;try{e:{V=!1,q&&(q=!1,Z(B),B=-1),x=!0;var Se=S;try{t:{for(ee(ue),b=t(p);b!==null&&!(b.expirationTime>ue&&R());){var Xe=b.callback;if(typeof Xe=="function"){b.callback=null,S=b.priorityLevel;var P=Xe(b.expirationTime<=ue);if(ue=r.unstable_now(),typeof P=="function"){b.callback=P,ee(ue),Ce=!0;break t}b===t(p)&&s(p),ee(ue)}else s(p);b=t(p)}if(b!==null)Ce=!0;else{var ce=t(g);ce!==null&&Je(pe,ce.startTime-ue),Ce=!1}}break e}finally{b=null,S=Se,x=!1}Ce=void 0}}finally{Ce?j():se=!1}}}var j;if(typeof z=="function")j=function(){z(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=N,j=function(){I.postMessage(null)}}else j=function(){L(N,0)};function Be(){se||(se=!0,j())}function Je(ue,Ce){B=L(function(){ue(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){V||x||(V=!0,Be())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var Ce=3;break;default:Ce=S}var Se=S;S=Ce;try{return ue()}finally{S=Se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,Ce){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Se=S;S=ue;try{return Ce()}finally{S=Se}},r.unstable_scheduleCallback=function(ue,Ce,Se){var Xe=r.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Xe+Se:Xe):Se=Xe,ue){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Se+P,ue={id:_++,callback:Ce,priorityLevel:ue,startTime:Se,expirationTime:P,sortIndex:-1},Se>Xe?(ue.sortIndex=Se,e(g,ue),t(p)===null&&ue===t(g)&&(q?(Z(B),B=-1):q=!0,Je(pe,Se-Xe))):(ue.sortIndex=P,e(p,ue),V||x||(V=!0,Be())),ue},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(ue){var Ce=S;return function(){var Se=S;S=Ce;try{return ue.apply(this,arguments)}finally{S=Se}}}}(Jm)),Jm}var p0;function tR(){return p0||(p0=1,Zm.exports=eR()),Zm.exports}var ep={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function nR(){if(g0)return kn;g0=1;var r=Yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},kn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},kn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},kn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},kn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},kn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},kn.requestFormReset=function(p){s.d.r(p)},kn.unstable_batchedUpdates=function(p,g){return p(g)},kn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},kn.useFormStatus=function(){return c.H.useHostTransitionStatus()},kn.version="19.0.0",kn}var y0;function RT(){if(y0)return ep.exports;y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ep.exports=nR(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function rR(){if(v0)return vu;v0=1;var r=tR(),e=Yp(),t=RT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case _:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case V:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,j,U;function I(n){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+n+U}var Be=!1;function Je(n,i){if(!n||Be)return"";Be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var J=re}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(re){J=re}n.call(fe.prototype)}}else{try{throw Error()}catch(re){J=re}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),H=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===H.length)for(u=D.length-1,f=H.length-1;1<=u&&0<=f&&D[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==H[f]){var ie=`
`+D[u].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=u&&0<=f);break}}}finally{Be=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function ue(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=Je(n.type,!1),n;case 11:return n=Je(n.type.render,!1),n;case 1:return n=Je(n.type,!0),n;default:return""}}function Ce(n){try{var i="";do i+=ue(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Se(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Xe(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function P(n){if(Se(n)!==n)throw Error(s(188))}function ce(n){var i=n.alternate;if(!i){if(i=Se(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return P(f),n;if(m===u)return P(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,u=m;break}if(A===u){T=!0,u=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,u=f;break}if(A===u){T=!0,u=m,a=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function we(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=we(n),i!==null)return i;n=n.sibling}return null}var ve=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe={pending:!1,data:null,method:null,action:null},Le=[],Vt=-1;function it(n){return{current:n}}function wt(n){0>Vt||(n.current=Le[Vt],Le[Vt]=null,Vt--)}function He(n,i){Vt++,Le[Vt]=n.current,n.current=i}var Dt=it(null),qn=it(null),Vn=it(null),sn=it(null);function yr(n,i){switch(He(Vn,i),He(qn,n),He(Dt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?U_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=U_(n),i=z_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}wt(Dt),He(Dt,i)}function er(){wt(Dt),wt(qn),wt(Vn)}function Br(n){n.memoizedState!==null&&He(sn,n);var i=Dt.current,a=z_(i,n.type);i!==a&&(He(qn,n),He(Dt,a))}function ri(n){qn.current===n&&(wt(Dt),wt(qn)),sn.current===n&&(wt(sn),fu._currentValue=Fe)}var ii=Object.prototype.hasOwnProperty,si=r.unstable_scheduleCallback,Fr=r.unstable_cancelCallback,M=r.unstable_shouldYield,W=r.unstable_requestPaint,ne=r.unstable_now,Ee=r.unstable_getCurrentPriorityLevel,he=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,be=r.unstable_NormalPriority,We=r.unstable_LowPriority,Rt=r.unstable_IdlePriority,At=r.log,vr=r.unstable_setDisableYieldValue,Gn=null,Ut=null;function Mi(n){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}}function Pn(n){if(typeof At=="function"&&vr(n),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Gn,n)}catch{}}var Ht=Math.clz32?Math.clz32:ao,Hr=Math.log,gs=Math.LN2;function ao(n){return n>>>=0,n===0?32:31-(Hr(n)/gs|0)|0}var ar=128,ai=4194304;function tr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wn(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~f,a!==0?u=tr(a):(m&=A,m!==0?u=tr(m):n||(T=A&~T,T!==0&&(u=tr(T))))):(A=a&~f,A!==0?u=tr(A):m!==0?u=tr(m):n||(T=a&~T,T!==0&&(u=tr(T)))),u===0?0:i!==0&&i!==u&&!(i&f)&&(f=u&-u,T=i&-i,f>=T||f===32&&(T&4194176)!==0)?i:u}function or(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ys(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var n=ar;return ar<<=1,!(ar&4194176)&&(ar=128),n}function k(){var n=ai;return ai<<=1,!(ai&62914560)&&(ai=4194304),n}function G(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Y(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function de(n,i,a,u,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(a=T&~a;0<a;){var ie=31-Ht(a),fe=1<<ie;A[ie]=0,D[ie]=-1;var J=H[ie];if(J!==null)for(H[ie]=null,ie=0;ie<J.length;ie++){var re=J[ie];re!==null&&(re.lane&=-536870913)}a&=~fe}u!==0&&Te(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~i))}function Te(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ht(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ie(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-Ht(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Ue(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Re(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:i0(n.type))}function xe(n,i){var a=_e.p;try{return _e.p=n,i()}finally{_e.p=a}}var ye=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ye,Ve="__reactProps$"+ye,ht="__reactContainer$"+ye,Pt="__reactEvents$"+ye,Tt="__reactListeners$"+ye,st="__reactHandles$"+ye,jt="__reactResources$"+ye,Kn="__reactMarker$"+ye;function lr(n){delete n[Ne],delete n[Ve],delete n[Pt],delete n[Tt],delete n[st]}function Qt(n){var i=n[Ne];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ht]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=H_(n);n!==null;){if(a=n[Ne])return a;n=H_(n)}return i}n=a,a=n.parentNode}return null}function Zt(n){if(n=n[Ne]||n[ht]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function _r(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function nr(n){var i=n[jt];return i||(i=n[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(n){n[Kn]=!0}var oi=new Set,qr={};function et(n,i){Et(n,i),Et(n+"Capture",i)}function Et(n,i){for(qr[n]=i,n=0;n<i.length;n++)oi.add(i[n])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},Er={};function pa(n){return ii.call(Er,n)?!0:ii.call(Nt,n)?!1:Vi.test(n)?Er[n]=!0:(Nt[n]=!0,!1)}function li(n,i,a){if(pa(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function vs(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Tr(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function $n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ed(n){var i=pc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ga(n){n._valueTracker||(n._valueTracker=ed(n))}function bl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=pc(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function oo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pi=/[\n"\\]/g;function qt(n){return n.replace(Pi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _s(n,i,a,u,f,m,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+$n(i)):n.value!==""+$n(i)&&(n.value=""+$n(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?lo(n,T,$n(i)):a!=null?lo(n,T,$n(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+$n(A):n.removeAttribute("name")}function ya(n,i,a,u,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+$n(a):"",i=i!=null?""+$n(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function lo(n,i,a){i==="number"&&oo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function gt(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+$n(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function va(n,i,a){if(i!=null&&(i=""+$n(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+$n(a):""}function Es(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=$n(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function br(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var td=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||td.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function gc(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Sl(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Sl(n,m,i[m])}function Al(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ui(n){return rd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sr=null;function uo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ji=null,ki=null;function Li(n){var i=Zt(n);if(i&&(n=i.stateNode)){var a=n[Ve]||null;e:switch(n=i.stateNode,i.type){case"input":if(_s(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Ve]||null;if(!f)throw Error(s(90));_s(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&bl(u)}break e;case"textarea":va(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gt(n,!!a.multiple,i,!1)}}}var wl=!1;function yc(n,i,a){if(wl)return n(i,a);wl=!0;try{var u=n(i);return u}finally{if(wl=!1,(ji!==null||ki!==null)&&(lh(),ji&&(i=ji,n=ki,ki=ji=null,Li(i),n)))for(i=0;i<n.length;i++)Li(n[i])}}function _a(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Ve]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ar=!1;if(pn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Ar=!1}var ci=null,Ts=null,Ui=null;function Rl(){if(Ui)return Ui;var n,i=Ts,a=i.length,u,f="value"in ci?ci.value:ci.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===f[m-u];u++);return Ui=f.slice(n,1<u?1-u:void 0)}function hi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fi(){return!0}function xl(){return!1}function gn(n){function i(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fi:xl,this.isPropagationStopped=xl,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),i}var bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=gn(bt),Ta=N({},bt,{view:0,detail:0}),vc=gn(Ta),ho,fo,di,ba=N({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==di&&(di&&n.type==="mousemove"?(ho=n.screenX-di.screenX,fo=n.screenY-di.screenY):fo=ho=0,di=n),ho)},movementY:function(n){return"movementY"in n?n.movementY:fo}}),wr=gn(ba),_c=N({},ba,{dataTransfer:0}),id=gn(_c),Sa=N({},Ta,{relatedTarget:0}),mo=gn(Sa),Cl=N({},bt,{animationName:0,elapsedTime:0,pseudoElement:0}),po=gn(Cl),Ec=N({},bt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),go=gn(Ec),sd=N({},bt,{data:0}),Il=gn(sd),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=bc[n])?!!i[n]:!1}function wa(){return Dl}var Sc=N({},Ta,{key:function(n){if(n.key){var i=Aa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(n){return n.type==="keypress"?hi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yo=gn(Sc),Ac=N({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nl=gn(Ac),zi=N({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),wc=gn(zi),Rc=N({},bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xc=gn(Rc),Cc=N({},ba,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=gn(Cc),Qn=N({},bt,{newState:0,oldState:0}),Ic=gn(Qn),Dc=[9,13,27,32],mi=pn&&"CompositionEvent"in window,h=null;pn&&"documentMode"in document&&(h=document.documentMode);var v=pn&&"TextEvent"in window&&!h,E=pn&&(!mi||h&&8<h&&11>=h),w=" ",Q=!1;function te(n,i){switch(n){case"keyup":return Dc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ft=!1;function an(n,i){switch(n){case"compositionend":return ge(i);case"keypress":return i.which!==32?null:(Q=!0,w);case"textInput":return n=i.data,n===w&&Q?null:n;default:return null}}function dt(n,i){if(ft)return n==="compositionend"||!mi&&te(n,i)?(n=Rl(),Ui=Ts=ci=null,ft=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!yn[n.type]:i==="textarea"}function Bi(n,i,a,u){ji?ki?ki.push(u):ki=[u]:ji=u,i=dh(i,"onChange"),0<i.length&&(a=new co("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var Rn=null,pi=null;function Ol(n){V_(n,0)}function Nc(n){var i=_r(n);if(bl(i))return n}function uy(n,i){if(n==="change")return i}var cy=!1;if(pn){var ad;if(pn){var od="oninput"in document;if(!od){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),od=typeof hy.oninput=="function"}ad=od}else ad=!1;cy=ad&&(!document.documentMode||9<document.documentMode)}function fy(){Rn&&(Rn.detachEvent("onpropertychange",dy),pi=Rn=null)}function dy(n){if(n.propertyName==="value"&&Nc(pi)){var i=[];Bi(i,pi,n,uo(n)),yc(Ol,i)}}function RA(n,i,a){n==="focusin"?(fy(),Rn=i,pi=a,Rn.attachEvent("onpropertychange",dy)):n==="focusout"&&fy()}function xA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nc(pi)}function CA(n,i){if(n==="click")return Nc(i)}function IA(n,i){if(n==="input"||n==="change")return Nc(i)}function DA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ur=typeof Object.is=="function"?Object.is:DA;function Ml(n,i){if(ur(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ii.call(i,f)||!ur(n[f],i[f]))return!1}return!0}function my(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function py(n,i){var a=my(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=my(a)}}function gy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?gy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function yy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=oo(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=oo(n.document)}return i}function ld(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function NA(n,i){var a=yy(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&gy(i.ownerDocument.documentElement,i)){if(u!==null&&ld(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=py(i,m);var T=py(i,u);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var OA=pn&&"documentMode"in document&&11>=document.documentMode,_o=null,ud=null,Vl=null,cd=!1;function vy(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||_o==null||_o!==oo(u)||(u=_o,"selectionStart"in u&&ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&Ml(Vl,u)||(Vl=u,u=dh(ud,"onSelect"),0<u.length&&(i=new co("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=_o)))}function Ra(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Eo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},hd={},_y={};pn&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function xa(n){if(hd[n])return hd[n];if(!Eo[n])return n;var i=Eo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in _y)return hd[n]=i[a];return n}var Ey=xa("animationend"),Ty=xa("animationiteration"),by=xa("animationstart"),MA=xa("transitionrun"),VA=xa("transitionstart"),PA=xa("transitioncancel"),Sy=xa("transitionend"),Ay=new Map,wy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gr(n,i){Ay.set(n,i),et(i,[n])}var Rr=[],To=0,fd=0;function Oc(){for(var n=To,i=fd=To=0;i<n;){var a=Rr[i];Rr[i++]=null;var u=Rr[i];Rr[i++]=null;var f=Rr[i];Rr[i++]=null;var m=Rr[i];if(Rr[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Ry(a,f,m)}}function Mc(n,i,a,u){Rr[To++]=n,Rr[To++]=i,Rr[To++]=a,Rr[To++]=u,fd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function dd(n,i,a,u){return Mc(n,i,a,u),Vc(n)}function bs(n,i){return Mc(n,null,null,i),Vc(n)}function Ry(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-Ht(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function Vc(n){if(50<su)throw su=0,_m=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var bo={},xy=new WeakMap;function xr(n,i){if(typeof n=="object"&&n!==null){var a=xy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ce(i)},xy.set(n,i),i)}return{value:n,source:i,stack:Ce(i)}}var So=[],Ao=0,Pc=null,jc=0,Cr=[],Ir=0,Ca=null,Fi=1,Hi="";function Ia(n,i){So[Ao++]=jc,So[Ao++]=Pc,Pc=n,jc=i}function Cy(n,i,a){Cr[Ir++]=Fi,Cr[Ir++]=Hi,Cr[Ir++]=Ca,Ca=n;var u=Fi;n=Hi;var f=32-Ht(u)-1;u&=~(1<<f),a+=1;var m=32-Ht(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Fi=1<<32-Ht(i)+f|a<<f|u,Hi=m+n}else Fi=1<<m|a<<f|u,Hi=n}function md(n){n.return!==null&&(Ia(n,1),Cy(n,1,0))}function pd(n){for(;n===Pc;)Pc=So[--Ao],So[Ao]=null,jc=So[--Ao],So[Ao]=null;for(;n===Ca;)Ca=Cr[--Ir],Cr[Ir]=null,Hi=Cr[--Ir],Cr[Ir]=null,Fi=Cr[--Ir],Cr[Ir]=null}var Yn=null,xn=null,yt=!1,Kr=null,gi=!1,gd=Error(s(519));function Da(n){var i=Error(s(418,""));throw kl(xr(i,n)),gd}function Iy(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[Ne]=n,i[Ve]=u,a){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(a=0;a<ou.length;a++)ut(ou[a],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),ya(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ga(i);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),Es(i,u.value,u.defaultValue,u.children),ga(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||L_(i.textContent,a)?(u.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),u.onScroll!=null&&ut("scroll",i),u.onScrollEnd!=null&&ut("scrollend",i),u.onClick!=null&&(i.onclick=mh),i=!0):i=!1,i||Da(n)}function Dy(n){for(Yn=n.return;Yn;)switch(Yn.tag){case 3:case 27:gi=!0;return;case 5:case 13:gi=!1;return;default:Yn=Yn.return}}function Pl(n){if(n!==Yn)return!1;if(!yt)return Dy(n),yt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||jm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&xn&&Da(n),Dy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){xn=Qr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}xn=null}}else xn=Yn?Qr(n.stateNode.nextSibling):null;return!0}function jl(){xn=Yn=null,yt=!1}function kl(n){Kr===null?Kr=[n]:Kr.push(n)}var Ll=Error(s(460)),Ny=Error(s(474)),yd={then:function(){}};function Oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function kc(){}function My(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(kc,kc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ll?Error(s(483)):n;default:if(typeof i.status=="string")i.then(kc,kc);else{if(n=Ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ll?Error(s(483)):n}throw Ul=i,Ll}}var Ul=null;function Vy(){if(Ul===null)throw Error(s(459));var n=Ul;return Ul=null,n}var wo=null,zl=0;function Lc(n){var i=zl;return zl+=1,wo===null&&(wo=[]),My(wo,n,i)}function Bl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Uc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Py(n){var i=n._init;return i(n._payload)}function jy(n){function i(K,F){if(n){var X=K.deletions;X===null?(K.deletions=[F],K.flags|=16):X.push(F)}}function a(K,F){if(!n)return null;for(;F!==null;)i(K,F),F=F.sibling;return null}function u(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=Vs(K,F),K.index=0,K.sibling=null,K}function m(K,F,X){return K.index=X,n?(X=K.alternate,X!==null?(X=X.index,X<F?(K.flags|=33554434,F):X):(K.flags|=33554434,F)):(K.flags|=1048576,F)}function T(K){return n&&K.alternate===null&&(K.flags|=33554434),K}function A(K,F,X,oe){return F===null||F.tag!==6?(F=hm(X,K.mode,oe),F.return=K,F):(F=f(F,X),F.return=K,F)}function D(K,F,X,oe){var De=X.type;return De===p?ie(K,F,X.props.children,oe,X.key):F!==null&&(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Py(De)===F.type)?(F=f(F,X.props),Bl(F,X),F.return=K,F):(F=rh(X.type,X.key,X.props,null,K.mode,oe),Bl(F,X),F.return=K,F)}function H(K,F,X,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=fm(X,K.mode,oe),F.return=K,F):(F=f(F,X.children||[]),F.return=K,F)}function ie(K,F,X,oe,De){return F===null||F.tag!==7?(F=za(X,K.mode,oe,De),F.return=K,F):(F=f(F,X),F.return=K,F)}function fe(K,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=hm(""+F,K.mode,X),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return X=rh(F.type,F.key,F.props,null,K.mode,X),Bl(X,F),X.return=K,X;case d:return F=fm(F,K.mode,X),F.return=K,F;case z:var oe=F._init;return F=oe(F._payload),fe(K,F,X)}if(ve(F)||B(F))return F=za(F,K.mode,X,null),F.return=K,F;if(typeof F.then=="function")return fe(K,Lc(F),X);if(F.$$typeof===x)return fe(K,eh(K,F),X);Uc(K,F)}return null}function J(K,F,X,oe){var De=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return De!==null?null:A(K,F,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===De?D(K,F,X,oe):null;case d:return X.key===De?H(K,F,X,oe):null;case z:return De=X._init,X=De(X._payload),J(K,F,X,oe)}if(ve(X)||B(X))return De!==null?null:ie(K,F,X,oe,null);if(typeof X.then=="function")return J(K,F,Lc(X),oe);if(X.$$typeof===x)return J(K,F,eh(K,X),oe);Uc(K,X)}return null}function re(K,F,X,oe,De){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(X)||null,A(F,K,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return K=K.get(oe.key===null?X:oe.key)||null,D(F,K,oe,De);case d:return K=K.get(oe.key===null?X:oe.key)||null,H(F,K,oe,De);case z:var nt=oe._init;return oe=nt(oe._payload),re(K,F,X,oe,De)}if(ve(oe)||B(oe))return K=K.get(X)||null,ie(F,K,oe,De,null);if(typeof oe.then=="function")return re(K,F,X,Lc(oe),De);if(oe.$$typeof===x)return re(K,F,X,eh(F,oe),De);Uc(F,oe)}return null}function Me(K,F,X,oe){for(var De=null,nt=null,je=F,ze=F=0,En=null;je!==null&&ze<X.length;ze++){je.index>ze?(En=je,je=null):En=je.sibling;var vt=J(K,je,X[ze],oe);if(vt===null){je===null&&(je=En);break}n&&je&&vt.alternate===null&&i(K,je),F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt,je=En}if(ze===X.length)return a(K,je),yt&&Ia(K,ze),De;if(je===null){for(;ze<X.length;ze++)je=fe(K,X[ze],oe),je!==null&&(F=m(je,F,ze),nt===null?De=je:nt.sibling=je,nt=je);return yt&&Ia(K,ze),De}for(je=u(je);ze<X.length;ze++)En=re(je,K,ze,X[ze],oe),En!==null&&(n&&En.alternate!==null&&je.delete(En.key===null?ze:En.key),F=m(En,F,ze),nt===null?De=En:nt.sibling=En,nt=En);return n&&je.forEach(function(Bs){return i(K,Bs)}),yt&&Ia(K,ze),De}function $e(K,F,X,oe){if(X==null)throw Error(s(151));for(var De=null,nt=null,je=F,ze=F=0,En=null,vt=X.next();je!==null&&!vt.done;ze++,vt=X.next()){je.index>ze?(En=je,je=null):En=je.sibling;var Bs=J(K,je,vt.value,oe);if(Bs===null){je===null&&(je=En);break}n&&je&&Bs.alternate===null&&i(K,je),F=m(Bs,F,ze),nt===null?De=Bs:nt.sibling=Bs,nt=Bs,je=En}if(vt.done)return a(K,je),yt&&Ia(K,ze),De;if(je===null){for(;!vt.done;ze++,vt=X.next())vt=fe(K,vt.value,oe),vt!==null&&(F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return yt&&Ia(K,ze),De}for(je=u(je);!vt.done;ze++,vt=X.next())vt=re(je,K,ze,vt.value,oe),vt!==null&&(n&&vt.alternate!==null&&je.delete(vt.key===null?ze:vt.key),F=m(vt,F,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return n&&je.forEach(function(Yw){return i(K,Yw)}),yt&&Ia(K,ze),De}function $t(K,F,X,oe){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:e:{for(var De=X.key;F!==null;){if(F.key===De){if(De=X.type,De===p){if(F.tag===7){a(K,F.sibling),oe=f(F,X.props.children),oe.return=K,K=oe;break e}}else if(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Py(De)===F.type){a(K,F.sibling),oe=f(F,X.props),Bl(oe,X),oe.return=K,K=oe;break e}a(K,F);break}else i(K,F);F=F.sibling}X.type===p?(oe=za(X.props.children,K.mode,oe,X.key),oe.return=K,K=oe):(oe=rh(X.type,X.key,X.props,null,K.mode,oe),Bl(oe,X),oe.return=K,K=oe)}return T(K);case d:e:{for(De=X.key;F!==null;){if(F.key===De)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a(K,F.sibling),oe=f(F,X.children||[]),oe.return=K,K=oe;break e}else{a(K,F);break}else i(K,F);F=F.sibling}oe=fm(X,K.mode,oe),oe.return=K,K=oe}return T(K);case z:return De=X._init,X=De(X._payload),$t(K,F,X,oe)}if(ve(X))return Me(K,F,X,oe);if(B(X)){if(De=B(X),typeof De!="function")throw Error(s(150));return X=De.call(X),$e(K,F,X,oe)}if(typeof X.then=="function")return $t(K,F,Lc(X),oe);if(X.$$typeof===x)return $t(K,F,eh(K,X),oe);Uc(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a(K,F.sibling),oe=f(F,X),oe.return=K,K=oe):(a(K,F),oe=hm(X,K.mode,oe),oe.return=K,K=oe),T(K)):a(K,F)}return function(K,F,X,oe){try{zl=0;var De=$t(K,F,X,oe);return wo=null,De}catch(je){if(je===Ll)throw je;var nt=Mr(29,je,null,K.mode);return nt.lanes=oe,nt.return=K,nt}finally{}}}var Na=jy(!0),ky=jy(!1),Ro=it(null),zc=it(0);function Ly(n,i){n=es,He(zc,n),He(Ro,i),es=n|i.baseLanes}function vd(){He(zc,es),He(Ro,Ro.current)}function _d(){es=zc.current,wt(Ro),wt(zc)}var Dr=it(null),yi=null;function Ss(n){var i=n.alternate;He(ln,ln.current&1),He(Dr,n),yi===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&(yi=n)}function Uy(n){if(n.tag===22){if(He(ln,ln.current),He(Dr,n),yi===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yi=n)}}else As()}function As(){He(ln,ln.current),He(Dr,Dr.current)}function qi(n){wt(Dr),yi===n&&(yi=null),wt(ln)}var ln=it(0);function Bc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},kA=r.unstable_scheduleCallback,LA=r.unstable_NormalPriority,un={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new jA,data:new Map,refCount:0}}function Fl(n){n.refCount--,n.refCount===0&&kA(LA,function(){n.controller.abort()})}var Hl=null,Td=0,xo=0,Co=null;function UA(n,i){if(Hl===null){var a=Hl=[];Td=0,xo=xm(),Co={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Td++,i.then(zy,zy),i}function zy(){if(--Td===0&&Hl!==null){Co!==null&&(Co.status="fulfilled");var n=Hl;Hl=null,xo=0,Co=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var By=R.S;R.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&UA(n,i),By!==null&&By(n,i)};var Oa=it(null);function bd(){var n=Oa.current;return n!==null?n:Ot.pooledCache}function Fc(n,i){i===null?He(Oa,Oa.current):He(Oa,i.pool)}function Fy(){var n=bd();return n===null?null:{parent:un._currentValue,pool:n}}var ws=0,tt=null,xt=null,Jt=null,Hc=!1,Io=!1,Ma=!1,qc=0,ql=0,Do=null,BA=0;function Yt(){throw Error(s(321))}function Sd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!ur(n[a],i[a]))return!1;return!0}function Ad(n,i,a,u,f,m){return ws=m,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?Va:Rs,Ma=!1,m=a(u,f),Ma=!1,Io&&(m=qy(i,a,u,f)),Hy(n),m}function Hy(n){R.H=vi;var i=xt!==null&&xt.next!==null;if(ws=0,Jt=xt=tt=null,Hc=!1,ql=0,Do=null,i)throw Error(s(300));n===null||vn||(n=n.dependencies,n!==null&&Jc(n)&&(vn=!0))}function qy(n,i,a,u){tt=n;var f=0;do{if(Io&&(Do=null),ql=0,Io=!1,25<=f)throw Error(s(301));if(f+=1,Jt=xt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=Pa,m=i(a,u)}while(Io);return m}function FA(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?Gl(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(tt.flags|=1024),i}function wd(){var n=qc!==0;return qc=0,n}function Rd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function xd(n){if(Hc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hc=!1}ws=0,Jt=xt=tt=null,Io=!1,ql=qc=0,Do=null}function rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?tt.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function en(){if(xt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=Jt===null?tt.memoizedState:Jt.next;if(i!==null)Jt=i,xt=n;else{if(n===null)throw tt.alternate===null?Error(s(467)):Error(s(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?tt.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}var Gc;Gc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gl(n){var i=ql;return ql+=1,Do===null&&(Do=[]),n=My(Do,n,i),i=tt,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?Va:Rs),n}function Kc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gl(n);if(n.$$typeof===x)return jn(n)}throw Error(s(438,String(n)))}function Cd(n){var i=null,a=tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gc(),tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=pe;return i.index++,a}function Gi(n,i){return typeof i=="function"?i(n):i}function $c(n){var i=en();return Id(i,xt,n)}function Id(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var A=T=null,D=null,H=i,ie=!1;do{var fe=H.lane&-536870913;if(fe!==H.lane?(mt&fe)===fe:(ws&fe)===fe){var J=H.revertLane;if(J===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),fe===xo&&(ie=!0);else if((ws&J)===J){H=H.next,J===xo&&(ie=!0);continue}else fe={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=fe,T=m):D=D.next=fe,tt.lanes|=J,Ps|=J;fe=H.action,Ma&&a(m,fe),m=H.hasEagerState?H.eagerState:a(m,fe)}else J={lane:fe,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=J,T=m):D=D.next=J,tt.lanes|=fe,Ps|=fe;H=H.next}while(H!==null&&H!==i);if(D===null?T=m:D.next=A,!ur(m,n.memoizedState)&&(vn=!0,ie&&(a=Co,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Dd(n){var i=en(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);ur(m,i.memoizedState)||(vn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function Gy(n,i,a){var u=tt,f=en(),m=yt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!ur((xt||f).memoizedState,a);if(T&&(f.memoizedState=a,vn=!0),f=f.queue,Md(Qy.bind(null,u,f,n),[n]),f.getSnapshot!==i||T||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,No(9,$y.bind(null,u,f,a,i),{destroy:void 0},null),Ot===null)throw Error(s(349));m||ws&60||Ky(u,i,a)}return a}function Ky(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i=Gc(),tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function $y(n,i,a,u){i.value=a,i.getSnapshot=u,Yy(i)&&Xy(n)}function Qy(n,i,a){return a(function(){Yy(i)&&Xy(n)})}function Yy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!ur(n,a)}catch{return!0}}function Xy(n){var i=bs(n,2);i!==null&&Xn(i,n,2)}function Nd(n){var i=rr();if(typeof n=="function"){var a=n;if(n=a(),Ma){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},i}function Wy(n,i,a,u){return n.baseState=a,Id(n,xt,typeof u=="function"?u:Gi)}function HA(n,i,a,u,f){if(Xc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};R.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,Zy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Zy(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=R.T,T={};R.T=T;try{var A=a(f,u),D=R.S;D!==null&&D(T,A),Jy(n,i,A)}catch(H){Od(n,i,H)}finally{R.T=m}}else try{m=a(f,u),Jy(n,i,m)}catch(H){Od(n,i,H)}}function Jy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){ev(n,i,u)},function(u){return Od(n,i,u)}):ev(n,i,a)}function ev(n,i,a){i.status="fulfilled",i.value=a,tv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Zy(n,a)))}function Od(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,tv(i),i=i.next;while(i!==u)}n.action=null}function tv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function nv(n,i){return i}function rv(n,i){if(yt){var a=Ot.formState;if(a!==null){e:{var u=tt;if(yt){if(xn){t:{for(var f=xn,m=gi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Qr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){xn=Qr(f.nextSibling),u=f.data==="F!";break e}}Da(u)}u=!1}u&&(i=a[0])}}return a=rr(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:i},a.queue=u,a=Tv.bind(null,tt,u),u.dispatch=a,u=Nd(!1),m=Ld.bind(null,tt,!1,u.queue),u=rr(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=HA.bind(null,tt,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function iv(n){var i=en();return sv(i,xt,n)}function sv(n,i,a){i=Id(n,i,nv)[0],n=$c(Gi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Gl(i):i;var u=en(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(tt.flags|=2048,No(9,qA.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function qA(n,i){n.action=i}function av(n){var i=en(),a=xt;if(a!==null)return sv(i,a,n);en(),i=i.memoizedState,a=en();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function No(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=tt.updateQueue,i===null&&(i=Gc(),tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function ov(){return en().memoizedState}function Qc(n,i,a,u){var f=rr();tt.flags|=n,f.memoizedState=No(1|i,a,{destroy:void 0},u===void 0?null:u)}function Yc(n,i,a,u){var f=en();u=u===void 0?null:u;var m=f.memoizedState.inst;xt!==null&&u!==null&&Sd(u,xt.memoizedState.deps)?f.memoizedState=No(i,a,m,u):(tt.flags|=n,f.memoizedState=No(1|i,a,m,u))}function lv(n,i){Qc(8390656,8,n,i)}function Md(n,i){Yc(2048,8,n,i)}function uv(n,i){return Yc(4,2,n,i)}function cv(n,i){return Yc(4,4,n,i)}function hv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fv(n,i,a){a=a!=null?a.concat([n]):null,Yc(4,4,hv.bind(null,i,n),a)}function Vd(){}function dv(n,i){var a=en();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Sd(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function mv(n,i){var a=en();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Sd(i,u[1]))return u[0];if(u=n(),Ma){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[u,i],u}function Pd(n,i,a){return a===void 0||ws&1073741824?n.memoizedState=i:(n.memoizedState=a,n=g_(),tt.lanes|=n,Ps|=n,a)}function pv(n,i,a,u){return ur(a,i)?a:Ro.current!==null?(n=Pd(n,a,u),ur(n,i)||(vn=!0),n):ws&42?(n=g_(),tt.lanes|=n,Ps|=n,i):(vn=!0,n.memoizedState=a)}function gv(n,i,a,u,f){var m=_e.p;_e.p=m!==0&&8>m?m:8;var T=R.T,A={};R.T=A,Ld(n,!1,i,a);try{var D=f(),H=R.S;if(H!==null&&H(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=zA(D,u);Kl(n,i,ie,dr(n))}else Kl(n,i,u,dr(n))}catch(fe){Kl(n,i,{then:function(){},status:"rejected",reason:fe},dr())}finally{_e.p=m,R.T=T}}function GA(){}function jd(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=yv(n).queue;gv(n,f,i,Fe,a===null?GA:function(){return vv(n),a(u)})}function yv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Fe,baseState:Fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:Fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function vv(n){var i=yv(n).next.queue;Kl(n,i,{},dr())}function kd(){return jn(fu)}function _v(){return en().memoizedState}function Ev(){return en().memoizedState}function KA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=dr();n=Is(a);var u=Ds(i,n,a);u!==null&&(Xn(u,i,a),Yl(u,i,a)),i={cache:Ed()},n.payload=i;return}i=i.return}}function $A(n,i,a){var u=dr();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(n)?bv(i,a):(a=dd(n,i,a,u),a!==null&&(Xn(a,n,u),Sv(a,i,u)))}function Tv(n,i,a){var u=dr();Kl(n,i,a,u)}function Kl(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(n))bv(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,ur(A,T))return Mc(n,i,f,0),Ot===null&&Oc(),!1}catch{}finally{}if(a=dd(n,i,f,u),a!==null)return Xn(a,n,u),Sv(a,i,u),!0}return!1}function Ld(n,i,a,u){if(u={lane:2,revertLane:xm(),action:u,hasEagerState:!1,eagerState:null,next:null},Xc(n)){if(i)throw Error(s(479))}else i=dd(n,a,u,2),i!==null&&Xn(i,n,2)}function Xc(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function bv(n,i){Io=Hc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Sv(n,i,a){if(a&4194176){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}var vi={readContext:jn,use:Kc,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};vi.useCacheRefresh=Yt,vi.useMemoCache=Yt,vi.useHostTransitionStatus=Yt,vi.useFormState=Yt,vi.useActionState=Yt,vi.useOptimistic=Yt;var Va={readContext:jn,use:Kc,useCallback:function(n,i){return rr().memoizedState=[n,i===void 0?null:i],n},useContext:jn,useEffect:lv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Qc(4194308,4,hv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Qc(4194308,4,n,i)},useInsertionEffect:function(n,i){Qc(4,2,n,i)},useMemo:function(n,i){var a=rr();i=i===void 0?null:i;var u=n();if(Ma){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=rr();if(a!==void 0){var f=a(i);if(Ma){Pn(!0);try{a(i)}finally{Pn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=$A.bind(null,tt,n),[u.memoizedState,n]},useRef:function(n){var i=rr();return n={current:n},i.memoizedState=n},useState:function(n){n=Nd(n);var i=n.queue,a=Tv.bind(null,tt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Vd,useDeferredValue:function(n,i){var a=rr();return Pd(a,n,i)},useTransition:function(){var n=Nd(!1);return n=gv.bind(null,tt,n.queue,!0,!1),rr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=tt,f=rr();if(yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ot===null)throw Error(s(349));mt&60||Ky(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,lv(Qy.bind(null,u,m,n),[n]),u.flags|=2048,No(9,$y.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=rr(),i=Ot.identifierPrefix;if(yt){var a=Hi,u=Fi;a=(u&~(1<<32-Ht(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=qc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=BA++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return rr().memoizedState=KA.bind(null,tt)}};Va.useMemoCache=Cd,Va.useHostTransitionStatus=kd,Va.useFormState=rv,Va.useActionState=rv,Va.useOptimistic=function(n){var i=rr();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ld.bind(null,tt,!0,a),a.dispatch=i,[n,i]};var Rs={readContext:jn,use:Kc,useCallback:dv,useContext:jn,useEffect:Md,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:$c,useRef:ov,useState:function(){return $c(Gi)},useDebugValue:Vd,useDeferredValue:function(n,i){var a=en();return pv(a,xt.memoizedState,n,i)},useTransition:function(){var n=$c(Gi)[0],i=en().memoizedState;return[typeof n=="boolean"?n:Gl(n),i]},useSyncExternalStore:Gy,useId:_v};Rs.useCacheRefresh=Ev,Rs.useMemoCache=Cd,Rs.useHostTransitionStatus=kd,Rs.useFormState=iv,Rs.useActionState=iv,Rs.useOptimistic=function(n,i){var a=en();return Wy(a,xt,n,i)};var Pa={readContext:jn,use:Kc,useCallback:dv,useContext:jn,useEffect:Md,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:Dd,useRef:ov,useState:function(){return Dd(Gi)},useDebugValue:Vd,useDeferredValue:function(n,i){var a=en();return xt===null?Pd(a,n,i):pv(a,xt.memoizedState,n,i)},useTransition:function(){var n=Dd(Gi)[0],i=en().memoizedState;return[typeof n=="boolean"?n:Gl(n),i]},useSyncExternalStore:Gy,useId:_v};Pa.useCacheRefresh=Ev,Pa.useMemoCache=Cd,Pa.useHostTransitionStatus=kd,Pa.useFormState=av,Pa.useActionState=av,Pa.useOptimistic=function(n,i){var a=en();return xt!==null?Wy(a,xt,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Ud(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:N({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var zd={isMounted:function(n){return(n=n._reactInternals)?Se(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=dr(),f=Is(u);f.payload=i,a!=null&&(f.callback=a),i=Ds(n,f,u),i!==null&&(Xn(i,n,u),Yl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=dr(),f=Is(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ds(n,f,u),i!==null&&(Xn(i,n,u),Yl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=dr(),u=Is(a);u.tag=2,i!=null&&(u.callback=i),i=Ds(n,u,a),i!==null&&(Xn(i,n,a),Yl(i,n,a))}};function Av(n,i,a,u,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!Ml(a,u)||!Ml(f,m):!0}function wv(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&zd.enqueueReplaceState(i,i.state,null)}function ja(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=N({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Rv(n){Wc(n)}function xv(n){console.error(n)}function Cv(n){Wc(n)}function Zc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Iv(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bd(n,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(n,i)},a}function Dv(n){return n=Is(n),n.tag=3,n}function Nv(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Iv(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Iv(i,a,u),typeof f!="function"&&(js===null?js=new Set([this]):js.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function QA(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Ql(i,a,f,!0),a=Dr.current,a!==null){switch(a.tag){case 13:return yi===null?bm():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===yd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Am(n,u,f)),!1;case 22:return a.flags|=65536,u===yd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Am(n,u,f)),!1}throw Error(s(435,a.tag))}return Am(n,u,f),bm(),!1}if(yt)return i=Dr.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==gd&&(n=Error(s(422),{cause:u}),kl(xr(n,a)))):(u!==gd&&(i=Error(s(423),{cause:u}),kl(xr(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=xr(u,a),f=Bd(n.stateNode,u,f),nm(n,f),Kt!==4&&(Kt=2)),!1;var m=Error(s(520),{cause:u});if(m=xr(m,a),ru===null?ru=[m]:ru.push(m),Kt!==4&&(Kt=2),i===null)return!0;u=xr(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Bd(a.stateNode,u,n),nm(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(js===null||!js.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Dv(f),Nv(f,n,a,u),nm(a,f),!1}a=a.return}while(a!==null);return!1}var Ov=Error(s(461)),vn=!1;function Cn(n,i,a,u){i.child=n===null?ky(i,null,a,u):Na(i,n.child,a,u)}function Mv(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return La(i),u=Ad(n,i,a,T,m,f),A=wd(),n!==null&&!vn?(Rd(n,i,f),Ki(n,i,f)):(yt&&A&&md(i),i.flags|=1,Cn(n,i,u,f),i.child)}function Vv(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!cm(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Pv(n,i,m,u,f)):(n=rh(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Xd(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(T,u)&&n.ref===i.ref)return Ki(n,i,f)}return i.flags|=1,n=Vs(m,u),n.ref=i.ref,n.return=i,i.child=n}function Pv(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(Ml(m,u)&&n.ref===i.ref)if(vn=!1,i.pendingProps=u=m,Xd(n,f))n.flags&131072&&(vn=!0);else return i.lanes=n.lanes,Ki(n,i,f)}return Fd(n,i,a,u,f)}function jv(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if($l(n,i),u.mode==="hidden"||m){if(i.flags&128){if(u=T!==null?T.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return kv(n,i,u,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fc(i,T!==null?T.cachePool:null),T!==null?Ly(i,T):vd(),Uy(i);else return i.lanes=i.childLanes=536870912,kv(n,i,T!==null?T.baseLanes|a:a,a)}else T!==null?(Fc(i,T.cachePool),Ly(i,T),As(),i.memoizedState=null):(n!==null&&Fc(i,null),vd(),As());return Cn(n,i,f,a),i.child}function kv(n,i,a,u){var f=bd();return f=f===null?null:{parent:un._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Fc(i,null),vd(),Uy(i),n!==null&&Ql(n,i,u,!0),null}function $l(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Fd(n,i,a,u,f){return La(i),a=Ad(n,i,a,u,void 0,f),u=wd(),n!==null&&!vn?(Rd(n,i,f),Ki(n,i,f)):(yt&&u&&md(i),i.flags|=1,Cn(n,i,a,f),i.child)}function Lv(n,i,a,u,f,m){return La(i),i.updateQueue=null,a=qy(i,u,a,f),Hy(n),u=wd(),n!==null&&!vn?(Rd(n,i,m),Ki(n,i,m)):(yt&&u&&md(i),i.flags|=1,Cn(n,i,a,m),i.child)}function Uv(n,i,a,u,f){if(La(i),i.stateNode===null){var m=bo,T=a.contextType;typeof T=="object"&&T!==null&&(m=jn(T)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},em(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?jn(T):bo,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ud(i,a,T,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&zd.enqueueReplaceState(m,m.state,null),Wl(i,u,m,f),Xl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var A=i.memoizedProps,D=ja(a,A);m.props=D;var H=m.context,ie=a.contextType;T=bo,typeof ie=="object"&&ie!==null&&(T=jn(ie));var fe=a.getDerivedStateFromProps;ie=typeof fe=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==T)&&wv(i,m,u,T),Cs=!1;var J=i.memoizedState;m.state=J,Wl(i,u,m,f),Xl(),H=i.memoizedState,A||J!==H||Cs?(typeof fe=="function"&&(Ud(i,a,fe,u),H=i.memoizedState),(D=Cs||Av(i,a,D,u,J,H,T))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=H),m.props=u,m.state=H,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,tm(n,i),T=i.memoizedProps,ie=ja(a,T),m.props=ie,fe=i.pendingProps,J=m.context,H=a.contextType,D=bo,typeof H=="object"&&H!==null&&(D=jn(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==fe||J!==D)&&wv(i,m,u,D),Cs=!1,J=i.memoizedState,m.state=J,Wl(i,u,m,f),Xl();var re=i.memoizedState;T!==fe||J!==re||Cs||n!==null&&n.dependencies!==null&&Jc(n.dependencies)?(typeof A=="function"&&(Ud(i,a,A,u),re=i.memoizedState),(ie=Cs||Av(i,a,ie,u,J,re,D)||n!==null&&n.dependencies!==null&&Jc(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,re,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,re,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),m.props=u,m.state=re,m.context=D,u=ie):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,$l(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Na(i,n.child,null,f),i.child=Na(i,null,a,f)):Cn(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Ki(n,i,f),n}function zv(n,i,a,u){return jl(),i.flags|=256,Cn(n,i,a,u),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function qd(n){return{baseLanes:n,cachePool:Fy()}}function Gd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Vr),n}function Bv(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(yt){if(f?Ss(i):As(),yt){var A=xn,D;if(D=A){e:{for(D=A,A=gi;D.nodeType!==8;){if(!A){A=null;break e}if(D=Qr(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:Ca!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912},D=Mr(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,Yn=i,xn=null,D=!0):D=!1}D||Da(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;qi(i)}return A=u.children,u=u.fallback,f?(As(),f=i.mode,A=$d({mode:"hidden",children:A},f),u=za(u,f,a,null),A.return=i,u.return=i,A.sibling=u,i.child=A,f=i.child,f.memoizedState=qd(a),f.childLanes=Gd(n,T,a),i.memoizedState=Hd,u):(Ss(i),Kd(i,A))}if(D=n.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(Ss(i),i.flags&=-257,i=Qd(n,i,a)):i.memoizedState!==null?(As(),i.child=n.child,i.flags|=128,i=null):(As(),f=u.fallback,A=i.mode,u=$d({mode:"visible",children:u.children},A),f=za(f,A,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Na(i,n.child,null,a),u=i.child,u.memoizedState=qd(a),u.childLanes=Gd(n,T,a),i.memoizedState=Hd,i=f);else if(Ss(i),A.data==="$!"){if(T=A.nextSibling&&A.nextSibling.dataset,T)var H=T.dgst;T=H,u=Error(s(419)),u.stack="",u.digest=T,kl({value:u,source:null,stack:null}),i=Qd(n,i,a)}else if(vn||Ql(n,i,a,!1),T=(a&n.childLanes)!==0,vn||T){if(T=Ot,T!==null){if(u=a&-a,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|a)?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,bs(n,u),Xn(T,n,u),Ov}A.data==="$?"||bm(),i=Qd(n,i,a)}else A.data==="$?"?(i.flags|=128,i.child=n.child,i=uw.bind(null,n),A._reactRetry=i,i=null):(n=D.treeContext,xn=Qr(A.nextSibling),Yn=i,yt=!0,Kr=null,gi=!1,n!==null&&(Cr[Ir++]=Fi,Cr[Ir++]=Hi,Cr[Ir++]=Ca,Fi=n.id,Hi=n.overflow,Ca=i),i=Kd(i,u.children),i.flags|=4096);return i}return f?(As(),f=u.fallback,A=i.mode,D=n.child,H=D.sibling,u=Vs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,H!==null?f=Vs(H,f):(f=za(f,A,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,A=n.child.memoizedState,A===null?A=qd(a):(D=A.cachePool,D!==null?(H=un._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Fy(),A={baseLanes:A.baseLanes|a,cachePool:D}),f.memoizedState=A,f.childLanes=Gd(n,T,a),i.memoizedState=Hd,u):(Ss(i),a=n.child,n=a.sibling,a=Vs(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Kd(n,i){return i=$d({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function $d(n,i){return d_(n,i,0,null)}function Qd(n,i,a){return Na(i,n.child,null,a),n=Kd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Fv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Zd(n.return,i,a)}function Yd(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function Hv(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(Cn(n,i,u.children,a),u=ln.current,u&2)u=u&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fv(n,a,i);else if(n.tag===19)Fv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(He(ln,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Bc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Yd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Bc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Yd(i,!0,a,null,m);break;case"together":Yd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ki(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ps|=i.lanes,!(a&i.childLanes))if(n!==null){if(Ql(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Vs(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Vs(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Xd(n,i){return n.lanes&i?!0:(n=n.dependencies,!!(n!==null&&Jc(n)))}function YA(n,i,a){switch(i.tag){case 3:yr(i,i.stateNode.containerInfo),xs(i,un,n.memoizedState.cache),jl();break;case 27:case 5:Br(i);break;case 4:yr(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ss(i),i.flags|=128,null):a&i.child.childLanes?Bv(n,i,a):(Ss(i),n=Ki(n,i,a),n!==null?n.sibling:null);Ss(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Ql(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Hv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(ln,ln.current),u)break;return null;case 22:case 23:return i.lanes=0,jv(n,i,a);case 24:xs(i,un,n.memoizedState.cache)}return Ki(n,i,a)}function qv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)vn=!0;else{if(!Xd(n,a)&&!(i.flags&128))return vn=!1,YA(n,i,a);vn=!!(n.flags&131072)}else vn=!1,yt&&i.flags&1048576&&Cy(i,jc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")cm(u)?(n=ja(u,n),i.tag=1,i=Uv(null,i,u,n,a)):(i.tag=0,i=Fd(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===V){i.tag=11,i=Mv(null,i,u,n,a);break e}else if(f===Z){i.tag=14,i=Vv(null,i,u,n,a);break e}}throw i=C(u)||u,Error(s(306,i,""))}}return i;case 0:return Fd(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=ja(u,i.pendingProps),Uv(n,i,u,f,a);case 3:e:{if(yr(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,tm(n,i),Wl(i,m,null,a);var T=i.memoizedState;if(m=T.cache,xs(i,un,m),m!==f.cache&&Jd(i,[un],a,!0),Xl(),m=T.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=zv(n,i,m,a);break e}else if(m!==u){u=xr(Error(s(424)),i),kl(u),i=zv(n,i,m,a);break e}else for(xn=Qr(i.stateNode.containerInfo.firstChild),Yn=i,yt=!0,Kr=null,gi=!0,a=ky(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jl(),m===u){i=Ki(n,i,a);break e}Cn(n,i,m,a)}i=i.child}return i;case 26:return $l(n,i),n===null?(a=$_(i.type,null,i.pendingProps,null))?i.memoizedState=a:yt||(a=i.type,n=i.pendingProps,u=ph(Vn.current).createElement(a),u[Ne]=i,u[Ve]=n,In(u,a,n),_t(u),i.stateNode=u):i.memoizedState=$_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Br(i),n===null&&yt&&(u=i.stateNode=q_(i.type,i.pendingProps,Vn.current),Yn=i,gi=!0,xn=Qr(u.firstChild)),u=i.pendingProps.children,n!==null||yt?Cn(n,i,u,a):i.child=Na(i,null,u,a),$l(n,i),i.child;case 5:return n===null&&yt&&((f=u=xn)&&(u=ww(u,i.type,i.pendingProps,gi),u!==null?(i.stateNode=u,Yn=i,xn=Qr(u.firstChild),gi=!1,f=!0):f=!1),f||Da(i)),Br(i),f=i.type,m=i.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,jm(f,m)?u=null:T!==null&&jm(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Ad(n,i,FA,null,null,a),fu._currentValue=f),$l(n,i),Cn(n,i,u,a),i.child;case 6:return n===null&&yt&&((n=a=xn)&&(a=Rw(a,i.pendingProps,gi),a!==null?(i.stateNode=a,Yn=i,xn=null,n=!0):n=!1),n||Da(i)),null;case 13:return Bv(n,i,a);case 4:return yr(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Na(i,null,u,a):Cn(n,i,u,a),i.child;case 11:return Mv(n,i,i.type,i.pendingProps,a);case 7:return Cn(n,i,i.pendingProps,a),i.child;case 8:return Cn(n,i,i.pendingProps.children,a),i.child;case 12:return Cn(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,xs(i,i.type,u.value),Cn(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,La(i),f=jn(f),u=u(f),i.flags|=1,Cn(n,i,u,a),i.child;case 14:return Vv(n,i,i.type,i.pendingProps,a);case 15:return Pv(n,i,i.type,i.pendingProps,a);case 19:return Hv(n,i,a);case 22:return jv(n,i,a);case 24:return La(i),u=jn(un),n===null?(f=bd(),f===null&&(f=Ot,m=Ed(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},em(i),xs(i,un,f)):(n.lanes&a&&(tm(n,i),Wl(i,null,null,a),Xl()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),xs(i,un,u)):(u=m.cache,xs(i,un,u),u!==f.cache&&Jd(i,[un],a,!0))),Cn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Wd=it(null),ka=null,$i=null;function xs(n,i,a){He(Wd,i._currentValue),i._currentValue=a}function Qi(n){n._currentValue=Wd.current,wt(Wd)}function Zd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Jd(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Zd(m.return,a,n),u||(T=null);break e}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Zd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ql(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;ur(f.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(f===sn.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(fu):n=[fu])}f=f.return}n!==null&&Jd(i,n,a,u),i.flags|=262144}function Jc(n){for(n=n.firstContext;n!==null;){if(!ur(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function La(n){ka=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function jn(n){return Gv(ka,n)}function eh(n,i){return ka===null&&La(n),Gv(n,i)}function Gv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(s(308));$i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else $i=$i.next=i;return a}var Cs=!1;function em(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ds(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,Bt&2){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Vc(n),Ry(n,null,a),i}return Mc(n,u,i,a),Vc(n)}function Yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ie(n,a)}}function nm(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var rm=!1;function Xl(){if(rm){var n=Co;if(n!==null)throw n}}function Wl(n,i,a,u){rm=!1;var f=n.updateQueue;Cs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,H=D.next;D.next=null,T===null?m=H:T.next=H,T=D;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==T&&(A===null?ie.firstBaseUpdate=H:A.next=H,ie.lastBaseUpdate=D))}if(m!==null){var fe=f.baseState;T=0,ie=H=D=null,A=m;do{var J=A.lane&-536870913,re=J!==A.lane;if(re?(mt&J)===J:(u&J)===J){J!==0&&J===xo&&(rm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=n,$e=A;J=i;var $t=a;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){fe=Me.call($t,fe,J);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,J=typeof Me=="function"?Me.call($t,fe,J):Me,J==null)break e;fe=N({},fe,J);break e;case 2:Cs=!0}}J=A.callback,J!==null&&(n.flags|=64,re&&(n.flags|=8192),re=f.callbacks,re===null?f.callbacks=[J]:re.push(J))}else re={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(H=ie=re,D=fe):ie=ie.next=re,T|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;re=A,A=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);ie===null&&(D=fe),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=ie,m===null&&(f.shared.lanes=0),Ps|=T,n.lanes=T,n.memoizedState=fe}}function Kv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function $v(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Kv(a[n],i)}function Zl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(A){It(i,i.return,A)}}function Ns(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=i;var D=a;try{A()}catch(H){It(f,D,H)}}}u=u.next}while(u!==m)}}catch(H){It(i,i.return,H)}}function Qv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{$v(i,a)}catch(u){It(n,n.return,u)}}}function Yv(n,i,a){a.props=ja(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){It(n,i,u)}}function Ua(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){It(n,i,m)}}function cr(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){It(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){It(n,i,f)}else a.current=null}function Xv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){It(n,n.return,f)}}function Wv(n,i,a){try{var u=n.stateNode;Ew(u,n.type,a,i),u[Ve]=i}catch(f){It(n,n.return,f)}}function Zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function im(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sm(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mh));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(sm(n,i,a),n=n.sibling;n!==null;)sm(n,i,a),n=n.sibling}function th(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(th(n,i,a),n=n.sibling;n!==null;)th(n,i,a),n=n.sibling}var Yi=!1,Gt=!1,am=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,_n=null,e_=!1;function XA(n,i){if(n=n.containerInfo,Vm=Th,n=yy(n),ld(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,A=-1,D=-1,H=0,ie=0,fe=n,J=null;t:for(;;){for(var re;fe!==a||f!==0&&fe.nodeType!==3||(A=T+f),fe!==m||u!==0&&fe.nodeType!==3||(D=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(re=fe.firstChild)!==null;)J=fe,fe=re;for(;;){if(fe===n)break t;if(J===a&&++H===f&&(A=T),J===m&&++ie===u&&(D=T),(re=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=re}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pm={focusedElem:n,selectionRange:a},Th=!1,_n=i;_n!==null;)if(i=_n,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,_n=n;else for(;_n!==null;){switch(i=_n,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var Me=ja(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Me,m),u.__reactInternalSnapshotBeforeUpdate=n}catch($e){It(a,a.return,$e)}}break;case 3:if(n&1024){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Um(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Um(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,_n=n;break}_n=i.return}return Me=e_,e_=!1,Me}function t_(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(n,a),u&4&&Zl(5,a);break;case 1:if(Wi(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(A){It(a,a.return,A)}else{var f=ja(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){It(a,a.return,A)}}u&64&&Qv(a),u&512&&Ua(a,a.return);break;case 3:if(Wi(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$v(u,n)}catch(A){It(a,a.return,A)}}break;case 26:Wi(n,a),u&512&&Ua(a,a.return);break;case 27:case 5:Wi(n,a),i===null&&u&4&&Xv(a),u&512&&Ua(a,a.return);break;case 12:Wi(n,a);break;case 13:Wi(n,a),u&4&&i_(n,a);break;case 22:if(f=a.memoizedState!==null||Yi,!f){i=i!==null&&i.memoizedState!==null||Gt;var m=Yi,T=Gt;Yi=f,(Gt=i)&&!T?Os(n,a,(a.subtreeFlags&8772)!==0):Wi(n,a),Yi=m,Gt=T}u&512&&(a.memoizedProps.mode==="manual"?Ua(a,a.return):cr(a,a.return));break;default:Wi(n,a)}}function n_(n){var i=n.alternate;i!==null&&(n.alternate=null,n_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&lr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tn=null,hr=!1;function Xi(n,i,a){for(a=a.child;a!==null;)r_(n,i,a),a=a.sibling}function r_(n,i,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Gt||cr(a,i),Xi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||cr(a,i);var u=tn,f=hr;for(tn=a.stateNode,Xi(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);lr(a),tn=u,hr=f;break;case 5:Gt||cr(a,i);case 6:f=tn;var m=hr;if(tn=null,Xi(n,i,a),tn=f,hr=m,tn!==null)if(hr)try{n=tn,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(T){It(a,i,T)}else try{tn.removeChild(a.stateNode)}catch(T){It(a,i,T)}break;case 18:tn!==null&&(hr?(i=tn,a=a.stateNode,i.nodeType===8?Lm(i.parentNode,a):i.nodeType===1&&Lm(i,a),gu(i)):Lm(tn,a.stateNode));break;case 4:u=tn,f=hr,tn=a.stateNode.containerInfo,hr=!0,Xi(n,i,a),tn=u,hr=f;break;case 0:case 11:case 14:case 15:Gt||Ns(2,a,i),Gt||Ns(4,a,i),Xi(n,i,a);break;case 1:Gt||(cr(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Yv(a,i,u)),Xi(n,i,a);break;case 21:Xi(n,i,a);break;case 22:Gt||cr(a,i),Gt=(u=Gt)||a.memoizedState!==null,Xi(n,i,a),Gt=u;break;default:Xi(n,i,a)}}function i_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gu(n)}catch(a){It(i,i.return,a)}}function WA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Jv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Jv),i;default:throw Error(s(435,n.tag))}}function om(n,i){var a=WA(n);i.forEach(function(u){var f=cw.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Nr(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:case 5:tn=A.stateNode,hr=!1;break e;case 3:tn=A.stateNode.containerInfo,hr=!0;break e;case 4:tn=A.stateNode.containerInfo,hr=!0;break e}A=A.return}if(tn===null)throw Error(s(160));r_(m,T,f),tn=null,hr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)s_(i,n),i=i.sibling}var $r=null;function s_(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nr(i,n),Or(n),u&4&&(Ns(3,n,n.return),Zl(3,n),Ns(5,n,n.return));break;case 1:Nr(i,n),Or(n),u&512&&(Gt||a===null||cr(a,a.return)),u&64&&Yi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=$r;if(Nr(i,n),Or(n),u&512&&(Gt||a===null||cr(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Kn]||m[Ne]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),In(m,u,a),m[Ne]=n,_t(m),u=m;break e;case"link":var T=X_("link","href",f).get(u+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break t}}m=f.createElement(u),In(m,u,a),f.head.appendChild(m);break;case"meta":if(T=X_("meta","content",f).get(u+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break t}}m=f.createElement(u),In(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ne]=n,_t(m),u=m}n.stateNode=u}else W_(f,n.type,n.stateNode);else n.stateNode=Y_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?W_(f,n.type,n.stateNode):Y_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Wv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var H=D.nextSibling,ie=D.nodeName;D[Kn]||ie==="HEAD"||ie==="BODY"||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=H}for(var fe=n.type,J=f.attributes;J.length;)f.removeAttributeNode(J[0]);In(f,fe,m),f[Ne]=n,f[Ve]=m}catch(Me){It(n,n.return,Me)}}case 5:if(Nr(i,n),Or(n),u&512&&(Gt||a===null||cr(a,a.return)),n.flags&32){f=n.stateNode;try{br(f,"")}catch(Me){It(n,n.return,Me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Wv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(am=!0);break;case 6:if(Nr(i,n),Or(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Me){It(n,n.return,Me)}}break;case 3:if(vh=null,f=$r,$r=gh(i.containerInfo),Nr(i,n),$r=f,Or(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{gu(i.containerInfo)}catch(Me){It(n,n.return,Me)}am&&(am=!1,a_(n));break;case 4:u=$r,$r=gh(n.stateNode.containerInfo),Nr(i,n),Or(n),$r=u;break;case 12:Nr(i,n),Or(n);break;case 13:Nr(i,n),Or(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gm=ne()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,om(n,u)));break;case 22:if(u&512&&(Gt||a===null||cr(a,a.return)),D=n.memoizedState!==null,H=a!==null&&a.memoizedState!==null,ie=Yi,fe=Gt,Yi=ie||D,Gt=fe||H,Nr(i,n),Gt=fe,Yi=ie,Or(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Yi||Gt,a===null||H||i||Oo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){H=a=i;try{if(f=H.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=H.stateNode,A=H.memoizedProps.style;var re=A!=null&&A.hasOwnProperty("display")?A.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Me){It(H,H.return,Me)}}}else if(i.tag===6){if(a===null){H=i;try{H.stateNode.nodeValue=D?"":H.memoizedProps}catch(Me){It(H,H.return,Me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,om(n,a))));break;case 19:Nr(i,n),Or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,om(n,u)));break;case 21:break;default:Nr(i,n),Or(n)}}function Or(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Zv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=im(n);th(n,m,f);break;case 5:var T=u.stateNode;u.flags&32&&(br(T,""),u.flags&=-33);var A=im(n);th(n,A,T);break;case 3:case 4:var D=u.stateNode.containerInfo,H=im(n);sm(n,H,D);break;default:throw Error(s(161))}}}catch(ie){It(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function a_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Wi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(n,i.alternate,i),i=i.sibling}function Oo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ns(4,i,i.return),Oo(i);break;case 1:cr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yv(i,i.return,a),Oo(i);break;case 26:case 27:case 5:cr(i,i.return),Oo(i);break;case 22:cr(i,i.return),i.memoizedState===null&&Oo(i);break;default:Oo(i)}n=n.sibling}}function Os(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Os(f,m,a),Zl(4,m);break;case 1:if(Os(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){It(u,u.return,H)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Kv(D[f],A)}catch(H){It(u,u.return,H)}}a&&T&64&&Qv(m),Ua(m,m.return);break;case 26:case 27:case 5:Os(f,m,a),a&&u===null&&T&4&&Xv(m),Ua(m,m.return);break;case 12:Os(f,m,a);break;case 13:Os(f,m,a),a&&T&4&&i_(f,m);break;case 22:m.memoizedState===null&&Os(f,m,a),Ua(m,m.return);break;default:Os(f,m,a)}i=i.sibling}}function lm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Fl(a))}function um(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fl(n))}function Ms(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(n,i,a,u),i=i.sibling}function o_(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ms(n,i,a,u),f&2048&&Zl(9,i);break;case 3:Ms(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fl(n)));break;case 12:if(f&2048){Ms(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){It(i,i.return,D)}}else Ms(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Ms(n,i,a,u):Jl(n,i):m._visibility&4?Ms(n,i,a,u):(m._visibility|=4,Mo(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&lm(i.alternate,i);break;case 24:Ms(n,i,a,u),f&2048&&um(i.alternate,i);break;default:Ms(n,i,a,u)}}function Mo(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,T=i,A=a,D=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:Mo(m,T,A,D,f),Zl(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&4?Mo(m,T,A,D,f):Jl(m,T):(ie._visibility|=4,Mo(m,T,A,D,f)),f&&H&2048&&lm(T.alternate,T);break;case 24:Mo(m,T,A,D,f),f&&H&2048&&um(T.alternate,T);break;default:Mo(m,T,A,D,f)}i=i.sibling}}function Jl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Jl(a,u),f&2048&&lm(u.alternate,u);break;case 24:Jl(a,u),f&2048&&um(u.alternate,u);break;default:Jl(a,u)}i=i.sibling}}var eu=8192;function Vo(n){if(n.subtreeFlags&eu)for(n=n.child;n!==null;)l_(n),n=n.sibling}function l_(n){switch(n.tag){case 26:Vo(n),n.flags&eu&&n.memoizedState!==null&&Uw($r,n.memoizedState,n.memoizedProps);break;case 5:Vo(n);break;case 3:case 4:var i=$r;$r=gh(n.stateNode.containerInfo),Vo(n),$r=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=eu,eu=16777216,Vo(n),eu=i):Vo(n));break;default:Vo(n)}}function u_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function tu(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];_n=u,h_(u,n)}u_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 0:case 11:case 15:tu(n),n.flags&2048&&Ns(9,n,n.return);break;case 3:tu(n);break;case 12:tu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,nh(n)):tu(n);break;default:tu(n)}}function nh(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];_n=u,h_(u,n)}u_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ns(8,i,i.return),nh(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,nh(i));break;default:nh(i)}n=n.sibling}}function h_(n,i){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:Ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,_n=u;else e:for(a=n;_n!==null;){u=_n;var f=u.sibling,m=u.return;if(n_(u),u===a){_n=null;break e}if(f!==null){f.return=m,_n=f;break e}_n=m}}}function ZA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(n,i,a,u){return new ZA(n,i,a,u)}function cm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vs(n,i){var a=n.alternate;return a===null?(a=Mr(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function f_(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function rh(n,i,a,u,f,m){var T=0;if(u=n,typeof n=="function")cm(n)&&(T=1);else if(typeof n=="string")T=kw(n,a,Dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return za(a.children,f,m,i);case g:T=8,f|=24;break;case _:return n=Mr(12,a,i,f|2),n.elementType=_,n.lanes=m,n;case q:return n=Mr(13,a,i,f),n.elementType=q,n.lanes=m,n;case L:return n=Mr(19,a,i,f),n.elementType=L,n.lanes=m,n;case ee:return d_(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case x:T=10;break e;case S:T=9;break e;case V:T=11;break e;case Z:T=14;break e;case z:T=16,u=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Mr(T,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function za(n,i,a,u){return n=Mr(7,n,u,i),n.lanes=a,n}function d_(n,i,a,u){n=Mr(22,n,u,i),n.elementType=ee,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var T=bs(m,2);T!==null&&(f._pendingVisibility|=2,Xn(T,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if(f._pendingVisibility&2){var T=bs(m,2);T!==null&&(f._pendingVisibility&=-3,Xn(T,m,2))}}};return n.stateNode=f,n}function hm(n,i,a){return n=Mr(6,n,null,i),n.lanes=a,n}function fm(n,i,a){return i=Mr(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Zi(n){n.flags|=4}function m_(n,i){if(i.type!=="stylesheet"||i.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!Z_(i)){if(i=Dr.current,i!==null&&((mt&4194176)===mt?yi!==null:(mt&62914560)!==mt&&!(mt&536870912)||i!==yi))throw Ul=yd,Ny;n.flags|=8192}}function ih(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?k():536870912,n.lanes|=i,jo|=i)}function nu(n,i){if(!yt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function zt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function JA(n,i,a){var u=i.pendingProps;switch(pd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return zt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qi(un),er(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Pl(i)?Zi(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kr!==null&&(Em(Kr),Kr=null))),zt(i),null;case 26:return a=i.memoizedState,n===null?(Zi(i),a!==null?(zt(i),m_(i,a)):(zt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Zi(i),zt(i),m_(i,a)):(zt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Zi(i),zt(i),i.flags&=-16777217),null;case 27:ri(i),a=Vn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return zt(i),null}n=Dt.current,Pl(i)?Iy(i):(n=q_(f,u,a),i.stateNode=n,Zi(i))}return zt(i),null;case 5:if(ri(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return zt(i),null}if(n=Dt.current,Pl(i))Iy(i);else{switch(f=ph(Vn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Ne]=i,n[Ve]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(In(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zi(i)}}return zt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Zi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Vn.current,Pl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=Yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ne]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||L_(n.nodeValue,a)),n||Da(i)}else n=ph(n).createTextNode(u),n[Ne]=i,i.stateNode=n}return zt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Pl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ne]=i}else jl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;zt(i),f=!1}else Kr!==null&&(Em(Kr),Kr=null),f=!0;if(!f)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),i.flags&128)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ih(i,i.updateQueue),zt(i),null;case 4:return er(),n===null&&Nm(i.stateNode.containerInfo),zt(i),null;case 10:return Qi(i.type),zt(i),null;case 19:if(wt(ln),f=i.memoizedState,f===null)return zt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)nu(f,!1);else{if(Kt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(m=Bc(n),m!==null){for(i.flags|=128,nu(f,!1),n=m.updateQueue,i.updateQueue=n,ih(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)f_(a,n),a=a.sibling;return He(ln,ln.current&1|2),i.child}n=n.sibling}f.tail!==null&&ne()>sh&&(i.flags|=128,u=!0,nu(f,!1),i.lanes=4194304)}else{if(!u)if(n=Bc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,ih(i,n),nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!yt)return zt(i),null}else 2*ne()-f.renderingStartTime>sh&&a!==536870912&&(i.flags|=128,u=!0,nu(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ne(),i.sibling=null,n=ln.current,He(ln,u?n&1|2:n&1),i):(zt(i),null);case 22:case 23:return qi(i),_d(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?a&536870912&&!(i.flags&128)&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),a=i.updateQueue,a!==null&&ih(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&wt(Oa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(un),zt(i),null;case 25:return null}throw Error(s(156,i.tag))}function ew(n,i){switch(pd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qi(un),er(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ri(i),null;case 13:if(qi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return wt(ln),null;case 4:return er(),null;case 10:return Qi(i.type),null;case 22:case 23:return qi(i),_d(),n!==null&&wt(Oa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qi(un),null;case 25:return null;default:return null}}function p_(n,i){switch(pd(i),i.tag){case 3:Qi(un),er();break;case 26:case 27:case 5:ri(i);break;case 4:er();break;case 13:qi(i);break;case 19:wt(ln);break;case 10:Qi(i.type);break;case 22:case 23:qi(i),_d(),n!==null&&wt(Oa);break;case 24:Qi(un)}}var tw={getCacheForType:function(n){var i=jn(un),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},nw=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Ot=null,rt=null,mt=0,Mt=0,fr=null,Ji=!1,Po=!1,dm=!1,es=0,Kt=0,Ps=0,Ba=0,mm=0,Vr=0,jo=0,ru=null,_i=null,pm=!1,gm=0,sh=1/0,ah=null,js=null,oh=!1,Fa=null,iu=0,ym=0,vm=null,su=0,_m=null;function dr(){if(Bt&2&&mt!==0)return mt&-mt;if(R.T!==null){var n=xo;return n!==0?n:xm()}return Re()}function g_(){Vr===0&&(Vr=!(mt&536870912)||yt?ma():536870912);var n=Dr.current;return n!==null&&(n.flags|=32),Vr}function Xn(n,i,a){(n===Ot&&Mt===2||n.cancelPendingCommit!==null)&&(ko(n,0),ts(n,mt,Vr,!1)),Y(n,a),(!(Bt&2)||n!==Ot)&&(n===Ot&&(!(Bt&2)&&(Ba|=a),Kt===4&&ts(n,mt,Vr,!1)),Ei(n))}function y_(n,i,a){if(Bt&6)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||or(n,i),f=u?sw(n,i):Sm(n,i,!0),m=u;do{if(f===0){Po&&!u&&ts(n,i,0,!1);break}else if(f===6)ts(n,i,0,!Ji);else{if(a=n.current.alternate,m&&!rw(a)){f=Sm(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=n;f=ru;var D=A.current.memoizedState.isDehydrated;if(D&&(ko(A,T).flags|=256),T=Sm(A,T,!1),T!==2){if(dm&&!D){A.errorRecoveryDisabledLanes|=m,Ba|=m,f=4;break e}m=_i,_i=f,m!==null&&Em(m)}f=T}if(m=!1,f!==2)continue}}if(f===1){ko(n,0),ts(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ts(u,i,Vr,!Ji);break e}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=gm+300-ne(),10<m)){if(ts(u,i,Vr,!Ji),wn(u,0)!==0)break e;u.timeoutHandle=B_(v_.bind(null,u,a,_i,ah,pm,i,Vr,Ba,jo,Ji,2,-0,0),m);break e}v_(u,a,_i,ah,pm,i,Vr,Ba,jo,Ji,0,-0,0)}}break}while(!0);Ei(n)}function Em(n){_i===null?_i=n:_i.push.apply(_i,n)}function v_(n,i,a,u,f,m,T,A,D,H,ie,fe,J){var re=i.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:Lw},l_(i),i=zw(),i!==null)){n.cancelPendingCommit=i(w_.bind(null,n,a,u,f,T,A,D,1,fe,J)),ts(n,m,T,!H);return}w_(n,a,u,f,T,A,D,ie,fe,J)}function rw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!ur(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(n,i,a,u){i&=~mm,i&=~Ba,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-Ht(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&Te(n,a,i)}function lh(){return Bt&6?!0:(au(0),!1)}function Tm(){if(rt!==null){if(Mt===0)var n=rt.return;else n=rt,$i=ka=null,xd(n),wo=null,zl=0,n=rt;for(;n!==null;)p_(n.alternate,n),n=n.return;rt=null}}function ko(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,bw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Tm(),Ot=n,rt=a=Vs(n.current,null),mt=i,Mt=0,fr=null,Ji=!1,Po=or(n,i),dm=!1,jo=Vr=mm=Ba=Ps=Kt=0,_i=ru=null,pm=!1,i&8&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Ht(u),m=1<<f;i|=n[f],u&=~m}return es=i,Oc(),a}function __(n,i){tt=null,R.H=vi,i===Ll?(i=Vy(),Mt=3):i===Ny?(i=Vy(),Mt=4):Mt=i===Ov?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fr=i,rt===null&&(Kt=1,Zc(n,xr(i,n.current)))}function E_(){var n=R.H;return R.H=vi,n===null?vi:n}function T_(){var n=R.A;return R.A=tw,n}function bm(){Kt=4,Ji||(mt&4194176)!==mt&&Dr.current!==null||(Po=!0),!(Ps&134217727)&&!(Ba&134217727)||Ot===null||ts(Ot,mt,Vr,!1)}function Sm(n,i,a){var u=Bt;Bt|=2;var f=E_(),m=T_();(Ot!==n||mt!==i)&&(ah=null,ko(n,i)),i=!1;var T=Kt;e:do try{if(Mt!==0&&rt!==null){var A=rt,D=fr;switch(Mt){case 8:Tm(),T=6;break e;case 3:case 2:case 6:Dr.current===null&&(i=!0);var H=Mt;if(Mt=0,fr=null,Lo(n,A,D,H),a&&Po){T=0;break e}break;default:H=Mt,Mt=0,fr=null,Lo(n,A,D,H)}}iw(),T=Kt;break}catch(ie){__(n,ie)}while(!0);return i&&n.shellSuspendCounter++,$i=ka=null,Bt=u,R.H=f,R.A=m,rt===null&&(Ot=null,mt=0,Oc()),T}function iw(){for(;rt!==null;)b_(rt)}function sw(n,i){var a=Bt;Bt|=2;var u=E_(),f=T_();Ot!==n||mt!==i?(ah=null,sh=ne()+500,ko(n,i)):Po=or(n,i);e:do try{if(Mt!==0&&rt!==null){i=rt;var m=fr;t:switch(Mt){case 1:Mt=0,fr=null,Lo(n,i,m,1);break;case 2:if(Oy(m)){Mt=0,fr=null,S_(i);break}i=function(){Mt===2&&Ot===n&&(Mt=7),Ei(n)},m.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:Oy(m)?(Mt=0,fr=null,S_(i)):(Mt=0,fr=null,Lo(n,i,m,7));break;case 5:var T=null;switch(rt.tag){case 26:T=rt.memoizedState;case 5:case 27:var A=rt;if(!T||Z_(T)){Mt=0,fr=null;var D=A.sibling;if(D!==null)rt=D;else{var H=A.return;H!==null?(rt=H,uh(H)):rt=null}break t}}Mt=0,fr=null,Lo(n,i,m,5);break;case 6:Mt=0,fr=null,Lo(n,i,m,6);break;case 8:Tm(),Kt=6;break e;default:throw Error(s(462))}}aw();break}catch(ie){__(n,ie)}while(!0);return $i=ka=null,R.H=u,R.A=f,Bt=a,rt!==null?0:(Ot=null,mt=0,Oc(),Kt)}function aw(){for(;rt!==null&&!M();)b_(rt)}function b_(n){var i=qv(n.alternate,n,es);n.memoizedProps=n.pendingProps,i===null?uh(n):rt=i}function S_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Lv(a,i,i.pendingProps,i.type,void 0,mt);break;case 11:i=Lv(a,i,i.pendingProps,i.type.render,i.ref,mt);break;case 5:xd(i);default:p_(a,i),i=rt=f_(i,es),i=qv(a,i,es)}n.memoizedProps=n.pendingProps,i===null?uh(n):rt=i}function Lo(n,i,a,u){$i=ka=null,xd(i),wo=null,zl=0;var f=i.return;try{if(QA(n,f,i,a,mt)){Kt=1,Zc(n,xr(a,n.current)),rt=null;return}}catch(m){if(f!==null)throw rt=f,m;Kt=1,Zc(n,xr(a,n.current)),rt=null;return}i.flags&32768?(yt||u===1?n=!0:Po||mt&536870912?n=!1:(Ji=n=!0,(u===2||u===3||u===6)&&(u=Dr.current,u!==null&&u.tag===13&&(u.flags|=16384))),A_(i,n)):uh(i)}function uh(n){var i=n;do{if(i.flags&32768){A_(i,Ji);return}n=i.return;var a=JA(i.alternate,i,es);if(a!==null){rt=a;return}if(i=i.sibling,i!==null){rt=i;return}rt=i=n}while(i!==null);Kt===0&&(Kt=5)}function A_(n,i){do{var a=ew(n.alternate,n);if(a!==null){a.flags&=32767,rt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){rt=n;return}rt=n=a}while(n!==null);Kt=6,rt=null}function w_(n,i,a,u,f,m,T,A,D,H){var ie=R.T,fe=_e.p;try{_e.p=2,R.T=null,ow(n,i,a,u,fe,f,m,T,A,D,H)}finally{R.T=ie,_e.p=fe}}function ow(n,i,a,u,f,m,T,A){do Uo();while(Fa!==null);if(Bt&6)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var H=D.lanes|D.childLanes;if(H|=fd,de(n,u,H,m,T,A),n===Ot&&(rt=Ot=null,mt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||oh||(oh=!0,ym=H,vm=a,hw(be,function(){return Uo(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=R.T,R.T=null,m=_e.p,_e.p=2,T=Bt,Bt|=4,XA(n,D),s_(D,n),NA(Pm,n.containerInfo),Th=!!Vm,Pm=Vm=null,n.current=D,t_(n,D.alternate,D),W(),Bt=T,_e.p=m,R.T=a):n.current=D,oh?(oh=!1,Fa=n,iu=u):R_(n,H),H=n.pendingLanes,H===0&&(js=null),Mi(D.stateNode),Ei(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)H=i[D],f(H.value,{componentStack:H.stack});return iu&3&&Uo(),H=n.pendingLanes,u&4194218&&H&42?n===_m?su++:(su=0,_m=n):su=0,au(0),null}function R_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Fl(i)))}function Uo(){if(Fa!==null){var n=Fa,i=ym;ym=0;var a=Ue(iu),u=R.T,f=_e.p;try{if(_e.p=32>a?32:a,R.T=null,Fa===null)var m=!1;else{a=vm,vm=null;var T=Fa,A=iu;if(Fa=null,iu=0,Bt&6)throw Error(s(331));var D=Bt;if(Bt|=4,c_(T.current),o_(T,T.current,A,a),Bt=D,au(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Gn,T)}catch{}m=!0}return m}finally{_e.p=f,R.T=u,R_(n,i)}}return!1}function x_(n,i,a){i=xr(a,i),i=Bd(n.stateNode,i,2),n=Ds(n,i,2),n!==null&&(Y(n,2),Ei(n))}function It(n,i,a){if(n.tag===3)x_(n,n,a);else for(;i!==null;){if(i.tag===3){x_(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(js===null||!js.has(u))){n=xr(a,n),a=Dv(2),u=Ds(i,a,2),u!==null&&(Nv(a,u,i,n),Y(u,2),Ei(u));break}}i=i.return}}function Am(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new nw;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(dm=!0,f.add(a),n=lw.bind(null,n,i,a),i.then(n,n))}function lw(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ot===n&&(mt&a)===a&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>ne()-gm?!(Bt&2)&&ko(n,0):mm|=a,jo===mt&&(jo=0)),Ei(n)}function C_(n,i){i===0&&(i=k()),n=bs(n,i),n!==null&&(Y(n,i),Ei(n))}function uw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),C_(n,a)}function cw(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),C_(n,a)}function hw(n,i){return si(n,i)}var ch=null,zo=null,wm=!1,hh=!1,Rm=!1,Ha=0;function Ei(n){n!==zo&&n.next===null&&(zo===null?ch=zo=n:zo=zo.next=n),hh=!0,wm||(wm=!0,dw(fw))}function au(n,i){if(!Rm&&hh){Rm=!0;do for(var a=!1,u=ch;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Ht(42|n)+1)-1,m&=f&~(T&~A),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,N_(u,m))}else m=mt,m=wn(u,u===Ot?m:0),!(m&3)||or(u,m)||(a=!0,N_(u,m));u=u.next}while(a);Rm=!1}}function fw(){hh=wm=!1;var n=0;Ha!==0&&(Tw()&&(n=Ha),Ha=0);for(var i=ne(),a=null,u=ch;u!==null;){var f=u.next,m=I_(u,i);m===0?(u.next=null,a===null?ch=f:a.next=f,f===null&&(zo=a)):(a=u,(n!==0||m&3)&&(hh=!0)),u=f}au(n)}function I_(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Ht(m),A=1<<T,D=f[T];D===-1?(!(A&a)||A&u)&&(f[T]=ys(A,i)):D<=i&&(n.expiredLanes|=A),m&=~A}if(i=Ot,a=mt,a=wn(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Mt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Fr(u),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||or(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Fr(u),Ue(a)){case 2:case 8:a=ae;break;case 32:a=be;break;case 268435456:a=Rt;break;default:a=be}return u=D_.bind(null,n),a=si(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Fr(u),n.callbackPriority=2,n.callbackNode=null,2}function D_(n,i){var a=n.callbackNode;if(Uo()&&n.callbackNode!==a)return null;var u=mt;return u=wn(n,n===Ot?u:0),u===0?null:(y_(n,u,i),I_(n,ne()),n.callbackNode!=null&&n.callbackNode===a?D_.bind(null,n):null)}function N_(n,i){if(Uo())return null;y_(n,i,!0)}function dw(n){Sw(function(){Bt&6?si(he,n):n()})}function xm(){return Ha===0&&(Ha=ma()),Ha}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ui(""+n)}function M_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function mw(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=O_((f[Ve]||null).action),T=u.submitter;T&&(i=(i=T[Ve]||null)?O_(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var A=new co("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ha!==0){var D=T?M_(f,T):new FormData(f);jd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?M_(f,T):new FormData(f),jd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Cm=0;Cm<wy.length;Cm++){var Im=wy[Cm],pw=Im.toLowerCase(),gw=Im[0].toUpperCase()+Im.slice(1);Gr(pw,"on"+gw)}Gr(Ey,"onAnimationEnd"),Gr(Ty,"onAnimationIteration"),Gr(by,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(MA,"onTransitionRun"),Gr(VA,"onTransitionStart"),Gr(PA,"onTransitionCancel"),Gr(Sy,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function V_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,H=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(ie){Wc(ie)}f.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,H=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(ie){Wc(ie)}f.currentTarget=null,m=D}}}}function ut(n,i){var a=i[Pt];a===void 0&&(a=i[Pt]=new Set);var u=n+"__bubble";a.has(u)||(P_(i,n,2,!1),a.add(u))}function Dm(n,i,a){var u=0;i&&(u|=4),P_(a,n,u,i)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Nm(n){if(!n[fh]){n[fh]=!0,oi.forEach(function(a){a!=="selectionchange"&&(yw.has(a)||Dm(a,!1,n),Dm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[fh]||(i[fh]=!0,Dm("selectionchange",!1,i))}}function P_(n,i,a,u){switch(i0(i)){case 2:var f=Hw;break;case 8:f=qw;break;default:f=qm}a=f.bind(null,i,a,n),f=void 0,!Ar||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Om(n,i,a,u,f){var m=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&(D=T.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;T=T.return}for(;A!==null;){if(T=Qt(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue e}A=A.parentNode}}u=u.return}yc(function(){var H=m,ie=uo(a),fe=[];e:{var J=Ay.get(n);if(J!==void 0){var re=co,Me=n;switch(n){case"keypress":if(hi(a)===0)break e;case"keydown":case"keyup":re=yo;break;case"focusin":Me="focus",re=mo;break;case"focusout":Me="blur",re=mo;break;case"beforeblur":case"afterblur":re=mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wc;break;case Ey:case Ty:case by:re=po;break;case Sy:re=xc;break;case"scroll":case"scrollend":re=vc;break;case"wheel":re=vo;break;case"copy":case"cut":case"paste":re=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Nl;break;case"toggle":case"beforetoggle":re=Ic}var $e=(i&4)!==0,$t=!$e&&(n==="scroll"||n==="scrollend"),K=$e?J!==null?J+"Capture":null:J;$e=[];for(var F=H,X;F!==null;){var oe=F;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||K===null||(oe=_a(F,K),oe!=null&&$e.push(lu(F,oe,X))),$t)break;F=F.return}0<$e.length&&(J=new re(J,Me,null,a,ie),fe.push({event:J,listeners:$e}))}}if(!(i&7)){e:{if(J=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",J&&a!==Sr&&(Me=a.relatedTarget||a.fromElement)&&(Qt(Me)||Me[ht]))break e;if((re||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Me=a.relatedTarget||a.toElement,re=H,Me=Me?Qt(Me):null,Me!==null&&($t=Se(Me),$e=Me.tag,Me!==$t||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(re=null,Me=H),re!==Me)){if($e=wr,oe="onMouseLeave",K="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&($e=Nl,oe="onPointerLeave",K="onPointerEnter",F="pointer"),$t=re==null?J:_r(re),X=Me==null?J:_r(Me),J=new $e(oe,F+"leave",re,a,ie),J.target=$t,J.relatedTarget=X,oe=null,Qt(ie)===H&&($e=new $e(K,F+"enter",Me,a,ie),$e.target=X,$e.relatedTarget=$t,oe=$e),$t=oe,re&&Me)t:{for($e=re,K=Me,F=0,X=$e;X;X=Bo(X))F++;for(X=0,oe=K;oe;oe=Bo(oe))X++;for(;0<F-X;)$e=Bo($e),F--;for(;0<X-F;)K=Bo(K),X--;for(;F--;){if($e===K||K!==null&&$e===K.alternate)break t;$e=Bo($e),K=Bo(K)}$e=null}else $e=null;re!==null&&j_(fe,J,re,$e,!1),Me!==null&&$t!==null&&j_(fe,$t,Me,$e,!0)}}e:{if(J=H?_r(H):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var De=uy;else if(on(J))if(cy)De=IA;else{De=xA;var nt=RA}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?H&&Al(H.elementType)&&(De=uy):De=CA;if(De&&(De=De(n,H))){Bi(fe,De,a,ie);break e}nt&&nt(n,J,H),n==="focusout"&&H&&J.type==="number"&&H.memoizedProps.value!=null&&lo(J,"number",J.value)}switch(nt=H?_r(H):window,n){case"focusin":(on(nt)||nt.contentEditable==="true")&&(_o=nt,ud=H,Vl=null);break;case"focusout":Vl=ud=_o=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,vy(fe,a,ie);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":vy(fe,a,ie)}var je;if(mi)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ft?te(n,a)&&(ze="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(E&&a.locale!=="ko"&&(ft||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ft&&(je=Rl()):(ci=ie,Ts="value"in ci?ci.value:ci.textContent,ft=!0)),nt=dh(H,ze),0<nt.length&&(ze=new Il(ze,n,null,a,ie),fe.push({event:ze,listeners:nt}),je?ze.data=je:(je=ge(a),je!==null&&(ze.data=je)))),(je=v?an(n,a):dt(n,a))&&(ze=dh(H,"onBeforeInput"),0<ze.length&&(nt=new Il("onBeforeInput","beforeinput",null,a,ie),fe.push({event:nt,listeners:ze}),nt.data=je)),mw(fe,n,H,a,ie)}V_(fe,i)})}function lu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function dh(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=_a(n,a),f!=null&&u.unshift(lu(n,f,m)),f=_a(n,i),f!=null&&u.push(lu(n,f,m))),n=n.return}return u}function Bo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function j_(n,i,a,u,f){for(var m=i._reactName,T=[];a!==null&&a!==u;){var A=a,D=A.alternate,H=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||H===null||(D=H,f?(H=_a(a,m),H!=null&&T.unshift(lu(a,H,D))):f||(H=_a(a,m),H!=null&&T.push(lu(a,H,D)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var vw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function k_(n){return(typeof n=="string"?n:""+n).replace(vw,`
`).replace(_w,"")}function L_(n,i){return i=k_(i),k_(n)===i}function mh(){}function Ct(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||br(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&br(n,""+u);break;case"className":vs(n,"class",u);break;case"tabIndex":vs(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(n,a,u);break;case"style":gc(n,u,m);break;case"data":if(i!=="object"){vs(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ui(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Ct(n,i,"name",f.name,f,null),Ct(n,i,"formEncType",f.formEncType,f,null),Ct(n,i,"formMethod",f.formMethod,f,null),Ct(n,i,"formTarget",f.formTarget,f,null)):(Ct(n,i,"encType",f.encType,f,null),Ct(n,i,"method",f.method,f,null),Ct(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ui(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=mh);break;case"onScroll":u!=null&&ut("scroll",n);break;case"onScrollEnd":u!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ui(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":ut("beforetoggle",n),ut("toggle",n),li(n,"popover",u);break;case"xlinkActuate":Tr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Tr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Tr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Tr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Tr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Tr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Tr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Tr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Tr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":li(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nd.get(a)||a,li(n,a,u))}}function Mm(n,i,a,u,f,m){switch(a){case"style":gc(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?br(n,u):(typeof u=="number"||typeof u=="bigint")&&br(n,""+u);break;case"onScroll":u!=null&&ut("scroll",n);break;case"onScrollEnd":u!=null&&ut("scrollend",n);break;case"onClick":u!=null&&(n.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):li(n,a,u)}}}function In(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(n,i,m,T,a,null)}}f&&Ct(n,i,"srcSet",a.srcSet,a,null),u&&Ct(n,i,"src",a.src,a,null);return;case"input":ut("invalid",n);var A=m=T=f=null,D=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var ie=a[u];if(ie!=null)switch(u){case"name":f=ie;break;case"type":T=ie;break;case"checked":D=ie;break;case"defaultChecked":H=ie;break;case"value":m=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:Ct(n,i,u,ie,a,null)}}ya(n,m,A,D,H,T,f,!1),ga(n);return;case"select":ut("invalid",n),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Ct(n,i,f,A,a,null)}i=m,a=T,n.multiple=!!u,i!=null?gt(n,!!u,i,!1):a!=null&&gt(n,!!u,a,!0);return;case"textarea":ut("invalid",n),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ct(n,i,T,A,a,null)}Es(n,u,f,m),ga(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ct(n,i,D,u,a,null)}return;case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(u=0;u<ou.length;u++)ut(ou[u],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(n,i,H,u,a,null)}return;default:if(Al(i)){for(ie in a)a.hasOwnProperty(ie)&&(u=a[ie],u!==void 0&&Mm(n,i,ie,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Ct(n,i,A,u,a,null))}function Ew(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,D=null,H=null,ie=null;for(re in a){var fe=a[re];if(a.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":D=fe;default:u.hasOwnProperty(re)||Ct(n,i,re,null,u,fe)}}for(var J in u){var re=u[J];if(fe=a[J],u.hasOwnProperty(J)&&(re!=null||fe!=null))switch(J){case"type":m=re;break;case"name":f=re;break;case"checked":H=re;break;case"defaultChecked":ie=re;break;case"value":T=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==fe&&Ct(n,i,J,re,u,fe)}}_s(n,T,A,D,H,ie,m,f);return;case"select":re=T=A=J=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":re=D;default:u.hasOwnProperty(m)||Ct(n,i,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":J=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&Ct(n,i,f,m,u,D)}i=A,a=T,u=re,J!=null?gt(n,!!a,J,!1):!!u!=!!a&&(i!=null?gt(n,!!a,i,!0):gt(n,!!a,a?[]:"",!1));return;case"textarea":re=J=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ct(n,i,A,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":J=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ct(n,i,T,f,u,m)}va(n,J,re);return;case"option":for(var Me in a)if(J=a[Me],a.hasOwnProperty(Me)&&J!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":n.selected=!1;break;default:Ct(n,i,Me,null,u,J)}for(D in u)if(J=u[D],re=a[D],u.hasOwnProperty(D)&&J!==re&&(J!=null||re!=null))switch(D){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ct(n,i,D,J,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in a)J=a[$e],a.hasOwnProperty($e)&&J!=null&&!u.hasOwnProperty($e)&&Ct(n,i,$e,null,u,J);for(H in u)if(J=u[H],re=a[H],u.hasOwnProperty(H)&&J!==re&&(J!=null||re!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Ct(n,i,H,J,u,re)}return;default:if(Al(i)){for(var $t in a)J=a[$t],a.hasOwnProperty($t)&&J!==void 0&&!u.hasOwnProperty($t)&&Mm(n,i,$t,void 0,u,J);for(ie in u)J=u[ie],re=a[ie],!u.hasOwnProperty(ie)||J===re||J===void 0&&re===void 0||Mm(n,i,ie,J,u,re);return}}for(var K in a)J=a[K],a.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&Ct(n,i,K,null,u,J);for(fe in u)J=u[fe],re=a[fe],!u.hasOwnProperty(fe)||J===re||J==null&&re==null||Ct(n,i,fe,J,u,re)}var Vm=null,Pm=null;function ph(n){return n.nodeType===9?n:n.ownerDocument}function U_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function jm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function Tw(){var n=window.event;return n&&n.type==="popstate"?n===km?!1:(km=n,!0):(km=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(n){return F_.resolve(null).then(n).catch(Aw)}:B_;function Aw(n){setTimeout(function(){throw n})}function Lm(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),gu(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);gu(i)}function Um(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Um(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ww(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Kn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Qr(n.nextSibling),n===null)break}return null}function Rw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qr(n.nextSibling),n===null))return null;return n}function Qr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function H_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function q_(n,i,a){switch(i=ph(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Pr=new Map,G_=new Set;function gh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ns=_e.d;_e.d={f:xw,r:Cw,D:Iw,C:Dw,L:Nw,m:Ow,X:Vw,S:Mw,M:Pw};function xw(){var n=ns.f(),i=lh();return n||i}function Cw(n){var i=Zt(n);i!==null&&i.tag===5&&i.type==="form"?vv(i):ns.r(n)}var Fo=typeof document>"u"?null:document;function K_(n,i,a){var u=Fo;if(u&&typeof i=="string"&&i){var f=qt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),G_.has(f)||(G_.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),In(i,"link",n),_t(i),u.head.appendChild(i)))}}function Iw(n){ns.D(n),K_("dns-prefetch",n,null)}function Dw(n,i){ns.C(n,i),K_("preconnect",n,i)}function Nw(n,i,a){ns.L(n,i,a);var u=Fo;if(u&&n&&i){var f='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+qt(a.imageSizes)+'"]')):f+='[href="'+qt(n)+'"]';var m=f;switch(i){case"style":m=Ho(n);break;case"script":m=qo(n)}Pr.has(m)||(n=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Pr.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(uu(m))||i==="script"&&u.querySelector(cu(m))||(i=u.createElement("link"),In(i,"link",n),_t(i),u.head.appendChild(i)))}}function Ow(n,i){ns.m(n,i);var a=Fo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+qt(u)+'"][href="'+qt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=qo(n)}if(!Pr.has(m)&&(n=N({rel:"modulepreload",href:n},i),Pr.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cu(m)))return}u=a.createElement("link"),In(u,"link",n),_t(u),a.head.appendChild(u)}}}function Mw(n,i,a){ns.S(n,i,a);var u=Fo;if(u&&n){var f=nr(u).hoistableStyles,m=Ho(n);i=i||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(uu(m)))A.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Pr.get(m))&&zm(n,a);var D=T=u.createElement("link");_t(D),In(D,"link",n),D._p=new Promise(function(H,ie){D.onload=H,D.onerror=ie}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yh(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function Vw(n,i){ns.X(n,i);var a=Fo;if(a&&n){var u=nr(a).hoistableScripts,f=qo(n),m=u.get(f);m||(m=a.querySelector(cu(f)),m||(n=N({src:n,async:!0},i),(i=Pr.get(f))&&Bm(n,i),m=a.createElement("script"),_t(m),In(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Pw(n,i){ns.M(n,i);var a=Fo;if(a&&n){var u=nr(a).hoistableScripts,f=qo(n),m=u.get(f);m||(m=a.querySelector(cu(f)),m||(n=N({src:n,async:!0,type:"module"},i),(i=Pr.get(f))&&Bm(n,i),m=a.createElement("script"),_t(m),In(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function $_(n,i,a,u){var f=(f=Vn.current)?gh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ho(a.href),a=nr(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ho(a.href);var m=nr(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(uu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Pr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pr.set(n,a),m||jw(f,n,a,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qo(a),a=nr(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ho(n){return'href="'+qt(n)+'"'}function uu(n){return'link[rel="stylesheet"]['+n+"]"}function Q_(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function jw(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),In(i,"link",a),_t(i),n.head.appendChild(i))}function qo(n){return'[src="'+qt(n)+'"]'}function cu(n){return"script[async]"+n}function Y_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+qt(a.href)+'"]');if(u)return i.instance=u,_t(u),u;var f=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),_t(u),In(u,"style",f),yh(u,a.precedence,n),i.instance=u;case"stylesheet":f=Ho(a.href);var m=n.querySelector(uu(f));if(m)return i.state.loading|=4,i.instance=m,_t(m),m;u=Q_(a),(f=Pr.get(f))&&zm(u,f),m=(n.ownerDocument||n).createElement("link"),_t(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),In(m,"link",u),i.state.loading|=4,yh(m,a.precedence,n),i.instance=m;case"script":return m=qo(a.src),(f=n.querySelector(cu(m)))?(i.instance=f,_t(f),f):(u=a,(f=Pr.get(m))&&(u=N({},a),Bm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),In(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(u=i.instance,i.state.loading|=4,yh(u,a.precedence,n));return i.instance}function yh(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function zm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Bm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var vh=null;function X_(n,i,a){if(vh===null){var u=new Map,f=vh=new Map;f.set(a,u)}else f=vh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Kn]||m[Ne]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=n+T;var A=u.get(T);A?A.push(m):u.set(T,[m])}}return u}function W_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function kw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z_(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var hu=null;function Lw(){}function Uw(n,i,a){if(hu===null)throw Error(s(475));var u=hu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var f=Ho(a.href),m=n.querySelector(uu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=_h.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,_t(m);return}m=n.ownerDocument||n,a=Q_(a),(f=Pr.get(f))&&zm(a,f),m=m.createElement("link"),_t(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),In(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&!(i.state.loading&3)&&(u.count++,i=_h.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function zw(){if(hu===null)throw Error(s(475));var n=hu;return n.stylesheets&&n.count===0&&Fm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Fm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Eh=null;function Fm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Eh=new Map,i.forEach(Bw,n),Eh=null,_h.call(n))}function Bw(n,i){if(!(i.state.loading&4)){var a=Eh.get(n);if(a)var u=a.get(null);else{a=new Map,Eh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=_h.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var fu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Fe,_currentValue2:Fe,_threadCount:0};function Fw(n,i,a,u,f,m,T,A){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function J_(n,i,a,u,f,m,T,A,D,H,ie,fe){return n=new Fw(n,i,a,T,A,D,H,fe),i=1,m===!0&&(i|=24),m=Mr(3,null,null,i),n.current=m,m.stateNode=n,i=Ed(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},em(m),n}function e0(n){return n?(n=bo,n):bo}function t0(n,i,a,u,f,m){f=e0(f),u.context===null?u.context=f:u.pendingContext=f,u=Is(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ds(n,u,i),a!==null&&(Xn(a,n,i),Yl(a,n,i))}function n0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Hm(n,i){n0(n,i),(n=n.alternate)&&n0(n,i)}function r0(n){if(n.tag===13){var i=bs(n,67108864);i!==null&&Xn(i,n,67108864),Hm(n,67108864)}}var Th=!0;function Hw(n,i,a,u){var f=R.T;R.T=null;var m=_e.p;try{_e.p=2,qm(n,i,a,u)}finally{_e.p=m,R.T=f}}function qw(n,i,a,u){var f=R.T;R.T=null;var m=_e.p;try{_e.p=8,qm(n,i,a,u)}finally{_e.p=m,R.T=f}}function qm(n,i,a,u){if(Th){var f=Gm(u);if(f===null)Om(n,i,u,bh,a),s0(n,u);else if(Kw(f,n,i,a,u))u.stopPropagation();else if(s0(n,u),i&4&&-1<Gw.indexOf(n)){for(;f!==null;){var m=Zt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=tr(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ht(T);A.entanglements[1]|=D,T&=~D}Ei(m),!(Bt&6)&&(sh=ne()+500,au(0))}}break;case 13:A=bs(m,2),A!==null&&Xn(A,m,2),lh(),Hm(m,2)}if(m=Gm(u),m===null&&Om(n,i,u,bh,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Om(n,i,u,null,a)}}function Gm(n){return n=uo(n),Km(n)}var bh=null;function Km(n){if(bh=null,n=Qt(n),n!==null){var i=Se(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Xe(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return bh=n,null}function i0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case he:return 2;case ae:return 8;case be:case We:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var $m=!1,ks=null,Ls=null,Us=null,du=new Map,mu=new Map,zs=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(n,i){switch(n){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(i.pointerId)}}function pu(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Zt(i),i!==null&&r0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Kw(n,i,a,u,f){switch(i){case"focusin":return ks=pu(ks,n,i,a,u,f),!0;case"dragenter":return Ls=pu(Ls,n,i,a,u,f),!0;case"mouseover":return Us=pu(Us,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return du.set(m,pu(du.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,mu.set(m,pu(mu.get(m)||null,n,i,a,u,f)),!0}return!1}function a0(n){var i=Qt(n.target);if(i!==null){var a=Se(i);if(a!==null){if(i=a.tag,i===13){if(i=Xe(a),i!==null){n.blockedOn=i,xe(n.priority,function(){if(a.tag===13){var u=dr(),f=bs(a,u);f!==null&&Xn(f,a,u),Hm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Gm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Sr=u,a.target.dispatchEvent(u),Sr=null}else return i=Zt(a),i!==null&&r0(i),n.blockedOn=a,!1;i.shift()}return!0}function o0(n,i,a){Sh(n)&&a.delete(i)}function $w(){$m=!1,ks!==null&&Sh(ks)&&(ks=null),Ls!==null&&Sh(Ls)&&(Ls=null),Us!==null&&Sh(Us)&&(Us=null),du.forEach(o0),mu.forEach(o0)}function Ah(n,i){n.blockedOn===i&&(n.blockedOn=null,$m||($m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$w)))}var wh=null;function l0(n){wh!==n&&(wh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wh===n&&(wh=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Km(u||a)===null)continue;break}var m=Zt(a);m!==null&&(n.splice(i,3),i-=3,jd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function gu(n){function i(D){return Ah(D,n)}ks!==null&&Ah(ks,n),Ls!==null&&Ah(Ls,n),Us!==null&&Ah(Us,n),du.forEach(i),mu.forEach(i);for(var a=0;a<zs.length;a++){var u=zs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)a0(a),a.blockedOn===null&&zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[Ve]||null;if(typeof m=="function")T||l0(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Ve]||null)A=T.formAction;else if(Km(f)!==null)continue}else A=T.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),l0(a)}}}function Qm(n){this._internalRoot=n}Rh.prototype.render=Qm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=dr();t0(a,u,n,i,null,null)},Rh.prototype.unmount=Qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Uo(),t0(n.current,2,null,n,null,null),lh(),i[ht]=null}};function Rh(n){this._internalRoot=n}Rh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Re();n={blockedOn:null,target:n,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,n),a===0&&a0(n)}};var u0=e.version;if(u0!=="19.0.0")throw Error(s(527,u0,"19.0.0"));_e.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ce(i),n=n!==null?we(n):null,n=n===null?null:n.stateNode,n};var Qw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Gn=xh.inject(Qw),Ut=xh}catch{}}return vu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=Rv,m=xv,T=Cv,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=J_(n,1,!1,null,null,a,u,f,m,T,A,null),n[ht]=i.current,Nm(n.nodeType===8?n.parentNode:n),new Qm(i)},vu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Rv,T=xv,A=Cv,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=J_(n,1,!0,i,a??null,u,f,m,T,A,D,H),i.context=e0(null),a=i.current,u=dr(),f=Is(u),f.callback=null,Ds(a,f,u),i.current.lanes=u,Y(i,u),Ei(i),n[ht]=i.current,Nm(n),new Rh(i)},vu.version="19.0.0",vu}var _0;function iR(){if(_0)return Wm.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wm.exports=rR(),Wm.exports}var sR=iR(),_u={},E0;function aR(){if(E0)return _u;E0=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.parse=c,_u.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,x){const V=new l,q=S.length;if(q<2)return V;const L=(x==null?void 0:x.decode)||_;let Z=0;do{const z=S.indexOf("=",Z);if(z===-1)break;const ee=S.indexOf(";",Z),pe=ee===-1?q:ee;if(z>pe){Z=S.lastIndexOf(";",z-1)+1;continue}const se=d(S,Z,z),B=p(S,z,se),O=S.slice(se,B);if(V[O]===void 0){let C=d(S,z+1,pe),R=p(S,pe,C);const N=L(S.slice(C,R));V[O]=N}Z=pe+1}while(Z<q);return V}function d(S,x,V){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<V);return V}function p(S,x,V){for(;x>V;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return V}function g(S,x,V){const q=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=q(x);if(!e.test(L))throw new TypeError(`argument val is invalid: ${x}`);let Z=S+"="+L;if(!V)return Z;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);Z+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);Z+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);Z+="; Path="+V.path}if(V.expires){if(!b(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);Z+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(Z+="; HttpOnly"),V.secure&&(Z+="; Secure"),V.partitioned&&(Z+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return Z}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return _u}aR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T0="popstate";function oR(r={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=ds(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hu("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:na(l))}function s(o,l){fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return uR(e,t,s,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function b0(r,e){return{usr:r.state,key:r.key,idx:e}}function Hu(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ds(e):e,state:t,key:e&&e.key||s||lR()}}function na({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ds(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){d="POP";let L=_(),Z=L==null?null:L-g;g=L,p&&p({action:d,location:q.location,delta:Z})}function S(L,Z){d="PUSH";let z=Hu(q.location,L,Z);t&&t(z,L),g=_()+1;let ee=b0(z,g),pe=q.createHref(z);try{c.pushState(ee,"",pe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(pe)}l&&p&&p({action:d,location:q.location,delta:1})}function x(L,Z){d="REPLACE";let z=Hu(q.location,L,Z);t&&t(z,L),g=_();let ee=b0(z,g),pe=q.createHref(z);c.replaceState(ee,"",pe),l&&p&&p({action:d,location:q.location,delta:0})}function V(L){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof L=="string"?L:na(L);return z=z.replace(/ $/,"%20"),ot(Z,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,Z)}let q={get action(){return d},get location(){return r(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T0,b),p=L,()=>{o.removeEventListener(T0,b),p=null}},createHref(L){return e(o,L)},createURL:V,encodeLocation(L){let Z=V(L);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:x,go(L){return c.go(L)}};return q}var cR=new Set(["lazy","caseSensitive","path","id","index","children"]);function hR(r){return r.index===!0}function Wh(r,e,t=[],s={}){return r.map((o,l)=>{let c=[...t,String(l)],d=typeof o.id=="string"?o.id:c.join("-");if(ot(o.index!==!0||!o.children,"Cannot specify children on an index route"),ot(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),hR(o)){let p={...o,...e(o),id:d};return s[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return s[d]=p,o.children&&(p.children=Wh(o.children,e,c,s)),p}})}function qs(r,e,t="/"){return kh(r,e,t,!1)}function kh(r,e,t,s){let o=typeof e=="string"?ds(e):e,l=ei(o.pathname||"/",t);if(l==null)return null;let c=xT(r);dR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=AR(l);d=bR(c[p],g,s)}return d}function fR(r,e){let{route:t,pathname:s,params:o}=r;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function xT(r,e=[],t=[],s=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=wi([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),xT(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:ER(g,l.index),routesMeta:_})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of CT(l.path))o(l,c,p)}),e}function CT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=CT(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function dR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var mR=/^:[\w-]+$/,pR=3,gR=2,yR=1,vR=10,_R=-2,S0=r=>r==="*";function ER(r,e){let t=r.split("/"),s=t.length;return t.some(S0)&&(s+=_R),e&&(s+=gR),t.filter(o=>!S0(o)).reduce((o,l)=>o+(mR.test(l)?pR:l===""?yR:vR),s)}function TR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function bR(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=Zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:wi([l,b.pathname]),pathnameBase:xR(wi([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=wi([l,b.pathnameBase]))}return c}function Zh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=SR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let V=d[S]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[S];return b&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function SR(r,e=!1,t=!0){fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function AR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ei(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function wR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ds(r):r;return{pathname:t?t.startsWith("/")?t:RR(t,e):e,search:CR(s),hash:IR(o)}}function RR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function tp(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Af(r){let e=IT(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wf(r,e,t,s=!1){let o;typeof r=="string"?o=ds(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),tp("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),tp("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),tp("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=wR(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var wi=r=>r.join("/").replace(/\/\/+/g,"/"),xR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Jh=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var DT=["POST","PUT","PATCH","DELETE"],DR=new Set(DT),NR=["GET",...DT],OR=new Set(NR),MR=new Set([301,302,303,307,308]),VR=new Set([307,308]),np={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),NT="remix-router-transitions",OT=Symbol("ResetLoaderData");function kR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||jR,o={},l=Wh(r.routes,s,void 0,o),c,d=r.basename||"/",p=r.dataStrategy||FR,g=r.patchRoutesOnNavigation,_={...r.future},b=null,S=new Set,x=null,V=null,q=null,L=r.hydrationData!=null,Z=qs(l,r.history.location,d),z=!1,ee=null;if(Z==null&&!g){let k=kr(404,{pathname:r.history.location.pathname}),{matches:G,route:Y}=V0(l);Z=G,ee={[Y.id]:k}}Z&&!r.hydrationData&&wn(Z,l,r.history.location.pathname).active&&(Z=null);let pe;if(Z)if(Z.some(k=>k.route.lazy))pe=!1;else if(!Z.some(k=>k.route.loader))pe=!0;else{let k=r.hydrationData?r.hydrationData.loaderData:null,G=r.hydrationData?r.hydrationData.errors:null;if(G){let Y=Z.findIndex(de=>G[de.route.id]!==void 0);pe=Z.slice(0,Y+1).every(de=>!Tp(de.route,k,G))}else pe=Z.every(Y=>!Tp(Y.route,k,G))}else{pe=!1,Z=[];let k=wn(null,l,r.history.location.pathname);k.active&&k.matches&&(z=!0,Z=k.matches)}let se,B={historyAction:r.history.action,location:r.history.location,matches:Z,initialized:pe,navigation:np,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},O="POP",C=!1,R,N=!1,j=new Map,U=null,I=!1,Be=!1,Je=new Set,ue=new Map,Ce=0,Se=-1,Xe=new Map,P=new Set,ce=new Map,we=new Map,ve=new Set,_e=new Map,Fe,Le=null;function Vt(){if(b=r.history.listen(({action:k,location:G,delta:Y})=>{if(Fe){Fe(),Fe=void 0;return}fn(_e.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Hr({currentLocation:B.location,nextLocation:G,historyAction:k});if(de&&Y!=null){let Te=new Promise(Ie=>{Fe=Ie});r.history.go(Y*-1),Ht(de,{state:"blocked",location:G,proceed(){Ht(de,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Te.then(()=>r.history.go(Y))},reset(){let Ie=new Map(B.blockers);Ie.set(de,Eu),He({blockers:Ie})}});return}return sn(k,G)}),t){JR(e,j);let k=()=>ex(e,j);e.addEventListener("pagehide",k),U=()=>e.removeEventListener("pagehide",k)}return B.initialized||sn("POP",B.location,{initialHydration:!0}),se}function it(){b&&b(),U&&U(),S.clear(),R&&R.abort(),B.fetchers.forEach((k,G)=>We(G)),B.blockers.forEach((k,G)=>Pn(G))}function wt(k){return S.add(k),()=>S.delete(k)}function He(k,G={}){B={...B,...k};let Y=[],de=[];B.fetchers.forEach((Te,Ie)=>{Te.state==="idle"&&(ve.has(Ie)?Y.push(Ie):de.push(Ie))}),ve.forEach(Te=>{!B.fetchers.has(Te)&&!ue.has(Te)&&Y.push(Te)}),[...S].forEach(Te=>Te(B,{deletedFetchers:Y,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Y.forEach(Te=>We(Te)),de.forEach(Te=>B.fetchers.delete(Te))}function Dt(k,G,{flushSync:Y}={}){var ye,Ne;let de=B.actionData!=null&&B.navigation.formMethod!=null&&Xr(B.navigation.formMethod)&&B.navigation.state==="loading"&&((ye=k.state)==null?void 0:ye._isRedirect)!==!0,Te;G.actionData?Object.keys(G.actionData).length>0?Te=G.actionData:Te=null:de?Te=B.actionData:Te=null;let Ie=G.loaderData?O0(B.loaderData,G.loaderData,G.matches||[],G.errors):B.loaderData,Ue=B.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Ve,ht)=>Ue.set(ht,Eu)));let Re=C===!0||B.navigation.formMethod!=null&&Xr(B.navigation.formMethod)&&((Ne=k.state)==null?void 0:Ne._isRedirect)!==!0;c&&(l=c,c=void 0),I||O==="POP"||(O==="PUSH"?r.history.push(k,k.state):O==="REPLACE"&&r.history.replace(k,k.state));let xe;if(O==="POP"){let Ve=j.get(B.location.pathname);Ve&&Ve.has(k.pathname)?xe={currentLocation:B.location,nextLocation:k}:j.has(k.pathname)&&(xe={currentLocation:k,nextLocation:B.location})}else if(N){let Ve=j.get(B.location.pathname);Ve?Ve.add(k.pathname):(Ve=new Set([k.pathname]),j.set(B.location.pathname,Ve)),xe={currentLocation:B.location,nextLocation:k}}He({...G,actionData:Te,loaderData:Ie,historyAction:O,location:k,initialized:!0,navigation:np,revalidation:"idle",restoreScrollPosition:tr(k,G.matches||B.matches),preventScrollReset:Re,blockers:Ue},{viewTransitionOpts:xe,flushSync:Y===!0}),O="POP",C=!1,N=!1,I=!1,Be=!1,Le==null||Le.resolve(),Le=null}async function qn(k,G){if(typeof k=="number"){r.history.go(k);return}let Y=Ep(B.location,B.matches,d,k,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:de,submission:Te,error:Ie}=A0(!1,Y,G),Ue=B.location,Re=Hu(B.location,de,G&&G.state);Re={...Re,...r.history.encodeLocation(Re)};let xe=G&&G.replace!=null?G.replace:void 0,ye="PUSH";xe===!0?ye="REPLACE":xe===!1||Te!=null&&Xr(Te.formMethod)&&Te.formAction===B.location.pathname+B.location.search&&(ye="REPLACE");let Ne=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Ve=(G&&G.flushSync)===!0,ht=Hr({currentLocation:Ue,nextLocation:Re,historyAction:ye});if(ht){Ht(ht,{state:"blocked",location:Re,proceed(){Ht(ht,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),qn(k,G)},reset(){let Pt=new Map(B.blockers);Pt.set(ht,Eu),He({blockers:Pt})}});return}await sn(ye,Re,{submission:Te,pendingError:Ie,preventScrollReset:Ne,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Ve})}function Vn(){Le||(Le=tx()),Ee(),He({revalidation:"loading"});let k=Le.promise;return B.navigation.state==="submitting"?k:B.navigation.state==="idle"?(sn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),k):(sn(O||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:N===!0}),k)}async function sn(k,G,Y){R&&R.abort(),R=null,O=k,I=(Y&&Y.startUninterruptedRevalidation)===!0,ai(B.location,B.matches),C=(Y&&Y.preventScrollReset)===!0,N=(Y&&Y.enableViewTransition)===!0;let de=c||l,Te=Y&&Y.overrideNavigation,Ie=Y!=null&&Y.initialHydration&&B.matches&&B.matches.length>0&&!z?B.matches:qs(de,G,d),Ue=(Y&&Y.flushSync)===!0;if(Ie&&B.initialized&&!Be&&QR(B.location,G)&&!(Y&&Y.submission&&Xr(Y.submission.formMethod))){Dt(G,{matches:Ie},{flushSync:Ue});return}let Re=wn(Ie,de,G.pathname);if(Re.active&&Re.matches&&(Ie=Re.matches),!Ie){let{error:Tt,notFoundMatches:st,route:jt}=gs(G.pathname);Dt(G,{matches:st,loaderData:{},errors:{[jt.id]:Tt}},{flushSync:Ue});return}R=new AbortController;let xe=Go(r.history,G,R.signal,Y&&Y.submission),ye;if(Y&&Y.pendingError)ye=[Ka(Ie).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Xr(Y.submission.formMethod)){let Tt=await yr(xe,G,Y.submission,Ie,Re.active,{replace:Y.replace,flushSync:Ue});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[st,jt]=Tt.pendingActionResult;if(mr(jt)&&qu(jt.error)&&jt.error.status===404){R=null,Dt(G,{matches:Tt.matches,loaderData:{},errors:{[st]:jt.error}});return}}Ie=Tt.matches||Ie,ye=Tt.pendingActionResult,Te=rp(G,Y.submission),Ue=!1,Re.active=!1,xe=Go(r.history,xe.url,xe.signal)}let{shortCircuited:Ne,matches:Ve,loaderData:ht,errors:Pt}=await er(xe,G,Ie,Re.active,Te,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ue,ye);Ne||(R=null,Dt(G,{matches:Ve||Ie,...M0(ye),loaderData:ht,errors:Pt}))}async function yr(k,G,Y,de,Te,Ie={}){Ee();let Ue=WR(G,Y);if(He({navigation:Ue},{flushSync:Ie.flushSync===!0}),Te){let ye=await or(de,G.pathname,k.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ne=Ka(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ne,{type:"error",error:ye.error}]}}else if(ye.matches)de=ye.matches;else{let{notFoundMatches:Ne,error:Ve,route:ht}=gs(G.pathname);return{matches:Ne,pendingActionResult:[ht.id,{type:"error",error:Ve}]}}}let Re,xe=Iu(de,G);if(!xe.route.action&&!xe.route.lazy)Re={type:"error",error:kr(405,{method:k.method,pathname:G.pathname,routeId:xe.route.id})};else if(Re=(await W("action",B,k,[xe],de,null))[xe.route.id],k.signal.aborted)return{shortCircuited:!0};if($a(Re)){let ye;return Ie&&Ie.replace!=null?ye=Ie.replace:ye=I0(Re.response.headers.get("Location"),new URL(k.url),d)===B.location.pathname+B.location.search,await M(k,Re,!0,{submission:Y,replace:ye}),{shortCircuited:!0}}if(mr(Re)){let ye=Ka(de,xe.route.id);return(Ie&&Ie.replace)!==!0&&(O="PUSH"),{matches:de,pendingActionResult:[ye.route.id,Re]}}return{matches:de,pendingActionResult:[xe.route.id,Re]}}async function er(k,G,Y,de,Te,Ie,Ue,Re,xe,ye,Ne){let Ve=Te||rp(G,Ie),ht=Ie||Ue||j0(Ve),Pt=!I&&!xe;if(de){if(Pt){let Et=Br(Ne);He({navigation:Ve,...Et!==void 0?{actionData:Et}:{}},{flushSync:ye})}let et=await or(Y,G.pathname,k.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let Et=Ka(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[Et]:et.error}}}else if(et.matches)Y=et.matches;else{let{error:Et,notFoundMatches:pn,route:Vi}=gs(G.pathname);return{matches:pn,loaderData:{},errors:{[Vi.id]:Et}}}}let Tt=c||l,[st,jt]=R0(r.history,B,Y,ht,G,xe===!0,Be,Je,ve,ce,P,Tt,d,Ne);if(Se=++Ce,st.length===0&&jt.length===0){let et=Gn();return Dt(G,{matches:Y,loaderData:{},errors:Ne&&mr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...M0(Ne),...et?{fetchers:new Map(B.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(Pt){let et={};if(!de){et.navigation=Ve;let Et=Br(Ne);Et!==void 0&&(et.actionData=Et)}jt.length>0&&(et.fetchers=ri(jt)),He(et,{flushSync:ye})}jt.forEach(et=>{At(et.key),et.controller&&ue.set(et.key,et.controller)});let Kn=()=>jt.forEach(et=>At(et.key));R&&R.signal.addEventListener("abort",Kn);let{loaderResults:lr,fetcherResults:Qt}=await ne(B,Y,st,jt,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Kn),jt.forEach(et=>ue.delete(et.key));let Zt=Ch(lr);if(Zt)return await M(k,Zt.result,!0,{replace:Re}),{shortCircuited:!0};if(Zt=Ch(Qt),Zt)return P.add(Zt.key),await M(k,Zt.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:_r,errors:nr}=N0(B,Y,lr,Ne,jt,Qt);xe&&B.errors&&(nr={...B.errors,...nr});let _t=Gn(),oi=Ut(Se),qr=_t||oi||jt.length>0;return{matches:Y,loaderData:_r,errors:nr,...qr?{fetchers:new Map(B.fetchers)}:{}}}function Br(k){if(k&&!mr(k[1]))return{[k[0]]:k[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function ri(k){return k.forEach(G=>{let Y=B.fetchers.get(G.key),de=Tu(void 0,Y?Y.data:void 0);B.fetchers.set(G.key,de)}),new Map(B.fetchers)}async function ii(k,G,Y,de){At(k);let Te=(de&&de.flushSync)===!0,Ie=c||l,Ue=Ep(B.location,B.matches,d,Y,G,de==null?void 0:de.relative),Re=qs(Ie,Ue,d),xe=wn(Re,Ie,Ue);if(xe.active&&xe.matches&&(Re=xe.matches),!Re){ae(k,G,kr(404,{pathname:Ue}),{flushSync:Te});return}let{path:ye,submission:Ne,error:Ve}=A0(!0,Ue,de);if(Ve){ae(k,G,Ve,{flushSync:Te});return}let ht=Iu(Re,ye),Pt=(de&&de.preventScrollReset)===!0;if(Ne&&Xr(Ne.formMethod)){await si(k,G,ye,ht,Re,xe.active,Te,Pt,Ne);return}ce.set(k,{routeId:G,path:ye}),await Fr(k,G,ye,ht,Re,xe.active,Te,Pt,Ne)}async function si(k,G,Y,de,Te,Ie,Ue,Re,xe){Ee(),ce.delete(k);function ye(Nt){if(!Nt.route.action&&!Nt.route.lazy){let Er=kr(405,{method:xe.formMethod,pathname:Y,routeId:G});return ae(k,G,Er,{flushSync:Ue}),!0}return!1}if(!Ie&&ye(de))return;let Ne=B.fetchers.get(k);he(k,ZR(xe,Ne),{flushSync:Ue});let Ve=new AbortController,ht=Go(r.history,Y,Ve.signal,xe);if(Ie){let Nt=await or(Te,Y,ht.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){ae(k,G,Nt.error,{flushSync:Ue});return}else if(Nt.matches){if(Te=Nt.matches,de=Iu(Te,Y),ye(de))return}else{ae(k,G,kr(404,{pathname:Y}),{flushSync:Ue});return}}ue.set(k,Ve);let Pt=Ce,st=(await W("action",B,ht,[de],Te,k))[de.route.id];if(ht.signal.aborted){ue.get(k)===Ve&&ue.delete(k);return}if(ve.has(k)){if($a(st)||mr(st)){he(k,Hs(void 0));return}}else{if($a(st))if(ue.delete(k),Se>Pt){he(k,Hs(void 0));return}else return P.add(k),he(k,Tu(xe)),M(ht,st,!1,{fetcherSubmission:xe,preventScrollReset:Re});if(mr(st)){ae(k,G,st.error);return}}let jt=B.navigation.location||B.location,Kn=Go(r.history,jt,Ve.signal),lr=c||l,Qt=B.navigation.state!=="idle"?qs(lr,B.navigation.location,d):B.matches;ot(Qt,"Didn't find any matches after fetcher action");let Zt=++Ce;Xe.set(k,Zt);let _r=Tu(xe,st.data);B.fetchers.set(k,_r);let[nr,_t]=R0(r.history,B,Qt,xe,jt,!1,Be,Je,ve,ce,P,lr,d,[de.route.id,st]);_t.filter(Nt=>Nt.key!==k).forEach(Nt=>{let Er=Nt.key,pa=B.fetchers.get(Er),li=Tu(void 0,pa?pa.data:void 0);B.fetchers.set(Er,li),At(Er),Nt.controller&&ue.set(Er,Nt.controller)}),He({fetchers:new Map(B.fetchers)});let oi=()=>_t.forEach(Nt=>At(Nt.key));Ve.signal.addEventListener("abort",oi);let{loaderResults:qr,fetcherResults:et}=await ne(B,Qt,nr,_t,Kn);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",oi),Xe.delete(k),ue.delete(k),_t.forEach(Nt=>ue.delete(Nt.key));let Et=Ch(qr);if(Et)return M(Kn,Et.result,!1,{preventScrollReset:Re});if(Et=Ch(et),Et)return P.add(Et.key),M(Kn,Et.result,!1,{preventScrollReset:Re});let{loaderData:pn,errors:Vi}=N0(B,Qt,qr,void 0,_t,et);if(B.fetchers.has(k)){let Nt=Hs(st.data);B.fetchers.set(k,Nt)}Ut(Zt),B.navigation.state==="loading"&&Zt>Se?(ot(O,"Expected pending action"),R&&R.abort(),Dt(B.navigation.location,{matches:Qt,loaderData:pn,errors:Vi,fetchers:new Map(B.fetchers)})):(He({errors:Vi,loaderData:O0(B.loaderData,pn,Qt,Vi),fetchers:new Map(B.fetchers)}),Be=!1)}async function Fr(k,G,Y,de,Te,Ie,Ue,Re,xe){let ye=B.fetchers.get(k);he(k,Tu(xe,ye?ye.data:void 0),{flushSync:Ue});let Ne=new AbortController,Ve=Go(r.history,Y,Ne.signal);if(Ie){let st=await or(Te,Y,Ve.signal);if(st.type==="aborted")return;if(st.type==="error"){ae(k,G,st.error,{flushSync:Ue});return}else if(st.matches)Te=st.matches,de=Iu(Te,Y);else{ae(k,G,kr(404,{pathname:Y}),{flushSync:Ue});return}}ue.set(k,Ne);let ht=Ce,Tt=(await W("loader",B,Ve,[de],Te,k))[de.route.id];if(ue.get(k)===Ne&&ue.delete(k),!Ve.signal.aborted){if(ve.has(k)){he(k,Hs(void 0));return}if($a(Tt))if(Se>ht){he(k,Hs(void 0));return}else{P.add(k),await M(Ve,Tt,!1,{preventScrollReset:Re});return}if(mr(Tt)){ae(k,G,Tt.error);return}he(k,Hs(Tt.data))}}async function M(k,G,Y,{submission:de,fetcherSubmission:Te,preventScrollReset:Ie,replace:Ue}={}){G.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let Re=G.response.headers.get("Location");ot(Re,"Expected a Location header on the redirect Response"),Re=I0(Re,new URL(k.url),d);let xe=Hu(B.location,Re,{_isRedirect:!0});if(t){let Tt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Xp.test(Re)){const st=r.history.createURL(Re);Tt=st.origin!==e.location.origin||ei(st.pathname,d)==null}if(Tt){Ue?e.location.replace(Re):e.location.assign(Re);return}}R=null;let ye=Ue===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ve,formEncType:ht}=B.navigation;!de&&!Te&&Ne&&Ve&&ht&&(de=j0(B.navigation));let Pt=de||Te;if(VR.has(G.response.status)&&Pt&&Xr(Pt.formMethod))await sn(ye,xe,{submission:{...Pt,formAction:Re},preventScrollReset:Ie||C,enableViewTransition:Y?N:void 0});else{let Tt=rp(xe,de);await sn(ye,xe,{overrideNavigation:Tt,fetcherSubmission:Te,preventScrollReset:Ie||C,enableViewTransition:Y?N:void 0})}}async function W(k,G,Y,de,Te,Ie){let Ue,Re={};try{Ue=await HR(p,k,G,Y,de,Te,Ie,o,s)}catch(xe){return de.forEach(ye=>{Re[ye.route.id]={type:"error",error:xe}}),Re}for(let[xe,ye]of Object.entries(Ue))if(YR(ye)){let Ne=ye.result;Re[xe]={type:"redirect",response:KR(Ne,Y,xe,Te,d)}}else Re[xe]=await GR(ye);return Re}async function ne(k,G,Y,de,Te){let Ie=W("loader",k,Te,Y,G,null),Ue=Promise.all(de.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Ve=(await W("loader",k,Go(r.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Ve}}else return Promise.resolve({[ye.key]:{type:"error",error:kr(404,{pathname:ye.path})}})})),Re=await Ie,xe=(await Ue).reduce((ye,Ne)=>Object.assign(ye,Ne),{});return{loaderResults:Re,fetcherResults:xe}}function Ee(){Be=!0,ce.forEach((k,G)=>{ue.has(G)&&Je.add(G),At(G)})}function he(k,G,Y={}){B.fetchers.set(k,G),He({fetchers:new Map(B.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function ae(k,G,Y,de={}){let Te=Ka(B.matches,G);We(k),He({errors:{[Te.route.id]:Y},fetchers:new Map(B.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function be(k){return we.set(k,(we.get(k)||0)+1),ve.has(k)&&ve.delete(k),B.fetchers.get(k)||PR}function We(k){let G=B.fetchers.get(k);ue.has(k)&&!(G&&G.state==="loading"&&Xe.has(k))&&At(k),ce.delete(k),Xe.delete(k),P.delete(k),ve.delete(k),Je.delete(k),B.fetchers.delete(k)}function Rt(k){let G=(we.get(k)||0)-1;G<=0?(we.delete(k),ve.add(k)):we.set(k,G),He({fetchers:new Map(B.fetchers)})}function At(k){let G=ue.get(k);G&&(G.abort(),ue.delete(k))}function vr(k){for(let G of k){let Y=be(G),de=Hs(Y.data);B.fetchers.set(G,de)}}function Gn(){let k=[],G=!1;for(let Y of P){let de=B.fetchers.get(Y);ot(de,`Expected fetcher: ${Y}`),de.state==="loading"&&(P.delete(Y),k.push(Y),G=!0)}return vr(k),G}function Ut(k){let G=[];for(let[Y,de]of Xe)if(de<k){let Te=B.fetchers.get(Y);ot(Te,`Expected fetcher: ${Y}`),Te.state==="loading"&&(At(Y),Xe.delete(Y),G.push(Y))}return vr(G),G.length>0}function Mi(k,G){let Y=B.blockers.get(k)||Eu;return _e.get(k)!==G&&_e.set(k,G),Y}function Pn(k){B.blockers.delete(k),_e.delete(k)}function Ht(k,G){let Y=B.blockers.get(k)||Eu;ot(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${G.state}`);let de=new Map(B.blockers);de.set(k,G),He({blockers:de})}function Hr({currentLocation:k,nextLocation:G,historyAction:Y}){if(_e.size===0)return;_e.size>1&&fn(!1,"A router only supports one blocker at a time");let de=Array.from(_e.entries()),[Te,Ie]=de[de.length-1],Ue=B.blockers.get(Te);if(!(Ue&&Ue.state==="proceeding")&&Ie({currentLocation:k,nextLocation:G,historyAction:Y}))return Te}function gs(k){let G=kr(404,{pathname:k}),Y=c||l,{matches:de,route:Te}=V0(Y);return{notFoundMatches:de,route:Te,error:G}}function ao(k,G,Y){if(x=k,q=G,V=Y||null,!L&&B.navigation===np){L=!0;let de=tr(B.location,B.matches);de!=null&&He({restoreScrollPosition:de})}return()=>{x=null,q=null,V=null}}function ar(k,G){return V&&V(k,G.map(de=>fR(de,B.loaderData)))||k.key}function ai(k,G){if(x&&q){let Y=ar(k,G);x[Y]=q()}}function tr(k,G){if(x){let Y=ar(k,G),de=x[Y];if(typeof de=="number")return de}return null}function wn(k,G,Y){if(g)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:kh(G,Y,d,!0)}}else return{active:!0,matches:kh(G,Y,d,!0)||[]};return{active:!1,matches:null}}async function or(k,G,Y){if(!g)return{type:"success",matches:k};let de=k;for(;;){let Te=c==null,Ie=c||l,Ue=o;try{await g({signal:Y,path:G,matches:de,patch:(ye,Ne)=>{Y.aborted||C0(ye,Ne,Ie,Ue,s)}})}catch(ye){return{type:"error",error:ye,partialMatches:de}}finally{Te&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let Re=qs(Ie,G,d);if(Re)return{type:"success",matches:Re};let xe=kh(Ie,G,d,!0);if(!xe||de.length===xe.length&&de.every((ye,Ne)=>ye.route.id===xe[Ne].route.id))return{type:"success",matches:null};de=xe}}function ys(k){o={},c=Wh(k,s,void 0,o)}function ma(k,G){let Y=c==null;C0(k,G,c||l,o,s),Y&&(l=[...l],He({}))}return se={get basename(){return d},get future(){return _},get state(){return B},get routes(){return l},get window(){return e},initialize:Vt,subscribe:wt,enableScrollRestoration:ao,navigate:qn,fetch:ii,revalidate:Vn,createHref:k=>r.history.createHref(k),encodeLocation:k=>r.history.encodeLocation(k),getFetcher:be,deleteFetcher:Rt,dispose:it,getBlocker:Mi,deleteBlocker:Pn,patchRoutes:ma,_internalFetchControllers:ue,_internalSetRoutes:ys},se}function LR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Ep(r,e,t,s,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let p=wf(s||".",Af(c),ei(r.pathname,t)||r.pathname,l==="path");if(s==null&&(p.search=r.search,p.hash=r.hash),(s==null||s===""||s===".")&&d){let g=Wp(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),b=_.getAll("index");_.delete("index"),b.filter(x=>x).forEach(x=>_.append("index",x));let S=_.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:wi([t,p.pathname])),na(p)}function A0(r,e,t){if(!t||!LR(t))return{path:e};if(t.formMethod&&!XR(t.formMethod))return{path:e,error:kr(405,{method:t.formMethod})};let s=()=>({path:e,error:kr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=VT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Xr(l))return s();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[x,V])=>`${S}${x}=${V}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Xr(l))return s();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}ot(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=bp(t.formData),p=t.formData;else if(t.body instanceof FormData)d=bp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=D0(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=D0(d)}catch{return s()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Xr(g.formMethod))return{path:e,submission:g};let _=ds(e);return r&&_.search&&Wp(_.search)&&d.append("index",""),_.search=`?${d}`,{path:na(_),submission:g}}function w0(r,e,t=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,t?s+1:s):r}function R0(r,e,t,s,o,l,c,d,p,g,_,b,S,x){let V=x?mr(x[1])?x[1].error:x[1].data:void 0,q=r.createURL(e.location),L=r.createURL(o),Z=t;l&&e.errors?Z=w0(t,Object.keys(e.errors)[0],!0):x&&mr(x[1])&&(Z=w0(t,x[0]));let z=x?x[1].statusCode:void 0,ee=z&&z>=400,pe=Z.filter((B,O)=>{let{route:C}=B;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return Tp(C,e.loaderData,e.errors);if(UR(e.loaderData,e.matches[O],B))return!0;let R=e.matches[O],N=B;return x0(B,{currentUrl:q,currentParams:R.params,nextUrl:L,nextParams:N.params,...s,actionResult:V,actionStatus:z,defaultShouldRevalidate:ee?!1:c||q.pathname+q.search===L.pathname+L.search||q.search!==L.search||zR(R,N)})}),se=[];return g.forEach((B,O)=>{if(l||!t.some(U=>U.route.id===B.routeId)||p.has(O))return;let C=qs(b,B.path,S);if(!C){se.push({key:O,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),N=Iu(C,B.path),j=!1;_.has(O)?j=!1:d.has(O)?(d.delete(O),j=!0):R&&R.state!=="idle"&&R.data===void 0?j=c:j=x0(N,{currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:t[t.length-1].params,...s,actionResult:V,actionStatus:z,defaultShouldRevalidate:ee?!1:c}),j&&se.push({key:O,routeId:B.routeId,path:B.path,matches:C,match:N,controller:new AbortController})}),[pe,se]}function Tp(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function UR(r,e,t){let s=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return s||o}function zR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function x0(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function C0(r,e,t,s,o){let l;if(r){let p=s[r];ot(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>MT(p,g))),d=Wh(c,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...d)}function MT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(l=>MT(t,l))}):!1}async function BR(r,e,t){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=t[r.id];ot(o,"No route found in manifest");let l={};for(let c in s){let p=o[c]!==void 0&&c!=="hasErrorBoundary";fn(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!cR.has(c)&&(l[c]=s[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function FR({matches:r}){let e=r.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[e[l].route.id]:o}),{})}async function HR(r,e,t,s,o,l,c,d,p,g){let _=l.map(x=>x.route.lazy?BR(x.route,p,d):void 0),b=l.map((x,V)=>{let q=_[V],L=o.some(z=>z.route.id===x.route.id);return{...x,shouldLoad:L,resolve:async z=>(z&&s.method==="GET"&&(x.route.lazy||x.route.loader)&&(L=!0),L?qR(e,s,x,q,z,g):Promise.resolve({type:"data",result:void 0}))}}),S=await r({matches:b,request:s,params:l[0].params,fetcherKey:c,context:g});try{await Promise.all(_)}catch{}return S}async function qR(r,e,t,s,o,l){let c,d,p=g=>{let _,b=new Promise((V,q)=>_=q);d=()=>_(),e.signal.addEventListener("abort",d);let S=V=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:l},...V!==void 0?[V]:[]),x=(async()=>{try{return{type:"data",result:await(o?o(q=>S(q)):S())}}catch(V){return{type:"error",result:V}}})();return Promise.race([x,b])};try{let g=t.route[r];if(s)if(g){let _,[b]=await Promise.all([p(g).catch(S=>{_=S}),s]);if(_!==void 0)throw _;c=b}else if(await s,g=t.route[r],g)c=await p(g);else if(r==="action"){let _=new URL(e.url),b=_.pathname+_.search;throw kr(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)c=await p(g);else{let _=new URL(e.url),b=_.pathname+_.search;throw kr(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function GR(r){var s,o,l,c,d,p;let{result:e,type:t}=r;if(PT(e)){let g;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(_){return{type:"error",error:_}}return t==="error"?{type:"error",error:new Jh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?P0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Jh(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:qu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:qu(e)?e.status:void 0}:P0(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KR(r,e,t,s,o){let l=r.headers.get("Location");if(ot(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xp.test(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=Ep(new URL(e.url),c,o,l),r.headers.set("Location",l)}return r}function I0(r,e,t){if(Xp.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=ei(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Go(r,e,t,s){let o=r.createURL(VT(e)).toString(),l={signal:t};if(s&&Xr(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=bp(s.formData):l.body=s.formData}return new Request(o,l)}function bp(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function D0(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function $R(r,e,t,s=!1,o=!1){let l={},c=null,d,p=!1,g={},_=t&&mr(t[1])?t[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let S=b.route.id,x=e[S];if(ot(!$a(x),"Cannot handle redirect results in processLoaderData"),mr(x)){let V=x.error;if(_!==void 0&&(V=_,_=void 0),c=c||{},o)c[S]=V;else{let q=Ka(r,S);c[q.route.id]==null&&(c[q.route.id]=V)}s||(l[S]=OT),p||(p=!0,d=qu(x.error)?x.error.status:500),x.headers&&(g[S]=x.headers)}else l[S]=x.data,x.statusCode&&x.statusCode!==200&&!p&&(d=x.statusCode),x.headers&&(g[S]=x.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function N0(r,e,t,s,o,l){let{loaderData:c,errors:d}=$R(e,t,s);return o.forEach(p=>{let{key:g,match:_,controller:b}=p,S=l[g];if(ot(S,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(mr(S)){let x=Ka(r.matches,_==null?void 0:_.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:S.error}),r.fetchers.delete(g)}else if($a(S))ot(!1,"Unhandled fetcher revalidation redirect");else{let x=Hs(S.data);r.fetchers.set(g,x)}}),{loaderData:c,errors:d}}function O0(r,e,t,s){let o=Object.entries(e).filter(([,l])=>l!==OT).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(o[c]=r[c]),s&&s.hasOwnProperty(c))break}return o}function M0(r){return r?mr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ka(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function V0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(r,{pathname:e,routeId:t,method:s,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",d=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Jh(r||500,c,new Error(d),!0)}function Ch(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if($a(o))return{key:s,result:o}}}function VT(r){let e=typeof r=="string"?ds(r):r;return na({...e,hash:""})}function QR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function YR(r){return PT(r.result)&&MR.has(r.result.status)}function mr(r){return r.type==="error"}function $a(r){return(r&&r.type)==="redirect"}function P0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function PT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function XR(r){return OR.has(r.toUpperCase())}function Xr(r){return DR.has(r.toUpperCase())}function Wp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Iu(r,e){let t=typeof e=="string"?ds(e).search:e.search;if(r[r.length-1].route.index&&Wp(t||""))return r[r.length-1];let s=IT(r);return s[s.length-1]}function j0(r){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:l,json:c}=r;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function rp(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Hs(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function JR(r,e){try{let t=r.sessionStorage.getItem(NT);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function ex(r,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{r.sessionStorage.setItem(NT,JSON.stringify(t))}catch(s){fn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function tx(){let r,e,t=new Promise((s,o)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var no=$.createContext(null);no.displayName="DataRouter";var tc=$.createContext(null);tc.displayName="DataRouterState";var Zp=$.createContext({isTransitioning:!1});Zp.displayName="ViewTransition";var jT=$.createContext(new Map);jT.displayName="Fetchers";var nx=$.createContext(null);nx.displayName="Await";var ni=$.createContext(null);ni.displayName="Navigation";var Rf=$.createContext(null);Rf.displayName="Location";var zr=$.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Jp=$.createContext(null);Jp.displayName="RouteError";function rx(r,{relative:e}={}){ot(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(ni),{hash:o,pathname:l,search:c}=nc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:wi([t,l])),s.createHref({pathname:d,search:c,hash:o})}function pl(){return $.useContext(Rf)!=null}function Oi(){return ot(pl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Rf).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(r){$.useContext(ni).static||$.useLayoutEffect(r)}function xf(){let{isDataRoute:r}=$.useContext(zr);return r?_x():ix()}function ix(){ot(pl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(no),{basename:e,navigator:t}=$.useContext(ni),{matches:s}=$.useContext(zr),{pathname:o}=Oi(),l=JSON.stringify(Af(s)),c=$.useRef(!1);return LT(()=>{c.current=!0}),$.useCallback((p,g={})=>{if(fn(c.current,kT),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=wf(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:wi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,r])}var sx=$.createContext(null);function ax(r){let e=$.useContext(zr).outlet;return e&&$.createElement(sx.Provider,{value:r},e)}function ox(){let{matches:r}=$.useContext(zr),e=r[r.length-1];return e?e.params:{}}function nc(r,{relative:e}={}){let{matches:t}=$.useContext(zr),{pathname:s}=Oi(),o=JSON.stringify(Af(t));return $.useMemo(()=>wf(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lx(r,e,t,s){ot(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=$.useContext(ni),{matches:c}=$.useContext(zr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";UT(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=Oi(),x;x=S;let V=x.pathname||"/",q=V;if(_!=="/"){let z=_.replace(/^\//,"").split("/");q="/"+V.replace(/^\//,"").split("/").slice(z.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:qs(r,{pathname:q});return fn(b||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),fn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),dx(L&&L.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:wi([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:wi([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,s)}function ux(){let r=vx(),e=qu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,c)}var cx=$.createElement(ux,null),hx=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(zr.Provider,{value:this.props.routeContext},$.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fx({routeContext:r,match:e,children:t}){let s=$.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(zr.Provider,{value:r},t)}function dx(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:b}=t,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let b,S=!1,x=null,V=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||cx,c&&(d<0&&_===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):d===_&&(S=!0,V=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,_+1)),L=()=>{let Z;return b?Z=x:S?Z=V:g.route.Component?Z=$.createElement(g.route.Component,null):g.route.element?Z=g.route.element:Z=p,$.createElement(fx,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:Z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?$.createElement(hx,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function eg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(r){let e=$.useContext(no);return ot(e,eg(r)),e}function px(r){let e=$.useContext(tc);return ot(e,eg(r)),e}function gx(r){let e=$.useContext(zr);return ot(e,eg(r)),e}function tg(r){let e=gx(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function yx(){return tg("useRouteId")}function vx(){var s;let r=$.useContext(Jp),e=px("useRouteError"),t=tg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function _x(){let{router:r}=mx("useNavigate"),e=tg("useNavigate"),t=$.useRef(!1);return LT(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{fn(t.current,kT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var k0={};function UT(r,e,t){!e&&!k0[r]&&(k0[r]=!0,fn(!1,t))}var L0={};function U0(r,e){!r&&!L0[e]&&(L0[e]=!0,console.warn(e))}function Ex(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&fn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&fn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&fn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var Tx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function bx({router:r,flushSync:e}){let[t,s]=$.useState(r.state),[o,l]=$.useState(),[c,d]=$.useState({isTransitioning:!1}),[p,g]=$.useState(),[_,b]=$.useState(),[S,x]=$.useState(),V=$.useRef(new Map),q=$.useCallback((ee,{deletedFetchers:pe,flushSync:se,viewTransitionOpts:B})=>{ee.fetchers.forEach((C,R)=>{C.data!==void 0&&V.current.set(R,C.data)}),pe.forEach(C=>V.current.delete(C)),U0(se===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(U0(B==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!O){e&&se?e(()=>s(ee)):$.startTransition(()=>s(ee));return}if(e&&se){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let C=r.window.document.startViewTransition(()=>{e(()=>s(ee))});C.finished.finally(()=>{e(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>b(C));return}_?(p&&p.resolve(),_.skipTransition(),x({state:ee,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,e,_,p]);$.useLayoutEffect(()=>r.subscribe(q),[r,q]),$.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new Tx)},[c]),$.useEffect(()=>{if(p&&o&&r.window){let ee=o,pe=p.promise,se=r.window.document.startViewTransition(async()=>{$.startTransition(()=>s(ee)),await pe});se.finished.finally(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})}),b(se)}},[o,p,r.window]),$.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),$.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),x(void 0))},[c.isTransitioning,S]);let L=$.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ee=>r.navigate(ee),push:(ee,pe,se)=>r.navigate(ee,{state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(ee,pe,se)=>r.navigate(ee,{replace:!0,state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[r]),Z=r.basename||"/",z=$.useMemo(()=>({router:r,navigator:L,static:!1,basename:Z}),[r,L,Z]);return $.createElement($.Fragment,null,$.createElement(no.Provider,{value:z},$.createElement(tc.Provider,{value:t},$.createElement(jT.Provider,{value:V.current},$.createElement(Zp.Provider,{value:c},$.createElement(wx,{basename:Z,location:t.location,navigationType:t.historyAction,navigator:L},$.createElement(Sx,{routes:r.routes,future:r.future,state:t})))))),null)}var Sx=$.memo(Ax);function Ax({routes:r,future:e,state:t}){return lx(r,void 0,t,e)}function z0({to:r,replace:e,state:t,relative:s}){ot(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(ni);fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(zr),{pathname:c}=Oi(),d=xf(),p=wf(r,Af(l),c,s==="path"),g=JSON.stringify(p);return $.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function ng(r){return ax(r.context)}function wx({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ot(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=ds(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:S="default"}=t,x=$.useMemo(()=>{let V=ei(p,c);return V==null?null:{location:{pathname:V,search:g,hash:_,state:b,key:S},navigationType:s}},[c,p,g,_,b,S,s]);return fn(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:$.createElement(ni.Provider,{value:d},$.createElement(Rf.Provider,{children:e,value:x}))}var Lh="get",Uh="application/x-www-form-urlencoded";function Cf(r){return r!=null&&typeof r.tagName=="string"}function Rx(r){return Cf(r)&&r.tagName.toLowerCase()==="button"}function xx(r){return Cf(r)&&r.tagName.toLowerCase()==="form"}function Cx(r){return Cf(r)&&r.tagName.toLowerCase()==="input"}function Ix(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dx(r,e){return r.button===0&&(!e||e==="_self")&&!Ix(r)}var Ih=null;function Nx(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var Ox=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(r){return r!=null&&!Ox.has(r)?(fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):r}function Mx(r,e){let t,s,o,l,c;if(xx(r)){let d=r.getAttribute("action");s=d?ei(d,e):null,t=r.getAttribute("method")||Lh,o=ip(r.getAttribute("enctype"))||Uh,l=new FormData(r)}else if(Rx(r)||Cx(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?ei(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Lh,o=ip(r.getAttribute("formenctype"))||ip(d.getAttribute("enctype"))||Uh,l=new FormData(d,r),!Nx()){let{name:g,type:_,value:b}=r;if(_==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,b)}}else{if(Cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lh,s=null,o=Uh,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}function rg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Vx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Px(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jx(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Vx(l,t);return c.links?c.links():[]}return[]}));return zx(s.flat(1).filter(Px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B0(r,e,t,s,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function kx(r,e,{includeHydrateFallback:t}={}){return Lx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Lx(r){return[...new Set(r)]}function Ux(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function zx(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(Ux(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Bx(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Fx(){let r=$.useContext(no);return rg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Hx(){let r=$.useContext(tc);return rg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ig=$.createContext(void 0);ig.displayName="FrameworkContext";function zT(){let r=$.useContext(ig);return rg(r,"You must render this element inside a <HydratedRouter> element"),r}function qx(r,e){let t=$.useContext(ig),[s,o]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,S=$.useRef(null);$.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let q=Z=>{Z.forEach(z=>{c(z.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),$.useEffect(()=>{if(s){let q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:bu(d,x),onBlur:bu(p,V),onMouseEnter:bu(g,x),onMouseLeave:bu(_,V),onTouchStart:bu(b,x)}]:[!1,S,{}]}function bu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Gx({page:r,...e}){let{router:t}=Fx(),s=$.useMemo(()=>qs(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?$.createElement($x,{page:r,matches:s,...e}):null}function Kx(r){let{manifest:e,routeModules:t}=zT(),[s,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return jx(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),s}function $x({page:r,matches:e,...t}){let s=Oi(),{manifest:o,routeModules:l}=zT(),{loaderData:c,matches:d}=Hx(),p=$.useMemo(()=>B0(r,e,d,o,s,"data"),[r,e,d,o,s]),g=$.useMemo(()=>B0(r,e,d,o,s,"assets"),[r,e,d,o,s]),_=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,V=!1;if(e.forEach(L=>{var z;let Z=o.routes[L.route.id];!Z||!Z.hasLoader||(!p.some(ee=>ee.route.id===L.route.id)&&L.route.id in c&&((z=l[L.route.id])!=null&&z.shouldRevalidate)||Z.hasClientLoader?V=!0:x.add(L.route.id))}),x.size===0)return[];let q=Bx(r);return V&&x.size>0&&q.searchParams.set("_routes",e.filter(L=>x.has(L.route.id)).map(L=>L.route.id).join(",")),[q.pathname+q.search]},[c,s,o,p,e,r,l]),b=$.useMemo(()=>kx(g,o),[g,o]),S=Kx(g);return $.createElement($.Fragment,null,_.map(x=>$.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>$.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:V})=>$.createElement("link",{key:x,...V})))}function Qx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BT&&(window.__reactRouterVersion="7.2.0")}catch{}function Yx(r,e){return kR({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:oR({window:e==null?void 0:e.window}),hydrationData:Xx(),routes:r,mapRouteProperties:Ex,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Xx(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Wx(r.errors)}),r}function Wx(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new Jh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var FT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:b,...S},x){let{basename:V}=$.useContext(ni),q=typeof g=="string"&&FT.test(g),L,Z=!1;if(typeof g=="string"&&q&&(L=g,BT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),j=ei(N.pathname,V);N.origin===R.origin&&j!=null?g=j+N.search+N.hash:Z=!0}catch{fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=rx(g,{relative:o}),[ee,pe,se]=qx(s,S),B=tC(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:b});function O(R){e&&e(R),R.defaultPrevented||B(R)}let C=$.createElement("a",{...S,...se,href:L||z,onClick:Z||l?e:O,ref:Qx(x,pe),target:p,"data-discover":!q&&t==="render"?"true":void 0});return ee&&!q?$.createElement($.Fragment,null,C,$.createElement(Gx,{page:z})):C});Nn.displayName="Link";var Zx=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let b=nc(c,{relative:g.relative}),S=Oi(),x=$.useContext(tc),{navigator:V,basename:q}=$.useContext(ni),L=x!=null&&aC(b)&&d===!0,Z=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,z=S.pathname,ee=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(z=z.toLowerCase(),ee=ee?ee.toLowerCase():null,Z=Z.toLowerCase()),ee&&q&&(ee=ei(ee,q)||ee);const pe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let se=z===Z||!o&&z.startsWith(Z)&&z.charAt(pe)==="/",B=ee!=null&&(ee===Z||!o&&ee.startsWith(Z)&&ee.charAt(Z.length)==="/"),O={isActive:se,isPending:B,isTransitioning:L},C=se?e:void 0,R;typeof s=="function"?R=s(O):R=[s,se?"active":null,B?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(O):l;return $.createElement(Nn,{...g,"aria-current":C,className:R,ref:_,style:N,to:c,viewTransition:d},typeof p=="function"?p(O):p)});Zx.displayName="NavLink";var Jx=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Lh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...S},x)=>{let V=iC(),q=sC(d,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",Z=typeof d=="string"&&FT.test(d),z=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,se=(pe==null?void 0:pe.getAttribute("formmethod"))||c;V(pe||ee.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:b})};return $.createElement("form",{ref:x,method:L,action:q,onSubmit:s?p:z,...S,"data-discover":!Z&&r==="render"?"true":void 0})});Jx.displayName="Form";function eC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(r){let e=$.useContext(no);return ot(e,eC(r)),e}function tC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=xf(),p=Oi(),g=nc(r,{relative:l});return $.useCallback(_=>{if(Dx(_,e)){_.preventDefault();let b=t!==void 0?t:na(p)===na(g);d(r,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,g,t,s,e,r,o,l,c])}var nC=0,rC=()=>`__${String(++nC)}__`;function iC(){let{router:r}=HT("useSubmit"),{basename:e}=$.useContext(ni),t=yx();return $.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=Mx(s,e);if(o.navigate===!1){let _=o.fetcherKey||rC();await r.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function sC(r,{relative:e}={}){let{basename:t}=$.useContext(ni),s=$.useContext(zr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...nc(r||".",{relative:e})},c=Oi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:wi([t,l.pathname])),na(l)}function aC(r,e={}){let t=$.useContext(Zp);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HT("useViewTransitionState"),o=nc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ei(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ei(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Zh(o.pathname,c)!=null||Zh(o.pathname,l)!=null}new TextEncoder;var oC=RT();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lC(r){return $.createElement(bx,{flushSync:oC.flushSync,...r})}const uC="_header_13y8r_1",cC="_authDataContainer_13y8r_22",hC="_open_13y8r_34",fC="_logo_13y8r_38",dC="_overlay_13y8r_44",mC="_menuContainer_13y8r_54",pC="_menuButton_13y8r_66",gC="_nav_13y8r_74",yC="_link_13y8r_80",vC="_main_13y8r_90",jr={header:uC,authDataContainer:cC,open:hC,logo:fC,overlay:dC,menuContainer:mC,menuButton:pC,nav:gC,link:yC,main:vC},qT=$.createContext(null),ms=()=>{const r=$.useContext(qT);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},_C="_button_1m3zb_1",EC="_backdrop_1m3zb_5",TC="_modal_1m3zb_18",bC="_actions_1m3zb_29",SC="_confirmButton_1m3zb_35",AC="_cancelButton_1m3zb_43",Ko={button:_C,backdrop:EC,modal:TC,actions:bC,confirmButton:SC,cancelButton:AC},sg=({buttonText:r,modalTitle:e,modalDescription:t,confirmText:s="Підтвердити",cancelText:o="Скасувати",onConfirm:l})=>{const[c,d]=$.useState(!1),p=$.useRef(null);$.useEffect(()=>{const b=S=>{S.key==="Escape"&&d(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),$.useEffect(()=>{c&&p.current&&p.current.focus()},[c]);const g=b=>{p.current&&!p.current.contains(b.target)&&d(!1)},_=()=>{l(),d(!1)};return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:Ko.button,onClick:()=>d(!0),children:r}),c&&y.jsx("div",{className:Ko.backdrop,onClick:g,children:y.jsxs("div",{className:Ko.modal,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-desc",tabIndex:-1,ref:p,children:[y.jsx("h2",{id:"modal-title",children:e}),y.jsx("p",{id:"modal-desc",children:t}),y.jsxs("div",{className:Ko.actions,children:[y.jsx("button",{onClick:_,className:Ko.confirmButton,children:s}),y.jsx("button",{onClick:()=>d(!1),className:Ko.cancelButton,children:o})]})]})})]})},wC="_title_1ugut_1",RC={title:wC},xC=()=>y.jsx("div",{className:RC.title});function CC(){const[r,e]=$.useState(!1),{userData:t,logout:s}=ms(),o=Oi();return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`${jr.header} ${r?jr.open:""}`,children:[y.jsxs("div",{children:[y.jsx("div",{className:jr.logo,children:y.jsx("h1",{children:"Життєвий капітал"})}),y.jsx("nav",{children:y.jsxs("ul",{className:jr.nav,children:[y.jsx("li",{children:y.jsx(Nn,{to:"/",className:jr.link,onClick:()=>e(!1),children:"Інформація"})}),y.jsx("li",{children:y.jsx(Nn,{to:"/rules",className:jr.link,onClick:()=>e(!1),children:"Правила"})}),y.jsx("li",{children:y.jsx(Nn,{to:"/games",className:jr.link,onClick:()=>e(!1),children:"Мої ігри"})})]})})]}),y.jsx("div",{className:jr.authDataContainer,children:t?y.jsxs(y.Fragment,{children:[y.jsx("p",{children:t.displayName}),y.jsx(sg,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:s})]}):y.jsx(Nn,{to:"./login",children:"Увійти"})})]}),r&&y.jsx("div",{className:jr.overlay,onClick:()=>e(!1)}),y.jsxs("main",{className:jr.main,children:[y.jsxs("div",{className:jr.menuContainer,children:[y.jsx("button",{className:jr.menuButton,onClick:()=>e(!0),children:y.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),y.jsx("p",{children:"Життєвий капітал"})]}),o.pathname==="/"?y.jsx(xC,{}):y.jsx(ng,{})]})]})}const IC="_table_hq37l_1",Su={table:IC},sp=[{profession:"Дизайнер",salary:500,children:1,assets:{deposit:0,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:190,totalExpenses:310,otherExpenses:0,childExpenses:60,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Інженер",salary:900,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:5e3,intellectualPropertyIncome:59},costs:{incomeTax:80,utilities:80,householdExpenses:260,totalExpenses:420,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:43e3,interest:140},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2700,interest:100},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Викладач",salary:600,children:0,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:1e4,intellectualPropertyIncome:50},costs:{incomeTax:70,utilities:70,householdExpenses:190,totalExpenses:330,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:8e3,interest:120},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Кухар",salary:300,children:0,assets:{deposit:5e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:140,totalExpenses:230,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:2450,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Менеджер",salary:1100,children:2,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:100,utilities:80,householdExpenses:360,totalExpenses:540,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:7e4,interest:180},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:900,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Лікар",salary:600,children:1,assets:{deposit:3e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:70,utilities:60,householdExpenses:180,totalExpenses:310,otherExpenses:0,childExpenses:80,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Дистриб`ютор",salary:1e3,children:1,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:90,householdExpenses:390,totalExpenses:570,otherExpenses:0,childExpenses:110,credits:{realEstate:{amountOfCredit:8e4,interest:220},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Підприємець",salary:1200,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:100,householdExpenses:380,totalExpenses:570,otherExpenses:0,childExpenses:120,credits:{realEstate:{amountOfCredit:45e3,interest:100},car:{amountOfCredit:7e3,interest:140},machinery:{amountOfCredit:1700,interest:50},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Водій",salary:700,children:2,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:80,householdExpenses:200,totalExpenses:360,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Будівельник",salary:1500,children:2,assets:{deposit:4e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:180,utilities:120,householdExpenses:430,totalExpenses:730,otherExpenses:0,childExpenses:130,credits:{realEstate:{amountOfCredit:9e4,interest:200},car:{amountOfCredit:12e3,interest:150},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:60},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Працівник банку",salary:600,children:1,assets:{deposit:2e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:220,totalExpenses:340,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:5e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Офісний працівник",salary:400,children:1,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:150,totalExpenses:240,otherExpenses:0,childExpenses:50,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:1300,interest:40},furniture:{amountOfCredit:1200,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Програміст",salary:2e3,children:1,assets:{deposit:0,gold:3e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:200,utilities:150,householdExpenses:650,totalExpenses:1e3,otherExpenses:0,childExpenses:150,credits:{realEstate:{amountOfCredit:9e4,interest:250},car:{amountOfCredit:25e3,interest:300},machinery:{amountOfCredit:7e3,interest:250},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Військовослужбовець",salary:800,children:2,assets:{deposit:3e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:70,householdExpenses:260,totalExpenses:410,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1400,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}}],GT=$.createContext(null),ag=()=>{const r=$.useContext(GT);if(!r)throw new Error("useGameSession must be used within a GameSessionProvider");return r};function Fn(r,e){const{getFromLocalSession:t,saveToLocalSession:s}=ag(),[o,l]=$.useState(()=>t(r)??e);return $.useEffect(()=>{s(r,o)},[r,o,s]),[o,l]}const DC=()=>{const[r,e]=$.useState(null),[t,s]=Fn("legend-ProfessionName","");$.useEffect(()=>{if(t){const l=sp.find(c=>c.profession===t);e(l??null)}},[t]);const o=()=>{const l=Math.floor(Math.random()*sp.length),c=sp[l];e(c),s(c.profession)};return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"container",children:[y.jsx("button",{onClick:o,children:"Отримати легенду"}),r?y.jsxs("div",{style:{width:"100%"},className:"container",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Загальна інформація"}),y.jsx("table",{className:Su.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Професія"}),y.jsx("td",{className:"summary-td",children:r.profession})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Оплата праці"}),y.jsx("td",{className:"summary-td",children:r.salary})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Кількість дітей"}),y.jsx("td",{className:"summary-td",children:r.children})]})]})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Активи"}),y.jsx("table",{className:Su.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Депозитний банківський рахунок"}),y.jsx("td",{className:"summary-td",children:r.assets.deposit})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Банківське золото"}),y.jsx("td",{className:"summary-td",children:r.assets.gold})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Накопичувальне страхування"}),y.jsx("td",{className:"summary-td",children:r.assets.savingsInsurance})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Ризикове страхування"}),y.jsx("td",{className:"summary-td",children:r.assets.riskInsurance})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Інтелектуальна власність"}),y.jsx("td",{className:"summary-td",children:r.assets.intellectualProperty})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Інтелектуальна власність ПД"}),y.jsx("td",{className:"summary-td",children:r.assets.intellectualPropertyIncome})]})]})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Витрати"}),y.jsx("table",{className:Su.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні побутові витрати"}),y.jsx("td",{className:"summary-td",children:r.costs.totalExpenses})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Додаткові витрати"}),y.jsx("td",{className:"summary-td",children:r.costs.otherExpenses})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Витрати на одну дитину"}),y.jsx("td",{className:"summary-td",children:r.costs.childExpenses})]})]})})]}),y.jsx("div",{children:y.jsxs("table",{className:Su.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Кредити"}),y.jsx("th",{children:"Сума кредита"}),y.jsx("th",{children:"Сплата, %"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{children:"На нерухомість"}),y.jsx("td",{children:r.costs.credits.realEstate.amountOfCredit}),y.jsx("td",{children:r.costs.credits.realEstate.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На автомобіль"}),y.jsx("td",{children:r.costs.credits.car.amountOfCredit}),y.jsx("td",{children:r.costs.credits.car.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На побутову техніку"}),y.jsx("td",{children:r.costs.credits.machinery.amountOfCredit}),y.jsx("td",{children:r.costs.credits.machinery.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На меблі"}),y.jsx("td",{children:r.costs.credits.furniture.amountOfCredit}),y.jsx("td",{children:r.costs.credits.furniture.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"Інші кредити"}),y.jsx("td",{children:r.costs.credits.otherCredits.amountOfCredit}),y.jsx("td",{children:r.costs.credits.otherCredits.interest})]})]})]})})]}):y.jsx("div",{className:Su.container,children:y.jsx("h2",{className:"table-header",children:"Отримайте легенду натиснувши на кнопку"})})]})})},NC="_investmentInfoContainer_1ydmn_15",OC="_boughtInvestmentList_1ydmn_32",Au={investmentInfoContainer:NC,boughtInvestmentList:OC},MC=({row:r,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.packetCoast,onChange:s=>t(e,"packetCoast",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.sharePrice,onChange:s=>t(e,"sharePrice",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.numberOfShares,onChange:s=>t(e,"numberOfShares",s.target.value)})})]}),ap=({investment:r})=>y.jsxs("table",{children:[y.jsx("thead",{children:y.jsx("tr",{children:r.type==="shares"?y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Ціна акцій сьогодні"}),y.jsx("th",{children:"Діапазон цін"})]}):r.type==="currency"?y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Курс"}),y.jsx("th",{children:"Діапазон цін"})]}):y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Перший внесок"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Інвестор"}),y.jsx("th",{children:"ПД"})]})})}),y.jsx("tbody",{children:y.jsx("tr",{children:r.type==="shares"?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:r.currentlyPrice}),y.jsx("td",{children:r.priceRange})]}):r.type==="currency"?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:r.exchangeRate}),y.jsx("td",{children:r.priceRange})]}):y.jsxs(y.Fragment,{children:[y.jsx("td",{children:r.code}),y.jsx("td",{children:r.firstPayment}),y.jsx("td",{children:r.cost}),y.jsx("td",{children:r.credit}),y.jsx("td",{children:r.passiveIncome})]})})})]}),VC="_preButtonIcon_1g0v7_1",PC={preButtonIcon:VC},qa=({bgColor:r})=>y.jsx("div",{style:{backgroundColor:r},className:PC.preButtonIcon}),Qa=({borderColor:r,children:e})=>y.jsx("div",{className:"card-template",style:{border:`1px solid ${r}`},children:e}),jC=Array.from({length:5},(r,e)=>({id:e+1,code:"",packetCoast:"",sharePrice:"",numberOfShares:""})),kC=()=>{const{userData:r}=ms(),{getCardList:e,updateCardList:t,setCurrentCard:s}=ag(),[o,l]=$.useState(!1),[c,d]=Fn("invSelectedInvestment",null),[p,g]=Fn("invBought",[]),[_,b]=Fn("invShareTable",jC);$.useEffect(()=>{if(!c)return;p.some(ee=>ee.id===c.id)&&l(!0)},[p,c]);const S=async()=>{const z=await e("smallInvestments"),ee=z.shift();ee&&(d(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("smallInvestments",z),l(!1))},x=async()=>{const z=await e("largeInvestments"),ee=z.shift();ee&&(d(ee),z.push(ee),await s("investment",{card:ee,playerAdded:r==null?void 0:r.displayName,availableToInvest:!1}),await t("largeInvestments",z),l(!1))},V=()=>{c&&!p.some(z=>z.id===c.id)&&g(z=>[...z,{...c,inputValue:""}]),l(!0)},q=z=>{g(p.filter(ee=>ee.id!==z))},L=(z,ee,pe)=>{b(se=>se.map((B,O)=>O===z?{...B,[ee]:pe}:B))},Z=(z,ee)=>{g(pe=>pe.map(se=>se.id===z?{...se,inputValue:ee}:se))};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"container",children:y.jsxs("div",{children:[y.jsxs("div",{children:[y.jsxs("button",{onClick:S,className:"investmentCardBorder",children:[y.jsx(qa,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Маленькі інвестиції"]}),y.jsxs("button",{onClick:x,className:"investmentCardBorder",children:[y.jsx(qa,{bgColor:"rgba(221, 146, 6, 0.845)"}),y.jsx(qa,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Великі інвестиції"]})]}),y.jsx("div",{children:c?y.jsx(Qa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Au.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",c.id]}),y.jsx("p",{children:c.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:c.description}}),y.jsx(ap,{investment:c}),o?y.jsxs("button",{disabled:o,style:{cursor:"not-allowed",border:"1px solid grey"},children:[y.jsx(qa,{bgColor:"grey"}),"Інвестовано"]}):y.jsxs("button",{onClick:V,disabled:o,style:{border:"1px solid green"},children:[y.jsx(qa,{bgColor:"green"}),"Інвестувати"]})]})}):y.jsx(Qa,{borderColor:"rgba(221, 146, 6, 0.845)"})})]})}),y.jsx("div",{className:"borderBottom",style:{marginTop:"20px"}}),y.jsxs("div",{className:"container",children:[y.jsx("h2",{style:{margin:"20px 0 -20px",textAlign:"center"},children:"Мої інвестиції"}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Бізнес та нерухомість"}),y.jsx("div",{className:Au.boughtInvestmentList,children:p.length?p.map(z=>z.type==="business"?y.jsx(Qa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Au.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",z.id]}),y.jsx("p",{children:z.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),y.jsx(ap,{investment:z},z.id),y.jsx("input",{type:"text",value:z.inputValue,onChange:ee=>Z(z.id,ee.target.value),placeholder:"Інформація про угоду"}),y.jsxs("button",{onClick:()=>q(z.id),style:{border:"1px solid red"},children:[y.jsx(qa,{bgColor:"red"}),"Продати"]})]})},z.id):""):y.jsx("p",{children:"У вас немає жодної інвестиції"})})]}),y.jsx("div",{children:y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Цінні папери"}),y.jsx("div",{className:Au.boughtInvestmentList,children:p.length?p.map(z=>z.type==="shares"||z.type==="currency"?y.jsx(Qa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Au.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",z.id]}),y.jsx("p",{children:z.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:z.description}}),y.jsx(ap,{investment:z},z.id),y.jsxs("button",{onClick:()=>q(z.id),style:{border:"1px solid red"},children:[y.jsx(qa,{bgColor:"red"}),"Продати"]})]})},z.id):""):""}),y.jsxs("table",{style:{marginTop:"20px"},children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Вартість пакета"}),y.jsx("th",{children:"Вартість однієї акції (пая)"}),y.jsx("th",{children:"Кількість"})]})}),y.jsx("tbody",{children:_.map((z,ee)=>y.jsx(MC,{row:z,index:ee,handleChange:L},z.id))})]})]})})]})]})},LC="_wrapper_25t8s_1",UC="_cardChooseContainer_25t8s_8",zC="_title_25t8s_20",BC="_description_25t8s_25",FC="_cardInfo_25t8s_29",HC="_expenseToggleWrapper_25t8s_38",qC="_label_25t8s_47",GC="_active_25t8s_53",KC="_slider_25t8s_71",Tn={wrapper:LC,cardChooseContainer:UC,title:zC,description:BC,cardInfo:FC,expenseToggleWrapper:HC,label:qC,active:GC,switch:"_switch_25t8s_58",slider:KC},$C=()=>{const{getCardList:r,updateCardList:e,setCurrentCard:t}=ag(),{userData:s}=ms(),[o,l]=Fn("actDemands",null),[c,d]=Fn("actEvents",null),[p,g]=Fn("actExpenses",null),[_,b]=Fn("actToggle",!1),S=async()=>{if(_){const q=await r("highExpenses"),L=q.shift();if(!L)return;g(L),q.push(L),await t("expense",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("highExpenses",q)}else{const q=await r("expenses"),L=q.shift();if(!L)return;g(L),q.push(L),await t("expense",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("expenses",q)}},x=async()=>{const q=await r("demands"),L=q.shift();L&&(l(L),q.push(L),await t("demand",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("demands",q))},V=async()=>{const q=await r("events"),L=q.shift();L&&(d(L),q.push(L),await t("event",{card:L,playerAdded:s==null?void 0:s.displayName}),await e("events",q))};return y.jsx("div",{className:"container",children:y.jsxs("div",{className:Tn.wrapper,children:[y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsx("button",{onClick:V,children:"Подія"}),y.jsx(Qa,{borderColor:"purple",children:c?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",c.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:c.title}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:c.description}})]})]}):""})]}),y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsx("button",{onClick:x,children:"Попит"}),y.jsx(Qa,{borderColor:"#328ff3ca",children:o?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",o.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:o.title}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:o.description}}),y.jsxs("p",{children:["Коди: ",o.codes.join(", ")]})]})]}):""})]}),y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsxs("div",{className:Tn.expenseToggleWrapper,children:[y.jsxs("label",{className:Tn.switch,children:[y.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(q=>!q),"aria-label":_?"Відображаються великі витрати":"Відображаються малі витрати"}),y.jsx("span",{className:Tn.slider})]}),y.jsx("span",{className:`${Tn.label} ${_?Tn.active:""}`,"aria-hidden":"true",children:_?"Великі витрати":"Маленькі витрати"})]}),y.jsx("button",{onClick:S,children:"Витрати"}),y.jsx(Qa,{borderColor:"rgb(117, 18, 18)",children:p?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",p.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:p.amountOfExpenses}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:p.description}})]})]}):""})]})]})})},QC="_mainContent_ajjim_1",YC="_navUl_ajjim_5",XC="_link_ajjim_12",wu={mainContent:QC,navUl:YC,link:XC},WC=()=>y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:"borderBottom",children:y.jsxs("ul",{className:wu.navUl,children:[y.jsx("li",{children:y.jsx(Nn,{to:"",className:wu.link,children:"Основна"})}),y.jsx("li",{children:y.jsx(Nn,{to:"./income",className:wu.link,children:"Доходи"})}),y.jsx("li",{children:y.jsx(Nn,{to:"./extend",className:wu.link,children:"Витрати"})})]})}),y.jsx("div",{className:wu.mainContent,children:y.jsx(ng,{})})]}),ZC=()=>{const[r,e]=Fn("finGlobal",{balance:"",depositAmount:"",amountOfSummaryIncomes:"",amountOfSummaryExpenses:"",amountOfFreeMoney:""}),t=o=>{e(l=>({...l,[o.target.name]:o.target.value}))},s=()=>{localStorage.clear(),window.location.reload()};return y.jsxs("div",{className:"container",children:[y.jsx("table",{children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Готівка"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"balance",type:"text",value:r.balance,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Депозит"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"depositAmount",type:"text",value:r.depositAmount,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:r.amountOfSummaryIncomes,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:r.amountOfSummaryExpenses,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні вільні кошти (ВК)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfFreeMoney",type:"text",value:r.amountOfFreeMoney,onChange:t})})]})]})}),y.jsx("div",{}),y.jsx(sg,{buttonText:"Завершити гру",modalTitle:"Підтвердження завершення гри",modalDescription:"Ви впевнені, що хочете завершити гру? Усі дані буде втрачено.",confirmText:"Так, завершити",cancelText:"Скасувати",onConfirm:s})]})},JC=({row:r,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:r.code,onChange:s=>t(e,"code",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.firstPayment,onChange:s=>t(e,"firstPayment",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.credit,onChange:s=>t(e,"credit",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),eI=Array.from({length:5},(r,e)=>({id:e+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""})),tI=()=>{const[r,e]=Fn("finBusinessTable",eI),[t,s]=Fn("finGlobal",{depositAmount:"",amountOfSummaryIncomes:""}),[o,l]=Fn("finIncomes",{salary:"",childSupport:"",depositAmount:"",depositIncome:"",goldAmount:"",goldIncome:"",riskInsuranceAmount:"",riskInsuranceIncome:"",intellectualPropertyAmount:"",intellectualPropertyIncome:"",savingsInsuranceAmount:"",savingsInsuranceIncome:"",amountOfSummaryIncomes:""}),c=_=>{l({...o,[_.target.name]:_.target.value})},d=_=>{const{name:b,value:S}=_.target;s(x=>({...x,[b]:S}))},p=(_,b,S)=>{e(x=>x.map((V,q)=>q===_?{...V,[b]:S}:V))},g=()=>{const _={id:r.length+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""};e([...r,_])};return y.jsxs("div",{className:"container",children:[y.jsx("table",{className:"incomes-table1",children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Доходи"}),y.jsx("th",{children:"Сума в звітній період"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Оплата праці"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{name:"salary",type:"text",value:o.salary,onChange:c})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Допомога на дітей"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{name:"childSupport",type:"text",value:o.childSupport,onChange:c})})]})]})}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Активи"}),y.jsxs("table",{className:"incomes-table2",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Активи"}),y.jsx("th",{children:"Сума активів"}),y.jsx("th",{children:"Пасивний дохід (ПД)"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Депозитний банківський рахунок 2%"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"depositAmount",type:"text",value:t.depositAmount,onChange:d})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"depositIncome",type:"text",value:o.depositIncome,onChange:c})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Банківське золото 1%"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"goldAmount",type:"text",value:o.goldAmount,onChange:c})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"goldIncome",type:"text",value:o.goldIncome,onChange:c})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Накопичувальне страхування"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"savingsInsuranceAmount",type:"text",value:o.savingsInsuranceAmount,onChange:c})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"savingsInsuranceIncome",type:"text",value:o.savingsInsuranceIncome,onChange:c})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Ризикове страхування"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"riskInsuranceAmount",type:"text",value:o.riskInsuranceAmount,onChange:c})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"riskInsuranceIncome",type:"text",value:o.riskInsuranceIncome,onChange:c})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Інтелектуальна власність"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"intellectualPropertyAmount",type:"text",value:o.intellectualPropertyAmount,onChange:c})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"intellectualPropertyIncome",type:"text",value:o.intellectualPropertyIncome,onChange:c})})]})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Бізнес і нерухомість"}),y.jsxs("table",{className:"incomes-table3",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Перший внесок"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Інвестор"}),y.jsx("th",{children:"ПД"})]})}),y.jsx("tbody",{children:r.map((_,b)=>y.jsx(JC,{row:_,index:b,handleChange:p},_.id))})]}),r.length<20?y.jsx("button",{onClick:g,children:"Додати поле"}):""]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:t.amountOfSummaryIncomes,onChange:d})})]})})})]})},nI=()=>{const[r,e]=Fn("finGlobal",{amountOfSummaryExpenses:""}),[t,s]=Fn("finExpenses",{expenseMonthlyHousehold:"",expenseAdditional:"",expenseNumChildren:"",expenseChild:"",realEstateAmount:"",realEstateExpense:"",carAmount:"",carExpense:"",appliancesAmount:"",appliancesExpense:"",furnitureAmount:"",furnitureExpense:"",othersAmount:"",othersExpense:""}),o=c=>{const{name:d,value:p}=c.target;e(g=>({...g,[d]:p}))},l=c=>{s(d=>({...d,[c.target.name]:c.target.value}))};return y.jsxs("div",{className:"container",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Щомісячні витрати"}),y.jsxs("table",{className:"extends-table1",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Витрати"}),y.jsx("th",{children:"Сума в звітній період"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Щомісячні побутові витрати"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseMonthlyHousehold",type:"text",value:t.expenseMonthlyHousehold,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Додаткові витрати"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseAdditional",type:"text",value:t.expenseAdditional,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Кіл-ть дітей"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseNumChildren",type:"text",value:t.expenseNumChildren,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Витрати на дитину"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseChild",type:"text",value:t.expenseChild,onChange:l})})]})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Кредити"}),y.jsxs("table",{className:"extends-table2",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Найменування кредитів (пасиви)"}),y.jsx("th",{children:"Сума кредитів"}),y.jsx("th",{children:"Сплата, %"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На нерухомість"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"realEstateAmount",type:"text",value:t.realEstateAmount,onChange:l})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"realEstateExpense",type:"text",value:t.realEstateExpense,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На автомобіль"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"carAmount",type:"text",value:t.carAmount,onChange:l})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"carExpense",type:"text",value:t.carExpense,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На побутову техніку"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"appliancesAmount",type:"text",value:t.appliancesAmount,onChange:l})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"appliancesExpense",type:"text",value:t.appliancesExpense,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На меблі"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"furnitureAmount",type:"text",value:t.furnitureAmount,onChange:l})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"furnitureExpense",type:"text",value:t.furnitureExpense,onChange:l})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Інші кредити 3%"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"othersAmount",type:"text",value:t.othersAmount,onChange:l})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"othersExpense",type:"text",value:t.othersExpense,onChange:l})})]})]})]})]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExpenses",type:"text",value:r.amountOfSummaryExpenses,onChange:o})})]})})})]})},rI="_tdStyle_4n9sn_1",iI="_tdIndexStyle_4n9sn_5",tl={tdStyle:rI,tdIndexStyle:iI},sI=({row:r,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{className:tl.tdIndexStyle,children:r.id}),y.jsx("td",{className:tl.tdStyle,children:y.jsx("input",{type:"text",value:r.source,onChange:s=>t(e,"source",s.target.value)})}),y.jsx("td",{className:tl.tdStyle,children:y.jsx("input",{type:"text",value:r.replenishment,onChange:s=>t(e,"replenishment",s.target.value)})}),y.jsx("td",{className:tl.tdStyle,children:y.jsx("input",{type:"text",value:r.accumulatedAmount,onChange:s=>t(e,"accumulatedAmount",s.target.value)})})]}),aI=Array.from({length:10},(r,e)=>({id:e+1,source:"",replenishment:"",accumulatedAmount:""})),oI=()=>{const[r,e]=Fn("abTable",aI),[t,s]=Fn("abValue",""),o=c=>{s(c.target.value)},l=(c,d,p)=>{e(g=>g.map((_,b)=>b===c?{..._,[d]:p}:_))};return y.jsxs("div",{className:"container",children:[y.jsx("table",{className:tl.airBagInputValueTable,children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Значення подушки безпеки (6*ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"airBagValue",value:t,onChange:o})})]})})}),y.jsxs("table",{className:tl.airBagTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"№"}),y.jsx("th",{children:"Джерело доходу"}),y.jsx("th",{children:"Поповнення"}),y.jsx("th",{children:"Накопичувальна сума"})]})}),y.jsx("tbody",{children:r.map((c,d)=>y.jsx(sI,{row:c,index:d,handleChange:l},c.id))})]})]})};function KT(r,e){const[t,s]=$.useState(()=>{const o=localStorage.getItem(r);try{return o?JSON.parse(o):e}catch(l){return console.error("Error parsing localStorage data:",l),e}});return $.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(t))}catch(o){console.error("Error saving to localStorage:",o)}},[r,t]),[t,s]}const lI=({row:r,index:e,onChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:r.businessName,onChange:s=>t(e,"businessName",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.cost,onChange:s=>t(e,"cost",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.insurance,onChange:s=>t(e,"insurance",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:r.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),uI={businessName:"",cost:"",insurance:"",passiveIncome:""},cI={tableData:Array.from({length:10},()=>({...uI})),moneyValue:"",passiveIncome:""},hI=()=>{const[r,e]=KT("secondPartData",cI),t=o=>{e({...r,[o.target.name]:o.target.value})},s=(o,l,c)=>{const d=[...r.tableData];d[o][l]=c,e({...r,tableData:d})};return y.jsxs("div",{className:"container",children:[y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Готівка"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"moneyValue",value:r.moneyValue,onChange:t})})]})})}),y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Найменування бізнесу"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Страхування"}),y.jsx("th",{children:"ПД"})]})}),y.jsx("tbody",{children:r.tableData.map((o,l)=>y.jsx(lI,{row:o,index:l,onChange:s},l))})]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Початковий пасивний дохід"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"passiveIncome",value:r.passiveIncome,onChange:t})})]})})})]})},fI=()=>y.jsx("div",{className:"container",children:y.jsx(hI,{})});var rc=r=>r.type==="checkbox",Ya=r=>r instanceof Date,Zn=r=>r==null;const $T=r=>typeof r=="object";var Wt=r=>!Zn(r)&&!Array.isArray(r)&&$T(r)&&!Ya(r),dI=r=>Wt(r)&&r.target?rc(r.target)?r.target.checked:r.target.value:r,mI=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,pI=(r,e)=>r.has(mI(e)),gI=r=>{const e=r.constructor&&r.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},og=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(r){let e;const t=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(og&&(r instanceof Blob||s))&&(t||Wt(r)))if(e=t?[]:{},!t&&!gI(r))e=r;else for(const o in r)r.hasOwnProperty(o)&&(e[o]=Un(r[o]));else return r;return e}var If=r=>Array.isArray(r)?r.filter(Boolean):[],rn=r=>r===void 0,Oe=(r,e,t)=>{if(!e||!Wt(r))return t;const s=If(e.split(/[,[\].]+?/)).reduce((o,l)=>Zn(o)?o:o[l],r);return rn(s)||s===r?rn(r[e])?t:r[e]:s},Ti=r=>typeof r=="boolean",lg=r=>/^\w*$/.test(r),QT=r=>If(r.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(r,e,t)=>{let s=-1;const o=lg(e)?[e]:QT(e),l=o.length,c=l-1;for(;++s<l;){const d=o[s];let p=t;if(s!==c){const g=r[d];p=Wt(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;r[d]=p,r=r[d]}};const F0={BLUR:"blur",FOCUS_OUT:"focusout"},Wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Yr.createContext(null);var yI=(r,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const l in r)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Wr.all&&(e._proxyFormState[c]=!s||Wr.all),r[c]}});return o},Si=r=>typeof r=="string",vI=(r,e,t,s,o)=>Si(r)?(s&&e.watch.add(r),Oe(t,r,o)):Array.isArray(r)?r.map(l=>(s&&e.watch.add(l),Oe(t,l))):(s&&(e.watchAll=!0),t),_I=(r,e,t,s,o)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[s]:o||!0}}:{},ju=r=>Array.isArray(r)?r:[r],H0=()=>{let r=[];return{get observers(){return r},next:o=>{for(const l of r)l.next&&l.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(l=>l!==o)}}),unsubscribe:()=>{r=[]}}},Sp=r=>Zn(r)||!$T(r);function Gs(r,e){if(Sp(r)||Sp(e))return r===e;if(Ya(r)&&Ya(e))return r.getTime()===e.getTime();const t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o of t){const l=r[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=e[o];if(Ya(l)&&Ya(c)||Wt(l)&&Wt(c)||Array.isArray(l)&&Array.isArray(c)?!Gs(l,c):l!==c)return!1}}return!0}var Wn=r=>Wt(r)&&!Object.keys(r).length,ug=r=>r.type==="file",Zr=r=>typeof r=="function",ef=r=>{if(!og)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},YT=r=>r.type==="select-multiple",cg=r=>r.type==="radio",EI=r=>cg(r)||rc(r),op=r=>ef(r)&&r.isConnected;function TI(r,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)r=rn(r)?s++:r[e[s++]];return r}function bI(r){for(const e in r)if(r.hasOwnProperty(e)&&!rn(r[e]))return!1;return!0}function cn(r,e){const t=Array.isArray(e)?e:lg(e)?[e]:QT(e),s=t.length===1?r:TI(r,t),o=t.length-1,l=t[o];return s&&delete s[l],o!==0&&(Wt(s)&&Wn(s)||Array.isArray(s)&&bI(s))&&cn(r,t.slice(0,-1)),r}var XT=r=>{for(const e in r)if(Zr(r[e]))return!0;return!1};function tf(r,e={}){const t=Array.isArray(r);if(Wt(r)||t)for(const s in r)Array.isArray(r[s])||Wt(r[s])&&!XT(r[s])?(e[s]=Array.isArray(r[s])?[]:{},tf(r[s],e[s])):Zn(r[s])||(e[s]=!0);return e}function WT(r,e,t){const s=Array.isArray(r);if(Wt(r)||s)for(const o in r)Array.isArray(r[o])||Wt(r[o])&&!XT(r[o])?rn(e)||Sp(t[o])?t[o]=Array.isArray(r[o])?tf(r[o],[]):{...tf(r[o])}:WT(r[o],Zn(e)?{}:e[o],t[o]):t[o]=!Gs(r[o],e[o]);return t}var Ru=(r,e)=>WT(r,e,tf(e));const q0={value:!1,isValid:!1},G0={value:!0,isValid:!0};var ZT=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!rn(r[0].attributes.value)?rn(r[0].value)||r[0].value===""?G0:{value:r[0].value,isValid:!0}:G0:q0}return q0},JT=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>rn(r)?r:e?r===""?NaN:r&&+r:t&&Si(r)?new Date(r):s?s(r):r;const K0={isValid:!1,value:null};var eb=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,K0):K0;function $0(r){const e=r.ref;return ug(e)?e.files:cg(e)?eb(r.refs).value:YT(e)?[...e.selectedOptions].map(({value:t})=>t):rc(e)?ZT(r.refs).value:JT(rn(e.value)?r.ref.value:e.value,r)}var SI=(r,e,t,s)=>{const o={};for(const l of r){const c=Oe(e,l);c&&kt(o,l,c._f)}return{criteriaMode:t,names:[...r],fields:o,shouldUseNativeValidation:s}},nf=r=>r instanceof RegExp,xu=r=>rn(r)?r:nf(r)?r.source:Wt(r)?nf(r.value)?r.value.source:r.value:r,Q0=r=>({isOnSubmit:!r||r===Wr.onSubmit,isOnBlur:r===Wr.onBlur,isOnChange:r===Wr.onChange,isOnAll:r===Wr.all,isOnTouch:r===Wr.onTouched});const Y0="AsyncFunction";var AI=r=>!!r&&!!r.validate&&!!(Zr(r.validate)&&r.validate.constructor.name===Y0||Wt(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===Y0)),wI=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),X0=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const ku=(r,e,t,s)=>{for(const o of t||Object.keys(r)){const l=Oe(r,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(ku(d,e))break}else if(Wt(d)&&ku(d,e))break}}};function W0(r,e,t){const s=Oe(r,t);if(s||lg(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),c=Oe(e,l),d=Oe(r,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};o.pop()}return{name:t}}var RI=(r,e,t,s)=>{t(r);const{name:o,...l}=r;return Wn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||Wr.all))},xI=(r,e,t)=>!r||!e||r===e||ju(r).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),CI=(r,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||r):(t?s.isOnBlur:o.isOnBlur)?!r:(t?s.isOnChange:o.isOnChange)?r:!0,II=(r,e)=>!If(Oe(r,e)).length&&cn(r,e),DI=(r,e,t)=>{const s=ju(Oe(r,t));return kt(s,"root",e[t]),kt(r,t,s),r},zh=r=>Si(r);function Z0(r,e,t="validate"){if(zh(r)||Array.isArray(r)&&r.every(zh)||Ti(r)&&!r)return{type:t,message:zh(r)?r:"",ref:e}}var $o=r=>Wt(r)&&!nf(r)?r:{value:r,message:""},J0=async(r,e,t,s,o,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:_,min:b,max:S,pattern:x,validate:V,name:q,valueAsNumber:L,mount:Z}=r._f,z=Oe(t,q);if(!Z||e.has(q))return{};const ee=d?d[0]:c,pe=U=>{o&&ee.reportValidity&&(ee.setCustomValidity(Ti(U)?"":U||""),ee.reportValidity())},se={},B=cg(c),O=rc(c),C=B||O,R=(L||ug(c))&&rn(c.value)&&rn(z)||ef(c)&&c.value===""||z===""||Array.isArray(z)&&!z.length,N=_I.bind(null,q,s,se),j=(U,I,Be,Je=rs.maxLength,ue=rs.minLength)=>{const Ce=U?I:Be;se[q]={type:U?Je:ue,message:Ce,ref:c,...N(U?Je:ue,Ce)}};if(l?!Array.isArray(z)||!z.length:p&&(!C&&(R||Zn(z))||Ti(z)&&!z||O&&!ZT(d).isValid||B&&!eb(d).isValid)){const{value:U,message:I}=zh(p)?{value:!!p,message:p}:$o(p);if(U&&(se[q]={type:rs.required,message:I,ref:ee,...N(rs.required,I)},!s))return pe(I),se}if(!R&&(!Zn(b)||!Zn(S))){let U,I;const Be=$o(S),Je=$o(b);if(!Zn(z)&&!isNaN(z)){const ue=c.valueAsNumber||z&&+z;Zn(Be.value)||(U=ue>Be.value),Zn(Je.value)||(I=ue<Je.value)}else{const ue=c.valueAsDate||new Date(z),Ce=P=>new Date(new Date().toDateString()+" "+P),Se=c.type=="time",Xe=c.type=="week";Si(Be.value)&&z&&(U=Se?Ce(z)>Ce(Be.value):Xe?z>Be.value:ue>new Date(Be.value)),Si(Je.value)&&z&&(I=Se?Ce(z)<Ce(Je.value):Xe?z<Je.value:ue<new Date(Je.value))}if((U||I)&&(j(!!U,Be.message,Je.message,rs.max,rs.min),!s))return pe(se[q].message),se}if((g||_)&&!R&&(Si(z)||l&&Array.isArray(z))){const U=$o(g),I=$o(_),Be=!Zn(U.value)&&z.length>+U.value,Je=!Zn(I.value)&&z.length<+I.value;if((Be||Je)&&(j(Be,U.message,I.message),!s))return pe(se[q].message),se}if(x&&!R&&Si(z)){const{value:U,message:I}=$o(x);if(nf(U)&&!z.match(U)&&(se[q]={type:rs.pattern,message:I,ref:c,...N(rs.pattern,I)},!s))return pe(I),se}if(V){if(Zr(V)){const U=await V(z,t),I=Z0(U,ee);if(I&&(se[q]={...I,...N(rs.validate,I.message)},!s))return pe(I.message),se}else if(Wt(V)){let U={};for(const I in V){if(!Wn(U)&&!s)break;const Be=Z0(await V[I](z,t),ee,I);Be&&(U={...Be,...N(I,Be.message)},pe(Be.message),s&&(se[q]=U))}if(!Wn(U)&&(se[q]={ref:ee,...U},!s))return se}}return pe(!0),se};const NI={mode:Wr.onSubmit,reValidateMode:Wr.onChange,shouldFocusError:!0};function OI(r={}){let e={...NI,...r},t={submitCount:0,isDirty:!1,isLoading:Zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Wt(e.defaultValues)||Wt(e.values)?Un(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:Un(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={..._};const S={array:H0(),state:H0()},x=Q0(e.mode),V=Q0(e.reValidateMode),q=e.criteriaMode===Wr.all,L=M=>W=>{clearTimeout(g),g=setTimeout(M,W)},Z=async M=>{if(!e.disabled&&(_.isValid||b.isValid||M)){const W=e.resolver?Wn((await R()).errors):await j(s,!0);W!==t.isValid&&S.state.next({isValid:W})}},z=(M,W)=>{!e.disabled&&(_.isValidating||_.validatingFields||b.isValidating||b.validatingFields)&&((M||Array.from(d.mount)).forEach(ne=>{ne&&(W?kt(t.validatingFields,ne,W):cn(t.validatingFields,ne))}),S.state.next({validatingFields:t.validatingFields,isValidating:!Wn(t.validatingFields)}))},ee=(M,W=[],ne,Ee,he=!0,ae=!0)=>{if(Ee&&ne&&!e.disabled){if(c.action=!0,ae&&Array.isArray(Oe(s,M))){const be=ne(Oe(s,M),Ee.argA,Ee.argB);he&&kt(s,M,be)}if(ae&&Array.isArray(Oe(t.errors,M))){const be=ne(Oe(t.errors,M),Ee.argA,Ee.argB);he&&kt(t.errors,M,be),II(t.errors,M)}if((_.touchedFields||b.touchedFields)&&ae&&Array.isArray(Oe(t.touchedFields,M))){const be=ne(Oe(t.touchedFields,M),Ee.argA,Ee.argB);he&&kt(t.touchedFields,M,be)}(_.dirtyFields||b.dirtyFields)&&(t.dirtyFields=Ru(o,l)),S.state.next({name:M,isDirty:I(M,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else kt(l,M,W)},pe=(M,W)=>{kt(t.errors,M,W),S.state.next({errors:t.errors})},se=M=>{t.errors=M,S.state.next({errors:t.errors,isValid:!1})},B=(M,W,ne,Ee)=>{const he=Oe(s,M);if(he){const ae=Oe(l,M,rn(ne)?Oe(o,M):ne);rn(ae)||Ee&&Ee.defaultChecked||W?kt(l,M,W?ae:$0(he._f)):ue(M,ae),c.mount&&Z()}},O=(M,W,ne,Ee,he)=>{let ae=!1,be=!1;const We={name:M};if(!e.disabled){if(!ne||Ee){(_.isDirty||b.isDirty)&&(be=t.isDirty,t.isDirty=We.isDirty=I(),ae=be!==We.isDirty);const Rt=Gs(Oe(o,M),W);be=!!Oe(t.dirtyFields,M),Rt?cn(t.dirtyFields,M):kt(t.dirtyFields,M,!0),We.dirtyFields=t.dirtyFields,ae=ae||(_.dirtyFields||b.dirtyFields)&&be!==!Rt}if(ne){const Rt=Oe(t.touchedFields,M);Rt||(kt(t.touchedFields,M,ne),We.touchedFields=t.touchedFields,ae=ae||(_.touchedFields||b.touchedFields)&&Rt!==ne)}ae&&he&&S.state.next(We)}return ae?We:{}},C=(M,W,ne,Ee)=>{const he=Oe(t.errors,M),ae=(_.isValid||b.isValid)&&Ti(W)&&t.isValid!==W;if(e.delayError&&ne?(p=L(()=>pe(M,ne)),p(e.delayError)):(clearTimeout(g),p=null,ne?kt(t.errors,M,ne):cn(t.errors,M)),(ne?!Gs(he,ne):he)||!Wn(Ee)||ae){const be={...Ee,...ae&&Ti(W)?{isValid:W}:{},errors:t.errors,name:M};t={...t,...be},S.state.next(be)}},R=async M=>{z(M,!0);const W=await e.resolver(l,e.context,SI(M||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return z(M),W},N=async M=>{const{errors:W}=await R(M);if(M)for(const ne of M){const Ee=Oe(W,ne);Ee?kt(t.errors,ne,Ee):cn(t.errors,ne)}else t.errors=W;return W},j=async(M,W,ne={valid:!0})=>{for(const Ee in M){const he=M[Ee];if(he){const{_f:ae,...be}=he;if(ae){const We=d.array.has(ae.name),Rt=he._f&&AI(he._f);Rt&&_.validatingFields&&z([Ee],!0);const At=await J0(he,d.disabled,l,q,e.shouldUseNativeValidation&&!W,We);if(Rt&&_.validatingFields&&z([Ee]),At[ae.name]&&(ne.valid=!1,W))break;!W&&(Oe(At,ae.name)?We?DI(t.errors,At,ae.name):kt(t.errors,ae.name,At[ae.name]):cn(t.errors,ae.name))}!Wn(be)&&await j(be,W,ne)}}return ne.valid},U=()=>{for(const M of d.unMount){const W=Oe(s,M);W&&(W._f.refs?W._f.refs.every(ne=>!op(ne)):!op(W._f.ref))&&wt(M)}d.unMount=new Set},I=(M,W)=>!e.disabled&&(M&&W&&kt(l,M,W),!Gs(we(),o)),Be=(M,W,ne)=>vI(M,d,{...c.mount?l:rn(W)?o:Si(M)?{[M]:W}:W},ne,W),Je=M=>If(Oe(c.mount?l:o,M,e.shouldUnregister?Oe(o,M,[]):[])),ue=(M,W,ne={})=>{const Ee=Oe(s,M);let he=W;if(Ee){const ae=Ee._f;ae&&(!ae.disabled&&kt(l,M,JT(W,ae)),he=ef(ae.ref)&&Zn(W)?"":W,YT(ae.ref)?[...ae.ref.options].forEach(be=>be.selected=he.includes(be.value)):ae.refs?rc(ae.ref)?ae.refs.length>1?ae.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(he)?!!he.find(We=>We===be.value):he===be.value)):ae.refs[0]&&(ae.refs[0].checked=!!he):ae.refs.forEach(be=>be.checked=be.value===he):ug(ae.ref)?ae.ref.value="":(ae.ref.value=he,ae.ref.type||S.state.next({name:M,values:Un(l)})))}(ne.shouldDirty||ne.shouldTouch)&&O(M,he,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ce(M)},Ce=(M,W,ne)=>{for(const Ee in W){const he=W[Ee],ae=`${M}.${Ee}`,be=Oe(s,ae);(d.array.has(M)||Wt(he)||be&&!be._f)&&!Ya(he)?Ce(ae,he,ne):ue(ae,he,ne)}},Se=(M,W,ne={})=>{const Ee=Oe(s,M),he=d.array.has(M),ae=Un(W);kt(l,M,ae),he?(S.array.next({name:M,values:Un(l)}),(_.isDirty||_.dirtyFields||b.isDirty||b.dirtyFields)&&ne.shouldDirty&&S.state.next({name:M,dirtyFields:Ru(o,l),isDirty:I(M,ae)})):Ee&&!Ee._f&&!Zn(ae)?Ce(M,ae,ne):ue(M,ae,ne),X0(M,d)&&S.state.next({...t}),S.state.next({name:c.mount?M:void 0,values:Un(l)})},Xe=async M=>{c.mount=!0;const W=M.target;let ne=W.name,Ee=!0;const he=Oe(s,ne),ae=be=>{Ee=Number.isNaN(be)||Ya(be)&&isNaN(be.getTime())||Gs(be,Oe(l,ne,be))};if(he){let be,We;const Rt=W.type?$0(he._f):dI(M),At=M.type===F0.BLUR||M.type===F0.FOCUS_OUT,vr=!wI(he._f)&&!e.resolver&&!Oe(t.errors,ne)&&!he._f.deps||CI(At,Oe(t.touchedFields,ne),t.isSubmitted,V,x),Gn=X0(ne,d,At);kt(l,ne,Rt),At?(he._f.onBlur&&he._f.onBlur(M),p&&p(0)):he._f.onChange&&he._f.onChange(M);const Ut=O(ne,Rt,At),Mi=!Wn(Ut)||Gn;if(!At&&S.state.next({name:ne,type:M.type,values:Un(l)}),vr)return(_.isValid||b.isValid)&&(e.mode==="onBlur"?At&&Z():At||Z()),Mi&&S.state.next({name:ne,...Gn?{}:Ut});if(!At&&Gn&&S.state.next({...t}),e.resolver){const{errors:Pn}=await R([ne]);if(ae(Rt),Ee){const Ht=W0(t.errors,s,ne),Hr=W0(Pn,s,Ht.name||ne);be=Hr.error,ne=Hr.name,We=Wn(Pn)}}else z([ne],!0),be=(await J0(he,d.disabled,l,q,e.shouldUseNativeValidation))[ne],z([ne]),ae(Rt),Ee&&(be?We=!1:(_.isValid||b.isValid)&&(We=await j(s,!0)));Ee&&(he._f.deps&&ce(he._f.deps),C(ne,We,be,Ut))}},P=(M,W)=>{if(Oe(t.errors,W)&&M.focus)return M.focus(),1},ce=async(M,W={})=>{let ne,Ee;const he=ju(M);if(e.resolver){const ae=await N(rn(M)?M:he);ne=Wn(ae),Ee=M?!he.some(be=>Oe(ae,be)):ne}else M?(Ee=(await Promise.all(he.map(async ae=>{const be=Oe(s,ae);return await j(be&&be._f?{[ae]:be}:be)}))).every(Boolean),!(!Ee&&!t.isValid)&&Z()):Ee=ne=await j(s);return S.state.next({...!Si(M)||(_.isValid||b.isValid)&&ne!==t.isValid?{}:{name:M},...e.resolver||!M?{isValid:ne}:{},errors:t.errors}),W.shouldFocus&&!Ee&&ku(s,P,M?he:d.mount),Ee},we=M=>{const W={...c.mount?l:o};return rn(M)?W:Si(M)?Oe(W,M):M.map(ne=>Oe(W,ne))},ve=(M,W)=>({invalid:!!Oe((W||t).errors,M),isDirty:!!Oe((W||t).dirtyFields,M),error:Oe((W||t).errors,M),isValidating:!!Oe(t.validatingFields,M),isTouched:!!Oe((W||t).touchedFields,M)}),_e=M=>{M&&ju(M).forEach(W=>cn(t.errors,W)),S.state.next({errors:M?t.errors:{}})},Fe=(M,W,ne)=>{const Ee=(Oe(s,M,{_f:{}})._f||{}).ref,he=Oe(t.errors,M)||{},{ref:ae,message:be,type:We,...Rt}=he;kt(t.errors,M,{...Rt,...W,ref:Ee}),S.state.next({name:M,errors:t.errors,isValid:!1}),ne&&ne.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},Le=(M,W)=>Zr(M)?S.state.subscribe({next:ne=>M(Be(void 0,W),ne)}):Be(M,W,!0),Vt=M=>S.state.subscribe({next:W=>{xI(M.name,W.name,M.exact)&&RI(W,M.formState||_,ii,M.reRenderRoot)&&M.callback({values:{...l},...t,...W})}}).unsubscribe,it=M=>(c.mount=!0,b={...b,...M.formState},Vt({...M,formState:b})),wt=(M,W={})=>{for(const ne of M?ju(M):d.mount)d.mount.delete(ne),d.array.delete(ne),W.keepValue||(cn(s,ne),cn(l,ne)),!W.keepError&&cn(t.errors,ne),!W.keepDirty&&cn(t.dirtyFields,ne),!W.keepTouched&&cn(t.touchedFields,ne),!W.keepIsValidating&&cn(t.validatingFields,ne),!e.shouldUnregister&&!W.keepDefaultValue&&cn(o,ne);S.state.next({values:Un(l)}),S.state.next({...t,...W.keepDirty?{isDirty:I()}:{}}),!W.keepIsValid&&Z()},He=({disabled:M,name:W})=>{(Ti(M)&&c.mount||M||d.disabled.has(W))&&(M?d.disabled.add(W):d.disabled.delete(W))},Dt=(M,W={})=>{let ne=Oe(s,M);const Ee=Ti(W.disabled)||Ti(e.disabled);return kt(s,M,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:M}},name:M,mount:!0,...W}}),d.mount.add(M),ne?He({disabled:Ti(W.disabled)?W.disabled:e.disabled,name:M}):B(M,!0,W.value),{...Ee?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:xu(W.min),max:xu(W.max),minLength:xu(W.minLength),maxLength:xu(W.maxLength),pattern:xu(W.pattern)}:{},name:M,onChange:Xe,onBlur:Xe,ref:he=>{if(he){Dt(M,W),ne=Oe(s,M);const ae=rn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,be=EI(ae),We=ne._f.refs||[];if(be?We.find(Rt=>Rt===ae):ae===ne._f.ref)return;kt(s,M,{_f:{...ne._f,...be?{refs:[...We.filter(op),ae,...Array.isArray(Oe(o,M))?[{}]:[]],ref:{type:ae.type,name:M}}:{ref:ae}}}),B(M,!1,void 0,ae)}else ne=Oe(s,M,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(pI(d.array,M)&&c.action)&&d.unMount.add(M)}}},qn=()=>e.shouldFocusError&&ku(s,P,d.mount),Vn=M=>{Ti(M)&&(S.state.next({disabled:M}),ku(s,(W,ne)=>{const Ee=Oe(s,ne);Ee&&(W.disabled=Ee._f.disabled||M,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(he=>{he.disabled=Ee._f.disabled||M}))},0,!1))},sn=(M,W)=>async ne=>{let Ee;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let he=Un(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:be}=await R();t.errors=ae,he=be}else await j(s);if(d.disabled.size)for(const ae of d.disabled)kt(he,ae,void 0);if(cn(t.errors,"root"),Wn(t.errors)){S.state.next({errors:{}});try{await M(he,ne)}catch(ae){Ee=ae}}else W&&await W({...t.errors},ne),qn(),setTimeout(qn);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},yr=(M,W={})=>{Oe(s,M)&&(rn(W.defaultValue)?Se(M,Un(Oe(o,M))):(Se(M,W.defaultValue),kt(o,M,Un(W.defaultValue))),W.keepTouched||cn(t.touchedFields,M),W.keepDirty||(cn(t.dirtyFields,M),t.isDirty=W.defaultValue?I(M,Un(Oe(o,M))):I()),W.keepError||(cn(t.errors,M),_.isValid&&Z()),S.state.next({...t}))},er=(M,W={})=>{const ne=M?Un(M):o,Ee=Un(ne),he=Wn(M),ae=he?o:Ee;if(W.keepDefaultValues||(o=ne),!W.keepValues){if(W.keepDirtyValues){const be=new Set([...d.mount,...Object.keys(Ru(o,l))]);for(const We of Array.from(be))Oe(t.dirtyFields,We)?kt(ae,We,Oe(l,We)):Se(We,Oe(ae,We))}else{if(og&&rn(M))for(const be of d.mount){const We=Oe(s,be);if(We&&We._f){const Rt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(ef(Rt)){const At=Rt.closest("form");if(At){At.reset();break}}}}for(const be of d.mount)Se(be,Oe(ae,be))}l=Un(ae),S.array.next({values:{...ae}}),S.state.next({values:{...ae}})}d={mount:W.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!W.keepIsValid||!!W.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:he?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!Gs(M,o)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:he?{}:W.keepDirtyValues?W.keepDefaultValues&&l?Ru(o,l):t.dirtyFields:W.keepDefaultValues&&M?Ru(o,M):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Br=(M,W)=>er(Zr(M)?M(l):M,W),ri=(M,W={})=>{const ne=Oe(s,M),Ee=ne&&ne._f;if(Ee){const he=Ee.refs?Ee.refs[0]:Ee.ref;he.focus&&(he.focus(),W.shouldSelect&&Zr(he.select)&&he.select())}},ii=M=>{t={...t,...M}},Fr={control:{register:Dt,unregister:wt,getFieldState:ve,handleSubmit:sn,setError:Fe,_subscribe:Vt,_runSchema:R,_getWatch:Be,_getDirty:I,_setValid:Z,_setFieldArray:ee,_setDisabledField:He,_setErrors:se,_getFieldArray:Je,_reset:er,_resetDefaultValues:()=>Zr(e.defaultValues)&&e.defaultValues().then(M=>{Br(M,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Vn,_subjects:S,_proxyFormState:_,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(M){c=M},get _defaultValues(){return o},get _names(){return d},set _names(M){d=M},get _formState(){return t},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:it,trigger:ce,register:Dt,handleSubmit:sn,watch:Le,setValue:Se,getValues:we,reset:Br,resetField:yr,clearErrors:_e,unregister:wt,setError:Fe,setFocus:ri,getFieldState:ve};return{...Fr,formControl:Fr}}function hg(r={}){const e=Yr.useRef(void 0),t=Yr.useRef(void 0),[s,o]=Yr.useState({isDirty:!1,isValidating:!1,isLoading:Zr(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:Zr(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:OI(r),formState:s},r.formControl&&r.defaultValues&&!Zr(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const l=e.current.control;return l._options=r,Yr.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),Yr.useEffect(()=>l._disableForm(r.disabled),[l,r.disabled]),Yr.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),Yr.useEffect(()=>{r.values&&!Gs(r.values,t.current)?(l._reset(r.values,l._options.resetOptions),t.current=r.values,o(c=>({...c}))):l._resetDefaultValues()},[r.values,l]),Yr.useEffect(()=>{r.errors&&!Wn(r.errors)&&l._setErrors(r.errors)},[r.errors,l]),Yr.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Yr.useEffect(()=>{r.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[r.shouldUnregister,l]),e.current.formState=yI(s,l),e.current}const MI="_pageContainer_e5zzt_1",VI="_container_e5zzt_12",PI="_title_e5zzt_17",jI="_inputGroup_e5zzt_23",kI="_label_e5zzt_27",LI="_input_e5zzt_23",UI="_links_e5zzt_42",zI="_link_e5zzt_42",BI="_separator_e5zzt_58",FI="_validatingErrorMessage_e5zzt_62",Qe={pageContainer:MI,container:VI,title:PI,inputGroup:jI,label:kI,input:LI,links:UI,link:zI,separator:BI,validatingErrorMessage:FI},HI=()=>{const{login:r}=ms(),{register:e,handleSubmit:t,formState:{errors:s},reset:o}=hg(),l=c=>{try{r(c.email,c.password),o()}catch(d){console.error("Error with registration",d)}};return y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Авторизація"}),y.jsxs("form",{onSubmit:t(l),children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов`язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),y.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов`язковий.",minLength:{value:8,message:"Пароль повинен містити мінімум 8 символів."}})})]}),y.jsx("button",{type:"submit",children:"Увійти"}),y.jsxs("div",{className:Qe.links,children:[y.jsx("a",{href:"#",className:Qe.link,children:"Забули пароль?"}),y.jsx("span",{className:Qe.separator,children:"|"}),y.jsx(Nn,{to:"/register",className:Qe.link,children:"Зареєструватися"})]})]})]})})},qI=()=>{const{register:r}=ms(),{register:e,handleSubmit:t,formState:{errors:s},watch:o,reset:l}=hg(),c=d=>{try{r(d.email,d.password,d.name),l()}catch(p){console.error("Error with registration",p)}};return y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Реєстрація"}),y.jsxs("form",{onSubmit:t(c),children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"name",className:Qe.label,children:["Ім’я:",s.name&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.name.message]})]}),y.jsx("input",{type:"text",id:"name",className:Qe.input,placeholder:"Введіть ваше ім’я",...e("name",{required:"Ім’я користувача обов'язкове.",minLength:{value:3,message:"Ім’я має містити щонайменше 3 символи."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов’язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),y.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов’язковий.",minLength:{value:8,message:"Пароль має містити щонайменше 8 символів."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"confirmPassword",className:Qe.label,children:["Підтвердіть пароль:",s.confirmPassword&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.confirmPassword.message]})]}),y.jsx("input",{type:"password",id:"confirmPassword",className:Qe.input,placeholder:"Підтвердіть ваш пароль",...e("confirmPassword",{required:"Підтвердження пароля обов’язкове.",validate:d=>d===o("password")||"Паролі не збігаються."})})]}),y.jsx("button",{type:"submit",children:"Зареєструватися"}),y.jsx("div",{className:Qe.links,children:y.jsx(Nn,{to:"/login",className:Qe.link,children:"Вже є аккаунт? Увійти"})})]})]})})},GI=()=>y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Відновлення пароля"}),y.jsxs("form",{children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsx("label",{htmlFor:"email",className:Qe.label,children:"Електронна пошта:"}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту"})]}),y.jsx("button",{type:"submit",children:"Відновити пароль"}),y.jsx("div",{className:Qe.links,children:y.jsx("a",{href:"/login",className:Qe.link,children:"Повернутися до авторизації"})})]})]})}),Dh=({children:r,requireUnauth:e=!1})=>{const{user:t,loading:s}=ms(),o=Oi();return s?null:e&&t?y.jsx(z0,{to:"/games",replace:!0}):!e&&!t?y.jsx(z0,{to:"/login",replace:!0,state:{from:o}}):y.jsx(y.Fragment,{children:r})},KI="_title_1qipx_1",$I={title:KI},QI=()=>y.jsx("div",{className:$I.title});var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=l>>2,b=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(S=64)),s.push(t[_],t[b],t[S],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||b==null)throw new XI;const S=l<<2|d>>4;if(s.push(S),g!==64){const x=d<<4&240|g>>2;if(s.push(x),b!==64){const V=g<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(r){const e=tb(r);return nb.encodeByteArray(e,!0)},rf=function(r){return WI(r).replace(/\./g,"")},rb=function(r){try{return nb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>ZI().__FIREBASE_DEFAULTS__,e1=()=>{if(typeof process>"u"||typeof eE>"u")return;const r=eE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},t1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&rb(r[1]);return e&&JSON.parse(e)},Df=()=>{try{return JI()||e1()||t1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ib=r=>{var e,t;return(t=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},n1=r=>{const e=ib(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},sb=()=>{var r;return(r=Df())===null||r===void 0?void 0:r.config},ab=r=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rf(JSON.stringify(t)),rf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function a1(){var r;const e=(r=Df())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function u1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c1(){const r=Hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function h1(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function d1(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class ps extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=m1,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?p1(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ps(o,d,s)}}function p1(r,e){return r.replace(g1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const g1=/\{\$([^}]+)}/g;function y1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sf(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(tE(l)&&tE(c)){if(!sf(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function tE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Nu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function v1(r,e){const t=new _1(r,e);return t.subscribe.bind(t)}class _1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");E1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(r){return r&&r._delegate?r._delegate:r}class Wa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new r1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S1(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b1(r){return r===Ga?void 0:r}function S1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(at||(at={}));const w1={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},R1=at.INFO,x1={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},C1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=x1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=R1,this._logHandler=C1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const I1=(r,e)=>e.some(t=>r instanceof t);let nE,rE;function D1(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Ap=new WeakMap,lb=new WeakMap,up=new WeakMap,dg=new WeakMap;function O1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ws(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ob.set(t,r)}).catch(()=>{}),dg.set(e,r),e}function M1(r){if(Ap.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Ap.set(r,e)}let wp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ws(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function V1(r){wp=r(wp)}function P1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(cp(this),e,...t);return lb.set(s,e.sort?e.sort():[e]),Ws(s)}:N1().includes(r)?function(...e){return r.apply(cp(this),e),Ws(ob.get(this))}:function(...e){return Ws(r.apply(cp(this),e))}}function j1(r){return typeof r=="function"?P1(r):(r instanceof IDBTransaction&&M1(r),I1(r,D1())?new Proxy(r,wp):r)}function Ws(r){if(r instanceof IDBRequest)return O1(r);if(up.has(r))return up.get(r);const e=j1(r);return e!==r&&(up.set(r,e),dg.set(e,r)),e}const cp=r=>dg.get(r);function k1(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=Ws(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ws(c.result),p.oldVersion,p.newVersion,Ws(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const L1=["get","getKey","getAll","getAllKeys","count"],U1=["put","add","delete","clear"],hp=new Map;function iE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=U1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||L1.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return hp.set(e,l),l}V1(r=>({...r,get:(e,t,s)=>iE(e,t)||r.get(e,t,s),has:(e,t)=>!!iE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function B1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",sE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new fg("@firebase/app"),F1="@firebase/app-compat",H1="@firebase/analytics-compat",q1="@firebase/analytics",G1="@firebase/app-check-compat",K1="@firebase/app-check",$1="@firebase/auth",Q1="@firebase/auth-compat",Y1="@firebase/database",X1="@firebase/data-connect",W1="@firebase/database-compat",Z1="@firebase/functions",J1="@firebase/functions-compat",eD="@firebase/installations",tD="@firebase/installations-compat",nD="@firebase/messaging",rD="@firebase/messaging-compat",iD="@firebase/performance",sD="@firebase/performance-compat",aD="@firebase/remote-config",oD="@firebase/remote-config-compat",lD="@firebase/storage",uD="@firebase/storage-compat",cD="@firebase/firestore",hD="@firebase/vertexai",fD="@firebase/firestore-compat",dD="firebase",mD="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",pD={[Rp]:"fire-core",[F1]:"fire-core-compat",[q1]:"fire-analytics",[H1]:"fire-analytics-compat",[K1]:"fire-app-check",[G1]:"fire-app-check-compat",[$1]:"fire-auth",[Q1]:"fire-auth-compat",[Y1]:"fire-rtdb",[X1]:"fire-data-connect",[W1]:"fire-rtdb-compat",[Z1]:"fire-fn",[J1]:"fire-fn-compat",[eD]:"fire-iid",[tD]:"fire-iid-compat",[nD]:"fire-fcm",[rD]:"fire-fcm-compat",[iD]:"fire-perf",[sD]:"fire-perf-compat",[aD]:"fire-rc",[oD]:"fire-rc-compat",[lD]:"fire-gcs",[uD]:"fire-gcs-compat",[cD]:"fire-fst",[fD]:"fire-fst-compat",[hD]:"fire-vertex","fire-js":"fire-js",[dD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,gD=new Map,Cp=new Map;function aE(r,e){try{r.container.addComponent(e)}catch(t){us.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ol(r){const e=r.name;if(Cp.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,r);for(const t of af.values())aE(t,r);for(const t of gD.values())aE(t,r);return!0}function mg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Lr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ic("app","Firebase",yD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=mD;function ub(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(t||(t=sb()),!t)throw Zs.create("no-options");const l=af.get(o);if(l){if(sf(t,l.options)&&sf(s,l.config))return l;throw Zs.create("duplicate-app",{appName:o})}const c=new A1(o);for(const p of Cp.values())c.addComponent(p);const d=new vD(t,s,c);return af.set(o,d),d}function cb(r=xp){const e=af.get(r);if(!e&&r===xp&&sb())return ub();if(!e)throw Zs.create("no-app",{appName:r});return e}function Js(r,e,t){var s;let o=(s=pD[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}ol(new Wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="firebase-heartbeat-database",ED=1,Gu="firebase-heartbeat-store";let fp=null;function hb(){return fp||(fp=k1(_D,ED,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),fp}async function TD(r){try{const t=(await hb()).transaction(Gu),s=await t.objectStore(Gu).get(fb(r));return await t.done,s}catch(e){if(e instanceof ps)us.warn(e.message);else{const t=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(t.message)}}}async function oE(r,e){try{const s=(await hb()).transaction(Gu,"readwrite");await s.objectStore(Gu).put(e,fb(r)),await s.done}catch(t){if(t instanceof ps)us.warn(t.message);else{const s=Zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});us.warn(s.message)}}}function fb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1024,SD=30;class AD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=lE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>SD){const c=xD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){us.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lE(),{heartbeatsToSend:s,unsentEntries:o}=wD(this._heartbeatsCache.heartbeats),l=rf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return us.warn(t),""}}}function lE(){return new Date().toISOString().substring(0,10)}function wD(r,e=bD){const t=[];let s=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),uE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),uE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class RD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?d1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function uE(r){return rf(JSON.stringify({version:2,heartbeats:r})).length}function xD(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){ol(new Wa("platform-logger",e=>new z1(e),"PRIVATE")),ol(new Wa("heartbeat",e=>new AD(e),"PRIVATE")),Js(Rp,sE,r),Js(Rp,sE,"esm2017"),Js("fire-js","")}CD("");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,db;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,j,U){for(var I=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)I[Be-2]=arguments[Be];return C.prototype[j].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)N[j]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(j=0;16>j;++j)N[j]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],j=O.g[2];var U=O.g[3],I=C+(U^R&(j^U))+N[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=U+(j^C&(R^j))+N[1]+3905402710&4294967295,U=C+(I<<12&4294967295|I>>>20),I=j+(R^U&(C^R))+N[2]+606105819&4294967295,j=U+(I<<17&4294967295|I>>>15),I=R+(C^j&(U^C))+N[3]+3250441966&4294967295,R=j+(I<<22&4294967295|I>>>10),I=C+(U^R&(j^U))+N[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(j^C&(R^j))+N[5]+1200080426&4294967295,U=C+(I<<12&4294967295|I>>>20),I=j+(R^U&(C^R))+N[6]+2821735955&4294967295,j=U+(I<<17&4294967295|I>>>15),I=R+(C^j&(U^C))+N[7]+4249261313&4294967295,R=j+(I<<22&4294967295|I>>>10),I=C+(U^R&(j^U))+N[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(j^C&(R^j))+N[9]+2336552879&4294967295,U=C+(I<<12&4294967295|I>>>20),I=j+(R^U&(C^R))+N[10]+4294925233&4294967295,j=U+(I<<17&4294967295|I>>>15),I=R+(C^j&(U^C))+N[11]+2304563134&4294967295,R=j+(I<<22&4294967295|I>>>10),I=C+(U^R&(j^U))+N[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(j^C&(R^j))+N[13]+4254626195&4294967295,U=C+(I<<12&4294967295|I>>>20),I=j+(R^U&(C^R))+N[14]+2792965006&4294967295,j=U+(I<<17&4294967295|I>>>15),I=R+(C^j&(U^C))+N[15]+1236535329&4294967295,R=j+(I<<22&4294967295|I>>>10),I=C+(j^U&(R^j))+N[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^j&(C^R))+N[6]+3225465664&4294967295,U=C+(I<<9&4294967295|I>>>23),I=j+(C^R&(U^C))+N[11]+643717713&4294967295,j=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(j^U))+N[0]+3921069994&4294967295,R=j+(I<<20&4294967295|I>>>12),I=C+(j^U&(R^j))+N[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^j&(C^R))+N[10]+38016083&4294967295,U=C+(I<<9&4294967295|I>>>23),I=j+(C^R&(U^C))+N[15]+3634488961&4294967295,j=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(j^U))+N[4]+3889429448&4294967295,R=j+(I<<20&4294967295|I>>>12),I=C+(j^U&(R^j))+N[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^j&(C^R))+N[14]+3275163606&4294967295,U=C+(I<<9&4294967295|I>>>23),I=j+(C^R&(U^C))+N[3]+4107603335&4294967295,j=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(j^U))+N[8]+1163531501&4294967295,R=j+(I<<20&4294967295|I>>>12),I=C+(j^U&(R^j))+N[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^j&(C^R))+N[2]+4243563512&4294967295,U=C+(I<<9&4294967295|I>>>23),I=j+(C^R&(U^C))+N[7]+1735328473&4294967295,j=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(j^U))+N[12]+2368359562&4294967295,R=j+(I<<20&4294967295|I>>>12),I=C+(R^j^U)+N[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^j)+N[8]+2272392833&4294967295,U=C+(I<<11&4294967295|I>>>21),I=j+(U^C^R)+N[11]+1839030562&4294967295,j=U+(I<<16&4294967295|I>>>16),I=R+(j^U^C)+N[14]+4259657740&4294967295,R=j+(I<<23&4294967295|I>>>9),I=C+(R^j^U)+N[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^j)+N[4]+1272893353&4294967295,U=C+(I<<11&4294967295|I>>>21),I=j+(U^C^R)+N[7]+4139469664&4294967295,j=U+(I<<16&4294967295|I>>>16),I=R+(j^U^C)+N[10]+3200236656&4294967295,R=j+(I<<23&4294967295|I>>>9),I=C+(R^j^U)+N[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^j)+N[0]+3936430074&4294967295,U=C+(I<<11&4294967295|I>>>21),I=j+(U^C^R)+N[3]+3572445317&4294967295,j=U+(I<<16&4294967295|I>>>16),I=R+(j^U^C)+N[6]+76029189&4294967295,R=j+(I<<23&4294967295|I>>>9),I=C+(R^j^U)+N[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^j)+N[12]+3873151461&4294967295,U=C+(I<<11&4294967295|I>>>21),I=j+(U^C^R)+N[15]+530742520&4294967295,j=U+(I<<16&4294967295|I>>>16),I=R+(j^U^C)+N[2]+3299628645&4294967295,R=j+(I<<23&4294967295|I>>>9),I=C+(j^(R|~U))+N[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~j))+N[7]+1126891415&4294967295,U=C+(I<<10&4294967295|I>>>22),I=j+(C^(U|~R))+N[14]+2878612391&4294967295,j=U+(I<<15&4294967295|I>>>17),I=R+(U^(j|~C))+N[5]+4237533241&4294967295,R=j+(I<<21&4294967295|I>>>11),I=C+(j^(R|~U))+N[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~j))+N[3]+2399980690&4294967295,U=C+(I<<10&4294967295|I>>>22),I=j+(C^(U|~R))+N[10]+4293915773&4294967295,j=U+(I<<15&4294967295|I>>>17),I=R+(U^(j|~C))+N[1]+2240044497&4294967295,R=j+(I<<21&4294967295|I>>>11),I=C+(j^(R|~U))+N[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~j))+N[15]+4264355552&4294967295,U=C+(I<<10&4294967295|I>>>22),I=j+(C^(U|~R))+N[6]+2734768916&4294967295,j=U+(I<<15&4294967295|I>>>17),I=R+(U^(j|~C))+N[13]+1309151649&4294967295,R=j+(I<<21&4294967295|I>>>11),I=C+(j^(R|~U))+N[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~j))+N[11]+3174756917&4294967295,U=C+(I<<10&4294967295|I>>>22),I=j+(C^(U|~R))+N[2]+718787259&4294967295,j=U+(I<<15&4294967295|I>>>17),I=R+(U^(j|~C))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,N=this.B,j=this.h,U=0;U<C;){if(j==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(N[j++]=O.charCodeAt(U++),j==this.blockSize){o(this,N),j=0;break}}else for(;U<C;)if(N[j++]=O[U++],j==this.blockSize){o(this,N),j=0;break}}this.h=j,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)O[R++]=this.g[C]>>>N&255;return O};function l(O,C){var R=d;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function c(O,C){this.h=C;for(var R=[],N=!0,j=O.length-1;0<=j;j--){var U=O[j]|0;N&&U==C||(R[j]=U,N=!1)}this.g=R}var d={};function p(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return L(g(-O));for(var C=[],R=1,N=0;O>=R;N++)C[N]=O/R|0,R*=4294967296;return new c(C,0)}function _(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return L(_(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),N=b,j=0;j<O.length;j+=8){var U=Math.min(8,O.length-j),I=parseInt(O.substring(j,j+U),C);8>U?(U=g(Math.pow(C,U)),N=N.j(U).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var b=p(0),S=p(1),x=p(16777216);r=c.prototype,r.m=function(){if(q(this))return-L(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(q(this))return"-"+L(this).toString(O);for(var C=g(Math.pow(O,6)),R=this,N="";;){var j=pe(R,C).g;R=Z(R,j.j(C));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=j,V(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function q(O){return O.h==-1}r.l=function(O){return O=Z(this,O),q(O)?-1:V(O)?0:1};function L(O){for(var C=O.g.length,R=[],N=0;N<C;N++)R[N]=~O.g[N];return new c(R,~O.h).add(S)}r.abs=function(){return q(this)?L(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0,j=0;j<=C;j++){var U=N+(this.i(j)&65535)+(O.i(j)&65535),I=(U>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);N=I>>>16,U&=65535,I&=65535,R[j]=I<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Z(O,C){return O.add(L(C))}r.j=function(O){if(V(this)||V(O))return b;if(q(this))return q(O)?L(this).j(L(O)):L(L(this).j(O));if(q(O))return L(this.j(L(O)));if(0>this.l(x)&&0>O.l(x))return g(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<O.g.length;j++){var U=this.i(N)>>>16,I=this.i(N)&65535,Be=O.i(j)>>>16,Je=O.i(j)&65535;R[2*N+2*j]+=I*Je,z(R,2*N+2*j),R[2*N+2*j+1]+=U*Je,z(R,2*N+2*j+1),R[2*N+2*j+1]+=I*Be,z(R,2*N+2*j+1),R[2*N+2*j+2]+=U*Be,z(R,2*N+2*j+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new c(R,0)};function z(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ee(O,C){this.g=O,this.h=C}function pe(O,C){if(V(C))throw Error("division by zero");if(V(O))return new ee(b,b);if(q(O))return C=pe(L(O),C),new ee(L(C.g),L(C.h));if(q(C))return C=pe(O,L(C)),new ee(L(C.g),C.h);if(30<O.g.length){if(q(O)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=C;0>=N.l(O);)R=se(R),N=se(N);var j=B(R,1),U=B(N,1);for(N=B(N,2),R=B(R,2);!V(N);){var I=U.add(N);0>=I.l(O)&&(j=j.add(R),U=I),N=B(N,1),R=B(R,1)}return C=Z(O,j.j(C)),new ee(j,C)}for(j=b;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(R),I=U.j(C);q(I)||0<I.l(O);)R-=N,U=g(R),I=U.j(C);V(U)&&(U=S),j=j.add(U),O=Z(O,I)}return new ee(j,O)}r.A=function(O){return pe(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&O.i(N);return new c(R,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|O.i(N);return new c(R,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^O.i(N);return new c(R,this.h^O.h)};function se(O){for(var C=O.g.length+1,R=[],N=0;N<C;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(R,O.h)}function B(O,C){var R=C>>5;C%=32;for(var N=O.g.length-R,j=[],U=0;U<N;U++)j[U]=0<C?O.i(U+R)>>>C|O.i(U+R+1)<<32-C:O.i(U+R);return new c(j,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,db=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ea=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mb,Ou,pb,Bh,Ip,gb,yb,vb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,v){if(v)e:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var Q=h[w];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,w=!1,Q={next:function(){if(!w&&E<h.length){var te=E++;return{value:v(te,h[te]),done:!1}}return w=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function b(h,v,E){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,w),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function S(h,v,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,S.apply(null,arguments)}function x(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function V(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(w,Q,te){for(var ge=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ge[ft-2]=arguments[ft];return v.prototype[Q].apply(w,ge)}}function q(h){const v=h.length;if(0<v){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function L(h,v){for(let E=1;E<arguments.length;E++){const w=arguments[E];if(p(w)){const Q=h.length||0,te=w.length||0;h.length=Q+te;for(let ge=0;ge<te;ge++)h[Q+ge]=w[ge]}else h.push(w)}}class Z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function ee(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var se=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function B(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function O(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let E,w;for(let Q=1;Q<arguments.length;Q++){w=arguments[Q];for(E in w)h[E]=w[E];for(let te=0;te<R.length;te++)E=R[te],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function j(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function U(h){d.setTimeout(()=>{throw h},0)}function I(){var h=Xe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,E){const w=Je.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Je=new Z(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Se=!1,Xe=new Be,P=()=>{const h=d.Promise.resolve(void 0);Ce=()=>{h.then(ce)}};var ce=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){U(E)}var v=Je;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Se=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function Fe(h,v){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(se){e:{try{pe(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}V(Fe,ve);var Le={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),it=0;function wt(h,v,E,w,Q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=Q,this.key=++it,this.da=this.fa=!1}function He(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h){this.src=h,this.g={},this.h=0}Dt.prototype.add=function(h,v,E,w,Q){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=Vn(h,v,w,Q);return-1<ge?(v=h[ge],E||(v.fa=!1)):(v=new wt(v,this.src,te,!!w,Q),v.fa=E,h.push(v)),v};function qn(h,v){var E=v.type;if(E in h.g){var w=h.g[E],Q=Array.prototype.indexOf.call(w,v,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(w,Q,1),te&&(He(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Vn(h,v,E,w){for(var Q=0;Q<h.length;++Q){var te=h[Q];if(!te.da&&te.listener==v&&te.capture==!!E&&te.ha==w)return Q}return-1}var sn="closure_lm_"+(1e6*Math.random()|0),yr={};function er(h,v,E,w,Q){if(Array.isArray(v)){for(var te=0;te<v.length;te++)er(h,v[te],E,w,Q);return null}return E=Ee(E),h&&h[Vt]?h.K(v,E,g(w)?!!w.capture:!1,Q):Br(h,v,E,!1,w,Q)}function Br(h,v,E,w,Q,te){if(!v)throw Error("Invalid event type");var ge=g(Q)?!!Q.capture:!!Q,ft=W(h);if(ft||(h[sn]=ft=new Dt(h)),E=ft.add(v,E,w,ge,te),E.proxy)return E;if(w=ri(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)_e||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),w,Q);else if(h.attachEvent)h.attachEvent(Fr(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ri(){function h(E){return v.call(h.src,h.listener,E)}const v=M;return h}function ii(h,v,E,w,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)ii(h,v[te],E,w,Q);else w=g(w)?!!w.capture:!!w,E=Ee(E),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],E=Vn(te,E,w,Q),-1<E&&(He(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=W(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Vn(v,E,w,Q)),(E=-1<h?v[h]:null)&&si(E))}function si(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])qn(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(Fr(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=W(v))?(qn(E,h),E.h==0&&(E.src=null,v[sn]=null)):He(h)}}}function Fr(h){return h in yr?yr[h]:yr[h]="on"+h}function M(h,v){if(h.da)h=!0;else{v=new Fe(v,this);var E=h.listener,w=h.ha||h.src;h.fa&&si(h),h=E.call(w,v)}return h}function W(h){return h=h[sn],h instanceof Dt?h:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(h){return typeof h=="function"?h:(h[ne]||(h[ne]=function(v){return h.handleEvent(v)}),h[ne])}function he(){we.call(this),this.i=new Dt(this),this.M=this,this.F=null}V(he,we),he.prototype[Vt]=!0,he.prototype.removeEventListener=function(h,v,E,w){ii(this,h,v,E,w)};function ae(h,v){var E,w=h.F;if(w)for(E=[];w;w=w.F)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new ve(v,h);else if(v instanceof ve)v.target=v.target||h;else{var Q=v;v=new ve(w,h),N(v,Q)}if(Q=!0,E)for(var te=E.length-1;0<=te;te--){var ge=v.g=E[te];Q=be(ge,w,!0,v)&&Q}if(ge=v.g=h,Q=be(ge,w,!0,v)&&Q,Q=be(ge,w,!1,v)&&Q,E)for(te=0;te<E.length;te++)ge=v.g=E[te],Q=be(ge,w,!1,v)&&Q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],w=0;w<E.length;w++)He(E[w]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},he.prototype.L=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function be(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,te=0;te<v.length;++te){var ge=v[te];if(ge&&!ge.da&&ge.capture==E){var ft=ge.listener,an=ge.ha||ge.src;ge.fa&&qn(h.i,ge),Q=ft.call(an,w)!==!1&&Q}}return Q&&!w.defaultPrevented}function We(h,v,E){if(typeof h=="function")E&&(h=S(h,E));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Rt(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,Rt(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class At extends we{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){we.call(this),this.h=h,this.g={}}V(vr,we);var Gn=[];function Ut(h){B(h.g,function(v,E){this.g.hasOwnProperty(E)&&si(v)},h),h.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Ut(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=d.JSON.stringify,Pn=d.JSON.parse,Ht=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Hr(){}Hr.prototype.h=null;function gs(h){return h.h||(h.h=h.i())}function ao(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){ve.call(this,"d")}V(ai,ve);function tr(){ve.call(this,"c")}V(tr,ve);var wn={},or=null;function ys(){return or=or||new he}wn.La="serverreachability";function ma(h){ve.call(this,wn.La,h)}V(ma,ve);function k(h){const v=ys();ae(v,new ma(v))}wn.STAT_EVENT="statevent";function G(h,v){ve.call(this,wn.STAT_EVENT,h),this.stat=v}V(G,ve);function Y(h){const v=ys();ae(v,new G(v,h))}wn.Ma="timingevent";function de(h,v){ve.call(this,wn.Ma,h),this.size=v}V(de,ve);function Te(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ue(h,v,E,w,Q,te){h.info(function(){if(h.g)if(te)for(var ge="",ft=te.split("&"),an=0;an<ft.length;an++){var dt=ft[an].split("=");if(1<dt.length){var yn=dt[0];dt=dt[1];var on=yn.split("_");ge=2<=on.length&&on[1]=="type"?ge+(yn+"="+dt+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+w+") [attempt "+Q+"]: "+v+`
`+E+`
`+ge})}function Re(h,v,E,w,Q,te,ge){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+Q+"]: "+v+`
`+E+`
`+te+" "+ge})}function xe(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ne(h,E)+(w?" "+w:"")})}function ye(h,v){h.info(function(){return"TIMEOUT: "+v})}Ie.prototype.info=function(){};function Ne(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var w=E[h];if(!(2>w.length)){var Q=w[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Mi(E)}catch{return v}}var Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pt;function Tt(){}V(Tt,Hr),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},Pt=new Tt;function st(h,v,E,w){this.j=h,this.i=v,this.l=E,this.R=w||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}var Kn={},lr={};function Qt(h,v,E){h.L=1,h.v=va(qt(v)),h.m=E,h.P=!0,Zt(h,null)}function Zt(h,v){h.F=Date.now(),_t(h),h.A=qt(h.v);var E=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),ki(E.i,"t",w),h.C=0,E=h.j.J,h.h=new jt,h.g=xc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new At(S(h.Y,h,h.g),h.O)),v=h.U,E=h.g,w=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gn[0]=Q.toString()),Q=Gn);for(var te=0;te<Q.length;te++){var ge=er(E,Q[te],w||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),k(),Ue(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const v=this.M;v&&wr(h)==3?v.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const on=wr(this.g);var v=this.g.Ba();const Bi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||on!=4||v==7||(v==8||0>=Bi?k(3):k(2)),qr(this);var E=this.g.Z();this.X=E;t:if(_r(this)){var w=_c(this.g);h="";var Q=w.length,te=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),et(this);var ge="";break t}this.h.i=new d.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!(te&&v==Q-1)});w.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Re(this.i,this.u,this.A,this.l,this.R,on,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,an=this.g;if((ft=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ft)){var dt=ft;break t}}dt=null}if(E=dt)xe(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,E);else{this.o=!1,this.s=3,Y(12),Et(this),et(this);break e}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<ge.length;)if(Rn=nr(this,ge),Rn==lr){on==4&&(this.s=4,Y(14),E=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Kn){this.s=4,Y(15),xe(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else xe(this.i,this.l,Rn,null),pn(this,Rn);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ge.length!=0||this.h.h||(this.s=1,Y(16),E=!1),this.o=this.o&&E,!E)xe(this.i,this.l,ge,"[Invalid Chunked Response]"),Et(this),et(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),wa(yn),yn.M=!0,Y(11))}}else xe(this.i,this.l,ge,null),pn(this,ge);on==4&&Et(this),this.o&&!this.J&&(on==4?Ac(this.j,this):(this.o=!1,_t(this)))}else id(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Et(this),et(this)}}}catch{}finally{}};function _r(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nr(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?lr:(E=Number(v.substring(E,w)),isNaN(E)?Kn:(w+=1,w+E>v.length?lr:(v=v.slice(w,w+E),h.C=w+E,v)))}st.prototype.cancel=function(){this.J=!0,Et(this)};function _t(h){h.S=Date.now()+h.I,oi(h,h.I)}function oi(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(S(h.ba,h),v)}function qr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ye(this.i,this.A),this.L!=2&&(k(),Y(17)),Et(this),this.s=2,et(this)):oi(this,this.S-h)};function et(h){h.j.G==0||h.J||Ac(h.j,h)}function Et(h){qr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ut(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function pn(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||li(E.h,h))){if(!h.K&&li(E.h,h)&&E.G==3){try{var w=E.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var Q=w;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)yo(E),po(E);else break e;Dl(E),Y(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(S(E.Za,E),6e3));if(1>=pa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else zi(E,11)}else if((h.K||E.g==h)&&yo(E),!z(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let dt=Q[v];if(E.T=dt[0],dt=dt[1],E.G==2)if(dt[0]=="c"){E.K=dt[1],E.ia=dt[2];const yn=dt[3];yn!=null&&(E.la=yn,E.j.info("VER="+E.la));const on=dt[4];on!=null&&(E.Aa=on,E.j.info("SVER="+E.Aa));const Bi=dt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(w=1.5*Bi,E.L=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Rn=h.g;if(Rn){const pi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var te=w.h;te.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(vs(te,te.h),te.h=null))}if(w.D){const Ol=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(w.ya=Ol,gt(w.I,w.D,Ol))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),w=E;var ge=h;if(w.qa=Rc(w,w.J?w.ia:null,w.W),ge.K){Tr(w.h,ge);var ft=ge,an=w.L;an&&(ft.I=an),ft.B&&(qr(ft),_t(ft)),w.g=ge}else bc(w);0<E.i.length&&go(E)}else dt[0]!="stop"&&dt[0]!="close"||zi(E,7);else E.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?zi(E,7):Cl(E):dt[0]!="noop"&&E.l&&E.l.ta(dt),E.v=0)}}k(4)}catch{}}var Vi=class{constructor(h,v){this.g=h,this.map=v}};function Nt(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Er(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function pa(h){return h.h?1:h.g?h.g.size:0}function li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function vs(h,v){h.g?h.g.add(v):h.h=v}function Tr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Nt.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function $n(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return q(h.i)}function pc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,w=0;w<E;w++)v.push(h[w]);return v}v=[],E=0;for(w in h)v[E++]=h[w];return v}function ed(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const w in h)v[E++]=w;return v}}}function ga(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=ed(h),w=pc(h),Q=w.length,te=0;te<Q;te++)v.call(void 0,w[te],E&&E[te],h)}var bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var w=h[E].indexOf("="),Q=null;if(0<=w){var te=h[E].substring(0,w);Q=h[E].substring(w+1)}else te=h[E];v(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Pi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Pi){this.h=h.h,_s(this,h.j),this.o=h.o,this.g=h.g,ya(this,h.s),this.l=h.l;var v=h.i,E=new ui;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),lo(this,E),this.m=h.m}else h&&(v=String(h).match(bl))?(this.h=!1,_s(this,v[1]||"",!0),this.o=Es(v[2]||""),this.g=Es(v[3]||"",!0),ya(this,v[4]),this.l=Es(v[5]||"",!0),lo(this,v[6]||"",!0),this.m=Es(v[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Pi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(br(v,Sl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(br(v,Sl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(br(E,E.charAt(0)=="/"?Al:gc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",br(E,rd)),h.join("")};function qt(h){return new Pi(h)}function _s(h,v,E){h.j=E?Es(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ya(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function lo(h,v,E){v instanceof ui?(h.i=v,wl(h.i,h.h)):(E||(v=br(v,nd)),h.i=new ui(v,h.h))}function gt(h,v,E){h.i.set(v,E)}function va(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Es(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function br(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,td),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function td(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sl=/[#\/\?@]/g,gc=/[#\?:]/g,Al=/[#\?]/g,nd=/[#\?@]/g,rd=/#/g;function ui(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Sr(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=ui.prototype,r.add=function(h,v){Sr(this),this.i=null,h=Li(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function uo(h,v){Sr(h),v=Li(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ji(h,v){return Sr(h),v=Li(h,v),h.g.has(v)}r.forEach=function(h,v){Sr(this),this.g.forEach(function(E,w){E.forEach(function(Q){h.call(v,Q,w,this)},this)},this)},r.na=function(){Sr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let w=0;w<v.length;w++){const Q=h[w];for(let te=0;te<Q.length;te++)E.push(v[w])}return E},r.V=function(h){Sr(this);let v=[];if(typeof h=="string")ji(this,h)&&(v=v.concat(this.g.get(Li(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},r.set=function(h,v){return Sr(this),this.i=null,h=Li(this,h),ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ki(h,v,E){uo(h,v),0<E.length&&(h.i=null,h.g.set(Li(h,v),q(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var w=v[E];const te=encodeURIComponent(String(w)),ge=this.V(w);for(w=0;w<ge.length;w++){var Q=te;ge[w]!==""&&(Q+="="+encodeURIComponent(String(ge[w]))),h.push(Q)}}return this.i=h.join("&")};function Li(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function wl(h,v){v&&!h.j&&(Sr(h),h.i=null,h.g.forEach(function(E,w){var Q=w.toLowerCase();w!=Q&&(uo(this,w),ki(this,Q,E))},h)),h.j=v}function yc(h,v){const E=new Ie;if(d.Image){const w=new Image;w.onload=x(Ar,E,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Ar,E,"TestLoadImage: error",!1,v,w),w.onabort=x(Ar,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Ar,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function _a(h,v){const E=new Ie,w=new AbortController,Q=setTimeout(()=>{w.abort(),Ar(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(te=>{clearTimeout(Q),te.ok?Ar(E,"TestPingServer: ok",!0,v):Ar(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Ar(E,"TestPingServer: error",!1,v)})}function Ar(h,v,E,w,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),w(E)}catch{}}function Ea(){this.g=new Ht}function ci(h,v,E){const w=E||"";try{ga(h,function(Q,te){let ge=Q;g(Q)&&(ge=Mi(Q)),v.push(w+te+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(w+"type="+encodeURIComponent("_badmap")),Q}}function Ts(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Ts,Hr),Ts.prototype.g=function(){return new Ui(this.l,this.j)},Ts.prototype.i=function(h){return function(){return h}}({});function Ui(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ui,he),r=Ui.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,fi(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?hi(this):fi(this),this.readyState==3&&Rl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,hi(this))},r.Qa=function(h){this.g&&(this.response=h,hi(this))},r.ga=function(){this.g&&hi(this)};function hi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fi(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xl(h){let v="";return B(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function gn(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=xl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):gt(h,v,E))}function bt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(bt,he);var co=/^https?$/i,Ta=["POST","PUT"];r=bt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pt.g(),this.v=this.o?gs(this.o):gs(Pt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){vc(this,te);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var Q in w)E.set(Q,w[Q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const te of w.keys())E.set(te,w.get(te));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ta,v,void 0))||w||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){vc(this,te)}};function vc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ho(h),di(h)}function ho(h){h.A||(h.A=!0,ae(h,"complete"),ae(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ae(this,"complete"),ae(this,"abort"),di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},r.bb=function(){fo(this)};function fo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||wr(h)!=4||h.Z()!=2)){if(h.u&&wr(h)==4)We(h.Ea,0,h);else if(ae(h,"readystatechange"),wr(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=ge===0){var Q=String(h.D).match(bl)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),w=!co.test(Q?Q.toLowerCase():"")}E=w}if(E)ae(h,"complete"),ae(h,"success");else{h.m=6;try{var te=2<wr(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",ho(h)}}finally{di(h)}}}}function di(h,v){if(h.g){ba(h);const E=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ae(h,"ready");try{E.onreadystatechange=w}catch{}}}function ba(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function wr(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Pn(v)}};function _c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function id(h){const v={};h=(h.g&&2<=wr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(z(h[w]))continue;var E=j(h[w]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=v[Q]||[];v[Q]=te,te.push(E)}O(v,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function mo(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,h),this.cb=Sa("retryDelaySeedMs",1e4,h),this.Wa=Sa("forwardChannelMaxRetries",2,h),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(h&&h.concurrentRequestLimit),this.Da=new Ea,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=mo.prototype,r.la=8,r.G=1,r.connect=function(h,v,E,w){Y(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.I=Rc(this,null,this.W),go(this)};function Cl(h){if(Ec(h),h.G==3){var v=h.U++,E=qt(h.I);if(gt(E,"SID",h.K),gt(E,"RID",v),gt(E,"TYPE","terminate"),Aa(h,E),v=new st(h,h.j,v),v.L=2,v.v=va(qt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),_t(v)}wc(h)}function po(h){h.g&&(wa(h),h.g.cancel(),h.g=null)}function Ec(h){po(h),h.u&&(d.clearTimeout(h.u),h.u=null),yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function go(h){if(!Er(h.h)&&!h.s){h.s=!0;var v=h.Ga;Ce||P(),Se||(Ce(),Se=!0),Xe.add(v,h),h.B=0}}function sd(h,v){return pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(S(h.Ga,h,v),Nl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new st(this,this.j,h);let te=this.o;if(this.S&&(te?(te=C(te),N(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Tc(this,Q,v),E=qt(this.I),gt(E,"RID",h),gt(E,"CVER",22),this.D&&gt(E,"X-HTTP-Session-Id",this.D),Aa(this,E),te&&(this.O?v="headers="+encodeURIComponent(String(xl(te)))+"&"+v:this.m&&gn(E,this.m,te)),vs(this.h,Q),this.Ua&&gt(E,"TYPE","init"),this.P?(gt(E,"$req",v),gt(E,"SID","null"),Q.T=!0,Qt(Q,E,null)):Qt(Q,E,v),this.G=2}}else this.G==3&&(h?Il(this,h):this.i.length==0||Er(this.h)||Il(this))};function Il(h,v){var E;v?E=v.l:E=h.U++;const w=qt(h.I);gt(w,"SID",h.K),gt(w,"RID",E),gt(w,"AID",h.T),Aa(h,w),h.m&&h.o&&gn(w,h.m,h.o),E=new st(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Tc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),vs(h.h,E),Qt(E,w,v)}function Aa(h,v){h.H&&B(h.H,function(E,w){gt(v,w,E)}),h.l&&ga({},function(E,w){gt(v,w,E)})}function Tc(h,v,E){E=Math.min(h.i.length,E);var w=h.l?S(h.l.Na,h.l,h):null;e:{var Q=h.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=Q[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let ft=!0;for(let an=0;an<E;an++){let dt=Q[an].g;const yn=Q[an].map;if(dt-=te,0>dt)te=Math.max(0,Q[an].g-100),ft=!1;else try{ci(yn,ge,"req"+dt+"_")}catch{w&&w(yn)}}if(ft){w=ge.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,w}function bc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Ce||P(),Se||(Ce(),Se=!0),Xe.add(v,h),h.v=0}}function Dl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(S(h.Fa,h),Nl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(S(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),po(this),Sc(this))};function wa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Sc(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=qt(h.qa);gt(v,"RID","rpc"),gt(v,"SID",h.K),gt(v,"AID",h.T),gt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(v,"TO",h.ja),gt(v,"TYPE","xmlhttp"),Aa(h,v),h.m&&h.o&&gn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=va(qt(v)),E.m=null,E.P=!0,Zt(E,h)}r.Za=function(){this.C!=null&&(this.C=null,po(this),Dl(this),Y(19))};function yo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ac(h,v){var E=null;if(h.g==v){yo(h),wa(h),h.g=null;var w=2}else if(li(h.h,v))E=v.D,Tr(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;w=ys(),ae(w,new de(w,E)),go(h)}else bc(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(w==1&&sd(h,v)||w==2&&Dl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Q){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function Nl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function zi(h,v){if(h.j.info("Error code "+v),v==2){var E=S(h.fb,h),w=h.Xa;const Q=!w;w=new Pi(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_s(w,"https"),va(w),Q?yc(w.toString(),E):_a(w.toString(),E)}else Y(2);h.G=0,h.l&&h.l.sa(v),wc(h),Ec(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function wc(h){if(h.G=0,h.ka=[],h.l){const v=$n(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function Rc(h,v,E){var w=E instanceof Pi?qt(E):new Pi(E);if(w.g!="")v&&(w.g=v+"."+w.g),ya(w,w.s);else{var Q=d.location;w=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Pi(null);w&&_s(te,w),v&&(te.g=v),Q&&ya(te,Q),E&&(te.l=E),w=te}return E=h.D,v=h.ya,E&&v&&gt(w,E,v),gt(w,"VER",h.la),Aa(h,w),w}function xc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new bt(new Ts({eb:E})):new bt(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}r=Cc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function vo(){}vo.prototype.g=function(h,v){return new Qn(h,v)};function Qn(h,v){he.call(this),this.g=new mo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new mi(this)}V(Qn,he),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Cl(this.g)},Qn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Mi(h),h=E);v.i.push(new Vi(v.Ya++,h)),v.G==3&&go(v)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,Qn.aa.N.call(this)};function Ic(h){ai.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Ic,ai);function Dc(){tr.call(this),this.status=1}V(Dc,tr);function mi(h){this.g=h}V(mi,Cc),mi.prototype.ua=function(){ae(this.g,"a")},mi.prototype.ta=function(h){ae(this.g,new Ic(h))},mi.prototype.sa=function(h){ae(this.g,new Dc)},mi.prototype.ra=function(){ae(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,vb=function(){return new vo},yb=function(){return ys()},gb=wn,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,Bh=Ve,ht.COMPLETE="complete",pb=ht,ao.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",he.prototype.listen=he.prototype.K,Ou=ao,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,mb=bt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new fg("@firebase/firestore");function Wo(){return Za.logLevel}function Ae(r,...e){if(Za.logLevel<=at.DEBUG){const t=e.map(pg);Za.debug(`Firestore (${yl}): ${r}`,...t)}}function cs(r,...e){if(Za.logLevel<=at.ERROR){const t=e.map(pg);Za.error(`Firestore (${yl}): ${r}`,...t)}}function ll(r,...e){if(Za.logLevel<=at.WARN){const t=e.map(pg);Za.warn(`Firestore (${yl}): ${r}`,...t)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+r;throw cs(e),new Error(e)}function St(r,e){r||Ge()}function Ye(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new os,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new os)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string"),new _b(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new zn(e)}}class OD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new OD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Lr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){St(this.o===void 0);const s=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new dE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new dE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ct(r,e){return r<e?-1:r>e?1:0}function ul(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,pE=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*pE);return new dn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mE)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new dn(0,0))}static max(){return new Ke(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__name__";class bi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(),s===void 0?s=e.length-t:s>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=bi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=bi.isNumericId(e),o=bi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class Lt extends bi{construct(e,t,s){return new Lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends bi{construct(e,t,s){return new On(e,t,s)}static isValidIdentifier(e){return jD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new On([gE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(t)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Lt.fromString(e))}static fromName(e){return new ke(Lt.fromString(e).popFirst(5))}static empty(){return new ke(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function kD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new dn(t+1,0):new dn(t,s));return new ra(o,ke.empty(),e)}function LD(r){return new ra(r.readTime,r.key,Ku)}class ra{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ra(Ke.min(),ke.empty(),Ku)}static max(){return new ra(Ke.max(),ke.empty(),Ku)}}function UD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(r.documentKey,e.documentKey),t!==0?t:ct(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(r){if(r.code!==me.FAILED_PRECONDITION||r.message!==zD)throw r;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>s(p))}),c=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>o(_))}})}static doWhile(e,t){return new le((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function FD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Of(r){return r==null}function of(r){return r===0&&1/r==-1/0}function HD(r){return typeof r=="number"&&Number.isInteger(r)&&!of(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="";function qD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=yE(e)),e=GD(r.get(t),e);return yE(e)}function GD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Tb:t+="";break;default:t+=l}}return t}function yE(r){return r+Tb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Dn.RED,this.left=o??Dn.EMPTY,this.right=l??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new pr([])}unionWith(e){let t=new mn(On.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Sb("Invalid base64 string: "+l):l}}(e);return new Mn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(r){if(St(!!r),typeof r=="string"){let e=0;const t=KD.exec(r);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(r.seconds),nanos:Xt(r.nanos)}}function Xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sa(r){return typeof r=="string"?Mn.fromBase64String(r):Mn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="server_timestamp",wb="__type__",Rb="__previous_value__",xb="__local_write_time__";function yg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||t===void 0?void 0:t.stringValue)===Ab}function Mf(r){const e=r.mapValue.fields[Rb];return yg(e)?Mf(e):e}function $u(r){const e=ia(r.mapValue.fields[xb].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,s,o,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const lf="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__type__",QD="__max__",Mh={mapValue:{}},Ib="__vector__",uf="value";function aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:XD(r)?9007199254740991:YD(r)?10:11:Ge()}function Di(r,e){if(r===e)return!0;const t=aa(r);if(t!==aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ia(o.timestampValue),d=ia(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return sa(o.bytesValue).isEqual(sa(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Xt(o.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Xt(o.integerValue)===Xt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Xt(o.doubleValue),d=Xt(l.doubleValue);return c===d?of(c)===of(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return ul(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(vE(c)!==vE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Di(c[p],d[p])))return!1;return!0}(r,e);default:return Ge()}}function Yu(r,e){return(r.values||[]).find(t=>Di(t,e))!==void 0}function cl(r,e){if(r===e)return 0;const t=aa(r),s=aa(e);if(t!==s)return ct(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(r.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Xt(l.integerValue||l.doubleValue),p=Xt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return EE(r.timestampValue,e.timestampValue);case 4:return EE($u(r),$u(e));case 5:return ct(r.stringValue,e.stringValue);case 6:return function(l,c){const d=sa(l),p=sa(c);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=ct(d[g],p[g]);if(_!==0)return _}return ct(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ct(Xt(l.latitude),Xt(c.latitude));return d!==0?d:ct(Xt(l.longitude),Xt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return TE(r.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,_;const b=l.fields||{},S=c.fields||{},x=(d=b[uf])===null||d===void 0?void 0:d.arrayValue,V=(p=S[uf])===null||p===void 0?void 0:p.arrayValue,q=ct(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return q!==0?q:TE(x,V)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mh.mapValue&&c===Mh.mapValue)return 0;if(l===Mh.mapValue)return 1;if(c===Mh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const S=ct(p[b],_[b]);if(S!==0)return S;const x=cl(d[p[b]],g[_[b]]);if(x!==0)return x}return ct(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ge()}}function EE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ct(r,e);const t=ia(r),s=ia(e),o=ct(t.seconds,s.seconds);return o!==0?o:ct(t.nanos,s.nanos)}function TE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=cl(t[o],s[o]);if(l)return l}return ct(t.length,s.length)}function hl(r){return Dp(r)}function Dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ia(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return sa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ke.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Dp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Dp(t.fields[c])}`;return o+"}"}(r.mapValue):Ge()}function Fh(r){switch(aa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(r);return e?16+Fh(e):16;case 5:return 2*r.stringValue.length;case 6:return sa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Fh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ca(s.fields,(l,c)=>{o+=l.length+Fh(c)}),o}(r.mapValue);default:throw Ge()}}function Np(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function bE(r){return!!r&&"nullValue"in r}function SE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hh(r){return!!r&&"mapValue"in r}function YD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cb])===null||t===void 0?void 0:t.stringValue)===Ib}function Lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Lu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function XD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=On.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Lu(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ca(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new sr(Lu(this.value))}}function Db(r){const e=[];return ca(r.fields,(t,s)=>{const o=new On([t]);if(Hh(s)){const l=Db(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,s,o,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,Ke.min(),Ke.min(),Ke.min(),sr.empty(),0)}static newFoundDocument(e,t,s,o){return new Bn(e,1,t,Ke.min(),s,o,0)}static newNoDocument(e,t){return new Bn(e,2,t,Ke.min(),Ke.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Ke.min(),Ke.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.position=e,this.inclusive=t}}function AE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?s=ke.comparator(ke.fromName(c.referenceValue),t.key):s=cl(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Di(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function WD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{}class hn extends Nb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new JD(e,t,s):t==="array-contains"?new nN(e,s):t==="in"?new rN(e,s):t==="not-in"?new iN(e,s):t==="array-contains-any"?new sN(e,s):new hn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new eN(e,s):new tN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(cl(t,this.value)):t!==null&&aa(this.value)===aa(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends Nb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ni(e,t)}matches(e){return Ob(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ob(r){return r.op==="and"}function Mb(r){return ZD(r)&&Ob(r)}function ZD(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function Op(r){if(r instanceof hn)return r.field.canonicalString()+r.op.toString()+hl(r.value);if(Mb(r))return r.filters.map(e=>Op(e)).join(",");{const e=r.filters.map(t=>Op(t)).join(",");return`${r.op}(${e})`}}function Vb(r,e){return r instanceof hn?function(s,o){return o instanceof hn&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(r,e):r instanceof Ni?function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,d)=>l&&Vb(c,o.filters[d]),!0):!1}(r,e):void Ge()}function Pb(r){return r instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`}(r):r instanceof Ni?function(t){return t.op.toString()+" {"+t.getFilters().map(Pb).join(" ,")+"}"}(r):"Filter"}class JD extends hn{constructor(e,t,s){super(e,t,s),this.key=ke.fromName(s.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class eN extends hn{constructor(e,t){super(e,"in",t),this.keys=jb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tN extends hn{constructor(e,t){super(e,"not-in",t),this.keys=jb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ke.fromName(s.referenceValue))}class nN extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&Yu(t.arrayValue,this.value)}}class rN extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class iN extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Yu(this.value.arrayValue,t)}}class sN extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function RE(r,e=null,t=[],s=[],o=null,l=null,c=null){return new aN(r,e,t,s,o,l,c)}function _g(r){const e=Ye(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Op(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>hl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>hl(s)).join(",")),e.le=t}return e.le}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!WD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wE(r.startAt,e.startAt)&&wE(r.endAt,e.endAt)}function Mp(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t=null,s=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oN(r,e,t,s,o,l,c,d){return new Vf(r,e,t,s,o,l,c,d)}function Pf(r){return new Vf(r)}function xE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lN(r){return r.collectionGroup!==null}function Uu(r){const e=Ye(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new mn(On.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new hf(l,s))}),t.has(On.keyField().canonicalString())||e.he.push(new hf(On.keyField(),s))}return e.he}function Ri(r){const e=Ye(r);return e.Pe||(e.Pe=uN(e,Uu(r))),e.Pe}function uN(r,e){if(r.limitType==="F")return RE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new hf(o.field,l)});const t=r.endAt?new cf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new cf(r.startAt.position,r.startAt.inclusive):null;return RE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Vp(r,e,t){return new Vf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function jf(r,e){return Eg(Ri(r),Ri(e))&&r.limitType===e.limitType}function kb(r){return`${_g(Ri(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Pb(o)).join(", ")}]`),Of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>hl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>hl(o)).join(",")),`Target(${s})`}(Ri(r))}; limitType=${r.limitType})`}function kf(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ke.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Uu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(c,d,p){const g=AE(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,Uu(s),o)||s.endAt&&!function(c,d,p){const g=AE(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,Uu(s),o))}(r,e)}function cN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Lb(r){return(e,t)=>{let s=!1;for(const o of Uu(r)){const l=hN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function hN(r,e,t){const s=r.field.isKeyField()?ke.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?cl(p,g):Ge()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ft(ke.comparator);function hs(){return fN}const Ub=new Ft(ke.comparator);function Mu(...r){let e=Ub;for(const t of r)e=e.insert(t.key,t);return e}function zb(r){let e=Ub;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xa(){return zu()}function Bb(){return zu()}function zu(){return new ro(r=>r.toString(),(r,e)=>r.isEqual(e))}const dN=new Ft(ke.comparator),mN=new mn(ke.comparator);function lt(...r){let e=mN;for(const t of r)e=e.add(t);return e}const pN=new mn(ct);function gN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function Fb(r){return{integerValue:""+r}}function yN(r,e){return HD(e)?Fb(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function vN(r,e,t){return r instanceof Xu?function(o,l){const c={fields:{[wb]:{stringValue:Ab},[xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&yg(l)&&(l=Mf(l)),l&&(c.fields[Rb]=l),{mapValue:c}}(t,e):r instanceof Wu?qb(r,e):r instanceof Zu?Gb(r,e):function(o,l){const c=Hb(o,l),d=CE(c)+CE(o.Ie);return Np(c)&&Np(o.Ie)?Fb(d):Tg(o.serializer,d)}(r,e)}function _N(r,e,t){return r instanceof Wu?qb(r,e):r instanceof Zu?Gb(r,e):t}function Hb(r,e){return r instanceof ff?function(s){return Np(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Xu extends Lf{}class Wu extends Lf{constructor(e){super(),this.elements=e}}function qb(r,e){const t=Kb(e);for(const s of r.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class Zu extends Lf{constructor(e){super(),this.elements=e}}function Gb(r,e){let t=Kb(e);for(const s of r.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class ff extends Lf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CE(r){return Xt(r.integerValue||r.doubleValue)}function Kb(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.field=e,this.transform=t}}function TN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Wu&&o instanceof Wu||s instanceof Zu&&o instanceof Zu?ul(s.elements,o.elements,Di):s instanceof ff&&o instanceof ff?Di(s.Ie,o.Ie):s instanceof Xu&&o instanceof Xu}(r.transform,e.transform)}class bN{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uf{}function $b(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yb(r.key,Jr.none()):new ac(r.key,r.data,Jr.none());{const t=r.data,s=sr.empty();let o=new mn(On.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ha(r.key,s,new pr(o.toArray()),Jr.none())}}function SN(r,e,t){r instanceof ac?function(o,l,c){const d=o.value.clone(),p=DE(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ha?function(o,l,c){if(!qh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=DE(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Qb(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Bu(r,e,t,s){return r instanceof ac?function(l,c,d,p){if(!qh(l.precondition,c))return d;const g=l.value.clone(),_=NE(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ha?function(l,c,d,p){if(!qh(l.precondition,c))return d;const g=NE(l.fieldTransforms,p,c),_=c.data;return _.setAll(Qb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(l,c,d){return qh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function AN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Hb(s.transform,o||null);l!=null&&(t===null&&(t=sr.empty()),t.set(s.field,l))}return t||null}function IE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ul(s,o,(l,c)=>TN(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ac extends Uf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Uf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Qb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function DE(r,e,t){const s=new Map;St(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,_N(c,d,t[o]))}return s}function NE(r,e,t){const s=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);s.set(o.field,vN(l,c,e))}return s}class Yb extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&SN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Bu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Bu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Bb();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=$b(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,s)=>IE(t,s))&&ul(this.baseMutations,e.baseMutations,(t,s)=>IE(t,s))}}class bg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length);let o=function(){return dN}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new bg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,pt;function IN(r){switch(r){case me.OK:return Ge();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge()}}function Xb(r){if(r===void 0)return cs("GRPC error has no .code"),me.UNKNOWN;switch(r){case nn.OK:return me.OK;case nn.CANCELLED:return me.CANCELLED;case nn.UNKNOWN:return me.UNKNOWN;case nn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case nn.INTERNAL:return me.INTERNAL;case nn.UNAVAILABLE:return me.UNAVAILABLE;case nn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case nn.NOT_FOUND:return me.NOT_FOUND;case nn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case nn.ABORTED:return me.ABORTED;case nn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case nn.DATA_LOSS:return me.DATA_LOSS;default:return Ge()}}(pt=nn||(nn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new ea([4294967295,4294967295],0);function OE(r){const e=DN().encode(r),t=new db;return t.update(e),new Uint8Array(t.digest())}function ME(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ea([t,s],0),new ea([o,l],0)]}class Sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(s<0)throw new Vu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ea.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ea.fromNumber(s)));return o.compare(NN)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=OE(e),[s,o]=ME(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sg(l,o,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=OE(e),[s,o]=ME(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new zf(Ke.min(),o,new Ft(ct),hs(),lt())}}class oc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new oc(s,t,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Wb{constructor(e,t){this.targetId=e,this.ge=t}}class Zb{constructor(e,t,s=Mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.pe=0,this.ye=PE(),this.we=Mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=lt(),t=lt(),s=lt();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ge()}}),new oc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=PE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ON{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hs(),this.$e=Vh(),this.Ke=Vh(),this.Ue=new Ft(ct)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Mp(l))if(s===0){const c=new ke(l.path);this.ze(t,c,Bn.newNoDocument(c,Ke.min()))}else St(s===1);else{const c=this.et(t);if(c!==s){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=sa(s).toUint8Array()}catch(p){if(p instanceof Sb)return ll("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sg(c,o,l)}catch(p){return ll(p instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Mp(d.target)){const p=new ke(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Bn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=lt();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new zf(e,t,this.Ue,this.Qe,s);return this.Qe=hs(),this.$e=Vh(),this.Ke=Vh(),this.Ue=new Ft(ct),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new VE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mn(ct),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mn(ct),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new VE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Vh(){return new Ft(ke.comparator)}function PE(){return new Ft(ke.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PN={and:"AND",or:"OR"};class jN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pp(r,e){return r.useProto3Json||Of(e)?e:{value:e}}function df(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kN(r,e){return df(r,e.toTimestamp())}function xi(r){return St(!!r),Ke.fromTimestamp(function(t){const s=ia(t);return new dn(s.seconds,s.nanos)}(r))}function Ag(r,e){return jp(r,e).canonicalString()}function jp(r,e){const t=function(o){return new Lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function eS(r){const e=Lt.fromString(r);return St(sS(e)),e}function kp(r,e){return Ag(r.databaseId,e.path)}function dp(r,e){const t=eS(e);if(t.get(1)!==r.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ke(nS(t))}function tS(r,e){return Ag(r.databaseId,e)}function LN(r){const e=eS(r);return e.length===4?Lt.emptyPath():nS(e)}function Lp(r){return new Lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nS(r){return St(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function jE(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function UN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(St(_===void 0||typeof _=="string"),Mn.fromBase64String(_||"")):(St(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?me.UNKNOWN:Xb(g.code);return new Pe(_,g.message||"")}(c);t=new Zb(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dp(r,s.document.name),l=xi(s.document.updateTime),c=s.document.createTime?xi(s.document.createTime):Ke.min(),d=new sr({mapValue:{fields:s.document.fields}}),p=Bn.newFoundDocument(o,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Gh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dp(r,s.document),l=s.readTime?xi(s.readTime):Ke.min(),c=Bn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Gh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dp(r,s.document),l=s.removedTargetIds||[];t=new Gh([],l,o,null)}else{if(!("filter"in e))return Ge();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new CN(o,l),d=s.targetId;t=new Wb(d,c)}}return t}function zN(r,e){let t;if(e instanceof ac)t={update:jE(r,e.key,e.value)};else if(e instanceof Yb)t={delete:kp(r,e.key)};else if(e instanceof ha)t={update:jE(r,e.key,e.data),updateMask:YN(e.fieldMask)};else{if(!(e instanceof wN))return Ge();t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ff)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ge()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:kN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge()}(r,e.precondition)),t}function BN(r,e){return r&&r.length>0?(St(e!==void 0),r.map(t=>function(o,l){let c=o.updateTime?xi(o.updateTime):xi(l);return c.isEqual(Ke.min())&&(c=xi(l)),new bN(c,o.transformResults||[])}(t,e))):[]}function FN(r,e){return{documents:[tS(r,e.path)]}}function HN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=tS(r,o);const l=function(g){if(g.length!==0)return iS(Ni.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:Jo(S.field),direction:KN(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Pp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function qN(r){let e=LN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const S=rS(b);return S instanceof Ni&&Mb(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(S=>function(V){return new hf(el(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,Of(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,x=b.values||[];return new cf(x,S)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const S=!b.before,x=b.values||[];return new cf(x,S)}(t.endAt)),oN(e,o,c,l,d,"F",p,g)}function GN(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=el(t.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=el(t.unaryFilter.field);return hn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(t.unaryFilter.field);return hn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(t.unaryFilter.field);return hn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(r):r.fieldFilter!==void 0?function(t){return hn.create(el(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ni.create(t.compositeFilter.filters.map(s=>rS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(r):Ge()}function KN(r){return MN[r]}function $N(r){return VN[r]}function QN(r){return PN[r]}function Jo(r){return{fieldPath:r.canonicalString()}}function el(r){return On.fromServerFormat(r.fieldPath)}function iS(r){return r instanceof hn?function(t){if(t.op==="=="){if(SE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(bE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(bE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:$N(t.op),value:t.value}}}(r):r instanceof Ni?function(t){const s=t.getFilters().map(o=>iS(o));return s.length===1?s[0]:{compositeFilter:{op:QN(t.op),filters:s}}}(r):Ge()}function YN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,s,o,l=Ke.min(),c=Ke.min(),d=Mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.Tt=e}}function WN(r){const e=qN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Tn=new JN}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ra.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class JN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mn(Lt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(aS,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fl(0)}static Un(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",eO=1048576;function UE([r,e],[t,s]){const o=ct(r,t);return o===0?ct(e,s):o}class tO{constructor(e){this.Hn=e,this.buffer=new mn(UE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();UE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(LE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?Ae(LE,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.er(3e5)})}}class rO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Nf.ae);const s=new tO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(kE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Wo()<=at.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function iO(r,e){return new rO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Bu(s.mutation,o,pr.empty(),dn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,lt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=lt()){const o=Xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Mu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Xa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,lt()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,o){let l=hs();const c=zu(),d=function(){return zu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ha)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Bu(_.mutation,g,_.mutation.getFieldMask(),dn.now())):c.set(g.key,pr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var b;return d.set(g,new aO(_,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=zu();let o=new Ft((c,d)=>c-d),l=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||pr.empty();_=d.applyToLocalView(g,_),s.set(p,_);const b=(o.get(d.batchId)||lt()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,b=Bb();_.forEach(S=>{if(!l.has(S)){const x=$b(t.get(S),s.get(S));x!==null&&b.set(S,x),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):le.resolve(Xa());let d=Ku,p=l;return c.next(g=>le.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,lt())).next(_=>({batchId:d,changes:zb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(s=>{let o=Mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Mu();return this.indexManager.getCollectionParents(e,l).next(d=>le.forEach(d,p=>{const g=function(b,S){return new Vf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((b,S)=>{c=c.insert(b,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Bn.newInvalidDocument(_)))});let d=Mu();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Bu(_.mutation,g,pr.empty(),dn.now()),kf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:WN(o.bundledQuery),readTime:xi(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new Ft(ke.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xa();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Xa(),l=t.length+1,c=new ke(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Ft((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Xa(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Xa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return le.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new xN(t,s));let l=this.Rr.get(t);l===void 0&&(l=lt(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Vr=new mn(Sn.mr),this.gr=new mn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Sn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Sn(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ke(new Lt([])),s=new Sn(t,e),o=new Sn(t,e+1),l=[];return this.gr.forEachInRange([s,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ke(new Lt([])),s=new Sn(t,e),o=new Sn(t,e+1);let l=lt();return this.gr.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Sn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ke.comparator(e.key,t.key)||ct(e.Cr,t.Cr)}static pr(e,t){return ct(e.Cr,t.Cr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mn(Sn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RN(l,t,s,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new Sn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Sn(t,0),o=new Sn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],c=>{const d=this.Or(c.Cr);l.push(d)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mn(ct);return t.forEach(o=>{const l=new Sn(o,0),c=new Sn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{s=s.add(d.Cr)})}),le.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ke.isDocumentKey(l)||(l=l.child(""));const c=new Sn(new ke(l),0);let d=new mn(ct);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},c),le.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){St(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return le.forEach(t.mutations,o=>{const l=new Sn(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Sn(t,0),o=this.Mr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.kr=e,this.docs=function(){return new Ft(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let s=hs();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Bn.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=hs();const c=t.path,d=new ke(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||UD(LD(_),s)<=0||(o.has(_.key)||kf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ge()}qr(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new dO(this)}getSize(e){return le.resolve(this.size)}}class dO extends sO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.persistence=e,this.Qr=new ro(t=>_g(t),Eg),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new wg,this.targetCount=0,this.Ur=fl.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Nf(0),this.zr=!1,this.zr=!0,this.jr=new cO,this.referenceDelegate=e(this),this.Hr=new mO(this),this.indexManager=new ZN,this.remoteDocumentCache=function(o){return new fO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new XN(t),this.Yr=new lO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new hO(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Ae("MemoryPersistence","Starting transaction:",e);const o=new pO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return le.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class pO extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.ti=new wg,this.ni=null}static ri(e){return new Rg(e)}get ii(){if(this.ni)return this.ni;throw Ge()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,s=>{const o=ke.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.oi=new ro(s=>qD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iO(this,t)}static ri(e,t){return new mf(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Ke.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fh(e.data.value)),t}ar(e,t,s){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=lt(),o=lt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return h1()?8:FD(Hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new gO;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Wo()<=at.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Wo()<=at.DEBUG&&Ae("QueryEngine","Query:",Zo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Wo()<=at.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(t))):le.resolve())}rs(e,t){if(xE(t))return le.resolve(null);let s=Ri(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Vp(t,null,"F"),s=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=lt(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,c,p.readTime)?this.rs(e,Vp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return xE(t)||o.isEqual(Ke.min())?le.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,o)?le.resolve(null):(Wo()<=at.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.hs(e,c,t,kD(o,Ku)).next(d=>d))})}cs(e,t){let s=new mn(Lb(e));return t.forEach((o,l)=>{kf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return Wo()<=at.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ns.getDocumentsMatchingQuery(e,t,ra.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",vO=3e8;class _O{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ft(ct),this.Is=new ro(l=>_g(l),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function EO(r,e,t,s){return new _O(r,e,t,s)}async function lS(r,e){const t=Ye(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let p=lt();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function TO(r,e){const t=Ye(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const b=g.batch,S=b.keys();let x=le.resolve();return S.forEach(V=>{x=x.next(()=>_.getEntry(p,V)).next(q=>{const L=g.docVersions.get(V);St(L!==null),q.version.compareTo(L)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),_.addEntry(q)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function uS(r){const e=Ye(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bO(r,e){const t=Ye(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,b)=>{const S=o.get(b);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,b)));let x=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Mn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(b,x),function(q,L,Z){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=vO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(S,x,_)&&d.push(t.Hr.updateTargetData(l,x))});let p=hs(),g=lt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(SO(l,c,e.documentUpdates).next(_=>{p=_.Vs,g=_.fs})),!s.isEqual(Ke.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return le.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function SO(r,e,t){let s=lt(),o=lt();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=hs();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ae(Cg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function AO(r,e){const t=Ye(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wO(r,e){const t=Ye(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,le.resolve(o)):t.Hr.allocateTargetId(s).next(c=>(o=new Xs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Up(r,e,t){const s=Ye(r),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!_l(c))throw c;Ae(Cg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function zE(r,e,t){const s=Ye(r);let o=Ke.min(),l=lt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const b=Ye(p),S=b.Is.get(_);return S!==void 0?le.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,_)}(s,c,Ri(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?o:Ke.min(),t?l:lt())).next(d=>(RO(s,cN(e),d),{documents:d,gs:l})))}function RO(r,e,t){let s=r.Es.get(e)||Ke.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class BE{constructor(){this.activeTargetIds=gN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xO{constructor(){this.ho=new BE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new BE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class HE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(FE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function zp(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",IO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const c=zp(),d=this.bo(e,t.toUriEncodedString());Ae(mp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(Ae(mp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw ll(mp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,c){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=IO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class OO extends DO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=zp();return new Promise((c,d)=>{const p=new mb;p.setWithCredentials(!0),p.listenOnce(pb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Bh.NO_ERROR:const _=p.getResponseJson();Ae(Ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Bh.TIMEOUT:Ae(Ln,`RPC '${e}' ${l} timed out`),d(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const b=p.getStatus();if(Ae(Ln,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const V=function(L){const Z=L.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Z)>=0?Z:me.UNKNOWN}(x.status);d(new Pe(V,x.message))}else d(new Pe(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ae(Ln,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);Ae(Ln,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=zp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vb(),d=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");Ae(Ln,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);let S=!1,x=!1;const V=new NO({Fo:L=>{x?Ae(Ln,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(Ae(Ln,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),Ae(Ln,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Mo:()=>b.close()}),q=(L,Z,z)=>{L.listen(Z,ee=>{try{z(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(b,Ou.EventType.OPEN,()=>{x||(Ae(Ln,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),q(b,Ou.EventType.CLOSE,()=>{x||(x=!0,Ae(Ln,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),q(b,Ou.EventType.ERROR,L=>{x||(x=!0,ll(Ln,`RPC '${e}' stream ${o} transport errored:`,L),V.Ko(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),q(b,Ou.EventType.MESSAGE,L=>{var Z;if(!x){const z=L.data[0];St(!!z);const ee=z,pe=(ee==null?void 0:ee.error)||((Z=ee[0])===null||Z===void 0?void 0:Z.error);if(pe){Ae(Ln,`RPC '${e}' stream ${o} received error:`,pe);const se=pe.status;let B=function(R){const N=nn[R];if(N!==void 0)return Xb(N)}(se),O=pe.message;B===void 0&&(B=me.INTERNAL,O="Unknown error status: "+se+" with message "+pe.message),x=!0,V.Ko(new Pe(B,O)),b.close()}else Ae(Ln,`RPC '${e}' stream ${o} received:`,z),V.Uo(z)}}),q(d,gb.STAT_EVENT,L=>{L.stat===Ip.PROXY?Ae(Ln,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ip.NOPROXY&&Ae(Ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r){return new jN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class hS{constructor(e,t,s,o,l,c,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(cs(t.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Pe(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MO extends hS{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UN(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?xi(c.readTime):Ke.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Lp(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Mp(p)?{documents:FN(l,p)}:{query:HN(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Jb(l,c.resumeToken);const g=Pp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ke.min())>0){d.readTime=df(l,c.snapshotVersion.toTimestamp());const g=Pp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=GN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.I_(t)}}class VO extends hS{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=BN(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Lp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>zN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{}class jO extends PO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,jp(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(me.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,jp(t,s),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(me.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cs(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class LO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{io(this)&&(Ae(Ja,"Restarting streams for network reachability change."),await async function(p){const g=Ye(p);g.W_.add(4),await lc(g),g.j_.set("Unknown"),g.W_.delete(4),await Ff(g)}(this))})}),this.j_=new kO(s,o)}}async function Ff(r){if(io(r))for(const e of r.G_)await e(!0)}async function lc(r){for(const e of r.G_)await e(!1)}function fS(r,e){const t=Ye(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Og(t)?Ng(t):El(t).c_()&&Dg(t,e))}function Ig(r,e){const t=Ye(r),s=El(t);t.U_.delete(e),s.c_()&&dS(t,e),t.U_.size===0&&(s.c_()?s.P_():io(t)&&t.j_.set("Unknown"))}function Dg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(r).y_(e)}function dS(r,e){r.H_.Ne(e),El(r).w_(e)}function Ng(r){r.H_=new ON({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),El(r).start(),r.j_.B_()}function Og(r){return io(r)&&!El(r).u_()&&r.U_.size>0}function io(r){return Ye(r).W_.size===0}function mS(r){r.H_=void 0}async function UO(r){r.j_.set("Online")}async function zO(r){r.U_.forEach((e,t)=>{Dg(r,e)})}async function BO(r,e){mS(r),Og(r)?(r.j_.q_(e),Ng(r)):r.j_.set("Unknown")}async function FO(r,e,t){if(r.j_.set("Online"),e instanceof Zb&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.U_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(s){Ae(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pf(r,s)}else if(e instanceof Gh?r.H_.We(e):e instanceof Wb?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Ke.min()))try{const s=await uS(r.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(Mn.EMPTY_BYTE_STRING,_.snapshotVersion)),dS(l,p);const b=new Xs(_.target,p,g,_.sequenceNumber);Dg(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){Ae(Ja,"Failed to raise snapshot:",s),await pf(r,s)}}async function pf(r,e,t){if(!_l(e))throw e;r.W_.add(1),await lc(r),r.j_.set("Offline"),t||(t=()=>uS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ae(Ja,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Ff(r)})}function pS(r,e){return e().catch(t=>pf(r,t,e))}async function Hf(r){const e=Ye(r),t=oa(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:gg;for(;HO(e);)try{const o=await AO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,qO(e,o)}catch(o){await pf(e,o)}gS(e)&&yS(e)}function HO(r){return io(r)&&r.K_.length<10}function qO(r,e){r.K_.push(e);const t=oa(r);t.c_()&&t.S_&&t.b_(e.mutations)}function gS(r){return io(r)&&!oa(r).u_()&&r.K_.length>0}function yS(r){oa(r).start()}async function GO(r){oa(r).C_()}async function KO(r){const e=oa(r);for(const t of r.K_)e.b_(t.mutations)}async function $O(r,e,t){const s=r.K_.shift(),o=bg.from(s,e,t);await pS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hf(r)}async function QO(r,e){e&&oa(r).S_&&await async function(s,o){if(function(c){return IN(c)&&c!==me.ABORTED}(o.code)){const l=s.K_.shift();oa(s).h_(),await pS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Hf(s)}}(r,e),gS(r)&&yS(r)}async function GE(r,e){const t=Ye(r);t.asyncQueue.verifyOperationInProgress(),Ae(Ja,"RemoteStore received new credentials");const s=io(t);t.W_.add(3),await lc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ff(t)}async function YO(r,e){const t=Ye(r);e?(t.W_.delete(2),await Ff(t)):e||(t.W_.add(2),await lc(t),t.j_.set("Unknown"))}function El(r){return r.J_||(r.J_=function(t,s,o){const l=Ye(t);return l.M_(),new MO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:UO.bind(null,r),No:zO.bind(null,r),Lo:BO.bind(null,r),p_:FO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Og(r)?Ng(r):r.j_.set("Unknown")):(await r.J_.stop(),mS(r))})),r.J_}function oa(r){return r.Y_||(r.Y_=function(t,s,o){const l=Ye(t);return l.M_(),new VO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:GO.bind(null,r),Lo:QO.bind(null,r),D_:KO.bind(null,r),v_:$O.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Hf(r)):(await r.Y_.stop(),r.K_.length>0&&(Ae(Ja,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,d=new Mg(e,t,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(r,e){if(cs("AsyncQueue",`${e}: ${r}`),_l(r))return new Pe(me.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ke.comparator(t.key,s.key):(t,s)=>ke.comparator(t.key,s.key),this.keyedMap=Mu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new rl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.Z_=new Ft(ke.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ge():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class dl{constructor(e,t,s,o,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new dl(e,t,rl.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WO{constructor(){this.queries=$E(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ye(t),l=o.queries;o.queries=$E(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(s)})})(this,new Pe(me.ABORTED,"Firestore shutting down"))}}function $E(){return new ro(r=>kb(r),jf)}async function Pg(r,e){const t=Ye(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new XO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Vg(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&kg(t)}async function jg(r,e){const t=Ye(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ZO(r,e){const t=Ye(r);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(o)&&(s=!0);c.ea=o}}s&&kg(t)}function JO(r,e,t){const s=Ye(r),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function kg(r){r.ia.forEach(e=>{e.next()})}var Bp,QE;(QE=Bp||(Bp={}))._a="default",QE.Cache="cache";class Lg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class e2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=lt(),this.mutatedKeys=lt(),this.ya=Lb(e),this.wa=new rl(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new KE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const S=o.get(_),x=kf(this.query,b)?b:null,V=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;S&&x?S.data.isEqual(x.data)?V!==q&&(s.track({type:3,doc:x}),L=!0):this.va(S,x)||(s.track({type:2,doc:x}),L=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!S&&x?(s.track({type:0,doc:x}),L=!0):S&&!x&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(d=!0)),L&&(x?(c=c.add(x),l=q?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:c,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,b)=>function(x,V){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return q(x)-q(V)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new dl(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=lt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new _S(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new vS(s))}),t}Oa(e){this.fa=e.gs,this.pa=lt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ug="SyncEngine";class t2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class n2{constructor(e){this.key=e,this.Ba=!1}}class r2{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ro(d=>kb(d),jf),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(ke.comparator),this.Ka=new Map,this.Ua=new wg,this.Wa={},this.Ga=new Map,this.za=fl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function i2(r,e,t=!0){const s=wS(r);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await ES(s,e,t,!0),o}async function s2(r,e){const t=wS(r);await ES(t,e,!0,!1)}async function ES(r,e,t,s){const o=await wO(r.localStore,Ri(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await a2(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&fS(r.remoteStore,o),d}async function a2(r,e,t,s,o){r.Ha=(b,S,x)=>async function(q,L,Z,z){let ee=L.view.ba(Z);ee.ls&&(ee=await zE(q.localStore,L.query,!1).then(({documents:O})=>L.view.ba(O,ee)));const pe=z&&z.targetChanges.get(L.targetId),se=z&&z.targetMismatches.get(L.targetId)!=null,B=L.view.applyChanges(ee,q.isPrimaryClient,pe,se);return XE(q,L.targetId,B.Ma),B.snapshot}(r,b,S,x);const l=await zE(r.localStore,e,!0),c=new e2(e,l.gs),d=c.ba(l.documents),p=oc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,p);XE(r,t,g.Ma);const _=new t2(e,t,c);return r.ka.set(e,_),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function o2(r,e,t){const s=Ye(r),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(c=>!jf(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ig(s.remoteStore,o.targetId),Fp(s,o.targetId)}).catch(vl)):(Fp(s,o.targetId),await Up(s.localStore,o.targetId,!0))}async function l2(r,e){const t=Ye(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(t.remoteStore,s.targetId))}async function u2(r,e,t){const s=g2(r);try{const o=await function(c,d){const p=Ye(c),g=dn.now(),_=d.reduce((x,V)=>x.add(V.key),lt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=hs(),q=lt();return p.ds.getEntries(x,_).next(L=>{V=L,V.forEach((Z,z)=>{z.isValidDocument()||(q=q.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,V)).next(L=>{b=L;const Z=[];for(const z of d){const ee=AN(z,b.get(z.key).overlayedDocument);ee!=null&&Z.push(new ha(z.key,ee,Db(ee.value.mapValue),Jr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,Z,d)}).next(L=>{S=L;const Z=L.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(x,L.batchId,Z)})}).then(()=>({batchId:S.batchId,changes:zb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new Ft(ct)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(s,o.batchId,t),await uc(s,o.changes),await Hf(s.remoteStore)}catch(o){const l=Vg(o,"Failed to persist write");t.reject(l)}}async function TS(r,e){const t=Ye(r);try{const s=await bO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ka.get(l);c&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?St(c.Ba):o.removedDocuments.size>0&&(St(c.Ba),c.Ba=!1))}),await uc(t,s,e)}catch(s){await vl(s)}}function YE(r,e,t){const s=Ye(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ye(c);p.onlineState=d;let g=!1;p.queries.forEach((_,b)=>{for(const S of b.ta)S.sa(d)&&(g=!0)}),g&&kg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function c2(r,e,t){const s=Ye(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let c=new Ft(ke.comparator);c=c.insert(l,Bn.newNoDocument(l,Ke.min()));const d=lt().add(l),p=new zf(Ke.min(),new Map,new Ft(ct),c,d);await TS(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),zg(s)}else await Up(s.localStore,e,!1).then(()=>Fp(s,e,t)).catch(vl)}async function h2(r,e){const t=Ye(r),s=e.batch.batchId;try{const o=await TO(t.localStore,e);SS(t,s,null),bS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await uc(t,o)}catch(o){await vl(o)}}async function f2(r,e,t){const s=Ye(r);try{const o=await function(c,d){const p=Ye(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(St(b!==null),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);SS(s,e,t),bS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await uc(s,o)}catch(o){await vl(o)}}function bS(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function SS(r,e,t){const s=Ye(r);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||AS(r,s)})}function AS(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Ig(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),zg(r))}function XE(r,e,t){for(const s of t)s instanceof vS?(r.Ua.addReference(s.key,e),d2(r,s)):s instanceof _S?(Ae(Ug,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||AS(r,s.key)):Ge()}function d2(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(Ae(Ug,"New document in limbo: "+t),r.Qa.add(s),zg(r))}function zg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ke(Lt.fromString(e)),s=r.za.next();r.Ka.set(s,new n2(t)),r.$a=r.$a.insert(t,s),fS(r.remoteStore,new Xs(Ri(Pf(t.path)),s,"TargetPurposeLimboResolution",Nf.ae))}}async function uc(r,e,t){const s=Ye(r),o=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{c.push(s.Ha(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=xg.Yi(p.targetId,g);l.push(b)}}))}),await Promise.all(c),s.La.p_(o),await async function(p,g){const _=Ye(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(g,S=>le.forEach(S.Hi,x=>_.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>le.forEach(S.Ji,x=>_.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!_l(b))throw b;Ae(Cg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const x=_.Ts.get(S),V=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(V);_.Ts=_.Ts.insert(S,q)}}}(s.localStore,l))}async function m2(r,e){const t=Ye(r);if(!t.currentUser.isEqual(e)){Ae(Ug,"User change. New user:",e.toKey());const s=await lS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Pe(me.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uc(t,s.Rs)}}function p2(r,e){const t=Ye(r),s=t.Ka.get(e);if(s&&s.Ba)return lt().add(s.key);{let o=lt();const l=t.qa.get(e);if(!l)return o;for(const c of l){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function wS(r){const e=Ye(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c2.bind(null,e),e.La.p_=ZO.bind(null,e.eventManager),e.La.Ja=JO.bind(null,e.eventManager),e}function g2(r){const e=Ye(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f2.bind(null,e),e}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return EO(this.persistence,new yO,e.initialUser,this.serializer)}Xa(e){return new oS(Rg.ri,this.serializer)}Za(e){return new xO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class y2 extends gf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){St(this.persistence.referenceDelegate instanceof mf);const s=this.persistence.referenceDelegate.garbageCollector;return new nO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new oS(s=>mf.ri(s,t),this.serializer)}}class Hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=m2.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WO}()}createDatastore(e){const t=Bf(e.databaseInfo.databaseId),s=function(l){return new OO(l)}(e.databaseInfo);return function(l,c,d,p){return new jO(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,d){return new LO(s,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>YE(this.syncEngine,t,0),function(){return HE.D()?new HE:new CO}())}createSyncEngine(e,t){return function(o,l,c,d,p,g,_){const b=new r2(o,l,c,d,p,g);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ye(o);Ae(Ja,"RemoteStore shutting down."),l.W_.add(5),await lc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class v2{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=Eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{Ae(la,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Ae(la,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Vg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gp(r,e){r.asyncQueue.verifyOperationInProgress(),Ae(la,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function WE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _2(r);Ae(la,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),r._onlineComponents=e}async function _2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ae(la,"Using user provided OfflineComponentProvider");try{await gp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await gp(r,new gf)}}else Ae(la,"Using default OfflineComponentProvider"),await gp(r,new y2(void 0));return r._offlineComponents}async function RS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ae(la,"Using user provided OnlineComponentProvider"),await WE(r,r._uninitializedComponentsProvider._online)):(Ae(la,"Using default OnlineComponentProvider"),await WE(r,new Hp))),r._onlineComponents}function E2(r){return RS(r).then(e=>e.syncEngine)}async function yf(r){const e=await RS(r),t=e.eventManager;return t.onListen=i2.bind(null,e.syncEngine),t.onUnlisten=o2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=s2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=l2.bind(null,e.syncEngine),t}function T2(r,e,t={}){const s=new os;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Bg({next:S=>{_.su(),c.enqueueAndForget(()=>jg(l,b));const x=S.docs.has(d);!x&&S.fromCache?g.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?g.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Lg(Pf(d.path),_,{includeMetadataChanges:!0,Ta:!0});return Pg(l,b)}(await yf(r),r.asyncQueue,e,t,s)),s.promise}function b2(r,e,t={}){const s=new os;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Bg({next:S=>{_.su(),c.enqueueAndForget(()=>jg(l,b)),S.fromCache&&p.source==="server"?g.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Lg(d,_,{includeMetadataChanges:!0,Ta:!0});return Pg(l,b)}(await yf(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e,t){if(!t)throw new Pe(me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function S2(r,e,t,s){if(e===!0&&s===!0)throw new Pe(me.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function JE(r){if(!ke.isDocumentKey(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eT(r){if(ke.isDocumentKey(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge()}function gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fg(r);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firestore.googleapis.com",tT=!0;class nT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=tT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eO)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ID;switch(s.type){case"firstParty":return new MD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ZE.get(t);s&&(Ae("ComponentProvider","Removing Datastore"),ZE.delete(t),s.terminate())}(this),Promise.resolve()}}function A2(r,e,t,s={}){var o;const l=(r=gr(r,qf))._getSettings(),c=`${e}:${t}`;if(l.host!==IS&&l.host!==c&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=zn.MOCK_USER;else{d=i1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zn(g)}r._authCredentials=new DD(new _b(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class Jn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class ta extends cc{constructor(e,t,s){super(e,t,Pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ke(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function Hg(r,e,...t){if(r=An(r),CS("collection","path",e),r instanceof qf){const s=Lt.fromString(e,...t);return eT(s),new ta(r,null,s)}{if(!(r instanceof Jn||r instanceof ta))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...t));return eT(s),new ta(r.firestore,null,s)}}function Ai(r,e,...t){if(r=An(r),arguments.length===1&&(e=Eb.newId()),CS("doc","path",e),r instanceof qf){const s=Lt.fromString(e,...t);return JE(s),new Jn(r,null,new ke(s))}{if(!(r instanceof Jn||r instanceof ta))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...t));return JE(s),new Jn(r.firestore,r instanceof ta?r.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cS(this,"async_queue_retry"),this.Su=()=>{const s=pp();s&&Ae(rT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_l(e))throw e;Ae(rT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw cs("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Mg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function sT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class ua extends qf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new iT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}}function w2(r,e){const t=typeof r=="object"?r:cb(),s=typeof r=="string"?r:lf,o=mg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=n1("firestore");l&&A2(o,...l)}return o}function Gf(r){if(r._terminated)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||R2(r),r._firestoreClient}function R2(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,_){return new $D(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xS(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new v2(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Mn.fromBase64String(e))}catch(t){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^__.*__$/;class C2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class DS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Kg{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(NS(this.Lu)&&x2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class I2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Bf(e)}ju(e,t,s,o=!1){return new Kg({Lu:e,methodName:t,zu:s,path:On.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(r){const e=r._freezeSettings(),t=Bf(r._databaseId);return new I2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(r,e,t,s,o,l={}){const c=r.ju(l.merge||l.mergeFields?2:0,e,t,o);Yg("Data must be an object, but it was:",c,s);const d=MS(s,c);let p,g;if(l.merge)p=new pr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const S=qp(e,b,t);if(!c.contains(S))throw new Pe(me.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PS(_,S)||_.push(S)}p=new pr(_),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new C2(new sr(d),p,g)}class Qf extends $f{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}class Qg extends $f{_toFieldTransform(e){return new EN(e.path,new Xu)}isEqual(e){return e instanceof Qg}}function D2(r,e,t,s){const o=r.ju(1,e,t);Yg("Data must be an object, but it was:",o,s);const l=[],c=sr.empty();ca(s,(p,g)=>{const _=Xg(e,p,t);g=An(g);const b=o.Ku(_);if(g instanceof Qf)l.push(_);else{const S=Yf(g,b);S!=null&&(l.push(_),c.set(_,S))}});const d=new pr(l);return new DS(c,d,o.fieldTransforms)}function N2(r,e,t,s,o,l){const c=r.ju(1,e,t),d=[qp(e,s,t)],p=[o];if(l.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(qp(e,l[S])),p.push(l[S+1]);const g=[],_=sr.empty();for(let S=d.length-1;S>=0;--S)if(!PS(g,d[S])){const x=d[S];let V=p[S];V=An(V);const q=c.Ku(x);if(V instanceof Qf)g.push(x);else{const L=Yf(V,q);L!=null&&(g.push(x),_.set(x,L))}}const b=new pr(g);return new DS(_,b,c.fieldTransforms)}function Yf(r,e){if(VS(r=An(r)))return Yg("Unsupported field value:",e,r),MS(r,e);if(r instanceof $f)return function(s,o){if(!NS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const d of s){let p=Yf(d,o.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=An(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=dn.fromDate(s);return{timestampValue:df(o.serializer,l)}}if(s instanceof dn){const l=new dn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:df(o.serializer,l)}}if(s instanceof qg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ml)return{bytesValue:Jb(o.serializer,s._byteString)};if(s instanceof Jn){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gg)return function(c,d){return{mapValue:{fields:{[Cb]:{stringValue:Ib},[uf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Tg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Fg(s)}`)}(r,e)}function MS(r,e){const t={};return bb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(s,o)=>{const l=Yf(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function VS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dn||r instanceof qg||r instanceof ml||r instanceof Jn||r instanceof $f||r instanceof Gg)}function Yg(r,e,t){if(!VS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Fg(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function qp(r,e,t){if((e=An(e))instanceof Kf)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw vf("Field path arguments must be of type string or ",r,!1,void 0,t)}const O2=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,t){if(e.search(O2)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Kf(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function vf(r,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new Pe(me.INVALID_ARGUMENT,d+r+p)}function PS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class M2 extends jS{data(){return super.data()}}function kS(r,e){return typeof e=="string"?Xg(r,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{convertValue(e,t="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ca(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[uf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>Xt(c.doubleValue));return new Gg(l)}convertGeoPoint(e){return new qg(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Mf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=ia(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Lt.fromString(e);St(sS(s));const o=new Qu(s.get(1),s.get(3)),l=new ke(s.popFirst(5));return o.isEqual(t)||cs(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zS extends jS{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(kS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Kh extends zS{data(e={}){return super.data(e)}}class BS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Kh(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:P2(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(r){r=gr(r,Jn);const e=gr(r.firestore,ua);return T2(Gf(e),r._key).then(t=>HS(e,r,t))}class Zg extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function j2(r){r=gr(r,cc);const e=gr(r.firestore,ua),t=Gf(e),s=new Zg(e);return LS(r._query),b2(t,r._query).then(o=>new BS(e,s,r,o))}function Xf(r,e,t){r=gr(r,Jn);const s=gr(r.firestore,ua),o=US(r.converter,e,t);return Jg(s,[OS($g(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Jr.none())])}function k2(r,e,t,...s){r=gr(r,Jn);const o=gr(r.firestore,ua),l=$g(o);let c;return c=typeof(e=An(e))=="string"||e instanceof Kf?N2(l,"updateDoc",r._key,e,t,s):D2(l,"updateDoc",r._key,e),Jg(o,[c.toMutation(r._key,Jr.exists(!0))])}function L2(r,e){const t=gr(r.firestore,ua),s=Ai(r),o=US(r.converter,e);return Jg(t,[OS($g(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jr.exists(!1))]).then(()=>s)}function FS(r,...e){var t,s,o;r=An(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||sT(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(sT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,_;if(r instanceof Jn)g=gr(r.firestore,ua),_=Pf(r._key.path),p={next:b=>{e[c]&&e[c](HS(g,r,b))},error:e[c+1],complete:e[c+2]};else{const b=gr(r,cc);g=gr(b.firestore,ua),_=b._query;const S=new Zg(g);p={next:x=>{e[c]&&e[c](new BS(g,S,b,x))},error:e[c+1],complete:e[c+2]},LS(r._query)}return function(S,x,V,q){const L=new Bg(q),Z=new Lg(x,L,V);return S.asyncQueue.enqueueAndForget(async()=>Pg(await yf(S),Z)),()=>{L.su(),S.asyncQueue.enqueueAndForget(async()=>jg(await yf(S),Z))}}(Gf(g),_,d,p)}function Jg(r,e){return function(s,o){const l=new os;return s.asyncQueue.enqueueAndForget(async()=>u2(await E2(s),o,l)),l.promise}(Gf(r),e)}function HS(r,e,t){const s=t.docs.get(e._key),o=new Zg(r);return new zS(r,o,e._key,s,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}function qS(){return new Qg("serverTimestamp")}(function(e,t=!0){(function(o){yl=o})(gl),ol(new Wa("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ua(new ND(s.getProvider("auth-internal")),new VD(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(g.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Js(hE,fE,e),Js(hE,fE,"esm2017")})();var U2="firebase",z2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(U2,z2,"app");function ey(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B2=GS,KS=new ic("auth","Firebase",GS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new fg("@firebase/auth");function F2(r,...e){_f.logLevel<=at.WARN&&_f.warn(`Auth (${gl}): ${r}`,...e)}function $h(r,...e){_f.logLevel<=at.ERROR&&_f.error(`Auth (${gl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw ty(r,...e)}function Ci(r,...e){return ty(r,...e)}function $S(r,e,t){const s=Object.assign(Object.assign({},B2()),{[e]:t});return new ic("auth","Firebase",s).create(e,{appName:r.name})}function ls(r){return $S(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return KS.create(r,...e)}function qe(r,e,...t){if(!r)throw ty(e,...t)}function is(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $h(e),new Error(e)}function fs(r,e){r||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function H2(){return aT()==="http:"||aT()==="https:"}function aT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H2()||l1()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.shortDelay=e,this.longDelay=t,fs(t>e,"Short delay should be less than long delay!"),this.isMobile=s1()||u1()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(r,e){fs(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new hc(3e4,6e4);function fa(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function da(r,e,t,s,o={}){return YS(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=sc(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return o1()||(g.referrerPolicy="no-referrer"),QS.fetch()(XS(r,r.config.apiHost,t,d),g)})}async function YS(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},K2),e);try{const o=new Y2(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw jh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw jh(r,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $S(r,_,g);ti(r,_)}}catch(o){if(o instanceof ps)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function fc(r,e,t,s,o={}){const l=await da(r,e,t,s,o);return"mfaPendingCredential"in l&&ti(r,"multi-factor-auth-required",{_serverResponse:l}),l}function XS(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?ny(r.config,o):`${r.config.apiScheme}://${o}`}function Q2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),$2.get())})}}function jh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=t,o}function oT(r){return r!==void 0&&r.enterprise!==void 0}class X2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Q2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W2(r,e){return da(r,"GET","/v2/recaptchaConfig",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(r,e){return da(r,"POST","/v1/accounts:delete",e)}async function WS(r,e){return da(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J2(r,e=!1){const t=An(r),s=await t.getIdToken(e),o=ry(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Fu(yp(o.auth_time)),issuedAtTime:Fu(yp(o.iat)),expirationTime:Fu(yp(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yp(r){return Number(r)*1e3}function ry(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const o=rb(t);return o?JSON.parse(o):($h("Failed to decode base64 JWT payload"),null)}catch(o){return $h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lT(r){const e=ry(r);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ps&&eM(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ju(r,WS(t,{idToken:s}));qe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ZS(l.providerUserInfo):[],d=rM(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Kp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function nM(r){const e=An(r);await Ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rM(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZS(r){return r.map(e=>{var{providerId:t}=e,s=ey(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(r,e){const t=await YS(r,{},async()=>{const s=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=XS(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",QS.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sM(r,e){return da(r,"POST","/v2/accounts:revokeToken",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=lT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await iM(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new il;return s&&(qe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(qe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(r,e){qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ey(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J2(this,e)}reload(){return nM(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Ju(this,Z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,d,p,g,_;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=t.photoURL)!==null&&c!==void 0?c:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:pe,isAnonymous:se,providerData:B,stsTokenManager:O}=t;qe(ee&&O,e,"internal-error");const C=il.fromJSON(this.name,O);qe(typeof ee=="string",e,"internal-error"),Fs(b,e.name),Fs(S,e.name),qe(typeof pe=="boolean",e,"internal-error"),qe(typeof se=="boolean",e,"internal-error"),Fs(x,e.name),Fs(V,e.name),Fs(q,e.name),Fs(L,e.name),Fs(Z,e.name),Fs(z,e.name);const R=new ss({uid:ee,auth:e,email:S,emailVerified:pe,displayName:b,isAnonymous:se,photoURL:V,phoneNumber:x,tenantId:q,stsTokenManager:C,createdAt:Z,lastLoginAt:z});return B&&Array.isArray(B)&&(R.providerData=B.map(N=>Object.assign({},N))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new il;o.updateFromServerResponse(t);const l=new ss({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ef(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ZS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new il;d.updateFromIdToken(s);const p=new ss({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;function as(r){fs(r instanceof Function,"Expected a class definition");let e=uT.get(r);return e?(fs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,uT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JS.type="NONE";const cT=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r,e,t){return`firebase:${r}:${e}:${t}`}class sl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Qh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Qh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new sl(as(cT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||as(cT);const c=Qh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){const b=ss._fromJSON(e,_);g!==l&&(d=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new sl(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new sl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(aA(e))return"Webos";if(tA(e))return"Safari";if((e.includes("chrome/")||nA(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eA(r=Hn()){return/firefox\//i.test(r)}function tA(r=Hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nA(r=Hn()){return/crios\//i.test(r)}function rA(r=Hn()){return/iemobile/i.test(r)}function iA(r=Hn()){return/android/i.test(r)}function sA(r=Hn()){return/blackberry/i.test(r)}function aA(r=Hn()){return/webos/i.test(r)}function iy(r=Hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aM(r=Hn()){var e;return iy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oM(){return c1()&&document.documentMode===10}function oA(r=Hn()){return iy(r)||iA(r)||aA(r)||sA(r)||/windows phone/i.test(r)||rA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r,e=[]){let t;switch(r){case"Browser":t=hT(Hn());break;case"Worker":t=`${hT(Hn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(r,e={}){return da(r,"GET","/v2/passwordPolicy",fa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=6;class hM{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:cM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new lM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WS(this,{idToken:e}),s=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Lr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ef(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(ls(this));const t=e?An(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uM(this),t=new hM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await sM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&as(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[as(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&F2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function so(r){return An(r)}class fT{constructor(e){this.auth=e,this.observer=null,this.addObserver=v1(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dM(r){Wf=r}function uA(r){return Wf.loadJS(r)}function mM(){return Wf.recaptchaEnterpriseScript}function pM(){return Wf.gapiScript}function gM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yM{constructor(){this.enterprise=new vM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _M="recaptcha-enterprise",cA="NO_RECAPTCHA";class EM{constructor(e){this.type=_M,this.auth=so(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{W2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new X2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;oT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(cA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&oT(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mM();p.length!==0&&(p+=d),uA(p).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function dT(r,e,t,s=!1,o=!1){const l=new EM(r);let c;if(o)c=cA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $p(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dT(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dT(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(r,e){const t=mg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(sf(l,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function bM(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(as);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function SM(r,e,t){const s=so(r);qe(s._canInitEmulator,s,"emulator-config-failed"),qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=hA(e),{host:c,port:d}=AM(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),wM()}function hA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AM(r){const e=hA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:mT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:mT(c)}}}function mT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wM(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,t){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function RM(r,e){return da(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(r,e){return fc(r,"POST","/v1/accounts:signInWithPassword",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(r,e){return fc(r,"POST","/v1/accounts:signInWithEmailLink",fa(r,e))}async function IM(r,e){return fc(r,"POST","/v1/accounts:signInWithEmailLink",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends sy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ec(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ec(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,t,"signInWithPassword",xM);case"emailLink":return CM(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,s,"signUpPassword",RM);case"emailLink":return IM(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r,e){return fc(r,"POST","/v1/accounts:signInWithIdp",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class eo extends sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ey(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new eo(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,al(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OM(r){const e=Du(Nu(r)).link,t=e?Du(Nu(e)).deep_link_id:null,s=Du(Nu(r)).deep_link_id;return(s?Du(Nu(s)).link:null)||s||t||e||r}class ay{constructor(e){var t,s,o,l,c,d;const p=Du(Nu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,b=NM((o=p.mode)!==null&&o!==void 0?o:null);qe(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=OM(e);try{return new ay(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,t){return ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ay.parseLink(t);return qe(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends fA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends dc{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $s.credential(t,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends dc{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends dc{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ys.credential(t,s)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(r,e){return fc(r,"POST","/v1/accounts:signUp",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await ss._fromIdTokenResponse(e,s,o),c=pT(s);return new to({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=pT(s);return new to({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function pT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends ps{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Tf(e,t,s,o)}}function dA(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(r,l,e,s):l})}async function VM(r,e,t=!1){const s=await Ju(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return to._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(r,e,t=!1){const{auth:s}=r;if(Lr(s.app))return Promise.reject(ls(s));const o="reauthenticate";try{const l=await Ju(r,dA(s,o,e,r),t);qe(l.idToken,s,"internal-error");const c=ry(l.idToken);qe(c,s,"internal-error");const{sub:d}=c;return qe(r.uid===d,s,"user-mismatch"),to._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(r,e,t=!1){if(Lr(r.app))return Promise.reject(ls(r));const s="signIn",o=await dA(r,s,e),l=await to._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function jM(r,e){return mA(so(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(r){const e=so(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kM(r,e,t){if(Lr(r.app))return Promise.reject(ls(r));const s=so(r),c=await $p(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&pA(r),p}),d=await to._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function LM(r,e,t){return Lr(r.app)?Promise.reject(ls(r)):jM(An(r),Tl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pA(r),s})}function UM(r,e,t,s){return An(r).onIdTokenChanged(e,t,s)}function zM(r,e,t){return An(r).beforeAuthStateChanged(e,t)}function BM(r,e,t,s){return An(r).onAuthStateChanged(e,t,s)}function FM(r){return An(r).signOut()}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,qM=10;class yA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);oM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qM):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const GM=yA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vA.type="SESSION";const _A=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await KM(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=oy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function QM(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function YM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XM(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function WM(){return EA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebaseLocalStorageDb",ZM=1,Sf="firebaseLocalStorage",bA="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jf(r,e){return r.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function JM(){const r=indexedDB.deleteDatabase(TA);return new mc(r).toPromise()}function Qp(){const r=indexedDB.open(TA,ZM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sf,{keyPath:bA})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sf)?e(s):(s.close(),await JM(),e(await Qp()))})})}async function gT(r,e,t){const s=Jf(r,!0).put({[bA]:e,value:t});return new mc(s).toPromise()}async function eV(r,e){const t=Jf(r,!1).get(e),s=await new mc(t).toPromise();return s===void 0?null:s.value}function yT(r,e){const t=Jf(r,!0).delete(e);return new mc(t).toPromise()}const tV=800,nV=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>nV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await gT(e,bf,"1"),await yT(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>gT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>eV(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Jf(o,!1).getAll();return new mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const rV=SA;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(r,e){return e?as(e):(qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sV(r){return mA(r.auth,new ly(r),r.bypassAuthState)}function aV(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),PM(t,new ly(r),r.bypassAuthState)}async function oV(r){const{auth:e,user:t}=r;return qe(t,e,"internal-error"),VM(t,new ly(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sV;case"linkViaPopup":case"linkViaRedirect":return oV;case"reauthViaPopup":case"reauthViaRedirect":return aV;default:ti(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new hc(2e3,1e4);class nl extends AA{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lV.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="pendingRedirect",Yh=new Map;class cV extends AA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const s=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(r,e){const t=mV(e),s=dV(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function fV(r,e){Yh.set(r._key(),e)}function dV(r){return as(r._redirectPersistence)}function mV(r){return Qh(uV,r.config.apiKey,r.name)}async function pV(r,e,t=!1){if(Lr(r.app))return Promise.reject(ls(r));const s=so(r),o=iV(s,e),c=await new cV(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=10*60*1e3;class yV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!wA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vT(e))}saveEventToCache(e){this.cachedEventUids.add(vT(e)),this.lastProcessedEventTime=Date.now()}}function vT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function wA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(r,e={}){return da(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;async function bV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _V(r);for(const t of e)try{if(SV(t))return}catch{}ti(r,"unauthorized-domain")}function SV(r){const e=Gp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!TV.test(t))return!1;if(EV.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new hc(3e4,6e4);function _T(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function wV(r){return new Promise((e,t)=>{var s,o,l;function c(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),t(Ci(r,"network-request-failed"))},timeout:AV.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ii().gapi)===null||l===void 0)&&l.load)c();else{const d=gM("iframefcb");return Ii()[d]=()=>{gapi.load?c():t(Ci(r,"network-request-failed"))},uA(`${pM()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function RV(r){return Xh=Xh||wV(r),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new hc(5e3,15e3),CV="__/auth/iframe",IV="emulator/auth/iframe",DV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(r){const e=r.config;qe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ny(e,IV):`https://${r.config.authDomain}/${CV}`,s={apiKey:e.apiKey,appName:r.name,v:gl},o=NV.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${sc(s).slice(1)}`}async function MV(r){const e=await RV(r),t=Ii().gapi;return qe(t,r,"internal-error"),e.open({where:document.body,url:OV(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DV,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ci(r,"network-request-failed"),d=Ii().setTimeout(()=>{l(c)},xV.get());function p(){Ii().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PV=500,jV=600,kV="_blank",LV="http://localhost";class ET{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UV(r,e,t,s=PV,o=jV){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},VV),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Hn().toLowerCase();t&&(d=nA(g)?kV:t),eA(g)&&(e=e||LV,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[x,V])=>`${S}${x}=${V},`,"");if(aM(g)&&d!=="_self")return zV(e||"",d),new ET(null);const b=window.open(e||"",d,_);qe(b,r,"popup-blocked");try{b.focus()}catch{}return new ET(b)}function zV(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="__/auth/handler",FV="emulator/auth/handler",HV=encodeURIComponent("fac");async function TT(r,e,t,s,o,l){qe(r.config.authDomain,r,"auth-domain-config-required"),qe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:gl,eventId:o};if(e instanceof fA){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",y1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof dc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${HV}=${encodeURIComponent(p)}`:"";return`${qV(r)}?${sc(d).slice(1)}${g}`}function qV({config:r}){return r.emulator?ny(r,FV):`https://${r.authDomain}/${BV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class GV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=pV,this._overrideRedirectResult=fV}async _openPopup(e,t,s,o){var l;fs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await TT(e,t,s,Gp(),o);return UV(e,c,oy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await TT(e,t,s,Gp(),o);return QM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(fs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await MV(e),s=new yV(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vp,{type:vp},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[vp];c!==void 0&&t(!!c),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oA()||tA()||iy()}}const KV=GV;var bT="@firebase/auth",ST="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YV(r){ol(new Wa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lA(r)},g=new fM(s,o,l,p);return bM(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ol(new Wa("auth-internal",e=>{const t=so(e.getProvider("auth").getImmediate());return(s=>new $V(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(bT,ST,QV(r)),Js(bT,ST,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=5*60,WV=ab("authIdTokenMaxAge")||XV;let AT=null;const ZV=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WV)return;const o=t==null?void 0:t.token;AT!==o&&(AT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JV(r=cb()){const e=mg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=TM(r,{popupRedirectResolver:KV,persistence:[rV,GM,_A]}),s=ab("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=ZV(l.toString());zM(t,c,()=>c(t.currentUser)),UM(t,d=>c(d))}}const o=ib("auth");return o&&SM(t,`http://${o}`),t}function eP(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}dM({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Ci("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",eP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YV("Browser");const tP={apiKey:"AIzaSyCZP8RoZcM8VZETlGVrXNPcUBYB9Ve6p7A",authDomain:"life-capital-1009spt.firebaseapp.com",projectId:"life-capital-1009spt",storageBucket:"life-capital-1009spt.firebasestorage.app",messagingSenderId:"1044786416139",appId:"1:1044786416139:web:129eca6881369653f8150e",measurementId:"G-5FM02GWHXQ"},nP=ub(tP),Ur=w2(nP),Qo=JV(),rP="_wrapper_1jwsj_1",iP="_title_1jwsj_6",sP="_grid_1jwsj_12",aP="_createCard_1jwsj_18",oP="_plus_1jwsj_37",lP="_sessionCard_1jwsj_45",Yo={wrapper:rP,title:iP,grid:sP,createCard:aP,plus:oP,sessionCard:lP},uP=()=>{const{user:r,userData:e}=ms(),[t,s]=$.useState([]),o=xf();$.useEffect(()=>{if(!r)return;const d=FS(Hg(Ur,"gameSessions"),p=>{const g=[];p.forEach(_=>{var V;const b=_.data(),S=b.hostId===r.uid,x=(V=b.players)==null?void 0:V.some(q=>q.email===r.email);(S||x)&&g.push({id:_.id,...b})}),s(g)});return()=>d()},[r]);const l=d=>{o(`/game/${d}`)},c=()=>{o("/createGame")};return y.jsxs("div",{className:Yo.wrapper,children:[y.jsx("h2",{className:Yo.title,children:"Мої ігрові сесії"}),y.jsxs("div",{className:Yo.grid,children:[(e==null?void 0:e.role)==="host"&&y.jsx("button",{className:Yo.createCard,onClick:c,children:y.jsx("span",{className:Yo.plus,children:"+"})}),t.length?t.map(d=>y.jsx("button",{className:Yo.sessionCard,onClick:()=>l(d.id),children:d.sessionName},d.id)):y.jsx("p",{children:"У вас немає жодної ігрової сесії, зачекайте поки ведучий вас додасть"})]})]})},cP="_header_hzlfz_1",hP="_open_hzlfz_22",fP="_logo_hzlfz_26",dP="_authDataContainer_hzlfz_32",mP="_overlay_hzlfz_44",Cu={header:cP,open:hP,logo:fP,authDataContainer:dP,overlay:mP},pP=({isOpen:r,setIsOpen:e,children:t})=>{const{userData:s,logout:o}=ms();return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`${Cu.header} ${r?Cu.open:""}`,children:[y.jsxs("div",{children:[y.jsx("div",{className:Cu.logo,children:y.jsx("h1",{children:"Життєвий капітал"})}),t]}),y.jsx("div",{className:Cu.authDataContainer,children:s?y.jsxs(y.Fragment,{children:[y.jsx("p",{children:s.displayName}),y.jsx(sg,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:o})]}):y.jsx(Nn,{to:"/login",children:"Увійти"})})]}),r&&y.jsx("div",{className:Cu.overlay,onClick:()=>e(!1)})]})},gP="_main_fumk1_1",yP="_menuContainer_fumk1_18",vP="_menuButton_fumk1_30",_p={main:gP,menuContainer:yP,menuButton:vP},_P=({openMenu:r,children:e})=>y.jsxs("main",{className:_p.main,children:[y.jsxs("div",{className:_p.menuContainer,children:[y.jsx("button",{className:_p.menuButton,onClick:r,children:y.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),y.jsx("p",{children:"Життєвий капітал"})]}),e]}),EP=()=>{const[r,e]=$.useState(!1);return{isOpen:r,openMenu:()=>e(!0),closeMenu:()=>e(!1),setIsOpen:e}},TP="_nav_63n6r_1",bP="_link_63n6r_7",Xo={nav:TP,link:bP};function SP(){const{isOpen:r,openMenu:e,setIsOpen:t}=EP();return y.jsxs(y.Fragment,{children:[y.jsx(pP,{isOpen:r,setIsOpen:t,children:y.jsx("nav",{children:y.jsxs("ul",{className:Xo.nav,children:[y.jsx("li",{children:y.jsx(Nn,{to:"./legend",className:Xo.link,onClick:()=>t(!1),children:"Легенда гравця"})}),y.jsx("li",{children:y.jsx(Nn,{to:"finances",onClick:()=>t(!1),className:Xo.link,children:"Фінанси"})}),y.jsx("li",{children:y.jsx(Nn,{to:"investments",className:Xo.link,onClick:()=>t(!1),children:"Інвестиції"})}),y.jsx("li",{children:y.jsx(Nn,{to:"events",className:Xo.link,onClick:()=>t(!1),children:"Активність"})}),y.jsx("li",{children:y.jsx(Nn,{to:"airbag",className:Xo.link,onClick:()=>t(!1),children:"Подушка безпеки"})})]})})}),y.jsx(_P,{openMenu:e,children:y.jsx(ng,{})})]})}const AP=r=>[...r].sort(()=>Math.random()-.5),wP=["demands","events","expenses","highExpenses","smallInvestments","largeInvestments","playerLegend"],RP=async r=>{for(const e of wP){const t=Ai(Ur,"cards",e),s=await Wg(t);if(!s.exists())throw new Error(`❌ Картки '${e}' не знайдено в cards/${e}`);const o=s.data().list,l=AP(o),c=Ai(Ur,"gameSessions",r,"cards",e);await Xf(c,{list:l})}},xP=async(r,e,t,s)=>{if(e.role!=="host")throw new Error("⛔️ Лише ведучий може створити сесію.");const o=await L2(Hg(Ur,"gameSessions"),{sessionName:t,hostId:r.uid,hostEmail:r.email,players:s,status:"waiting",createdAt:qS()}),l=Ai(Ur,"gameSessions",o.id,"cards","currentCards");return await Xf(l,{}),await RP(o.id),o.id},CP="_container_1e5cg_1",IP="_title_1e5cg_11",DP="_form_1e5cg_17",NP="_input_1e5cg_23",OP="_button_1e5cg_32",MP="_list_1e5cg_45",VP="_error_1e5cg_50",PP="_primaryAction_1e5cg_55",jP="_label_1e5cg_65",kP="_formGroup_1e5cg_71",bn={container:CP,title:IP,form:DP,input:NP,button:OP,list:MP,error:VP,primaryAction:PP,label:jP,formGroup:kP},LP=()=>{const{user:r,userData:e}=ms(),t=xf(),[s,o]=$.useState([]),[l,c]=$.useState([]),[d,p]=$.useState(null),[g,_]=$.useState(null),{register:b,handleSubmit:S,resetField:x,getValues:V,formState:{errors:q}}=hg();$.useEffect(()=>{(async()=>{const se=(await j2(Hg(Ur,"users"))).docs.map(B=>B.data());c(se)})()},[]);const L=()=>{const ee=V("newPlayerName").trim();if(_(null),!ee){_("Поле не може бути порожнім.");return}const pe=l.find(se=>se.displayName===ee);if(!pe){_("Користувача з таким імʼям не знайдено.");return}if(s.find(se=>se.email===pe.email)){_("Цей гравець вже доданий.");return}o(se=>[...se,{name:pe.displayName,email:pe.email}]),x("newPlayerName")},Z=ee=>{o(pe=>pe.filter(se=>se.email!==ee))},z=async ee=>{if(!r||!e){p("Не авторизовано");return}try{const pe=await xP(r,e,ee.sessionName,s);t(`/game/${pe}`)}catch(pe){p(pe.message)}};return y.jsxs("div",{className:bn.container,children:[y.jsx("h2",{className:bn.title,children:"Створити нову гру"}),y.jsxs("form",{onSubmit:S(z),children:[y.jsxs("div",{className:bn.formGroup,children:[y.jsx("label",{className:bn.label,children:"Назва гри"}),y.jsx("input",{...b("sessionName",{required:"Назва гри обовʼязкова"}),className:bn.input,placeholder:"Наприклад: Турнір #3"}),q.sessionName&&y.jsx("p",{className:bn.error,children:q.sessionName.message})]}),y.jsxs("div",{className:bn.formGroup,children:[y.jsx("label",{className:bn.label,children:"Імʼя гравця"}),y.jsxs("div",{className:bn.form,children:[y.jsx("input",{...b("newPlayerName"),className:bn.input,placeholder:"Введіть імʼя гравця"}),y.jsx("button",{type:"button",className:bn.button,onClick:L,children:"Додати"})]}),g&&y.jsx("p",{className:bn.error,children:g})]}),s.length>0&&y.jsxs("div",{className:bn.list,children:[y.jsx("strong",{children:"Гравці:"}),y.jsx("ul",{children:s.map(ee=>y.jsxs("li",{className:bn.emailItem,children:[y.jsx("span",{children:ee.name})," — ",y.jsx("span",{children:ee.email}),y.jsx("button",{onClick:()=>Z(ee.email),className:bn.removeButton,title:"Видалити",children:"×"})]},ee.email))})]}),y.jsx("button",{type:"submit",className:`${bn.button} ${bn.primaryAction}`,children:"Створити гру"}),d&&y.jsx("p",{className:bn.error,children:d})]})]})},UP=({children:r})=>{const{sessionId:e}=ox(),[,t]=KT(`gameData-${e}`,{}),[s,o]=$.useState(null);$.useEffect(()=>{if(!e)return;const _=FS(Ai(Ur,"gameSessions",e),b=>{b.exists()&&o(b.data())});return()=>_()},[e]);const l=$.useCallback((_,b)=>{t(S=>({...S,[_]:b}))},[t]),c=$.useCallback(_=>{const b=localStorage.getItem(`gameData-${e}`);if(!b)return null;try{return JSON.parse(b)[_]??null}catch(S){return console.error("Error parsing localStorage:",S),null}},[e]),d=async _=>{if(!e)throw new Error("sessionId is undefined");const b=Ai(Ur,"gameSessions",e,"cards",_),S=await Wg(b);return S.exists()?S.data().list||[]:[]},p=async(_,b)=>{if(!e)throw new Error("sessionId is undefined");const S=Ai(Ur,"gameSessions",e,"cards",_);await k2(S,{list:b})},g=$.useCallback(async(_,b)=>{if(!e)return;const S=Ai(Ur,"gameSessions",e,"cards","currentCards");try{await Xf(S,{[_]:b},{merge:!0})}catch(x){console.error(`❌ Не вдалося зберегти картку типу ${_}:`,x)}},[e]);return y.jsx(GT.Provider,{value:{sessionID:e,sessionData:s,saveToLocalSession:l,getFromLocalSession:c,getCardList:d,updateCardList:p,setCurrentCard:g},children:r})},zP=Yx([{path:"/",element:y.jsx(CC,{}),children:[{path:"rules",element:y.jsx(QI,{})},{path:"games",element:y.jsx(Dh,{children:y.jsx(uP,{})})},{path:"createGame",element:y.jsx(LP,{})}]},{path:"game/:sessionId",element:y.jsx(Dh,{children:y.jsx(UP,{children:y.jsx(SP,{})})}),children:[{path:"legend",element:y.jsx(DC,{})},{path:"investments",element:y.jsx(kC,{})},{path:"events",element:y.jsx($C,{})},{path:"finances",element:y.jsx(WC,{}),children:[{index:!0,element:y.jsx(ZC,{})},{path:"income",element:y.jsx(tI,{})},{path:"extend",element:y.jsx(nI,{})}]},{path:"airbag",element:y.jsx(oI,{})},{path:"financial-freedom",element:y.jsx(fI,{})}]},{path:"login",element:y.jsx(Dh,{requireUnauth:!0,children:y.jsx(HI,{})})},{path:"register",element:y.jsx(Dh,{requireUnauth:!0,children:y.jsx(qI,{})})},{path:"forget-password",element:y.jsx(GI,{})}]),BP=({children:r})=>{const[e,t]=$.useState(null),[s,o]=$.useState(null),[l,c]=$.useState(!0);$.useEffect(()=>{const _=BM(Qo,async b=>{if(t(b),b){const S=`userData-${b.uid}`,x=localStorage.getItem(S);if(x)o(JSON.parse(x));else try{const V=Ai(Ur,"users",b.uid),q=await Wg(V);if(q.exists()){const L=q.data();localStorage.setItem(S,JSON.stringify({displayName:L.displayName,role:L.role})),o({displayName:L.displayName,role:L.role})}}catch(V){console.error("Помилка при завантаженні даних користувача:",V)}}else o(null);c(!1)});return()=>_()},[]);const d=async(_,b)=>{await LM(Qo,_,b)},p=async()=>{var _,b;if((_=Qo.currentUser)!=null&&_.uid){const S=`userData-${(b=Qo.currentUser)==null?void 0:b.uid}`;localStorage.removeItem(S)}await FM(Qo)},g=async(_,b,S)=>{const x=await kM(Qo,_,b);await Xf(Ai(Ur,"users",x.user.uid),{uid:x.user.uid,email:_,displayName:S,role:"player",createdAt:qS()})};return y.jsx(qT.Provider,{value:{user:e,userData:s,loading:l,login:d,logout:p,register:g},children:r})},wT=document.getElementById("root");wT&&sR.createRoot(wT).render(y.jsx($.StrictMode,{children:y.jsx(BP,{children:y.jsx(lC,{router:zP})})}));
