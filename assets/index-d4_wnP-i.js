(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function zw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jm={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Bw(){if(F_)return fu;F_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var H_;function Fw(){return H_||(H_=1,jm.exports=Bw()),jm.exports}var y=Fw(),Lm={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Hw(){if(q_)return Ze;q_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,X={};function H(P,ce,we){this.props=P,this.context=ce,this.refs=X,this.updater=we||I}H.prototype.isReactComponent={},H.prototype.setState=function(P,ce){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ce,"setState")},H.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=H.prototype;function q(P,ce,we){this.props=P,this.context=ce,this.refs=X,this.updater=we||I}var ne=q.prototype=new B;ne.constructor=q,L(ne,H.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,ae={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function O(P,ce,we,ve,_e,Fe){return we=Fe.ref,{$$typeof:i,type:P,key:ce,ref:we!==void 0?we:null,props:Fe}}function x(P,ce){return O(P.type,ce,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function N(P){var ce={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(we){return ce[we]})}var V=/\/+/g;function j(P,ce){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):ce.toString(36)}function C(){}function Be(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(C,C):(P.status="pending",P.then(function(ce){P.status==="pending"&&(P.status="fulfilled",P.value=ce)},function(ce){P.status==="pending"&&(P.status="rejected",P.reason=ce)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Je(P,ce,we,ve,_e){var Fe=typeof P;(Fe==="undefined"||Fe==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Fe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case i:case e:Le=!0;break;case T:return Le=P._init,Je(Le(P._payload),ce,we,ve,_e)}}if(Le)return _e=_e(P),Le=ve===""?"."+j(P,0):ve,pe(_e)?(we="",Le!=null&&(we=Le.replace(V,"$&/")+"/"),Je(_e,ce,we,"",function(wt){return wt})):_e!=null&&(R(_e)&&(_e=x(_e,we+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+Le)),ce.push(_e)),1;Le=0;var Pt=ve===""?".":ve+":";if(pe(P))for(var rt=0;rt<P.length;rt++)ve=P[rt],Fe=Pt+j(ve,rt),Le+=Je(ve,ce,we,Fe,_e);else if(rt=w(P),typeof rt=="function")for(P=rt.call(P),rt=0;!(ve=P.next()).done;)ve=ve.value,Fe=Pt+j(ve,rt++),Le+=Je(ve,ce,we,Fe,_e);else if(Fe==="object"){if(typeof P.then=="function")return Je(Be(P),ce,we,ve,_e);throw ce=String(P),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(P,ce,we){if(P==null)return P;var ve=[],_e=0;return Je(P,ve,"","",function(Fe){return ce.call(we,Fe,_e++)}),ve}function Ce(P){if(P._status===-1){var ce=P._result;ce=ce(),ce.then(function(we){(P._status===0||P._status===-1)&&(P._status=1,P._result=we)},function(we){(P._status===0||P._status===-1)&&(P._status=2,P._result=we)}),P._status===-1&&(P._status=0,P._result=ce)}if(P._status===1)return P._result.default;throw P._result}var Se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Xe(){}return Ze.Children={map:ue,forEach:function(P,ce,we){ue(P,function(){ce.apply(this,arguments)},we)},count:function(P){var ce=0;return ue(P,function(){ce++}),ce},toArray:function(P){return ue(P,function(ce){return ce})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ze.Component=H,Ze.Fragment=t,Ze.Profiler=o,Ze.PureComponent=q,Ze.StrictMode=s,Ze.Suspense=p,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ze.cache=function(P){return function(){return P.apply(null,arguments)}},Ze.cloneElement=function(P,ce,we){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ve=L({},P.props),_e=P.key,Fe=void 0;if(ce!=null)for(Le in ce.ref!==void 0&&(Fe=void 0),ce.key!==void 0&&(_e=""+ce.key),ce)!z.call(ce,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ce.ref===void 0||(ve[Le]=ce[Le]);var Le=arguments.length-2;if(Le===1)ve.children=we;else if(1<Le){for(var Pt=Array(Le),rt=0;rt<Le;rt++)Pt[rt]=arguments[rt+2];ve.children=Pt}return O(P.type,_e,void 0,void 0,Fe,ve)},Ze.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ze.createElement=function(P,ce,we){var ve,_e={},Fe=null;if(ce!=null)for(ve in ce.key!==void 0&&(Fe=""+ce.key),ce)z.call(ce,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(_e[ve]=ce[ve]);var Le=arguments.length-2;if(Le===1)_e.children=we;else if(1<Le){for(var Pt=Array(Le),rt=0;rt<Le;rt++)Pt[rt]=arguments[rt+2];_e.children=Pt}if(P&&P.defaultProps)for(ve in Le=P.defaultProps,Le)_e[ve]===void 0&&(_e[ve]=Le[ve]);return O(P,Fe,void 0,void 0,null,_e)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(P){return{$$typeof:f,render:P}},Ze.isValidElement=R,Ze.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:Ce}},Ze.memo=function(P,ce){return{$$typeof:g,type:P,compare:ce===void 0?null:ce}},Ze.startTransition=function(P){var ce=ae.T,we={};ae.T=we;try{var ve=P(),_e=ae.S;_e!==null&&_e(we,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Xe,Se)}catch(Fe){Se(Fe)}finally{ae.T=ce}},Ze.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ze.use=function(P){return ae.H.use(P)},Ze.useActionState=function(P,ce,we){return ae.H.useActionState(P,ce,we)},Ze.useCallback=function(P,ce){return ae.H.useCallback(P,ce)},Ze.useContext=function(P){return ae.H.useContext(P)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(P,ce){return ae.H.useDeferredValue(P,ce)},Ze.useEffect=function(P,ce){return ae.H.useEffect(P,ce)},Ze.useId=function(){return ae.H.useId()},Ze.useImperativeHandle=function(P,ce,we){return ae.H.useImperativeHandle(P,ce,we)},Ze.useInsertionEffect=function(P,ce){return ae.H.useInsertionEffect(P,ce)},Ze.useLayoutEffect=function(P,ce){return ae.H.useLayoutEffect(P,ce)},Ze.useMemo=function(P,ce){return ae.H.useMemo(P,ce)},Ze.useOptimistic=function(P,ce){return ae.H.useOptimistic(P,ce)},Ze.useReducer=function(P,ce,we){return ae.H.useReducer(P,ce,we)},Ze.useRef=function(P){return ae.H.useRef(P)},Ze.useState=function(P){return ae.H.useState(P)},Ze.useSyncExternalStore=function(P,ce,we){return ae.H.useSyncExternalStore(P,ce,we)},Ze.useTransition=function(){return ae.H.useTransition()},Ze.version="19.0.0",Ze}var G_;function jp(){return G_||(G_=1,Lm.exports=Hw()),Lm.exports}var Z=jp();const qi=zw(Z);var Um={exports:{}},mu={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function qw(){return K_||(K_=1,function(i){function e(ue,Ce){var Se=ue.length;ue.push(Ce);e:for(;0<Se;){var Xe=Se-1>>>1,P=ue[Xe];if(0<o(P,Ce))ue[Xe]=Ce,ue[Se]=P,Se=Xe;else break e}}function t(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Ce=ue[0],Se=ue.pop();if(Se!==Ce){ue[0]=Se;e:for(var Xe=0,P=ue.length,ce=P>>>1;Xe<ce;){var we=2*(Xe+1)-1,ve=ue[we],_e=we+1,Fe=ue[_e];if(0>o(ve,Se))_e<P&&0>o(Fe,ve)?(ue[Xe]=Fe,ue[_e]=Se,Xe=_e):(ue[Xe]=ve,ue[we]=Se,Xe=we);else if(_e<P&&0>o(Fe,Se))ue[Xe]=Fe,ue[_e]=Se,Xe=_e;else break e}}return Ce}function o(ue,Ce){var Se=ue.sortIndex-Ce.sortIndex;return Se!==0?Se:ue.id-Ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var p=[],g=[],T=1,b=null,w=3,I=!1,L=!1,X=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ne(ue){for(var Ce=t(g);Ce!==null;){if(Ce.callback===null)s(g);else if(Ce.startTime<=ue)s(g),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=t(g)}}function pe(ue){if(X=!1,ne(ue),!L)if(t(p)!==null)L=!0,Be();else{var Ce=t(g);Ce!==null&&Je(pe,Ce.startTime-ue)}}var ae=!1,z=-1,O=5,x=-1;function R(){return!(i.unstable_now()-x<O)}function N(){if(ae){var ue=i.unstable_now();x=ue;var Ce=!0;try{e:{L=!1,X&&(X=!1,B(z),z=-1),I=!0;var Se=w;try{t:{for(ne(ue),b=t(p);b!==null&&!(b.expirationTime>ue&&R());){var Xe=b.callback;if(typeof Xe=="function"){b.callback=null,w=b.priorityLevel;var P=Xe(b.expirationTime<=ue);if(ue=i.unstable_now(),typeof P=="function"){b.callback=P,ne(ue),Ce=!0;break t}b===t(p)&&s(p),ne(ue)}else s(p);b=t(p)}if(b!==null)Ce=!0;else{var ce=t(g);ce!==null&&Je(pe,ce.startTime-ue),Ce=!1}}break e}finally{b=null,w=Se,I=!1}Ce=void 0}}finally{Ce?V():ae=!1}}}var V;if(typeof q=="function")V=function(){q(N)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=N,V=function(){C.postMessage(null)}}else V=function(){H(N,0)};function Be(){ae||(ae=!0,V())}function Je(ue,Ce){z=H(function(){ue(i.unstable_now())},Ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ue){ue.callback=null},i.unstable_continueExecution=function(){L||I||(L=!0,Be())},i.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ue){switch(w){case 1:case 2:case 3:var Ce=3;break;default:Ce=w}var Se=w;w=Ce;try{return ue()}finally{w=Se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ue,Ce){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Se=w;w=ue;try{return Ce()}finally{w=Se}},i.unstable_scheduleCallback=function(ue,Ce,Se){var Xe=i.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Xe+Se:Xe):Se=Xe,ue){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Se+P,ue={id:T++,callback:Ce,priorityLevel:ue,startTime:Se,expirationTime:P,sortIndex:-1},Se>Xe?(ue.sortIndex=Se,e(g,ue),t(p)===null&&ue===t(g)&&(X?(B(z),z=-1):X=!0,Je(pe,Se-Xe))):(ue.sortIndex=P,e(p,ue),L||I||(L=!0,Be())),ue},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ue){var Ce=w;return function(){var Se=w;w=Ce;try{return ue.apply(this,arguments)}finally{w=Se}}}}(Bm)),Bm}var $_;function Gw(){return $_||($_=1,zm.exports=qw()),zm.exports}var Fm={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Kw(){if(Q_)return Vn;Q_=1;var i=jp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Vn.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},Vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=f(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:I}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=f(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Vn.requestFormReset=function(p){s.d.r(p)},Vn.unstable_batchedUpdates=function(p,g){return p(g)},Vn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Vn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Vn.version="19.0.0",Vn}var Y_;function oT(){if(Y_)return Fm.exports;Y_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=Kw(),Fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function $w(){if(X_)return mu;X_=1;var i=Gw(),e=jp(),t=oT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function x(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case T:return"Profiler";case g:return"StrictMode";case X:return"Suspense";case H:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case I:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case L:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B:return r=n.displayName||null,r!==null?r:x(n.type)||"Memo";case q:r=n._payload,n=n._init;try{return x(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,j;function C(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+j}var Be=!1;function Je(n,r){if(!n||Be)return"";Be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var J=ie}Reflect.construct(n,[],de)}else{try{de.call()}catch(ie){J=ie}n.call(de.prototype)}}else{try{throw Error()}catch(ie){J=ie}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&J&&typeof ie.stack=="string")return[ie.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var D=E.split(`
`),F=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===F.length)for(l=D.length-1,d=F.length-1;1<=l&&0<=d&&D[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==F[d]){var re=`
`+D[l].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=l&&0<=d);break}}}finally{Be=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?C(a):""}function ue(n){switch(n.tag){case 26:case 27:case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return n=Je(n.type,!1),n;case 11:return n=Je(n.type.render,!1),n;case 1:return n=Je(n.type,!0),n;default:return""}}function Ce(n){try{var r="";do r+=ue(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Se(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Xe(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function P(n){if(Se(n)!==n)throw Error(s(188))}function ce(n){var r=n.alternate;if(!r){if(r=Se(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return P(d),n;if(m===l)return P(d),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var E=!1,S=d.child;S;){if(S===a){E=!0,a=d,l=m;break}if(S===l){E=!0,l=d,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,l=d;break}if(S===l){E=!0,l=m,a=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function we(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=we(n),r!==null)return r;n=n.sibling}return null}var ve=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe={pending:!1,data:null,method:null,action:null},Le=[],Pt=-1;function rt(n){return{current:n}}function wt(n){0>Pt||(n.current=Le[Pt],Le[Pt]=null,Pt--)}function He(n,r){Pt++,Le[Pt]=n.current,n.current=r}var Dt=rt(null),Bn=rt(null),On=rt(null),sn=rt(null);function fi(n,r){switch(He(On,r),He(Bn,n),He(Dt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?y_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=y_(n),r=v_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}wt(Dt),He(Dt,r)}function Xn(){wt(Dt),wt(Bn),wt(On)}function ki(n){n.memoizedState!==null&&He(sn,n);var r=Dt.current,a=v_(r,n.type);r!==a&&(He(Bn,n),He(Dt,a))}function er(n){Bn.current===n&&(wt(Dt),wt(Bn)),sn.current===n&&(wt(sn),lu._currentValue=Fe)}var tr=Object.prototype.hasOwnProperty,nr=i.unstable_scheduleCallback,ji=i.unstable_cancelCallback,M=i.unstable_shouldYield,W=i.unstable_requestPaint,te=i.unstable_now,Ee=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,se=i.unstable_UserBlockingPriority,be=i.unstable_NormalPriority,We=i.unstable_LowPriority,Rt=i.unstable_IdlePriority,At=i.log,mi=i.unstable_setDisableYieldValue,Fn=null,Ut=null;function Dr(n){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}}function Mn(n){if(typeof At=="function"&&mi(n),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Fn,n)}catch{}}var Ht=Math.clz32?Math.clz32:no,Li=Math.log,ds=Math.LN2;function no(n){return n>>>=0,n===0?32:31-(Li(n)/ds|0)|0}var ni=128,ir=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function An(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,d=n.suspendedLanes,m=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~d,a!==0?l=Wn(a):(m&=S,m!==0?l=Wn(m):n||(E=S&~E,E!==0&&(l=Wn(E))))):(S=a&~d,S!==0?l=Wn(S):m!==0?l=Wn(m):n||(E=a&~E,E!==0&&(l=Wn(E)))),l===0?0:r!==0&&r!==l&&!(r&d)&&(d=l&-l,E=r&-r,d>=E||d===32&&(E&4194176)!==0)?r:l}function ii(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function fs(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var n=ni;return ni<<=1,!(ni&4194176)&&(ni=128),n}function k(){var n=ir;return ir<<=1,!(ir&62914560)&&(ir=4194304),n}function G(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Q(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fe(n,r,a,l,d,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var re=31-Ht(a),de=1<<re;S[re]=0,D[re]=-1;var J=F[re];if(J!==null)for(F[re]=null,re=0;re<J.length;re++){var ie=J[re];ie!==null&&(ie.lane&=-536870913)}a&=~de}l!==0&&Te(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Te(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Ht(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Ie(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Ht(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function Ue(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Re(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:k_(n.type))}function xe(n,r){var a=_e.p;try{return _e.p=n,r()}finally{_e.p=a}}var ye=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ye,Pe="__reactProps$"+ye,ht="__reactContainer$"+ye,Vt="__reactEvents$"+ye,Tt="__reactListeners$"+ye,st="__reactHandles$"+ye,kt="__reactResources$"+ye,Hn="__reactMarker$"+ye;function ri(n){delete n[Ne],delete n[Pe],delete n[Vt],delete n[Tt],delete n[st]}function Qt(n){var r=n[Ne];if(r)return r;for(var a=n.parentNode;a;){if(r=a[ht]||a[Ne]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=T_(n);n!==null;){if(a=n[Ne])return a;n=T_(n)}return r}n=a,a=n.parentNode}return null}function Zt(n){if(n=n[Ne]||n[ht]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function pi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Zn(n){var r=n[kt];return r||(r=n[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(n){n[Hn]=!0}var rr=new Set,Ui={};function et(n,r){Et(n,r),Et(n+"Capture",r)}function Et(n,r){for(Ui[n]=r,n=0;n<r.length;n++)rr.add(r[n])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},gi={};function ua(n){return tr.call(gi,n)?!0:tr.call(Nt,n)?!1:Nr.test(n)?gi[n]=!0:(Nt[n]=!0,!1)}function sr(n,r,a){if(ua(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ms(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function yi(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function qn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hc(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bd(n){var r=hc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ca(n){n._valueTracker||(n._valueTracker=Bd(n))}function vl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=hc(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function io(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Or=/[\n"\\]/g;function qt(n){return n.replace(Or,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ps(n,r,a,l,d,m,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+qn(r)):n.value!==""+qn(r)&&(n.value=""+qn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ro(n,E,qn(r)):a!=null?ro(n,E,qn(a)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+qn(S):n.removeAttribute("name")}function ha(n,r,a,l,d,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+qn(a):"",r=r!=null?""+qn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ro(n,r,a){r==="number"&&io(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function gt(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+qn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function da(n,r,a){if(r!=null&&(r=""+qn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+qn(a):""}function gs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=qn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function vi(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Fd.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function dc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&_l(n,d,l)}else for(var m in r)r.hasOwnProperty(m)&&_l(n,m,r[m])}function El(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(n){return qd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var _i=null;function so(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mr=null,Pr=null;function Vr(n){var r=Zt(n);if(r&&(n=r.stateNode)){var a=n[Pe]||null;e:switch(n=r.stateNode,r.type){case"input":if(ps(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Pe]||null;if(!d)throw Error(s(90));ps(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&vl(l)}break e;case"textarea":da(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&gt(n,!!a.multiple,r,!1)}}}var Tl=!1;function fc(n,r,a){if(Tl)return n(r,a);Tl=!0;try{var l=n(r);return l}finally{if(Tl=!1,(Mr!==null||Pr!==null)&&(rh(),Mr&&(r=Mr,n=Pr,Pr=Mr=null,Vr(r),n)))for(r=0;r<n.length;r++)Vr(n[r])}}function fa(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ei=!1;if(pn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Ei=!1}var or=null,ys=null,kr=null;function bl(){if(kr)return kr;var n,r=ys,a=r.length,l,d="value"in or?or.value:or.textContent,m=d.length;for(n=0;n<a&&r[n]===d[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===d[m-l];l++);return kr=d.slice(n,1<l?1-l:void 0)}function lr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ur(){return!0}function Sl(){return!1}function gn(n){function r(a,l,d,m,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ur:Sl,this.isPropagationStopped=Sl,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),r}var bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=gn(bt),pa=N({},bt,{view:0,detail:0}),mc=gn(pa),oo,lo,cr,ga=N({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cr&&(cr&&n.type==="mousemove"?(oo=n.screenX-cr.screenX,lo=n.screenY-cr.screenY):lo=oo=0,cr=n),oo)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),Ti=gn(ga),pc=N({},ga,{dataTransfer:0}),Gd=gn(pc),ya=N({},pa,{relatedTarget:0}),uo=gn(ya),Al=N({},bt,{animationName:0,elapsedTime:0,pseudoElement:0}),co=gn(Al),gc=N({},bt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ho=gn(gc),Kd=N({},bt,{data:0}),wl=gn(Kd),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=vc[n])?!!r[n]:!1}function _a(){return Rl}var _c=N({},pa,{key:function(n){if(n.key){var r=va[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=lr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(n){return n.type==="keypress"?lr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fo=gn(_c),Ec=N({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=gn(Ec),jr=N({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Tc=gn(jr),bc=N({},bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sc=gn(bc),Ac=N({},ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=gn(Ac),Gn=N({},bt,{newState:0,oldState:0}),wc=gn(Gn),Rc=[9,13,27,32],hr=pn&&"CompositionEvent"in window,c=null;pn&&"documentMode"in document&&(c=document.documentMode);var v=pn&&"TextEvent"in window&&!c,_=pn&&(!hr||c&&8<c&&11>=c),A=" ",$=!1;function ee(n,r){switch(n){case"keyup":return Rc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var dt=!1;function an(n,r){switch(n){case"compositionend":return ge(r);case"keypress":return r.which!==32?null:($=!0,A);case"textInput":return n=r.data,n===A&&$?null:n;default:return null}}function ft(n,r){if(dt)return n==="compositionend"||!hr&&ee(n,r)?(n=bl(),kr=ys=or=null,dt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!yn[n.type]:r==="textarea"}function Lr(n,r,a,l){Mr?Pr?Pr.push(l):Pr=[l]:Mr=l,r=uh(r,"onChange"),0<r.length&&(a=new ao("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var wn=null,dr=null;function Cl(n){d_(n,0)}function xc(n){var r=pi(n);if(vl(r))return n}function Bg(n,r){if(n==="change")return r}var Fg=!1;if(pn){var $d;if(pn){var Qd="oninput"in document;if(!Qd){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Qd=typeof Hg.oninput=="function"}$d=Qd}else $d=!1;Fg=$d&&(!document.documentMode||9<document.documentMode)}function qg(){wn&&(wn.detachEvent("onpropertychange",Gg),dr=wn=null)}function Gg(n){if(n.propertyName==="value"&&xc(dr)){var r=[];Lr(r,dr,n,so(n)),fc(Cl,r)}}function gA(n,r,a){n==="focusin"?(qg(),wn=r,dr=a,wn.attachEvent("onpropertychange",Gg)):n==="focusout"&&qg()}function yA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xc(dr)}function vA(n,r){if(n==="click")return xc(r)}function _A(n,r){if(n==="input"||n==="change")return xc(r)}function EA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var si=typeof Object.is=="function"?Object.is:EA;function Il(n,r){if(si(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!tr.call(r,d)||!si(n[d],r[d]))return!1}return!0}function Kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $g(n,r){var a=Kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Qg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Qg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Yg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=io(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=io(n.document)}return r}function Yd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function TA(n,r){var a=Yg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Qg(r.ownerDocument.documentElement,r)){if(l!==null&&Yd(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=r.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!a.extend&&m>l&&(d=l,l=m,m=d),d=$g(r,m);var E=$g(r,l);d&&E&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bA=pn&&"documentMode"in document&&11>=document.documentMode,po=null,Xd=null,Dl=null,Wd=!1;function Xg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wd||po==null||po!==io(l)||(l=po,"selectionStart"in l&&Yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=uh(Xd,"onSelect"),0<l.length&&(r=new ao("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=po)))}function Ea(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var go={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Zd={},Wg={};pn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Ta(n){if(Zd[n])return Zd[n];if(!go[n])return n;var r=go[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return Zd[n]=r[a];return n}var Zg=Ta("animationend"),Jg=Ta("animationiteration"),ey=Ta("animationstart"),SA=Ta("transitionrun"),AA=Ta("transitionstart"),wA=Ta("transitioncancel"),ty=Ta("transitionend"),ny=new Map,iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zi(n,r){ny.set(n,r),et(r,[n])}var bi=[],yo=0,Jd=0;function Cc(){for(var n=yo,r=Jd=yo=0;r<n;){var a=bi[r];bi[r++]=null;var l=bi[r];bi[r++]=null;var d=bi[r];bi[r++]=null;var m=bi[r];if(bi[r++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}m!==0&&ry(a,d,m)}}function Ic(n,r,a,l){bi[yo++]=n,bi[yo++]=r,bi[yo++]=a,bi[yo++]=l,Jd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ef(n,r,a,l){return Ic(n,r,a,l),Dc(n)}function vs(n,r){return Ic(n,null,null,r),Dc(n)}function ry(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;d&&r!==null&&n.tag===3&&(m=n.stateNode,d=31-Ht(a),m=m.hiddenUpdates,n=m[d],n===null?m[d]=[r]:n.push(r),r.lane=a|536870912)}function Dc(n){if(50<tu)throw tu=0,om=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var vo={},sy=new WeakMap;function Si(n,r){if(typeof n=="object"&&n!==null){var a=sy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ce(r)},sy.set(n,r),r)}return{value:n,source:r,stack:Ce(r)}}var _o=[],Eo=0,Nc=null,Oc=0,Ai=[],wi=0,ba=null,Ur=1,zr="";function Sa(n,r){_o[Eo++]=Oc,_o[Eo++]=Nc,Nc=n,Oc=r}function ay(n,r,a){Ai[wi++]=Ur,Ai[wi++]=zr,Ai[wi++]=ba,ba=n;var l=Ur;n=zr;var d=32-Ht(l)-1;l&=~(1<<d),a+=1;var m=32-Ht(r)+d;if(30<m){var E=d-d%5;m=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Ur=1<<32-Ht(r)+d|a<<d|l,zr=m+n}else Ur=1<<m|a<<d|l,zr=n}function tf(n){n.return!==null&&(Sa(n,1),ay(n,1,0))}function nf(n){for(;n===Nc;)Nc=_o[--Eo],_o[Eo]=null,Oc=_o[--Eo],_o[Eo]=null;for(;n===ba;)ba=Ai[--wi],Ai[wi]=null,zr=Ai[--wi],Ai[wi]=null,Ur=Ai[--wi],Ai[wi]=null}var Kn=null,Rn=null,yt=!1,Bi=null,fr=!1,rf=Error(s(519));function Aa(n){var r=Error(s(418,""));throw Ml(Si(r,n)),rf}function oy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ne]=n,r[Pe]=l,a){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(a=0;a<iu.length;a++)ut(iu[a],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":ut("invalid",r),ha(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(r);break;case"select":ut("invalid",r);break;case"textarea":ut("invalid",r),gs(r,l.value,l.defaultValue,l.children),ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||g_(r.textContent,a)?(l.popover!=null&&(ut("beforetoggle",r),ut("toggle",r)),l.onScroll!=null&&ut("scroll",r),l.onScrollEnd!=null&&ut("scrollend",r),l.onClick!=null&&(r.onclick=ch),r=!0):r=!1,r||Aa(n)}function ly(n){for(Kn=n.return;Kn;)switch(Kn.tag){case 3:case 27:fr=!0;return;case 5:case 13:fr=!1;return;default:Kn=Kn.return}}function Nl(n){if(n!==Kn)return!1;if(!yt)return ly(n),yt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Am(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Rn&&Aa(n),ly(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Rn=Hi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Rn=null}}else Rn=Kn?Hi(n.stateNode.nextSibling):null;return!0}function Ol(){Rn=Kn=null,yt=!1}function Ml(n){Bi===null?Bi=[n]:Bi.push(n)}var Pl=Error(s(460)),uy=Error(s(474)),sf={then:function(){}};function cy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mc(){}function hy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Mc,Mc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Pl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(Mc,Mc);else{if(n=Ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Pl?Error(s(483)):n}throw Vl=r,Pl}}var Vl=null;function dy(){if(Vl===null)throw Error(s(459));var n=Vl;return Vl=null,n}var To=null,kl=0;function Pc(n){var r=kl;return kl+=1,To===null&&(To=[]),hy(To,n,r)}function jl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Vc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function fy(n){var r=n._init;return r(n._payload)}function my(n){function r(K,U){if(n){var Y=K.deletions;Y===null?(K.deletions=[U],K.flags|=16):Y.push(U)}}function a(K,U){if(!n)return null;for(;U!==null;)r(K,U),U=U.sibling;return null}function l(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function d(K,U){return K=Ds(K,U),K.index=0,K.sibling=null,K}function m(K,U,Y){return K.index=Y,n?(Y=K.alternate,Y!==null?(Y=Y.index,Y<U?(K.flags|=33554434,U):Y):(K.flags|=33554434,U)):(K.flags|=1048576,U)}function E(K){return n&&K.alternate===null&&(K.flags|=33554434),K}function S(K,U,Y,oe){return U===null||U.tag!==6?(U=Jf(Y,K.mode,oe),U.return=K,U):(U=d(U,Y),U.return=K,U)}function D(K,U,Y,oe){var De=Y.type;return De===p?re(K,U,Y.props.children,oe,Y.key):U!==null&&(U.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&fy(De)===U.type)?(U=d(U,Y.props),jl(U,Y),U.return=K,U):(U=Jc(Y.type,Y.key,Y.props,null,K.mode,oe),jl(U,Y),U.return=K,U)}function F(K,U,Y,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=em(Y,K.mode,oe),U.return=K,U):(U=d(U,Y.children||[]),U.return=K,U)}function re(K,U,Y,oe,De){return U===null||U.tag!==7?(U=Pa(Y,K.mode,oe,De),U.return=K,U):(U=d(U,Y),U.return=K,U)}function de(K,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jf(""+U,K.mode,Y),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return Y=Jc(U.type,U.key,U.props,null,K.mode,Y),jl(Y,U),Y.return=K,Y;case f:return U=em(U,K.mode,Y),U.return=K,U;case q:var oe=U._init;return U=oe(U._payload),de(K,U,Y)}if(ve(U)||z(U))return U=Pa(U,K.mode,Y,null),U.return=K,U;if(typeof U.then=="function")return de(K,Pc(U),Y);if(U.$$typeof===I)return de(K,Xc(K,U),Y);Vc(K,U)}return null}function J(K,U,Y,oe){var De=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return De!==null?null:S(K,U,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case h:return Y.key===De?D(K,U,Y,oe):null;case f:return Y.key===De?F(K,U,Y,oe):null;case q:return De=Y._init,Y=De(Y._payload),J(K,U,Y,oe)}if(ve(Y)||z(Y))return De!==null?null:re(K,U,Y,oe,null);if(typeof Y.then=="function")return J(K,U,Pc(Y),oe);if(Y.$$typeof===I)return J(K,U,Xc(K,Y),oe);Vc(K,Y)}return null}function ie(K,U,Y,oe,De){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(Y)||null,S(U,K,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:return K=K.get(oe.key===null?Y:oe.key)||null,D(U,K,oe,De);case f:return K=K.get(oe.key===null?Y:oe.key)||null,F(U,K,oe,De);case q:var nt=oe._init;return oe=nt(oe._payload),ie(K,U,Y,oe,De)}if(ve(oe)||z(oe))return K=K.get(Y)||null,re(U,K,oe,De,null);if(typeof oe.then=="function")return ie(K,U,Y,Pc(oe),De);if(oe.$$typeof===I)return ie(K,U,Y,Xc(U,oe),De);Vc(U,oe)}return null}function Me(K,U,Y,oe){for(var De=null,nt=null,Ve=U,ze=U=0,En=null;Ve!==null&&ze<Y.length;ze++){Ve.index>ze?(En=Ve,Ve=null):En=Ve.sibling;var vt=J(K,Ve,Y[ze],oe);if(vt===null){Ve===null&&(Ve=En);break}n&&Ve&&vt.alternate===null&&r(K,Ve),U=m(vt,U,ze),nt===null?De=vt:nt.sibling=vt,nt=vt,Ve=En}if(ze===Y.length)return a(K,Ve),yt&&Sa(K,ze),De;if(Ve===null){for(;ze<Y.length;ze++)Ve=de(K,Y[ze],oe),Ve!==null&&(U=m(Ve,U,ze),nt===null?De=Ve:nt.sibling=Ve,nt=Ve);return yt&&Sa(K,ze),De}for(Ve=l(Ve);ze<Y.length;ze++)En=ie(Ve,K,ze,Y[ze],oe),En!==null&&(n&&En.alternate!==null&&Ve.delete(En.key===null?ze:En.key),U=m(En,U,ze),nt===null?De=En:nt.sibling=En,nt=En);return n&&Ve.forEach(function(js){return r(K,js)}),yt&&Sa(K,ze),De}function $e(K,U,Y,oe){if(Y==null)throw Error(s(151));for(var De=null,nt=null,Ve=U,ze=U=0,En=null,vt=Y.next();Ve!==null&&!vt.done;ze++,vt=Y.next()){Ve.index>ze?(En=Ve,Ve=null):En=Ve.sibling;var js=J(K,Ve,vt.value,oe);if(js===null){Ve===null&&(Ve=En);break}n&&Ve&&js.alternate===null&&r(K,Ve),U=m(js,U,ze),nt===null?De=js:nt.sibling=js,nt=js,Ve=En}if(vt.done)return a(K,Ve),yt&&Sa(K,ze),De;if(Ve===null){for(;!vt.done;ze++,vt=Y.next())vt=de(K,vt.value,oe),vt!==null&&(U=m(vt,U,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return yt&&Sa(K,ze),De}for(Ve=l(Ve);!vt.done;ze++,vt=Y.next())vt=ie(Ve,K,ze,vt.value,oe),vt!==null&&(n&&vt.alternate!==null&&Ve.delete(vt.key===null?ze:vt.key),U=m(vt,U,ze),nt===null?De=vt:nt.sibling=vt,nt=vt);return n&&Ve.forEach(function(Uw){return r(K,Uw)}),yt&&Sa(K,ze),De}function $t(K,U,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===p&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case h:e:{for(var De=Y.key;U!==null;){if(U.key===De){if(De=Y.type,De===p){if(U.tag===7){a(K,U.sibling),oe=d(U,Y.props.children),oe.return=K,K=oe;break e}}else if(U.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&fy(De)===U.type){a(K,U.sibling),oe=d(U,Y.props),jl(oe,Y),oe.return=K,K=oe;break e}a(K,U);break}else r(K,U);U=U.sibling}Y.type===p?(oe=Pa(Y.props.children,K.mode,oe,Y.key),oe.return=K,K=oe):(oe=Jc(Y.type,Y.key,Y.props,null,K.mode,oe),jl(oe,Y),oe.return=K,K=oe)}return E(K);case f:e:{for(De=Y.key;U!==null;){if(U.key===De)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){a(K,U.sibling),oe=d(U,Y.children||[]),oe.return=K,K=oe;break e}else{a(K,U);break}else r(K,U);U=U.sibling}oe=em(Y,K.mode,oe),oe.return=K,K=oe}return E(K);case q:return De=Y._init,Y=De(Y._payload),$t(K,U,Y,oe)}if(ve(Y))return Me(K,U,Y,oe);if(z(Y)){if(De=z(Y),typeof De!="function")throw Error(s(150));return Y=De.call(Y),$e(K,U,Y,oe)}if(typeof Y.then=="function")return $t(K,U,Pc(Y),oe);if(Y.$$typeof===I)return $t(K,U,Xc(K,Y),oe);Vc(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(a(K,U.sibling),oe=d(U,Y),oe.return=K,K=oe):(a(K,U),oe=Jf(Y,K.mode,oe),oe.return=K,K=oe),E(K)):a(K,U)}return function(K,U,Y,oe){try{kl=0;var De=$t(K,U,Y,oe);return To=null,De}catch(Ve){if(Ve===Pl)throw Ve;var nt=Ii(29,Ve,null,K.mode);return nt.lanes=oe,nt.return=K,nt}finally{}}}var wa=my(!0),py=my(!1),bo=rt(null),kc=rt(0);function gy(n,r){n=Wr,He(kc,n),He(bo,r),Wr=n|r.baseLanes}function af(){He(kc,Wr),He(bo,bo.current)}function of(){Wr=kc.current,wt(bo),wt(kc)}var Ri=rt(null),mr=null;function _s(n){var r=n.alternate;He(ln,ln.current&1),He(Ri,n),mr===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(mr=n)}function yy(n){if(n.tag===22){if(He(ln,ln.current),He(Ri,n),mr===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(mr=n)}}else Es()}function Es(){He(ln,ln.current),He(Ri,Ri.current)}function Br(n){wt(Ri),mr===n&&(mr=null),wt(ln)}var ln=rt(0);function jc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var RA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},xA=i.unstable_scheduleCallback,CA=i.unstable_NormalPriority,un={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new RA,data:new Map,refCount:0}}function Ll(n){n.refCount--,n.refCount===0&&xA(CA,function(){n.controller.abort()})}var Ul=null,uf=0,So=0,Ao=null;function IA(n,r){if(Ul===null){var a=Ul=[];uf=0,So=pm(),Ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uf++,r.then(vy,vy),r}function vy(){if(--uf===0&&Ul!==null){Ao!==null&&(Ao.status="fulfilled");var n=Ul;Ul=null,So=0,Ao=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function DA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var _y=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IA(n,r),_y!==null&&_y(n,r)};var Ra=rt(null);function cf(){var n=Ra.current;return n!==null?n:Ot.pooledCache}function Lc(n,r){r===null?He(Ra,Ra.current):He(Ra,r.pool)}function Ey(){var n=cf();return n===null?null:{parent:un._currentValue,pool:n}}var Ts=0,tt=null,xt=null,Jt=null,Uc=!1,wo=!1,xa=!1,zc=0,zl=0,Ro=null,NA=0;function Yt(){throw Error(s(321))}function hf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!si(n[a],r[a]))return!1;return!0}function df(n,r,a,l,d,m){return Ts=m,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?Ca:bs,xa=!1,m=a(l,d),xa=!1,wo&&(m=by(r,a,l,d)),Ty(n),m}function Ty(n){R.H=pr;var r=xt!==null&&xt.next!==null;if(Ts=0,Jt=xt=tt=null,Uc=!1,zl=0,Ro=null,r)throw Error(s(300));n===null||vn||(n=n.dependencies,n!==null&&Yc(n)&&(vn=!0))}function by(n,r,a,l){tt=n;var d=0;do{if(wo&&(Ro=null),zl=0,wo=!1,25<=d)throw Error(s(301));if(d+=1,Jt=xt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=Ia,m=r(a,l)}while(wo);return m}function OA(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?Bl(r):r,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(tt.flags|=1024),r}function ff(){var n=zc!==0;return zc=0,n}function mf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function pf(n){if(Uc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Uc=!1}Ts=0,Jt=xt=tt=null,wo=!1,zl=zc=0,Ro=null}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?tt.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function en(){if(xt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var r=Jt===null?tt.memoizedState:Jt.next;if(r!==null)Jt=r,xt=n;else{if(n===null)throw tt.alternate===null?Error(s(467)):Error(s(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?tt.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}var Bc;Bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bl(n){var r=zl;return zl+=1,Ro===null&&(Ro=[]),n=hy(Ro,n,r),r=tt,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Ca:bs),n}function Fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===I)return Pn(n)}throw Error(s(438,String(n)))}function gf(n){var r=null,a=tt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Bc(),tt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=pe;return r.index++,a}function Fr(n,r){return typeof r=="function"?r(n):r}function Hc(n){var r=en();return yf(r,xt,n)}function yf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}r.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{r=d.next;var S=E=null,D=null,F=r,re=!1;do{var de=F.lane&-536870913;if(de!==F.lane?(mt&de)===de:(Ts&de)===de){var J=F.revertLane;if(J===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),de===So&&(re=!0);else if((Ts&J)===J){F=F.next,J===So&&(re=!0);continue}else de={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=de,E=m):D=D.next=de,tt.lanes|=J,Ns|=J;de=F.action,xa&&a(m,de),m=F.hasEagerState?F.eagerState:a(m,de)}else J={lane:de,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=J,E=m):D=D.next=J,tt.lanes|=de,Ns|=de;F=F.next}while(F!==null&&F!==r);if(D===null?E=m:D.next=S,!si(m,n.memoizedState)&&(vn=!0,re&&(a=Ao,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=D,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vf(n){var r=en(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do m=n(m,E.action),E=E.next;while(E!==d);si(m,r.memoizedState)||(vn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Sy(n,r,a){var l=tt,d=en(),m=yt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!si((xt||d).memoizedState,a);if(E&&(d.memoizedState=a,vn=!0),d=d.queue,Tf(Ry.bind(null,l,d,n),[n]),d.getSnapshot!==r||E||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,xo(9,wy.bind(null,l,d,a,r),{destroy:void 0},null),Ot===null)throw Error(s(349));m||Ts&60||Ay(l,r,a)}return a}function Ay(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=tt.updateQueue,r===null?(r=Bc(),tt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function wy(n,r,a,l){r.value=a,r.getSnapshot=l,xy(r)&&Cy(n)}function Ry(n,r,a){return a(function(){xy(r)&&Cy(n)})}function xy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!si(n,a)}catch{return!0}}function Cy(n){var r=vs(n,2);r!==null&&$n(r,n,2)}function _f(n){var r=Jn();if(typeof n=="function"){var a=n;if(n=a(),xa){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:n},r}function Iy(n,r,a,l){return n.baseState=a,yf(n,xt,typeof l=="function"?l:Fr)}function MA(n,r,a,l,d){if(Kc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};R.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Dy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Dy(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var m=R.T,E={};R.T=E;try{var S=a(d,l),D=R.S;D!==null&&D(E,S),Ny(n,r,S)}catch(F){Ef(n,r,F)}finally{R.T=m}}else try{m=a(d,l),Ny(n,r,m)}catch(F){Ef(n,r,F)}}function Ny(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Oy(n,r,l)},function(l){return Ef(n,r,l)}):Oy(n,r,a)}function Oy(n,r,a){r.status="fulfilled",r.value=a,My(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Dy(n,a)))}function Ef(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,My(r),r=r.next;while(r!==l)}n.action=null}function My(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Py(n,r){return r}function Vy(n,r){if(yt){var a=Ot.formState;if(a!==null){e:{var l=tt;if(yt){if(Rn){t:{for(var d=Rn,m=fr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Hi(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Rn=Hi(d.nextSibling),l=d.data==="F!";break e}}Aa(l)}l=!1}l&&(r=a[0])}}return a=Jn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},a.queue=l,a=Jy.bind(null,tt,l),l.dispatch=a,l=_f(!1),m=Rf.bind(null,tt,!1,l.queue),l=Jn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=MA.bind(null,tt,d,m,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function ky(n){var r=en();return jy(r,xt,n)}function jy(n,r,a){r=yf(n,r,Py)[0],n=Hc(Fr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Bl(r):r;var l=en(),d=l.queue,m=d.dispatch;return a!==l.memoizedState&&(tt.flags|=2048,xo(9,PA.bind(null,d,a),{destroy:void 0},null)),[r,m,n]}function PA(n,r){n.action=r}function Ly(n){var r=en(),a=xt;if(a!==null)return jy(r,a,n);en(),r=r.memoizedState,a=en();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function xo(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=tt.updateQueue,r===null&&(r=Bc(),tt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Uy(){return en().memoizedState}function qc(n,r,a,l){var d=Jn();tt.flags|=n,d.memoizedState=xo(1|r,a,{destroy:void 0},l===void 0?null:l)}function Gc(n,r,a,l){var d=en();l=l===void 0?null:l;var m=d.memoizedState.inst;xt!==null&&l!==null&&hf(l,xt.memoizedState.deps)?d.memoizedState=xo(r,a,m,l):(tt.flags|=n,d.memoizedState=xo(1|r,a,m,l))}function zy(n,r){qc(8390656,8,n,r)}function Tf(n,r){Gc(2048,8,n,r)}function By(n,r){return Gc(4,2,n,r)}function Fy(n,r){return Gc(4,4,n,r)}function Hy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function qy(n,r,a){a=a!=null?a.concat([n]):null,Gc(4,4,Hy.bind(null,r,n),a)}function bf(){}function Gy(n,r){var a=en();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Ky(n,r){var a=en();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hf(r,l[1]))return l[0];if(l=n(),xa){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function Sf(n,r,a){return a===void 0||Ts&1073741824?n.memoizedState=r:(n.memoizedState=a,n=Qv(),tt.lanes|=n,Ns|=n,a)}function $y(n,r,a,l){return si(a,r)?a:bo.current!==null?(n=Sf(n,a,l),si(n,r)||(vn=!0),n):Ts&42?(n=Qv(),tt.lanes|=n,Ns|=n,r):(vn=!0,n.memoizedState=a)}function Qy(n,r,a,l,d){var m=_e.p;_e.p=m!==0&&8>m?m:8;var E=R.T,S={};R.T=S,Rf(n,!1,r,a);try{var D=d(),F=R.S;if(F!==null&&F(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var re=DA(D,l);Fl(n,r,re,ui(n))}else Fl(n,r,l,ui(n))}catch(de){Fl(n,r,{then:function(){},status:"rejected",reason:de},ui())}finally{_e.p=m,R.T=E}}function VA(){}function Af(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=Yy(n).queue;Qy(n,d,r,Fe,a===null?VA:function(){return Xy(n),a(l)})}function Yy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Fe,baseState:Fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:Fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Xy(n){var r=Yy(n).next.queue;Fl(n,r,{},ui())}function wf(){return Pn(lu)}function Wy(){return en().memoizedState}function Zy(){return en().memoizedState}function kA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=ui();n=ws(a);var l=Rs(r,n,a);l!==null&&($n(l,r,a),Gl(l,r,a)),r={cache:lf()},n.payload=r;return}r=r.return}}function jA(n,r,a){var l=ui();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Kc(n)?ev(r,a):(a=ef(n,r,a,l),a!==null&&($n(a,n,l),tv(a,r,l)))}function Jy(n,r,a){var l=ui();Fl(n,r,a,l)}function Fl(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kc(n))ev(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,S=m(E,a);if(d.hasEagerState=!0,d.eagerState=S,si(S,E))return Ic(n,r,d,0),Ot===null&&Cc(),!1}catch{}finally{}if(a=ef(n,r,d,l),a!==null)return $n(a,n,l),tv(a,r,l),!0}return!1}function Rf(n,r,a,l){if(l={lane:2,revertLane:pm(),action:l,hasEagerState:!1,eagerState:null,next:null},Kc(n)){if(r)throw Error(s(479))}else r=ef(n,a,l,2),r!==null&&$n(r,n,2)}function Kc(n){var r=n.alternate;return n===tt||r!==null&&r===tt}function ev(n,r){wo=Uc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function tv(n,r,a){if(a&4194176){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ie(n,a)}}var pr={readContext:Pn,use:Fc,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};pr.useCacheRefresh=Yt,pr.useMemoCache=Yt,pr.useHostTransitionStatus=Yt,pr.useFormState=Yt,pr.useActionState=Yt,pr.useOptimistic=Yt;var Ca={readContext:Pn,use:Fc,useCallback:function(n,r){return Jn().memoizedState=[n,r===void 0?null:r],n},useContext:Pn,useEffect:zy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,qc(4194308,4,Hy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return qc(4194308,4,n,r)},useInsertionEffect:function(n,r){qc(4,2,n,r)},useMemo:function(n,r){var a=Jn();r=r===void 0?null:r;var l=n();if(xa){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=Jn();if(a!==void 0){var d=a(r);if(xa){Mn(!0);try{a(r)}finally{Mn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=jA.bind(null,tt,n),[l.memoizedState,n]},useRef:function(n){var r=Jn();return n={current:n},r.memoizedState=n},useState:function(n){n=_f(n);var r=n.queue,a=Jy.bind(null,tt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(n,r){var a=Jn();return Sf(a,n,r)},useTransition:function(){var n=_f(!1);return n=Qy.bind(null,tt,n.queue,!0,!1),Jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=tt,d=Jn();if(yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ot===null)throw Error(s(349));mt&60||Ay(l,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,zy(Ry.bind(null,l,m,n),[n]),l.flags|=2048,xo(9,wy.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=Jn(),r=Ot.identifierPrefix;if(yt){var a=zr,l=Ur;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=zc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=NA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return Jn().memoizedState=kA.bind(null,tt)}};Ca.useMemoCache=gf,Ca.useHostTransitionStatus=wf,Ca.useFormState=Vy,Ca.useActionState=Vy,Ca.useOptimistic=function(n){var r=Jn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Rf.bind(null,tt,!0,a),a.dispatch=r,[n,r]};var bs={readContext:Pn,use:Fc,useCallback:Gy,useContext:Pn,useEffect:Tf,useImperativeHandle:qy,useInsertionEffect:By,useLayoutEffect:Fy,useMemo:Ky,useReducer:Hc,useRef:Uy,useState:function(){return Hc(Fr)},useDebugValue:bf,useDeferredValue:function(n,r){var a=en();return $y(a,xt.memoizedState,n,r)},useTransition:function(){var n=Hc(Fr)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Bl(n),r]},useSyncExternalStore:Sy,useId:Wy};bs.useCacheRefresh=Zy,bs.useMemoCache=gf,bs.useHostTransitionStatus=wf,bs.useFormState=ky,bs.useActionState=ky,bs.useOptimistic=function(n,r){var a=en();return Iy(a,xt,n,r)};var Ia={readContext:Pn,use:Fc,useCallback:Gy,useContext:Pn,useEffect:Tf,useImperativeHandle:qy,useInsertionEffect:By,useLayoutEffect:Fy,useMemo:Ky,useReducer:vf,useRef:Uy,useState:function(){return vf(Fr)},useDebugValue:bf,useDeferredValue:function(n,r){var a=en();return xt===null?Sf(a,n,r):$y(a,xt.memoizedState,n,r)},useTransition:function(){var n=vf(Fr)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Bl(n),r]},useSyncExternalStore:Sy,useId:Wy};Ia.useCacheRefresh=Zy,Ia.useMemoCache=gf,Ia.useHostTransitionStatus=wf,Ia.useFormState=Ly,Ia.useActionState=Ly,Ia.useOptimistic=function(n,r){var a=en();return xt!==null?Iy(a,xt,n,r):(a.baseState=n,[n,a.queue.dispatch])};function xf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:N({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cf={isMounted:function(n){return(n=n._reactInternals)?Se(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=ui(),d=ws(l);d.payload=r,a!=null&&(d.callback=a),r=Rs(n,d,l),r!==null&&($n(r,n,l),Gl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=ui(),d=ws(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Rs(n,d,l),r!==null&&($n(r,n,l),Gl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=ui(),l=ws(a);l.tag=2,r!=null&&(l.callback=r),r=Rs(n,l,a),r!==null&&($n(r,n,a),Gl(r,n,a))}};function nv(n,r,a,l,d,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!Il(a,l)||!Il(d,m):!0}function iv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Cf.enqueueReplaceState(r,r.state,null)}function Da(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=N({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var $c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function rv(n){$c(n)}function sv(n){console.error(n)}function av(n){$c(n)}function Qc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ov(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function If(n,r,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(n,r)},a}function lv(n){return n=ws(n),n.tag=3,n}function uv(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){ov(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){ov(r,a,l),typeof d!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function LA(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ql(r,a,d,!0),a=Ri.current,a!==null){switch(a.tag){case 13:return mr===null?cm():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),dm(n,l,d)),!1;case 22:return a.flags|=65536,l===sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),dm(n,l,d)),!1}throw Error(s(435,a.tag))}return dm(n,l,d),cm(),!1}if(yt)return r=Ri.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==rf&&(n=Error(s(422),{cause:l}),Ml(Si(n,a)))):(l!==rf&&(r=Error(s(423),{cause:l}),Ml(Si(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Si(l,a),d=If(n.stateNode,l,d),qf(n,d),Kt!==4&&(Kt=2)),!1;var m=Error(s(520),{cause:l});if(m=Si(m,a),Jl===null?Jl=[m]:Jl.push(m),Kt!==4&&(Kt=2),r===null)return!0;l=Si(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=If(a.stateNode,l,n),qf(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Os===null||!Os.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=lv(d),uv(d,n,a,l),qf(a,d),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),vn=!1;function xn(n,r,a,l){r.child=n===null?py(r,null,a,l):wa(r,n.child,a,l)}function hv(n,r,a,l,d){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Oa(r),l=df(n,r,a,E,m,d),S=ff(),n!==null&&!vn?(mf(n,r,d),Hr(n,r,d)):(yt&&S&&tf(r),r.flags|=1,xn(n,r,l,d),r.child)}function dv(n,r,a,l,d){if(n===null){var m=a.type;return typeof m=="function"&&!Zf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,fv(n,r,m,l,d)):(n=Jc(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Lf(n,d)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(E,l)&&n.ref===r.ref)return Hr(n,r,d)}return r.flags|=1,n=Ds(m,l),n.ref=r.ref,n.return=r,r.child=n}function fv(n,r,a,l,d){if(n!==null){var m=n.memoizedProps;if(Il(m,l)&&n.ref===r.ref)if(vn=!1,r.pendingProps=l=m,Lf(n,d))n.flags&131072&&(vn=!0);else return r.lanes=n.lanes,Hr(n,r,d)}return Df(n,r,a,l,d)}function mv(n,r,a){var l=r.pendingProps,d=l.children,m=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Hl(n,r),l.mode==="hidden"||m){if(r.flags&128){if(l=E!==null?E.baseLanes|a:a,n!==null){for(d=r.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return pv(n,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Lc(r,E!==null?E.cachePool:null),E!==null?gy(r,E):af(),yy(r);else return r.lanes=r.childLanes=536870912,pv(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(Lc(r,E.cachePool),gy(r,E),Es(),r.memoizedState=null):(n!==null&&Lc(r,null),af(),Es());return xn(n,r,d,a),r.child}function pv(n,r,a,l){var d=cf();return d=d===null?null:{parent:un._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Lc(r,null),af(),yy(r),n!==null&&ql(n,r,l,!0),null}function Hl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Df(n,r,a,l,d){return Oa(r),a=df(n,r,a,l,void 0,d),l=ff(),n!==null&&!vn?(mf(n,r,d),Hr(n,r,d)):(yt&&l&&tf(r),r.flags|=1,xn(n,r,a,d),r.child)}function gv(n,r,a,l,d,m){return Oa(r),r.updateQueue=null,a=by(r,l,a,d),Ty(n),l=ff(),n!==null&&!vn?(mf(n,r,m),Hr(n,r,m)):(yt&&l&&tf(r),r.flags|=1,xn(n,r,a,m),r.child)}function yv(n,r,a,l,d){if(Oa(r),r.stateNode===null){var m=vo,E=a.contextType;typeof E=="object"&&E!==null&&(m=Pn(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Ff(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Pn(E):vo,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(xf(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Cf.enqueueReplaceState(m,m.state,null),$l(r,l,m,d),Kl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,D=Da(a,S);m.props=D;var F=m.context,re=a.contextType;E=vo,typeof re=="object"&&re!==null&&(E=Pn(re));var de=a.getDerivedStateFromProps;re=typeof de=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||F!==E)&&iv(r,m,l,E),As=!1;var J=r.memoizedState;m.state=J,$l(r,l,m,d),Kl(),F=r.memoizedState,S||J!==F||As?(typeof de=="function"&&(xf(r,a,de,l),F=r.memoizedState),(D=As||nv(r,a,D,l,J,F,E))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=E,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Hf(n,r),E=r.memoizedProps,re=Da(a,E),m.props=re,de=r.pendingProps,J=m.context,F=a.contextType,D=vo,typeof F=="object"&&F!==null&&(D=Pn(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==de||J!==D)&&iv(r,m,l,D),As=!1,J=r.memoizedState,m.state=J,$l(r,l,m,d),Kl();var ie=r.memoizedState;E!==de||J!==ie||As||n!==null&&n.dependencies!==null&&Yc(n.dependencies)?(typeof S=="function"&&(xf(r,a,S,l),ie=r.memoizedState),(re=As||nv(r,a,re,l,J,ie,D)||n!==null&&n.dependencies!==null&&Yc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ie,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ie,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),m.props=l,m.state=ie,m.context=D,l=re):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Hl(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=wa(r,n.child,null,d),r.child=wa(r,null,a,d)):xn(n,r,a,d),r.memoizedState=m.state,n=r.child):n=Hr(n,r,d),n}function vv(n,r,a,l){return Ol(),r.flags|=256,xn(n,r,a,l),r.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Of(n){return{baseLanes:n,cachePool:Ey()}}function Mf(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Di),n}function _v(n,r,a){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(yt){if(d?_s(r):Es(),yt){var S=Rn,D;if(D=S){e:{for(D=S,S=fr;D.nodeType!==8;){if(!S){S=null;break e}if(D=Hi(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:ba!==null?{id:Ur,overflow:zr}:null,retryLane:536870912},D=Ii(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,Kn=r,Rn=null,D=!0):D=!1}D||Aa(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Br(r)}return S=l.children,l=l.fallback,d?(Es(),d=r.mode,S=Vf({mode:"hidden",children:S},d),l=Pa(l,d,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,d=r.child,d.memoizedState=Of(a),d.childLanes=Mf(n,E,a),r.memoizedState=Nf,l):(_s(r),Pf(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(_s(r),r.flags&=-257,r=kf(n,r,a)):r.memoizedState!==null?(Es(),r.child=n.child,r.flags|=128,r=null):(Es(),d=l.fallback,S=r.mode,l=Vf({mode:"visible",children:l.children},S),d=Pa(d,S,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,wa(r,n.child,null,a),l=r.child,l.memoizedState=Of(a),l.childLanes=Mf(n,E,a),r.memoizedState=Nf,r=d);else if(_s(r),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Ml({value:l,source:null,stack:null}),r=kf(n,r,a)}else if(vn||ql(n,r,a,!1),E=(a&n.childLanes)!==0,vn||E){if(E=Ot,E!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(E.suspendedLanes|a)?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,vs(n,l),$n(E,n,l),cv}S.data==="$?"||cm(),r=kf(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=JA.bind(null,n),S._reactRetry=r,r=null):(n=D.treeContext,Rn=Hi(S.nextSibling),Kn=r,yt=!0,Bi=null,fr=!1,n!==null&&(Ai[wi++]=Ur,Ai[wi++]=zr,Ai[wi++]=ba,Ur=n.id,zr=n.overflow,ba=r),r=Pf(r,l.children),r.flags|=4096);return r}return d?(Es(),d=l.fallback,S=r.mode,D=n.child,F=D.sibling,l=Ds(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,F!==null?d=Ds(F,d):(d=Pa(d,S,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,S=n.child.memoizedState,S===null?S=Of(a):(D=S.cachePool,D!==null?(F=un._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Ey(),S={baseLanes:S.baseLanes|a,cachePool:D}),d.memoizedState=S,d.childLanes=Mf(n,E,a),r.memoizedState=Nf,l):(_s(r),a=n.child,n=a.sibling,a=Ds(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Pf(n,r){return r=Vf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Vf(n,r){return Gv(n,r,0,null)}function kf(n,r,a){return wa(r,n.child,null,a),n=Pf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ev(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),zf(n.return,r,a)}function jf(n,r,a,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Tv(n,r,a){var l=r.pendingProps,d=l.revealOrder,m=l.tail;if(xn(n,r,l.children,a),l=ln.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ev(n,a,r);else if(n.tag===19)Ev(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(He(ln,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&jc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),jf(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&jc(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}jf(r,!0,a,null,m);break;case"together":jf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ns|=r.lanes,!(a&r.childLanes))if(n!==null){if(ql(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ds(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ds(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Lf(n,r){return n.lanes&r?!0:(n=n.dependencies,!!(n!==null&&Yc(n)))}function UA(n,r,a){switch(r.tag){case 3:fi(r,r.stateNode.containerInfo),Ss(r,un,n.memoizedState.cache),Ol();break;case 27:case 5:ki(r);break;case 4:fi(r,r.stateNode.containerInfo);break;case 10:Ss(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(_s(r),r.flags|=128,null):a&r.child.childLanes?_v(n,r,a):(_s(r),n=Hr(n,r,a),n!==null?n.sibling:null);_s(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ql(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return Tv(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(ln,ln.current),l)break;return null;case 22:case 23:return r.lanes=0,mv(n,r,a);case 24:Ss(r,un,n.memoizedState.cache)}return Hr(n,r,a)}function bv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)vn=!0;else{if(!Lf(n,a)&&!(r.flags&128))return vn=!1,UA(n,r,a);vn=!!(n.flags&131072)}else vn=!1,yt&&r.flags&1048576&&ay(r,Oc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")Zf(l)?(n=Da(l,n),r.tag=1,r=yv(null,r,l,n,a)):(r.tag=0,r=Df(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===L){r.tag=11,r=hv(null,r,l,n,a);break e}else if(d===B){r.tag=14,r=dv(null,r,l,n,a);break e}}throw r=x(l)||l,Error(s(306,r,""))}}return r;case 0:return Df(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Da(l,r.pendingProps),yv(n,r,l,d,a);case 3:e:{if(fi(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;d=r.memoizedState,l=d.element,Hf(n,r),$l(r,m,null,a);var E=r.memoizedState;if(m=E.cache,Ss(r,un,m),m!==d.cache&&Bf(r,[un],a,!0),Kl(),m=E.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=vv(n,r,m,a);break e}else if(m!==l){l=Si(Error(s(424)),r),Ml(l),r=vv(n,r,m,a);break e}else for(Rn=Hi(r.stateNode.containerInfo.firstChild),Kn=r,yt=!0,Bi=null,fr=!0,a=py(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ol(),m===l){r=Hr(n,r,a);break e}xn(n,r,m,a)}r=r.child}return r;case 26:return Hl(n,r),n===null?(a=w_(r.type,null,r.pendingProps,null))?r.memoizedState=a:yt||(a=r.type,n=r.pendingProps,l=hh(On.current).createElement(a),l[Ne]=r,l[Pe]=n,Cn(l,a,n),_t(l),r.stateNode=l):r.memoizedState=w_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ki(r),n===null&&yt&&(l=r.stateNode=b_(r.type,r.pendingProps,On.current),Kn=r,fr=!0,Rn=Hi(l.firstChild)),l=r.pendingProps.children,n!==null||yt?xn(n,r,l,a):r.child=wa(r,null,l,a),Hl(n,r),r.child;case 5:return n===null&&yt&&((d=l=Rn)&&(l=pw(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,Kn=r,Rn=Hi(l.firstChild),fr=!1,d=!0):d=!1),d||Aa(r)),ki(r),d=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,Am(d,m)?l=null:E!==null&&Am(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=df(n,r,OA,null,null,a),lu._currentValue=d),Hl(n,r),xn(n,r,l,a),r.child;case 6:return n===null&&yt&&((n=a=Rn)&&(a=gw(a,r.pendingProps,fr),a!==null?(r.stateNode=a,Kn=r,Rn=null,n=!0):n=!1),n||Aa(r)),null;case 13:return _v(n,r,a);case 4:return fi(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=wa(r,null,l,a):xn(n,r,l,a),r.child;case 11:return hv(n,r,r.type,r.pendingProps,a);case 7:return xn(n,r,r.pendingProps,a),r.child;case 8:return xn(n,r,r.pendingProps.children,a),r.child;case 12:return xn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ss(r,r.type,l.value),xn(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Oa(r),d=Pn(d),l=l(d),r.flags|=1,xn(n,r,l,a),r.child;case 14:return dv(n,r,r.type,r.pendingProps,a);case 15:return fv(n,r,r.type,r.pendingProps,a);case 19:return Tv(n,r,a);case 22:return mv(n,r,a);case 24:return Oa(r),l=Pn(un),n===null?(d=cf(),d===null&&(d=Ot,m=lf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),r.memoizedState={parent:l,cache:d},Ff(r),Ss(r,un,d)):(n.lanes&a&&(Hf(n,r),$l(r,null,null,a),Kl()),d=n.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ss(r,un,l)):(l=m.cache,Ss(r,un,l),l!==d.cache&&Bf(r,[un],a,!0))),xn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Uf=rt(null),Na=null,qr=null;function Ss(n,r,a){He(Uf,r._currentValue),r._currentValue=a}function Gr(n){n._currentValue=Uf.current,wt(Uf)}function zf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Bf(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var E=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),zf(m.return,a,n),l||(E=null);break e}m=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),zf(E,a,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function ql(n,r,a,l){n=null;for(var d=r,m=!1;d!==null;){if(!m){if(d.flags&524288)m=!0;else if(d.flags&262144)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;si(d.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(d===sn.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(lu):n=[lu])}d=d.return}n!==null&&Bf(r,n,a,l),r.flags|=262144}function Yc(n){for(n=n.firstContext;n!==null;){if(!si(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Oa(n){Na=n,qr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Pn(n){return Sv(Na,n)}function Xc(n,r){return Na===null&&Oa(n),Sv(n,r)}function Sv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},qr===null){if(n===null)throw Error(s(308));qr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else qr=qr.next=r;return a}var As=!1;function Ff(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ws(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rs(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,Bt&2){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Dc(n),ry(n,null,a),r}return Ic(n,l,r,a),Dc(n)}function Gl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ie(n,a)}}function qf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Gf=!1;function Kl(){if(Gf){var n=Ao;if(n!==null)throw n}}function $l(n,r,a,l){Gf=!1;var d=n.updateQueue;As=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,F=D.next;D.next=null,E===null?m=F:E.next=F,E=D;var re=n.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==E&&(S===null?re.firstBaseUpdate=F:S.next=F,re.lastBaseUpdate=D))}if(m!==null){var de=d.baseState;E=0,re=F=D=null,S=m;do{var J=S.lane&-536870913,ie=J!==S.lane;if(ie?(mt&J)===J:(l&J)===J){J!==0&&J===So&&(Gf=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=n,$e=S;J=r;var $t=a;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){de=Me.call($t,de,J);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,J=typeof Me=="function"?Me.call($t,de,J):Me,J==null)break e;de=N({},de,J);break e;case 2:As=!0}}J=S.callback,J!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=d.callbacks,ie===null?d.callbacks=[J]:ie.push(J))}else ie={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(F=re=ie,D=de):re=re.next=ie,E|=J;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;ie=S,S=ie.next,ie.next=null,d.lastBaseUpdate=ie,d.shared.pending=null}}while(!0);re===null&&(D=de),d.baseState=D,d.firstBaseUpdate=F,d.lastBaseUpdate=re,m===null&&(d.shared.lanes=0),Ns|=E,n.lanes=E,n.memoizedState=de}}function Av(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function wv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Av(a[n],r)}function Ql(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==d)}}catch(S){It(r,r.return,S)}}function xs(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=r;var D=a;try{S()}catch(F){It(d,D,F)}}}l=l.next}while(l!==m)}}catch(F){It(r,r.return,F)}}function Rv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{wv(r,a)}catch(l){It(n,n.return,l)}}}function xv(n,r,a){a.props=Da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){It(n,r,l)}}function Ma(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=l;break;default:d=l}typeof a=="function"?n.refCleanup=a(d):a.current=d}}catch(m){It(n,r,m)}}function ai(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){It(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){It(n,r,d)}else a.current=null}function Cv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){It(n,n.return,d)}}function Iv(n,r,a){try{var l=n.stateNode;cw(l,n.type,a,r),l[Pe]=r}catch(d){It(n,n.return,d)}}function Dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Kf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $f(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ch));else if(l!==4&&l!==27&&(n=n.child,n!==null))for($f(n,r,a),n=n.sibling;n!==null;)$f(n,r,a),n=n.sibling}function Wc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Wc(n,r,a),n=n.sibling;n!==null;)Wc(n,r,a),n=n.sibling}var Kr=!1,Gt=!1,Qf=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,_n=null,Ov=!1;function zA(n,r){if(n=n.containerInfo,bm=yh,n=Yg(n),Yd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,F=0,re=0,de=n,J=null;t:for(;;){for(var ie;de!==a||d!==0&&de.nodeType!==3||(S=E+d),de!==m||l!==0&&de.nodeType!==3||(D=E+l),de.nodeType===3&&(E+=de.nodeValue.length),(ie=de.firstChild)!==null;)J=de,de=ie;for(;;){if(de===n)break t;if(J===a&&++F===d&&(S=E),J===m&&++re===l&&(D=E),(ie=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=ie}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:n,selectionRange:a},yh=!1,_n=r;_n!==null;)if(r=_n,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,_n=n;else for(;_n!==null;){switch(r=_n,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&m!==null){n=void 0,a=r,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Me=Da(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Me,m),l.__reactInternalSnapshotBeforeUpdate=n}catch($e){It(a,a.return,$e)}}break;case 3:if(n&1024){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)xm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,_n=n;break}_n=r.return}return Me=Ov,Ov=!1,Me}function Mv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(n,a),l&4&&Ql(5,a);break;case 1:if(Qr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){It(a,a.return,S)}else{var d=Da(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){It(a,a.return,S)}}l&64&&Rv(a),l&512&&Ma(a,a.return);break;case 3:if(Qr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{wv(l,n)}catch(S){It(a,a.return,S)}}break;case 26:Qr(n,a),l&512&&Ma(a,a.return);break;case 27:case 5:Qr(n,a),r===null&&l&4&&Cv(a),l&512&&Ma(a,a.return);break;case 12:Qr(n,a);break;case 13:Qr(n,a),l&4&&kv(n,a);break;case 22:if(d=a.memoizedState!==null||Kr,!d){r=r!==null&&r.memoizedState!==null||Gt;var m=Kr,E=Gt;Kr=d,(Gt=r)&&!E?Cs(n,a,(a.subtreeFlags&8772)!==0):Qr(n,a),Kr=m,Gt=E}l&512&&(a.memoizedProps.mode==="manual"?Ma(a,a.return):ai(a,a.return));break;default:Qr(n,a)}}function Pv(n){var r=n.alternate;r!==null&&(n.alternate=null,Pv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ri(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tn=null,oi=!1;function $r(n,r,a){for(a=a.child;a!==null;)Vv(n,r,a),a=a.sibling}function Vv(n,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Gt||ai(a,r),$r(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||ai(a,r);var l=tn,d=oi;for(tn=a.stateNode,$r(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ri(a),tn=l,oi=d;break;case 5:Gt||ai(a,r);case 6:d=tn;var m=oi;if(tn=null,$r(n,r,a),tn=d,oi=m,tn!==null)if(oi)try{n=tn,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(E){It(a,r,E)}else try{tn.removeChild(a.stateNode)}catch(E){It(a,r,E)}break;case 18:tn!==null&&(oi?(r=tn,a=a.stateNode,r.nodeType===8?Rm(r.parentNode,a):r.nodeType===1&&Rm(r,a),du(r)):Rm(tn,a.stateNode));break;case 4:l=tn,d=oi,tn=a.stateNode.containerInfo,oi=!0,$r(n,r,a),tn=l,oi=d;break;case 0:case 11:case 14:case 15:Gt||xs(2,a,r),Gt||xs(4,a,r),$r(n,r,a);break;case 1:Gt||(ai(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xv(a,r,l)),$r(n,r,a);break;case 21:$r(n,r,a);break;case 22:Gt||ai(a,r),Gt=(l=Gt)||a.memoizedState!==null,$r(n,r,a),Gt=l;break;default:$r(n,r,a)}}function kv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{du(n)}catch(a){It(r,r.return,a)}}function BA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Nv),r;default:throw Error(s(435,n.tag))}}function Yf(n,r){var a=BA(n);r.forEach(function(l){var d=ew.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function xi(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=n,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:case 5:tn=S.stateNode,oi=!1;break e;case 3:tn=S.stateNode.containerInfo,oi=!0;break e;case 4:tn=S.stateNode.containerInfo,oi=!0;break e}S=S.return}if(tn===null)throw Error(s(160));Vv(m,E,d),tn=null,oi=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)jv(r,n),r=r.sibling}var Fi=null;function jv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xi(r,n),Ci(n),l&4&&(xs(3,n,n.return),Ql(3,n),xs(5,n,n.return));break;case 1:xi(r,n),Ci(n),l&512&&(Gt||a===null||ai(a,a.return)),l&64&&Kr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Fi;if(xi(r,n),Ci(n),l&512&&(Gt||a===null||ai(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Hn]||m[Ne]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Cn(m,l,a),m[Ne]=n,_t(m),l=m;break e;case"link":var E=C_("link","href",d).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=d.createElement(l),Cn(m,l,a),d.head.appendChild(m);break;case"meta":if(E=C_("meta","content",d).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=d.createElement(l),Cn(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ne]=n,_t(m),l=m}n.stateNode=l}else I_(d,n.type,n.stateNode);else n.stateNode=x_(d,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?I_(d,n.type,n.stateNode):x_(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Iv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){d=n.stateNode,m=n.memoizedProps;try{for(var D=d.firstChild;D;){var F=D.nextSibling,re=D.nodeName;D[Hn]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=F}for(var de=n.type,J=d.attributes;J.length;)d.removeAttributeNode(J[0]);Cn(d,de,m),d[Ne]=n,d[Pe]=m}catch(Me){It(n,n.return,Me)}}case 5:if(xi(r,n),Ci(n),l&512&&(Gt||a===null||ai(a,a.return)),n.flags&32){d=n.stateNode;try{vi(d,"")}catch(Me){It(n,n.return,Me)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Iv(n,d,a!==null?a.memoizedProps:d)),l&1024&&(Qf=!0);break;case 6:if(xi(r,n),Ci(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Me){It(n,n.return,Me)}}break;case 3:if(mh=null,d=Fi,Fi=dh(r.containerInfo),xi(r,n),Fi=d,Ci(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{du(r.containerInfo)}catch(Me){It(n,n.return,Me)}Qf&&(Qf=!1,Lv(n));break;case 4:l=Fi,Fi=dh(n.stateNode.containerInfo),xi(r,n),Ci(n),Fi=l;break;case 12:xi(r,n),Ci(n);break;case 13:xi(r,n),Ci(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rm=te()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yf(n,l)));break;case 22:if(l&512&&(Gt||a===null||ai(a,a.return)),D=n.memoizedState!==null,F=a!==null&&a.memoizedState!==null,re=Kr,de=Gt,Kr=re||D,Gt=de||F,xi(r,n),Gt=de,Kr=re,Ci(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=Kr||Gt,a===null||F||r||Co(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){F=a=r;try{if(d=F.stateNode,D)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=F.stateNode,S=F.memoizedProps.style;var ie=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Me){It(F,F.return,Me)}}}else if(r.tag===6){if(a===null){F=r;try{F.stateNode.nodeValue=D?"":F.memoizedProps}catch(Me){It(F,F.return,Me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(n,a))));break;case 19:xi(r,n),Ci(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yf(n,l)));break;case 21:break;default:xi(r,n),Ci(n)}}function Ci(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Dv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var d=l.stateNode,m=Kf(n);Wc(n,m,d);break;case 5:var E=l.stateNode;l.flags&32&&(vi(E,""),l.flags&=-33);var S=Kf(n);Wc(n,S,E);break;case 3:case 4:var D=l.stateNode.containerInfo,F=Kf(n);$f(n,F,D);break;default:throw Error(s(161))}}}catch(re){It(n,n.return,re)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Lv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Qr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Mv(n,r.alternate,r),r=r.sibling}function Co(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:xs(4,r,r.return),Co(r);break;case 1:ai(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&xv(r,r.return,a),Co(r);break;case 26:case 27:case 5:ai(r,r.return),Co(r);break;case 22:ai(r,r.return),r.memoizedState===null&&Co(r);break;default:Co(r)}n=n.sibling}}function Cs(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Cs(d,m,a),Ql(4,m);break;case 1:if(Cs(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){It(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Av(D[d],S)}catch(F){It(l,l.return,F)}}a&&E&64&&Rv(m),Ma(m,m.return);break;case 26:case 27:case 5:Cs(d,m,a),a&&l===null&&E&4&&Cv(m),Ma(m,m.return);break;case 12:Cs(d,m,a);break;case 13:Cs(d,m,a),a&&E&4&&kv(d,m);break;case 22:m.memoizedState===null&&Cs(d,m,a),Ma(m,m.return);break;default:Cs(d,m,a)}r=r.sibling}}function Xf(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ll(a))}function Wf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ll(n))}function Is(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uv(n,r,a,l),r=r.sibling}function Uv(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Is(n,r,a,l),d&2048&&Ql(9,r);break;case 3:Is(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ll(n)));break;case 12:if(d&2048){Is(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){It(r,r.return,D)}}else Is(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Is(n,r,a,l):Yl(n,r):m._visibility&4?Is(n,r,a,l):(m._visibility|=4,Io(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&Xf(r.alternate,r);break;case 24:Is(n,r,a,l),d&2048&&Wf(r.alternate,r);break;default:Is(n,r,a,l)}}function Io(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,S=a,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Io(m,E,S,D,d),Ql(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&4?Io(m,E,S,D,d):Yl(m,E):(re._visibility|=4,Io(m,E,S,D,d)),d&&F&2048&&Xf(E.alternate,E);break;case 24:Io(m,E,S,D,d),d&&F&2048&&Wf(E.alternate,E);break;default:Io(m,E,S,D,d)}r=r.sibling}}function Yl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:Yl(a,l),d&2048&&Xf(l.alternate,l);break;case 24:Yl(a,l),d&2048&&Wf(l.alternate,l);break;default:Yl(a,l)}r=r.sibling}}var Xl=8192;function Do(n){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 26:Do(n),n.flags&Xl&&n.memoizedState!==null&&Iw(Fi,n.memoizedState,n.memoizedProps);break;case 5:Do(n);break;case 3:case 4:var r=Fi;Fi=dh(n.stateNode.containerInfo),Do(n),Fi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Xl,Xl=16777216,Do(n),Xl=r):Do(n));break;default:Do(n)}}function Bv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Wl(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,Hv(l,n)}Bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&xs(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Zc(n)):Wl(n);break;default:Wl(n)}}function Zc(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,Hv(l,n)}Bv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:xs(8,r,r.return),Zc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Zc(r));break;default:Zc(r)}n=n.sibling}}function Hv(n,r){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:xs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,_n=l;else e:for(a=n;_n!==null;){l=_n;var d=l.sibling,m=l.return;if(Pv(l),l===a){_n=null;break e}if(d!==null){d.return=m,_n=d;break e}_n=m}}}function FA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(n,r,a,l){return new FA(n,r,a,l)}function Zf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ds(n,r){var a=n.alternate;return a===null?(a=Ii(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function qv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Jc(n,r,a,l,d,m){var E=0;if(l=n,typeof n=="function")Zf(n)&&(E=1);else if(typeof n=="string")E=xw(n,a,Dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Pa(a.children,d,m,r);case g:E=8,d|=24;break;case T:return n=Ii(12,a,r,d|2),n.elementType=T,n.lanes=m,n;case X:return n=Ii(13,a,r,d),n.elementType=X,n.lanes=m,n;case H:return n=Ii(19,a,r,d),n.elementType=H,n.lanes=m,n;case ne:return Gv(a,d,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case I:E=10;break e;case w:E=9;break e;case L:E=11;break e;case B:E=14;break e;case q:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Ii(E,a,r,d),r.elementType=n,r.type=l,r.lanes=m,r}function Pa(n,r,a,l){return n=Ii(7,n,l,r),n.lanes=a,n}function Gv(n,r,a,l){n=Ii(22,n,l,r),n.elementType=ne,n.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var E=vs(m,2);E!==null&&(d._pendingVisibility|=2,$n(E,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(s(456));if(d._pendingVisibility&2){var E=vs(m,2);E!==null&&(d._pendingVisibility&=-3,$n(E,m,2))}}};return n.stateNode=d,n}function Jf(n,r,a){return n=Ii(6,n,null,r),n.lanes=a,n}function em(n,r,a){return r=Ii(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Yr(n){n.flags|=4}function Kv(n,r){if(r.type!=="stylesheet"||r.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!D_(r)){if(r=Ri.current,r!==null&&((mt&4194176)===mt?mr!==null:(mt&62914560)!==mt&&!(mt&536870912)||r!==mr))throw Vl=sf,uy;n.flags|=8192}}function eh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?k():536870912,n.lanes|=r,Oo|=r)}function Zl(n,r){if(!yt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function zt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&31457280,l|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function HA(n,r,a){var l=r.pendingProps;switch(nf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(r),null;case 1:return zt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gr(un),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Nl(r)?Yr(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Bi!==null&&(lm(Bi),Bi=null))),zt(r),null;case 26:return a=r.memoizedState,n===null?(Yr(r),a!==null?(zt(r),Kv(r,a)):(zt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Yr(r),zt(r),Kv(r,a)):(zt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Yr(r),zt(r),r.flags&=-16777217),null;case 27:er(r),a=On.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return zt(r),null}n=Dt.current,Nl(r)?oy(r):(n=b_(d,l,a),r.stateNode=n,Yr(r))}return zt(r),null;case 5:if(er(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return zt(r),null}if(n=Dt.current,Nl(r))oy(r);else{switch(d=hh(On.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Ne]=r,n[Pe]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(Cn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yr(r)}}return zt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=On.current,Nl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=Kn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Ne]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(n.nodeValue,a)),n||Aa(r)}else n=hh(n).createTextNode(l),n[Ne]=r,r.stateNode=n}return zt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Nl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ne]=r}else Ol(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;zt(r),d=!1}else Bi!==null&&(lm(Bi),Bi=null),d=!0;if(!d)return r.flags&256?(Br(r),r):(Br(r),null)}if(Br(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),eh(r,r.updateQueue),zt(r),null;case 4:return Xn(),n===null&&_m(r.stateNode.containerInfo),zt(r),null;case 10:return Gr(r.type),zt(r),null;case 19:if(wt(ln),d=r.memoizedState,d===null)return zt(r),null;if(l=(r.flags&128)!==0,m=d.rendering,m===null)if(l)Zl(d,!1);else{if(Kt!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(m=jc(n),m!==null){for(r.flags|=128,Zl(d,!1),n=m.updateQueue,r.updateQueue=n,eh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)qv(a,n),a=a.sibling;return He(ln,ln.current&1|2),r.child}n=n.sibling}d.tail!==null&&te()>th&&(r.flags|=128,l=!0,Zl(d,!1),r.lanes=4194304)}else{if(!l)if(n=jc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,eh(r,n),Zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!yt)return zt(r),null}else 2*te()-d.renderingStartTime>th&&a!==536870912&&(r.flags|=128,l=!0,Zl(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(n=d.last,n!==null?n.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=te(),r.sibling=null,n=ln.current,He(ln,l?n&1|2:n&1),r):(zt(r),null);case 22:case 23:return Br(r),of(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(zt(r),r.subtreeFlags&6&&(r.flags|=8192)):zt(r),a=r.updateQueue,a!==null&&eh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&wt(Ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gr(un),zt(r),null;case 25:return null}throw Error(s(156,r.tag))}function qA(n,r){switch(nf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gr(un),Xn(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return er(r),null;case 13:if(Br(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ol()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return wt(ln),null;case 4:return Xn(),null;case 10:return Gr(r.type),null;case 22:case 23:return Br(r),of(),n!==null&&wt(Ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gr(un),null;case 25:return null;default:return null}}function $v(n,r){switch(nf(r),r.tag){case 3:Gr(un),Xn();break;case 26:case 27:case 5:er(r);break;case 4:Xn();break;case 13:Br(r);break;case 19:wt(ln);break;case 10:Gr(r.type);break;case 22:case 23:Br(r),of(),n!==null&&wt(Ra);break;case 24:Gr(un)}}var GA={getCacheForType:function(n){var r=Pn(un),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},KA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Ot=null,it=null,mt=0,Mt=0,li=null,Xr=!1,No=!1,tm=!1,Wr=0,Kt=0,Ns=0,Va=0,nm=0,Di=0,Oo=0,Jl=null,gr=null,im=!1,rm=0,th=1/0,nh=null,Os=null,ih=!1,ka=null,eu=0,sm=0,am=null,tu=0,om=null;function ui(){if(Bt&2&&mt!==0)return mt&-mt;if(R.T!==null){var n=So;return n!==0?n:pm()}return Re()}function Qv(){Di===0&&(Di=!(mt&536870912)||yt?la():536870912);var n=Ri.current;return n!==null&&(n.flags|=32),Di}function $n(n,r,a){(n===Ot&&Mt===2||n.cancelPendingCommit!==null)&&(Mo(n,0),Zr(n,mt,Di,!1)),Q(n,a),(!(Bt&2)||n!==Ot)&&(n===Ot&&(!(Bt&2)&&(Va|=a),Kt===4&&Zr(n,mt,Di,!1)),yr(n))}function Yv(n,r,a){if(Bt&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||ii(n,r),d=l?YA(n,r):hm(n,r,!0),m=l;do{if(d===0){No&&!l&&Zr(n,r,0,!1);break}else if(d===6)Zr(n,r,0,!Xr);else{if(a=n.current.alternate,m&&!$A(a)){d=hm(n,r,!1),m=!1;continue}if(d===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=n;d=Jl;var D=S.current.memoizedState.isDehydrated;if(D&&(Mo(S,E).flags|=256),E=hm(S,E,!1),E!==2){if(tm&&!D){S.errorRecoveryDisabledLanes|=m,Va|=m,d=4;break e}m=gr,gr=d,m!==null&&lm(m)}d=E}if(m=!1,d!==2)continue}}if(d===1){Mo(n,0),Zr(n,r,0,!0);break}e:{switch(l=n,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Zr(l,r,Di,!Xr);break e}break;case 2:gr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=rm+300-te(),10<m)){if(Zr(l,r,Di,!Xr),An(l,0)!==0)break e;l.timeoutHandle=__(Xv.bind(null,l,a,gr,nh,im,r,Di,Va,Oo,Xr,2,-0,0),m);break e}Xv(l,a,gr,nh,im,r,Di,Va,Oo,Xr,0,-0,0)}}break}while(!0);yr(n)}function lm(n){gr===null?gr=n:gr.push.apply(gr,n)}function Xv(n,r,a,l,d,m,E,S,D,F,re,de,J){var ie=r.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:Cw},zv(r),r=Dw(),r!==null)){n.cancelPendingCommit=r(i_.bind(null,n,a,l,d,E,S,D,1,de,J)),Zr(n,m,E,!F);return}i_(n,a,l,d,E,S,D,re,de,J)}function $A(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!si(m(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r,a,l){r&=~nm,r&=~Va,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var m=31-Ht(d),E=1<<m;l[m]=-1,d&=~E}a!==0&&Te(n,a,r)}function rh(){return Bt&6?!0:(nu(0),!1)}function um(){if(it!==null){if(Mt===0)var n=it.return;else n=it,qr=Na=null,pf(n),To=null,kl=0,n=it;for(;n!==null;)$v(n.alternate,n),n=n.return;it=null}}function Mo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,dw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),um(),Ot=n,it=a=Ds(n.current,null),mt=r,Mt=0,li=null,Xr=!1,No=ii(n,r),tm=!1,Oo=Di=nm=Va=Ns=Kt=0,gr=Jl=null,im=!1,r&8&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-Ht(l),m=1<<d;r|=n[d],l&=~m}return Wr=r,Cc(),a}function Wv(n,r){tt=null,R.H=pr,r===Pl?(r=dy(),Mt=3):r===uy?(r=dy(),Mt=4):Mt=r===cv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,li=r,it===null&&(Kt=1,Qc(n,Si(r,n.current)))}function Zv(){var n=R.H;return R.H=pr,n===null?pr:n}function Jv(){var n=R.A;return R.A=GA,n}function cm(){Kt=4,Xr||(mt&4194176)!==mt&&Ri.current!==null||(No=!0),!(Ns&134217727)&&!(Va&134217727)||Ot===null||Zr(Ot,mt,Di,!1)}function hm(n,r,a){var l=Bt;Bt|=2;var d=Zv(),m=Jv();(Ot!==n||mt!==r)&&(nh=null,Mo(n,r)),r=!1;var E=Kt;e:do try{if(Mt!==0&&it!==null){var S=it,D=li;switch(Mt){case 8:um(),E=6;break e;case 3:case 2:case 6:Ri.current===null&&(r=!0);var F=Mt;if(Mt=0,li=null,Po(n,S,D,F),a&&No){E=0;break e}break;default:F=Mt,Mt=0,li=null,Po(n,S,D,F)}}QA(),E=Kt;break}catch(re){Wv(n,re)}while(!0);return r&&n.shellSuspendCounter++,qr=Na=null,Bt=l,R.H=d,R.A=m,it===null&&(Ot=null,mt=0,Cc()),E}function QA(){for(;it!==null;)e_(it)}function YA(n,r){var a=Bt;Bt|=2;var l=Zv(),d=Jv();Ot!==n||mt!==r?(nh=null,th=te()+500,Mo(n,r)):No=ii(n,r);e:do try{if(Mt!==0&&it!==null){r=it;var m=li;t:switch(Mt){case 1:Mt=0,li=null,Po(n,r,m,1);break;case 2:if(cy(m)){Mt=0,li=null,t_(r);break}r=function(){Mt===2&&Ot===n&&(Mt=7),yr(n)},m.then(r,r);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:cy(m)?(Mt=0,li=null,t_(r)):(Mt=0,li=null,Po(n,r,m,7));break;case 5:var E=null;switch(it.tag){case 26:E=it.memoizedState;case 5:case 27:var S=it;if(!E||D_(E)){Mt=0,li=null;var D=S.sibling;if(D!==null)it=D;else{var F=S.return;F!==null?(it=F,sh(F)):it=null}break t}}Mt=0,li=null,Po(n,r,m,5);break;case 6:Mt=0,li=null,Po(n,r,m,6);break;case 8:um(),Kt=6;break e;default:throw Error(s(462))}}XA();break}catch(re){Wv(n,re)}while(!0);return qr=Na=null,R.H=l,R.A=d,Bt=a,it!==null?0:(Ot=null,mt=0,Cc(),Kt)}function XA(){for(;it!==null&&!M();)e_(it)}function e_(n){var r=bv(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,r===null?sh(n):it=r}function t_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=gv(a,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=gv(a,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:pf(r);default:$v(a,r),r=it=qv(r,Wr),r=bv(a,r,Wr)}n.memoizedProps=n.pendingProps,r===null?sh(n):it=r}function Po(n,r,a,l){qr=Na=null,pf(r),To=null,kl=0;var d=r.return;try{if(LA(n,d,r,a,mt)){Kt=1,Qc(n,Si(a,n.current)),it=null;return}}catch(m){if(d!==null)throw it=d,m;Kt=1,Qc(n,Si(a,n.current)),it=null;return}r.flags&32768?(yt||l===1?n=!0:No||mt&536870912?n=!1:(Xr=n=!0,(l===2||l===3||l===6)&&(l=Ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),n_(r,n)):sh(r)}function sh(n){var r=n;do{if(r.flags&32768){n_(r,Xr);return}n=r.return;var a=HA(r.alternate,r,Wr);if(a!==null){it=a;return}if(r=r.sibling,r!==null){it=r;return}it=r=n}while(r!==null);Kt===0&&(Kt=5)}function n_(n,r){do{var a=qA(n.alternate,n);if(a!==null){a.flags&=32767,it=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){it=n;return}it=n=a}while(n!==null);Kt=6,it=null}function i_(n,r,a,l,d,m,E,S,D,F){var re=R.T,de=_e.p;try{_e.p=2,R.T=null,WA(n,r,a,l,de,d,m,E,S,D,F)}finally{R.T=re,_e.p=de}}function WA(n,r,a,l,d,m,E,S){do Vo();while(ka!==null);if(Bt&6)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var F=D.lanes|D.childLanes;if(F|=Jd,fe(n,l,F,m,E,S),n===Ot&&(it=Ot=null,mt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||ih||(ih=!0,sm=F,am=a,tw(be,function(){return Vo(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=R.T,R.T=null,m=_e.p,_e.p=2,E=Bt,Bt|=4,zA(n,D),jv(D,n),TA(Sm,n.containerInfo),yh=!!bm,Sm=bm=null,n.current=D,Mv(n,D.alternate,D),W(),Bt=E,_e.p=m,R.T=a):n.current=D,ih?(ih=!1,ka=n,eu=l):r_(n,F),F=n.pendingLanes,F===0&&(Os=null),Dr(D.stateNode),yr(n),r!==null)for(d=n.onRecoverableError,D=0;D<r.length;D++)F=r[D],d(F.value,{componentStack:F.stack});return eu&3&&Vo(),F=n.pendingLanes,l&4194218&&F&42?n===om?tu++:(tu=0,om=n):tu=0,nu(0),null}function r_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ll(r)))}function Vo(){if(ka!==null){var n=ka,r=sm;sm=0;var a=Ue(eu),l=R.T,d=_e.p;try{if(_e.p=32>a?32:a,R.T=null,ka===null)var m=!1;else{a=am,am=null;var E=ka,S=eu;if(ka=null,eu=0,Bt&6)throw Error(s(331));var D=Bt;if(Bt|=4,Fv(E.current),Uv(E,E.current,S,a),Bt=D,nu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Fn,E)}catch{}m=!0}return m}finally{_e.p=d,R.T=l,r_(n,r)}}return!1}function s_(n,r,a){r=Si(a,r),r=If(n.stateNode,r,2),n=Rs(n,r,2),n!==null&&(Q(n,2),yr(n))}function It(n,r,a){if(n.tag===3)s_(n,n,a);else for(;r!==null;){if(r.tag===3){s_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){n=Si(a,n),a=lv(2),l=Rs(r,a,2),l!==null&&(uv(a,l,r,n),Q(l,2),yr(l));break}}r=r.return}}function dm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new KA;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(tm=!0,d.add(a),n=ZA.bind(null,n,r,a),r.then(n,n))}function ZA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ot===n&&(mt&a)===a&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>te()-rm?!(Bt&2)&&Mo(n,0):nm|=a,Oo===mt&&(Oo=0)),yr(n)}function a_(n,r){r===0&&(r=k()),n=vs(n,r),n!==null&&(Q(n,r),yr(n))}function JA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),a_(n,a)}function ew(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),a_(n,a)}function tw(n,r){return nr(n,r)}var ah=null,ko=null,fm=!1,oh=!1,mm=!1,ja=0;function yr(n){n!==ko&&n.next===null&&(ko===null?ah=ko=n:ko=ko.next=n),oh=!0,fm||(fm=!0,iw(nw))}function nu(n,r){if(!mm&&oh){mm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var E=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Ht(42|n)+1)-1,m&=d&~(E&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,u_(l,m))}else m=mt,m=An(l,l===Ot?m:0),!(m&3)||ii(l,m)||(a=!0,u_(l,m));l=l.next}while(a);mm=!1}}function nw(){oh=fm=!1;var n=0;ja!==0&&(hw()&&(n=ja),ja=0);for(var r=te(),a=null,l=ah;l!==null;){var d=l.next,m=o_(l,r);m===0?(l.next=null,a===null?ah=d:a.next=d,d===null&&(ko=a)):(a=l,(n!==0||m&3)&&(oh=!0)),l=d}nu(n)}function o_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Ht(m),S=1<<E,D=d[E];D===-1?(!(S&a)||S&l)&&(d[E]=fs(S,r)):D<=r&&(n.expiredLanes|=S),m&=~S}if(r=Ot,a=mt,a=An(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&Mt===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ji(l),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||ii(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ji(l),Ue(a)){case 2:case 8:a=se;break;case 32:a=be;break;case 268435456:a=Rt;break;default:a=be}return l=l_.bind(null,n),a=nr(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ji(l),n.callbackPriority=2,n.callbackNode=null,2}function l_(n,r){var a=n.callbackNode;if(Vo()&&n.callbackNode!==a)return null;var l=mt;return l=An(n,n===Ot?l:0),l===0?null:(Yv(n,l,r),o_(n,te()),n.callbackNode!=null&&n.callbackNode===a?l_.bind(null,n):null)}function u_(n,r){if(Vo())return null;Yv(n,r,!0)}function iw(n){fw(function(){Bt&6?nr(he,n):n()})}function pm(){return ja===0&&(ja=la()),ja}function c_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ar(""+n)}function h_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function rw(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var m=c_((d[Pe]||null).action),E=l.submitter;E&&(r=(r=E[Pe]||null)?c_(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var S=new ao("action","action",null,l,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var D=E?h_(d,E):new FormData(d);Af(a,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=E?h_(d,E):new FormData(d),Af(a,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var gm=0;gm<iy.length;gm++){var ym=iy[gm],sw=ym.toLowerCase(),aw=ym[0].toUpperCase()+ym.slice(1);zi(sw,"on"+aw)}zi(Zg,"onAnimationEnd"),zi(Jg,"onAnimationIteration"),zi(ey,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(SA,"onTransitionRun"),zi(AA,"onTransitionStart"),zi(wA,"onTransitionCancel"),zi(ty,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function d_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,F=S.currentTarget;if(S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=F;try{m(d)}catch(re){$c(re)}d.currentTarget=null,m=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,F=S.currentTarget,S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=F;try{m(d)}catch(re){$c(re)}d.currentTarget=null,m=D}}}}function ut(n,r){var a=r[Vt];a===void 0&&(a=r[Vt]=new Set);var l=n+"__bubble";a.has(l)||(f_(r,n,2,!1),a.add(l))}function vm(n,r,a){var l=0;r&&(l|=4),f_(a,n,l,r)}var lh="_reactListening"+Math.random().toString(36).slice(2);function _m(n){if(!n[lh]){n[lh]=!0,rr.forEach(function(a){a!=="selectionchange"&&(ow.has(a)||vm(a,!1,n),vm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[lh]||(r[lh]=!0,vm("selectionchange",!1,r))}}function f_(n,r,a,l){switch(k_(r)){case 2:var d=Mw;break;case 8:d=Pw;break;default:d=Om}a=d.bind(null,r,a,n),d=void 0,!Ei||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Em(n,r,a,l,d){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;E=E.return}for(;S!==null;){if(E=Qt(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=m=E;continue e}S=S.parentNode}}l=l.return}fc(function(){var F=m,re=so(a),de=[];e:{var J=ny.get(n);if(J!==void 0){var ie=ao,Me=n;switch(n){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":ie=fo;break;case"focusin":Me="focus",ie=uo;break;case"focusout":Me="blur",ie=uo;break;case"beforeblur":case"afterblur":ie=uo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Tc;break;case Zg:case Jg:case ey:ie=co;break;case ty:ie=Sc;break;case"scroll":case"scrollend":ie=mc;break;case"wheel":ie=mo;break;case"copy":case"cut":case"paste":ie=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=xl;break;case"toggle":case"beforetoggle":ie=wc}var $e=(r&4)!==0,$t=!$e&&(n==="scroll"||n==="scrollend"),K=$e?J!==null?J+"Capture":null:J;$e=[];for(var U=F,Y;U!==null;){var oe=U;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||K===null||(oe=fa(U,K),oe!=null&&$e.push(ru(U,oe,Y))),$t)break;U=U.return}0<$e.length&&(J=new ie(J,Me,null,a,re),de.push({event:J,listeners:$e}))}}if(!(r&7)){e:{if(J=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",J&&a!==_i&&(Me=a.relatedTarget||a.fromElement)&&(Qt(Me)||Me[ht]))break e;if((ie||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(Me=a.relatedTarget||a.toElement,ie=F,Me=Me?Qt(Me):null,Me!==null&&($t=Se(Me),$e=Me.tag,Me!==$t||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(ie=null,Me=F),ie!==Me)){if($e=Ti,oe="onMouseLeave",K="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&($e=xl,oe="onPointerLeave",K="onPointerEnter",U="pointer"),$t=ie==null?J:pi(ie),Y=Me==null?J:pi(Me),J=new $e(oe,U+"leave",ie,a,re),J.target=$t,J.relatedTarget=Y,oe=null,Qt(re)===F&&($e=new $e(K,U+"enter",Me,a,re),$e.target=Y,$e.relatedTarget=$t,oe=$e),$t=oe,ie&&Me)t:{for($e=ie,K=Me,U=0,Y=$e;Y;Y=jo(Y))U++;for(Y=0,oe=K;oe;oe=jo(oe))Y++;for(;0<U-Y;)$e=jo($e),U--;for(;0<Y-U;)K=jo(K),Y--;for(;U--;){if($e===K||K!==null&&$e===K.alternate)break t;$e=jo($e),K=jo(K)}$e=null}else $e=null;ie!==null&&m_(de,J,ie,$e,!1),Me!==null&&$t!==null&&m_(de,$t,Me,$e,!0)}}e:{if(J=F?pi(F):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var De=Bg;else if(on(J))if(Fg)De=_A;else{De=yA;var nt=gA}else ie=J.nodeName,!ie||ie.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?F&&El(F.elementType)&&(De=Bg):De=vA;if(De&&(De=De(n,F))){Lr(de,De,a,re);break e}nt&&nt(n,J,F),n==="focusout"&&F&&J.type==="number"&&F.memoizedProps.value!=null&&ro(J,"number",J.value)}switch(nt=F?pi(F):window,n){case"focusin":(on(nt)||nt.contentEditable==="true")&&(po=nt,Xd=F,Dl=null);break;case"focusout":Dl=Xd=po=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Xg(de,a,re);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":Xg(de,a,re)}var Ve;if(hr)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else dt?ee(n,a)&&(ze="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(_&&a.locale!=="ko"&&(dt||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&dt&&(Ve=bl()):(or=re,ys="value"in or?or.value:or.textContent,dt=!0)),nt=uh(F,ze),0<nt.length&&(ze=new wl(ze,n,null,a,re),de.push({event:ze,listeners:nt}),Ve?ze.data=Ve:(Ve=ge(a),Ve!==null&&(ze.data=Ve)))),(Ve=v?an(n,a):ft(n,a))&&(ze=uh(F,"onBeforeInput"),0<ze.length&&(nt=new wl("onBeforeInput","beforeinput",null,a,re),de.push({event:nt,listeners:ze}),nt.data=Ve)),rw(de,n,F,a,re)}d_(de,r)})}function ru(n,r,a){return{instance:n,listener:r,currentTarget:a}}function uh(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=fa(n,a),d!=null&&l.unshift(ru(n,d,m)),d=fa(n,r),d!=null&&l.push(ru(n,d,m))),n=n.return}return l}function jo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function m_(n,r,a,l,d){for(var m=r._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,F=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||F===null||(D=F,d?(F=fa(a,m),F!=null&&E.unshift(ru(a,F,D))):d||(F=fa(a,m),F!=null&&E.push(ru(a,F,D)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var lw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function p_(n){return(typeof n=="string"?n:""+n).replace(lw,`
`).replace(uw,"")}function g_(n,r){return r=p_(r),p_(n)===r}function ch(){}function Ct(n,r,a,l,d,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||vi(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&vi(n,""+l);break;case"className":ms(n,"class",l);break;case"tabIndex":ms(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(n,a,l);break;case"style":dc(n,l,m);break;case"data":if(r!=="object"){ms(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ar(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ct(n,r,"name",d.name,d,null),Ct(n,r,"formEncType",d.formEncType,d,null),Ct(n,r,"formMethod",d.formMethod,d,null),Ct(n,r,"formTarget",d.formTarget,d,null)):(Ct(n,r,"encType",d.encType,d,null),Ct(n,r,"method",d.method,d,null),Ct(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ar(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ch);break;case"onScroll":l!=null&&ut("scroll",n);break;case"onScrollEnd":l!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ar(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ut("beforetoggle",n),ut("toggle",n),sr(n,"popover",l);break;case"xlinkActuate":yi(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yi(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yi(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yi(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yi(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yi(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yi(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hd.get(a)||a,sr(n,a,l))}}function Tm(n,r,a,l,d,m){switch(a){case"style":dc(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?vi(n,l):(typeof l=="number"||typeof l=="bigint")&&vi(n,""+l);break;case"onScroll":l!=null&&ut("scroll",n);break;case"onScrollEnd":l!=null&&ut("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ui.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),m=n[Pe]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):sr(n,a,l)}}}function Cn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ct(n,r,m,E,a,null)}}d&&Ct(n,r,"srcSet",a.srcSet,a,null),l&&Ct(n,r,"src",a.src,a,null);return;case"input":ut("invalid",n);var S=m=E=d=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var re=a[l];if(re!=null)switch(l){case"name":d=re;break;case"type":E=re;break;case"checked":D=re;break;case"defaultChecked":F=re;break;case"value":m=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:Ct(n,r,l,re,a,null)}}ha(n,m,S,D,F,E,d,!1),ca(n);return;case"select":ut("invalid",n),l=E=m=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Ct(n,r,d,S,a,null)}r=m,a=E,n.multiple=!!l,r!=null?gt(n,!!l,r,!1):a!=null&&gt(n,!!l,a,!0);return;case"textarea":ut("invalid",n),m=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ct(n,r,E,S,a,null)}gs(n,l,d,m),ca(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ct(n,r,D,l,a,null)}return;case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(l=0;l<iu.length;l++)ut(iu[l],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ct(n,r,F,l,a,null)}return;default:if(El(r)){for(re in a)a.hasOwnProperty(re)&&(l=a[re],l!==void 0&&Tm(n,r,re,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ct(n,r,S,l,a,null))}function cw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,E=null,S=null,D=null,F=null,re=null;for(ie in a){var de=a[ie];if(a.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=de;default:l.hasOwnProperty(ie)||Ct(n,r,ie,null,l,de)}}for(var J in l){var ie=l[J];if(de=a[J],l.hasOwnProperty(J)&&(ie!=null||de!=null))switch(J){case"type":m=ie;break;case"name":d=ie;break;case"checked":F=ie;break;case"defaultChecked":re=ie;break;case"value":E=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==de&&Ct(n,r,J,ie,l,de)}}ps(n,E,S,D,F,re,m,d);return;case"select":ie=E=S=J=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":ie=D;default:l.hasOwnProperty(m)||Ct(n,r,m,null,l,D)}for(d in l)if(m=l[d],D=a[d],l.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":J=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==D&&Ct(n,r,d,m,l,D)}r=S,a=E,l=ie,J!=null?gt(n,!!a,J,!1):!!l!=!!a&&(r!=null?gt(n,!!a,r,!0):gt(n,!!a,a?[]:"",!1));return;case"textarea":ie=J=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ct(n,r,S,null,l,d)}for(E in l)if(d=l[E],m=a[E],l.hasOwnProperty(E)&&(d!=null||m!=null))switch(E){case"value":J=d;break;case"defaultValue":ie=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ct(n,r,E,d,l,m)}da(n,J,ie);return;case"option":for(var Me in a)if(J=a[Me],a.hasOwnProperty(Me)&&J!=null&&!l.hasOwnProperty(Me))switch(Me){case"selected":n.selected=!1;break;default:Ct(n,r,Me,null,l,J)}for(D in l)if(J=l[D],ie=a[D],l.hasOwnProperty(D)&&J!==ie&&(J!=null||ie!=null))switch(D){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ct(n,r,D,J,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in a)J=a[$e],a.hasOwnProperty($e)&&J!=null&&!l.hasOwnProperty($e)&&Ct(n,r,$e,null,l,J);for(F in l)if(J=l[F],ie=a[F],l.hasOwnProperty(F)&&J!==ie&&(J!=null||ie!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Ct(n,r,F,J,l,ie)}return;default:if(El(r)){for(var $t in a)J=a[$t],a.hasOwnProperty($t)&&J!==void 0&&!l.hasOwnProperty($t)&&Tm(n,r,$t,void 0,l,J);for(re in l)J=l[re],ie=a[re],!l.hasOwnProperty(re)||J===ie||J===void 0&&ie===void 0||Tm(n,r,re,J,l,ie);return}}for(var K in a)J=a[K],a.hasOwnProperty(K)&&J!=null&&!l.hasOwnProperty(K)&&Ct(n,r,K,null,l,J);for(de in l)J=l[de],ie=a[de],!l.hasOwnProperty(de)||J===ie||J==null&&ie==null||Ct(n,r,de,J,l,ie)}var bm=null,Sm=null;function hh(n){return n.nodeType===9?n:n.ownerDocument}function y_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Am(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wm=null;function hw(){var n=window.event;return n&&n.type==="popstate"?n===wm?!1:(wm=n,!0):(wm=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(n){return E_.resolve(null).then(n).catch(mw)}:__;function mw(n){setTimeout(function(){throw n})}function Rm(n,r){var a=r,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(l===0){n.removeChild(d),du(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=d}while(a);du(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),ri(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function pw(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hn])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Hi(n.nextSibling),n===null)break}return null}function gw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hi(n.nextSibling),n===null))return null;return n}function Hi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function T_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function b_(n,r,a){switch(r=hh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Ni=new Map,S_=new Set;function dh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Jr=_e.d;_e.d={f:yw,r:vw,D:_w,C:Ew,L:Tw,m:bw,X:Aw,S:Sw,M:ww};function yw(){var n=Jr.f(),r=rh();return n||r}function vw(n){var r=Zt(n);r!==null&&r.tag===5&&r.type==="form"?Xy(r):Jr.r(n)}var Lo=typeof document>"u"?null:document;function A_(n,r,a){var l=Lo;if(l&&typeof r=="string"&&r){var d=qt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),S_.has(d)||(S_.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Cn(r,"link",n),_t(r),l.head.appendChild(r)))}}function _w(n){Jr.D(n),A_("dns-prefetch",n,null)}function Ew(n,r){Jr.C(n,r),A_("preconnect",n,r)}function Tw(n,r,a){Jr.L(n,r,a);var l=Lo;if(l&&n&&r){var d='link[rel="preload"][as="'+qt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+qt(a.imageSizes)+'"]')):d+='[href="'+qt(n)+'"]';var m=d;switch(r){case"style":m=Uo(n);break;case"script":m=zo(n)}Ni.has(m)||(n=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Ni.set(m,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(su(m))||r==="script"&&l.querySelector(au(m))||(r=l.createElement("link"),Cn(r,"link",n),_t(r),l.head.appendChild(r)))}}function bw(n,r){Jr.m(n,r);var a=Lo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zo(n)}if(!Ni.has(m)&&(n=N({rel:"modulepreload",href:n},r),Ni.set(m,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(au(m)))return}l=a.createElement("link"),Cn(l,"link",n),_t(l),a.head.appendChild(l)}}}function Sw(n,r,a){Jr.S(n,r,a);var l=Lo;if(l&&n){var d=Zn(l).hoistableStyles,m=Uo(n);r=r||"default";var E=d.get(m);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(su(m)))S.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Ni.get(m))&&Cm(n,a);var D=E=l.createElement("link");_t(D),Cn(D,"link",n),D._p=new Promise(function(F,re){D.onload=F,D.onerror=re}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(m,E)}}}function Aw(n,r){Jr.X(n,r);var a=Lo;if(a&&n){var l=Zn(a).hoistableScripts,d=zo(n),m=l.get(d);m||(m=a.querySelector(au(d)),m||(n=N({src:n,async:!0},r),(r=Ni.get(d))&&Im(n,r),m=a.createElement("script"),_t(m),Cn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function ww(n,r){Jr.M(n,r);var a=Lo;if(a&&n){var l=Zn(a).hoistableScripts,d=zo(n),m=l.get(d);m||(m=a.querySelector(au(d)),m||(n=N({src:n,async:!0,type:"module"},r),(r=Ni.get(d))&&Im(n,r),m=a.createElement("script"),_t(m),Cn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function w_(n,r,a,l){var d=(d=On.current)?dh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Uo(a.href),a=Zn(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Uo(a.href);var m=Zn(d).hoistableStyles,E=m.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=d.querySelector(su(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Ni.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ni.set(n,a),m||Rw(d,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zo(a),a=Zn(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Uo(n){return'href="'+qt(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function Rw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Cn(r,"link",a),_t(r),n.head.appendChild(r))}function zo(n){return'[src="'+qt(n)+'"]'}function au(n){return"script[async]"+n}function x_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+qt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var d=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),Cn(l,"style",d),fh(l,a.precedence,n),r.instance=l;case"stylesheet":d=Uo(a.href);var m=n.querySelector(su(d));if(m)return r.state.loading|=4,r.instance=m,_t(m),m;l=R_(a),(d=Ni.get(d))&&Cm(l,d),m=(n.ownerDocument||n).createElement("link"),_t(m);var E=m;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Cn(m,"link",l),r.state.loading|=4,fh(m,a.precedence,n),r.instance=m;case"script":return m=zo(a.src),(d=n.querySelector(au(m)))?(r.instance=d,_t(d),d):(l=a,(d=Ni.get(m))&&(l=N({},a),Im(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),_t(d),Cn(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,fh(l,a.precedence,n));return r.instance}function fh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===r)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Cm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var mh=null;function C_(n,r,a){if(mh===null){var l=new Map,d=mh=new Map;d.set(a,l)}else d=mh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Hn]||m[Ne]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var S=l.get(E);S?S.push(m):l.set(E,[m])}}return l}function I_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function xw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function D_(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var ou=null;function Cw(){}function Iw(n,r,a){if(ou===null)throw Error(s(475));var l=ou;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var d=Uo(a.href),m=n.querySelector(su(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ph.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,_t(m);return}m=n.ownerDocument||n,a=R_(a),(d=Ni.get(d))&&Cm(a,d),m=m.createElement("link"),_t(m);var E=m;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Cn(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=ph.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Dw(){if(ou===null)throw Error(s(475));var n=ou;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ph(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gh=null;function Dm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gh=new Map,r.forEach(Nw,n),gh=null,ph.call(n))}function Nw(n,r){if(!(r.state.loading&4)){var a=gh.get(n);if(a)var l=a.get(null);else{a=new Map,gh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var E=d[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=r.instance,E=d.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,d),a.set(E,d),this.count++,l=ph.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var lu={$$typeof:I,Provider:null,Consumer:null,_currentValue:Fe,_currentValue2:Fe,_threadCount:0};function Ow(n,r,a,l,d,m,E,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function N_(n,r,a,l,d,m,E,S,D,F,re,de){return n=new Ow(n,r,a,E,S,D,F,de),r=1,m===!0&&(r|=24),m=Ii(3,null,null,r),n.current=m,m.stateNode=n,r=lf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Ff(m),n}function O_(n){return n?(n=vo,n):vo}function M_(n,r,a,l,d,m){d=O_(d),l.context===null?l.context=d:l.pendingContext=d,l=ws(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Rs(n,l,r),a!==null&&($n(a,n,r),Gl(a,n,r))}function P_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Nm(n,r){P_(n,r),(n=n.alternate)&&P_(n,r)}function V_(n){if(n.tag===13){var r=vs(n,67108864);r!==null&&$n(r,n,67108864),Nm(n,67108864)}}var yh=!0;function Mw(n,r,a,l){var d=R.T;R.T=null;var m=_e.p;try{_e.p=2,Om(n,r,a,l)}finally{_e.p=m,R.T=d}}function Pw(n,r,a,l){var d=R.T;R.T=null;var m=_e.p;try{_e.p=8,Om(n,r,a,l)}finally{_e.p=m,R.T=d}}function Om(n,r,a,l){if(yh){var d=Mm(l);if(d===null)Em(n,r,l,vh,a),j_(n,l);else if(kw(d,n,r,a,l))l.stopPropagation();else if(j_(n,l),r&4&&-1<Vw.indexOf(n)){for(;d!==null;){var m=Zt(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Wn(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-Ht(E);S.entanglements[1]|=D,E&=~D}yr(m),!(Bt&6)&&(th=te()+500,nu(0))}}break;case 13:S=vs(m,2),S!==null&&$n(S,m,2),rh(),Nm(m,2)}if(m=Mm(l),m===null&&Em(n,r,l,vh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Em(n,r,l,null,a)}}function Mm(n){return n=so(n),Pm(n)}var vh=null;function Pm(n){if(vh=null,n=Qt(n),n!==null){var r=Se(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Xe(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return vh=n,null}function k_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case he:return 2;case se:return 8;case be:case We:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Vm=!1,Ms=null,Ps=null,Vs=null,uu=new Map,cu=new Map,ks=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(n,r){switch(n){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function hu(n,r,a,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Zt(r),r!==null&&V_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function kw(n,r,a,l,d){switch(r){case"focusin":return Ms=hu(Ms,n,r,a,l,d),!0;case"dragenter":return Ps=hu(Ps,n,r,a,l,d),!0;case"mouseover":return Vs=hu(Vs,n,r,a,l,d),!0;case"pointerover":var m=d.pointerId;return uu.set(m,hu(uu.get(m)||null,n,r,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,cu.set(m,hu(cu.get(m)||null,n,r,a,l,d)),!0}return!1}function L_(n){var r=Qt(n.target);if(r!==null){var a=Se(r);if(a!==null){if(r=a.tag,r===13){if(r=Xe(a),r!==null){n.blockedOn=r,xe(n.priority,function(){if(a.tag===13){var l=ui(),d=vs(a,l);d!==null&&$n(d,a,l),Nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);_i=l,a.target.dispatchEvent(l),_i=null}else return r=Zt(a),r!==null&&V_(r),n.blockedOn=a,!1;r.shift()}return!0}function U_(n,r,a){_h(n)&&a.delete(r)}function jw(){Vm=!1,Ms!==null&&_h(Ms)&&(Ms=null),Ps!==null&&_h(Ps)&&(Ps=null),Vs!==null&&_h(Vs)&&(Vs=null),uu.forEach(U_),cu.forEach(U_)}function Eh(n,r){n.blockedOn===r&&(n.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jw)))}var Th=null;function z_(n){Th!==n&&(Th=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Th===n&&(Th=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Pm(l||a)===null)continue;break}var m=Zt(a);m!==null&&(n.splice(r,3),r-=3,Af(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function du(n){function r(D){return Eh(D,n)}Ms!==null&&Eh(Ms,n),Ps!==null&&Eh(Ps,n),Vs!==null&&Eh(Vs,n),uu.forEach(r),cu.forEach(r);for(var a=0;a<ks.length;a++){var l=ks[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&ks.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],E=d[Pe]||null;if(typeof m=="function")E||z_(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,E=m[Pe]||null)S=E.formAction;else if(Pm(d)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),z_(a)}}}function km(n){this._internalRoot=n}bh.prototype.render=km.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=ui();M_(a,l,n,r,null,null)},bh.prototype.unmount=km.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Vo(),M_(n.current,2,null,n,null,null),rh(),r[ht]=null}};function bh(n){this._internalRoot=n}bh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Re();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ks.length&&r!==0&&r<ks[a].priority;a++);ks.splice(a,0,n),a===0&&L_(n)}};var B_=e.version;if(B_!=="19.0.0")throw Error(s(527,B_,"19.0.0"));_e.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ce(r),n=n!==null?we(n):null,n=n===null?null:n.stateNode,n};var Lw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Fn=Sh.inject(Lw),Ut=Sh}catch{}}return mu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=rv,m=sv,E=av,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=N_(n,1,!1,null,null,a,l,d,m,E,S,null),n[ht]=r.current,_m(n.nodeType===8?n.parentNode:n),new km(r)},mu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",m=rv,E=sv,S=av,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=N_(n,1,!0,r,a??null,l,d,m,E,S,D,F),r.context=O_(null),a=r.current,l=ui(),d=ws(l),d.callback=null,Rs(a,d,l),r.current.lanes=l,Q(r,l),yr(r),n[ht]=r.current,_m(n),new bh(r)},mu.version="19.0.0",mu}var W_;function Qw(){if(W_)return Um.exports;W_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=$w(),Um.exports}var Yw=Qw(),pu={},Z_;function Xw(){if(Z_)return pu;Z_=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=h,pu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,I){const L=new u,X=w.length;if(X<2)return L;const H=(I==null?void 0:I.decode)||T;let B=0;do{const q=w.indexOf("=",B);if(q===-1)break;const ne=w.indexOf(";",B),pe=ne===-1?X:ne;if(q>pe){B=w.lastIndexOf(";",q-1)+1;continue}const ae=f(w,B,q),z=p(w,q,ae),O=w.slice(ae,z);if(L[O]===void 0){let x=f(w,q+1,pe),R=p(w,pe,x);const N=H(w.slice(x,R));L[O]=N}B=pe+1}while(B<X);return L}function f(w,I,L){do{const X=w.charCodeAt(I);if(X!==32&&X!==9)return I}while(++I<L);return L}function p(w,I,L){for(;I>L;){const X=w.charCodeAt(--I);if(X!==32&&X!==9)return I+1}return L}function g(w,I,L){const X=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const H=X(I);if(!e.test(H))throw new TypeError(`argument val is invalid: ${I}`);let B=w+"="+H;if(!L)return B;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);B+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);B+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);B+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);B+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(B+="; HttpOnly"),L.secure&&(B+="; Secure"),L.partitioned&&(B+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return B}function T(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return o.call(w)==="[object Date]"}return pu}Xw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J_="popstate";function Ww(i={}){function e(o,u){let{pathname:h="/",search:f="",hash:p=""}=cs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ju("",{pathname:h,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");f=g===-1?p:p.slice(0,g)}return f+"#"+(typeof u=="string"?u:Zs(u))}function s(o,u){dn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Jw(e,t,s,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zw(){return Math.random().toString(36).substring(2,10)}function e0(i,e){return{usr:i.state,key:i.key,idx:e}}function ju(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?cs(e):e,state:t,key:e&&e.key||s||Zw()}}function Zs({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function cs(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Jw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){f="POP";let H=T(),B=H==null?null:H-g;g=H,p&&p({action:f,location:X.location,delta:B})}function w(H,B){f="PUSH";let q=ju(X.location,H,B);t&&t(q,H),g=T()+1;let ne=e0(q,g),pe=X.createHref(q);try{h.pushState(ne,"",pe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(pe)}u&&p&&p({action:f,location:X.location,delta:1})}function I(H,B){f="REPLACE";let q=ju(X.location,H,B);t&&t(q,H),g=T();let ne=e0(q,g),pe=X.createHref(q);h.replaceState(ne,"",pe),u&&p&&p({action:f,location:X.location,delta:0})}function L(H){let B=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof H=="string"?H:Zs(H);return q=q.replace(/ $/,"%20"),ot(B,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,B)}let X={get action(){return f},get location(){return i(o,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,b),p=H,()=>{o.removeEventListener(J_,b),p=null}},createHref(H){return e(o,H)},createURL:L,encodeLocation(H){let B=L(H);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:I,go(H){return h.go(H)}};return X}var eR=new Set(["lazy","caseSensitive","path","id","index","children"]);function tR(i){return i.index===!0}function Kh(i,e,t=[],s={}){return i.map((o,u)=>{let h=[...t,String(u)],f=typeof o.id=="string"?o.id:h.join("-");if(ot(o.index!==!0||!o.children,"Cannot specify children on an index route"),ot(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),tR(o)){let p={...o,...e(o),id:f};return s[f]=p,p}else{let p={...o,...e(o),id:f,children:void 0};return s[f]=p,o.children&&(p.children=Kh(o.children,e,h,s)),p}})}function zs(i,e,t="/"){return Oh(i,e,t,!1)}function Oh(i,e,t,s){let o=typeof e=="string"?cs(e):e,u=Xi(o.pathname||"/",t);if(u==null)return null;let h=lT(i);iR(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let g=mR(u);f=dR(h[p],g,s)}return f}function nR(i,e){let{route:t,pathname:s,params:o}=i;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function lT(i,e=[],t=[],s=""){let o=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Tr([s,p.relativePath]),T=t.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),lT(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:cR(g,u.index),routesMeta:T})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let p of uT(u.path))o(u,h,p)}),e}function uT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=uT(s.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...h),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function iR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:hR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var rR=/^:[\w-]+$/,sR=3,aR=2,oR=1,lR=10,uR=-2,t0=i=>i==="*";function cR(i,e){let t=i.split("/"),s=t.length;return t.some(t0)&&(s+=uR),e&&(s+=aR),t.filter(o=>!t0(o)).reduce((o,u)=>o+(rR.test(u)?sR:u===""?oR:lR),s)}function hR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function dR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Tr([u,b.pathname]),pathnameBase:yR(Tr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Tr([u,b.pathnameBase]))}return h}function $h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=fR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},w)=>{if(T==="*"){let L=f[w]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const I=f[w];return b&&!I?g[T]=void 0:g[T]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function fR(i,e=!1,t=!0){dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Xi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function pR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?cs(i):i;return{pathname:t?t.startsWith("/")?t:gR(t,e):e,search:vR(s),hash:_R(o)}}function gR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Hm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cT(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yd(i){let e=cT(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function vd(i,e,t,s=!1){let o;typeof i=="string"?o=cs(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=pR(o,f),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),yR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_R=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Qh=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Lu(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var hT=["POST","PUT","PATCH","DELETE"],ER=new Set(hT),TR=["GET",...hT],bR=new Set(TR),SR=new Set([301,302,303,307,308]),AR=new Set([307,308]),qm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),dT="remix-router-transitions",fT=Symbol("ResetLoaderData");function xR(i){const e=i.window?i.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||RR,o={},u=Kh(i.routes,s,void 0,o),h,f=i.basename||"/",p=i.dataStrategy||OR,g=i.patchRoutesOnNavigation,T={...i.future},b=null,w=new Set,I=null,L=null,X=null,H=i.hydrationData!=null,B=zs(u,i.history.location,f),q=!1,ne=null;if(B==null&&!g){let k=Mi(404,{pathname:i.history.location.pathname}),{matches:G,route:Q}=d0(u);B=G,ne={[Q.id]:k}}B&&!i.hydrationData&&An(B,u,i.history.location.pathname).active&&(B=null);let pe;if(B)if(B.some(k=>k.route.lazy))pe=!1;else if(!B.some(k=>k.route.loader))pe=!0;else{let k=i.hydrationData?i.hydrationData.loaderData:null,G=i.hydrationData?i.hydrationData.errors:null;if(G){let Q=B.findIndex(fe=>G[fe.route.id]!==void 0);pe=B.slice(0,Q+1).every(fe=>!cp(fe.route,k,G))}else pe=B.every(Q=>!cp(Q.route,k,G))}else{pe=!1,B=[];let k=An(null,u,i.history.location.pathname);k.active&&k.matches&&(q=!0,B=k.matches)}let ae,z={historyAction:i.history.action,location:i.history.location,matches:B,initialized:pe,navigation:qm,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},O="POP",x=!1,R,N=!1,V=new Map,j=null,C=!1,Be=!1,Je=new Set,ue=new Map,Ce=0,Se=-1,Xe=new Map,P=new Set,ce=new Map,we=new Map,ve=new Set,_e=new Map,Fe,Le=null;function Pt(){if(b=i.history.listen(({action:k,location:G,delta:Q})=>{if(Fe){Fe(),Fe=void 0;return}dn(_e.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Li({currentLocation:z.location,nextLocation:G,historyAction:k});if(fe&&Q!=null){let Te=new Promise(Ie=>{Fe=Ie});i.history.go(Q*-1),Ht(fe,{state:"blocked",location:G,proceed(){Ht(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Te.then(()=>i.history.go(Q))},reset(){let Ie=new Map(z.blockers);Ie.set(fe,gu),He({blockers:Ie})}});return}return sn(k,G)}),t){HR(e,V);let k=()=>qR(e,V);e.addEventListener("pagehide",k),j=()=>e.removeEventListener("pagehide",k)}return z.initialized||sn("POP",z.location,{initialHydration:!0}),ae}function rt(){b&&b(),j&&j(),w.clear(),R&&R.abort(),z.fetchers.forEach((k,G)=>We(G)),z.blockers.forEach((k,G)=>Mn(G))}function wt(k){return w.add(k),()=>w.delete(k)}function He(k,G={}){z={...z,...k};let Q=[],fe=[];z.fetchers.forEach((Te,Ie)=>{Te.state==="idle"&&(ve.has(Ie)?Q.push(Ie):fe.push(Ie))}),ve.forEach(Te=>{!z.fetchers.has(Te)&&!ue.has(Te)&&Q.push(Te)}),[...w].forEach(Te=>Te(z,{deletedFetchers:Q,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Q.forEach(Te=>We(Te)),fe.forEach(Te=>z.fetchers.delete(Te))}function Dt(k,G,{flushSync:Q}={}){var ye,Ne;let fe=z.actionData!=null&&z.navigation.formMethod!=null&&Gi(z.navigation.formMethod)&&z.navigation.state==="loading"&&((ye=k.state)==null?void 0:ye._isRedirect)!==!0,Te;G.actionData?Object.keys(G.actionData).length>0?Te=G.actionData:Te=null:fe?Te=z.actionData:Te=null;let Ie=G.loaderData?c0(z.loaderData,G.loaderData,G.matches||[],G.errors):z.loaderData,Ue=z.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Pe,ht)=>Ue.set(ht,gu)));let Re=x===!0||z.navigation.formMethod!=null&&Gi(z.navigation.formMethod)&&((Ne=k.state)==null?void 0:Ne._isRedirect)!==!0;h&&(u=h,h=void 0),C||O==="POP"||(O==="PUSH"?i.history.push(k,k.state):O==="REPLACE"&&i.history.replace(k,k.state));let xe;if(O==="POP"){let Pe=V.get(z.location.pathname);Pe&&Pe.has(k.pathname)?xe={currentLocation:z.location,nextLocation:k}:V.has(k.pathname)&&(xe={currentLocation:k,nextLocation:z.location})}else if(N){let Pe=V.get(z.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),V.set(z.location.pathname,Pe)),xe={currentLocation:z.location,nextLocation:k}}He({...G,actionData:Te,loaderData:Ie,historyAction:O,location:k,initialized:!0,navigation:qm,revalidation:"idle",restoreScrollPosition:Wn(k,G.matches||z.matches),preventScrollReset:Re,blockers:Ue},{viewTransitionOpts:xe,flushSync:Q===!0}),O="POP",x=!1,N=!1,C=!1,Be=!1,Le==null||Le.resolve(),Le=null}async function Bn(k,G){if(typeof k=="number"){i.history.go(k);return}let Q=up(z.location,z.matches,f,k,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:fe,submission:Te,error:Ie}=n0(!1,Q,G),Ue=z.location,Re=ju(z.location,fe,G&&G.state);Re={...Re,...i.history.encodeLocation(Re)};let xe=G&&G.replace!=null?G.replace:void 0,ye="PUSH";xe===!0?ye="REPLACE":xe===!1||Te!=null&&Gi(Te.formMethod)&&Te.formAction===z.location.pathname+z.location.search&&(ye="REPLACE");let Ne=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Pe=(G&&G.flushSync)===!0,ht=Li({currentLocation:Ue,nextLocation:Re,historyAction:ye});if(ht){Ht(ht,{state:"blocked",location:Re,proceed(){Ht(ht,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Bn(k,G)},reset(){let Vt=new Map(z.blockers);Vt.set(ht,gu),He({blockers:Vt})}});return}await sn(ye,Re,{submission:Te,pendingError:Ie,preventScrollReset:Ne,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Pe})}function On(){Le||(Le=GR()),Ee(),He({revalidation:"loading"});let k=Le.promise;return z.navigation.state==="submitting"?k:z.navigation.state==="idle"?(sn(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),k):(sn(O||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:N===!0}),k)}async function sn(k,G,Q){R&&R.abort(),R=null,O=k,C=(Q&&Q.startUninterruptedRevalidation)===!0,ir(z.location,z.matches),x=(Q&&Q.preventScrollReset)===!0,N=(Q&&Q.enableViewTransition)===!0;let fe=h||u,Te=Q&&Q.overrideNavigation,Ie=Q!=null&&Q.initialHydration&&z.matches&&z.matches.length>0&&!q?z.matches:zs(fe,G,f),Ue=(Q&&Q.flushSync)===!0;if(Ie&&z.initialized&&!Be&&LR(z.location,G)&&!(Q&&Q.submission&&Gi(Q.submission.formMethod))){Dt(G,{matches:Ie},{flushSync:Ue});return}let Re=An(Ie,fe,G.pathname);if(Re.active&&Re.matches&&(Ie=Re.matches),!Ie){let{error:Tt,notFoundMatches:st,route:kt}=ds(G.pathname);Dt(G,{matches:st,loaderData:{},errors:{[kt.id]:Tt}},{flushSync:Ue});return}R=new AbortController;let xe=Bo(i.history,G,R.signal,Q&&Q.submission),ye;if(Q&&Q.pendingError)ye=[za(Ie).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Gi(Q.submission.formMethod)){let Tt=await fi(xe,G,Q.submission,Ie,Re.active,{replace:Q.replace,flushSync:Ue});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[st,kt]=Tt.pendingActionResult;if(ci(kt)&&Lu(kt.error)&&kt.error.status===404){R=null,Dt(G,{matches:Tt.matches,loaderData:{},errors:{[st]:kt.error}});return}}Ie=Tt.matches||Ie,ye=Tt.pendingActionResult,Te=Gm(G,Q.submission),Ue=!1,Re.active=!1,xe=Bo(i.history,xe.url,xe.signal)}let{shortCircuited:Ne,matches:Pe,loaderData:ht,errors:Vt}=await Xn(xe,G,Ie,Re.active,Te,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ue,ye);Ne||(R=null,Dt(G,{matches:Pe||Ie,...h0(ye),loaderData:ht,errors:Vt}))}async function fi(k,G,Q,fe,Te,Ie={}){Ee();let Ue=BR(G,Q);if(He({navigation:Ue},{flushSync:Ie.flushSync===!0}),Te){let ye=await ii(fe,G.pathname,k.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ne=za(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ne,{type:"error",error:ye.error}]}}else if(ye.matches)fe=ye.matches;else{let{notFoundMatches:Ne,error:Pe,route:ht}=ds(G.pathname);return{matches:Ne,pendingActionResult:[ht.id,{type:"error",error:Pe}]}}}let Re,xe=Su(fe,G);if(!xe.route.action&&!xe.route.lazy)Re={type:"error",error:Mi(405,{method:k.method,pathname:G.pathname,routeId:xe.route.id})};else if(Re=(await W("action",z,k,[xe],fe,null))[xe.route.id],k.signal.aborted)return{shortCircuited:!0};if(Ba(Re)){let ye;return Ie&&Ie.replace!=null?ye=Ie.replace:ye=o0(Re.response.headers.get("Location"),new URL(k.url),f)===z.location.pathname+z.location.search,await M(k,Re,!0,{submission:Q,replace:ye}),{shortCircuited:!0}}if(ci(Re)){let ye=za(fe,xe.route.id);return(Ie&&Ie.replace)!==!0&&(O="PUSH"),{matches:fe,pendingActionResult:[ye.route.id,Re]}}return{matches:fe,pendingActionResult:[xe.route.id,Re]}}async function Xn(k,G,Q,fe,Te,Ie,Ue,Re,xe,ye,Ne){let Pe=Te||Gm(G,Ie),ht=Ie||Ue||m0(Pe),Vt=!C&&!xe;if(fe){if(Vt){let Et=ki(Ne);He({navigation:Pe,...Et!==void 0?{actionData:Et}:{}},{flushSync:ye})}let et=await ii(Q,G.pathname,k.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let Et=za(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[Et]:et.error}}}else if(et.matches)Q=et.matches;else{let{error:Et,notFoundMatches:pn,route:Nr}=ds(G.pathname);return{matches:pn,loaderData:{},errors:{[Nr.id]:Et}}}}let Tt=h||u,[st,kt]=r0(i.history,z,Q,ht,G,xe===!0,Be,Je,ve,ce,P,Tt,f,Ne);if(Se=++Ce,st.length===0&&kt.length===0){let et=Fn();return Dt(G,{matches:Q,loaderData:{},errors:Ne&&ci(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...h0(Ne),...et?{fetchers:new Map(z.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(Vt){let et={};if(!fe){et.navigation=Pe;let Et=ki(Ne);Et!==void 0&&(et.actionData=Et)}kt.length>0&&(et.fetchers=er(kt)),He(et,{flushSync:ye})}kt.forEach(et=>{At(et.key),et.controller&&ue.set(et.key,et.controller)});let Hn=()=>kt.forEach(et=>At(et.key));R&&R.signal.addEventListener("abort",Hn);let{loaderResults:ri,fetcherResults:Qt}=await te(z,Q,st,kt,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Hn),kt.forEach(et=>ue.delete(et.key));let Zt=Ah(ri);if(Zt)return await M(k,Zt.result,!0,{replace:Re}),{shortCircuited:!0};if(Zt=Ah(Qt),Zt)return P.add(Zt.key),await M(k,Zt.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:pi,errors:Zn}=u0(z,Q,ri,Ne,kt,Qt);xe&&z.errors&&(Zn={...z.errors,...Zn});let _t=Fn(),rr=Ut(Se),Ui=_t||rr||kt.length>0;return{matches:Q,loaderData:pi,errors:Zn,...Ui?{fetchers:new Map(z.fetchers)}:{}}}function ki(k){if(k&&!ci(k[1]))return{[k[0]]:k[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function er(k){return k.forEach(G=>{let Q=z.fetchers.get(G.key),fe=yu(void 0,Q?Q.data:void 0);z.fetchers.set(G.key,fe)}),new Map(z.fetchers)}async function tr(k,G,Q,fe){At(k);let Te=(fe&&fe.flushSync)===!0,Ie=h||u,Ue=up(z.location,z.matches,f,Q,G,fe==null?void 0:fe.relative),Re=zs(Ie,Ue,f),xe=An(Re,Ie,Ue);if(xe.active&&xe.matches&&(Re=xe.matches),!Re){se(k,G,Mi(404,{pathname:Ue}),{flushSync:Te});return}let{path:ye,submission:Ne,error:Pe}=n0(!0,Ue,fe);if(Pe){se(k,G,Pe,{flushSync:Te});return}let ht=Su(Re,ye),Vt=(fe&&fe.preventScrollReset)===!0;if(Ne&&Gi(Ne.formMethod)){await nr(k,G,ye,ht,Re,xe.active,Te,Vt,Ne);return}ce.set(k,{routeId:G,path:ye}),await ji(k,G,ye,ht,Re,xe.active,Te,Vt,Ne)}async function nr(k,G,Q,fe,Te,Ie,Ue,Re,xe){Ee(),ce.delete(k);function ye(Nt){if(!Nt.route.action&&!Nt.route.lazy){let gi=Mi(405,{method:xe.formMethod,pathname:Q,routeId:G});return se(k,G,gi,{flushSync:Ue}),!0}return!1}if(!Ie&&ye(fe))return;let Ne=z.fetchers.get(k);he(k,FR(xe,Ne),{flushSync:Ue});let Pe=new AbortController,ht=Bo(i.history,Q,Pe.signal,xe);if(Ie){let Nt=await ii(Te,Q,ht.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){se(k,G,Nt.error,{flushSync:Ue});return}else if(Nt.matches){if(Te=Nt.matches,fe=Su(Te,Q),ye(fe))return}else{se(k,G,Mi(404,{pathname:Q}),{flushSync:Ue});return}}ue.set(k,Pe);let Vt=Ce,st=(await W("action",z,ht,[fe],Te,k))[fe.route.id];if(ht.signal.aborted){ue.get(k)===Pe&&ue.delete(k);return}if(ve.has(k)){if(Ba(st)||ci(st)){he(k,Us(void 0));return}}else{if(Ba(st))if(ue.delete(k),Se>Vt){he(k,Us(void 0));return}else return P.add(k),he(k,yu(xe)),M(ht,st,!1,{fetcherSubmission:xe,preventScrollReset:Re});if(ci(st)){se(k,G,st.error);return}}let kt=z.navigation.location||z.location,Hn=Bo(i.history,kt,Pe.signal),ri=h||u,Qt=z.navigation.state!=="idle"?zs(ri,z.navigation.location,f):z.matches;ot(Qt,"Didn't find any matches after fetcher action");let Zt=++Ce;Xe.set(k,Zt);let pi=yu(xe,st.data);z.fetchers.set(k,pi);let[Zn,_t]=r0(i.history,z,Qt,xe,kt,!1,Be,Je,ve,ce,P,ri,f,[fe.route.id,st]);_t.filter(Nt=>Nt.key!==k).forEach(Nt=>{let gi=Nt.key,ua=z.fetchers.get(gi),sr=yu(void 0,ua?ua.data:void 0);z.fetchers.set(gi,sr),At(gi),Nt.controller&&ue.set(gi,Nt.controller)}),He({fetchers:new Map(z.fetchers)});let rr=()=>_t.forEach(Nt=>At(Nt.key));Pe.signal.addEventListener("abort",rr);let{loaderResults:Ui,fetcherResults:et}=await te(z,Qt,Zn,_t,Hn);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",rr),Xe.delete(k),ue.delete(k),_t.forEach(Nt=>ue.delete(Nt.key));let Et=Ah(Ui);if(Et)return M(Hn,Et.result,!1,{preventScrollReset:Re});if(Et=Ah(et),Et)return P.add(Et.key),M(Hn,Et.result,!1,{preventScrollReset:Re});let{loaderData:pn,errors:Nr}=u0(z,Qt,Ui,void 0,_t,et);if(z.fetchers.has(k)){let Nt=Us(st.data);z.fetchers.set(k,Nt)}Ut(Zt),z.navigation.state==="loading"&&Zt>Se?(ot(O,"Expected pending action"),R&&R.abort(),Dt(z.navigation.location,{matches:Qt,loaderData:pn,errors:Nr,fetchers:new Map(z.fetchers)})):(He({errors:Nr,loaderData:c0(z.loaderData,pn,Qt,Nr),fetchers:new Map(z.fetchers)}),Be=!1)}async function ji(k,G,Q,fe,Te,Ie,Ue,Re,xe){let ye=z.fetchers.get(k);he(k,yu(xe,ye?ye.data:void 0),{flushSync:Ue});let Ne=new AbortController,Pe=Bo(i.history,Q,Ne.signal);if(Ie){let st=await ii(Te,Q,Pe.signal);if(st.type==="aborted")return;if(st.type==="error"){se(k,G,st.error,{flushSync:Ue});return}else if(st.matches)Te=st.matches,fe=Su(Te,Q);else{se(k,G,Mi(404,{pathname:Q}),{flushSync:Ue});return}}ue.set(k,Ne);let ht=Ce,Tt=(await W("loader",z,Pe,[fe],Te,k))[fe.route.id];if(ue.get(k)===Ne&&ue.delete(k),!Pe.signal.aborted){if(ve.has(k)){he(k,Us(void 0));return}if(Ba(Tt))if(Se>ht){he(k,Us(void 0));return}else{P.add(k),await M(Pe,Tt,!1,{preventScrollReset:Re});return}if(ci(Tt)){se(k,G,Tt.error);return}he(k,Us(Tt.data))}}async function M(k,G,Q,{submission:fe,fetcherSubmission:Te,preventScrollReset:Ie,replace:Ue}={}){G.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let Re=G.response.headers.get("Location");ot(Re,"Expected a Location header on the redirect Response"),Re=o0(Re,new URL(k.url),f);let xe=ju(z.location,Re,{_isRedirect:!0});if(t){let Tt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Lp.test(Re)){const st=i.history.createURL(Re);Tt=st.origin!==e.location.origin||Xi(st.pathname,f)==null}if(Tt){Ue?e.location.replace(Re):e.location.assign(Re);return}}R=null;let ye=Ue===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Pe,formEncType:ht}=z.navigation;!fe&&!Te&&Ne&&Pe&&ht&&(fe=m0(z.navigation));let Vt=fe||Te;if(AR.has(G.response.status)&&Vt&&Gi(Vt.formMethod))await sn(ye,xe,{submission:{...Vt,formAction:Re},preventScrollReset:Ie||x,enableViewTransition:Q?N:void 0});else{let Tt=Gm(xe,fe);await sn(ye,xe,{overrideNavigation:Tt,fetcherSubmission:Te,preventScrollReset:Ie||x,enableViewTransition:Q?N:void 0})}}async function W(k,G,Q,fe,Te,Ie){let Ue,Re={};try{Ue=await MR(p,k,G,Q,fe,Te,Ie,o,s)}catch(xe){return fe.forEach(ye=>{Re[ye.route.id]={type:"error",error:xe}}),Re}for(let[xe,ye]of Object.entries(Ue))if(UR(ye)){let Ne=ye.result;Re[xe]={type:"redirect",response:kR(Ne,Q,xe,Te,f)}}else Re[xe]=await VR(ye);return Re}async function te(k,G,Q,fe,Te){let Ie=W("loader",k,Te,Q,G,null),Ue=Promise.all(fe.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Pe=(await W("loader",k,Bo(i.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Pe}}else return Promise.resolve({[ye.key]:{type:"error",error:Mi(404,{pathname:ye.path})}})})),Re=await Ie,xe=(await Ue).reduce((ye,Ne)=>Object.assign(ye,Ne),{});return{loaderResults:Re,fetcherResults:xe}}function Ee(){Be=!0,ce.forEach((k,G)=>{ue.has(G)&&Je.add(G),At(G)})}function he(k,G,Q={}){z.fetchers.set(k,G),He({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function se(k,G,Q,fe={}){let Te=za(z.matches,G);We(k),He({errors:{[Te.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function be(k){return we.set(k,(we.get(k)||0)+1),ve.has(k)&&ve.delete(k),z.fetchers.get(k)||wR}function We(k){let G=z.fetchers.get(k);ue.has(k)&&!(G&&G.state==="loading"&&Xe.has(k))&&At(k),ce.delete(k),Xe.delete(k),P.delete(k),ve.delete(k),Je.delete(k),z.fetchers.delete(k)}function Rt(k){let G=(we.get(k)||0)-1;G<=0?(we.delete(k),ve.add(k)):we.set(k,G),He({fetchers:new Map(z.fetchers)})}function At(k){let G=ue.get(k);G&&(G.abort(),ue.delete(k))}function mi(k){for(let G of k){let Q=be(G),fe=Us(Q.data);z.fetchers.set(G,fe)}}function Fn(){let k=[],G=!1;for(let Q of P){let fe=z.fetchers.get(Q);ot(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(P.delete(Q),k.push(Q),G=!0)}return mi(k),G}function Ut(k){let G=[];for(let[Q,fe]of Xe)if(fe<k){let Te=z.fetchers.get(Q);ot(Te,`Expected fetcher: ${Q}`),Te.state==="loading"&&(At(Q),Xe.delete(Q),G.push(Q))}return mi(G),G.length>0}function Dr(k,G){let Q=z.blockers.get(k)||gu;return _e.get(k)!==G&&_e.set(k,G),Q}function Mn(k){z.blockers.delete(k),_e.delete(k)}function Ht(k,G){let Q=z.blockers.get(k)||gu;ot(Q.state==="unblocked"&&G.state==="blocked"||Q.state==="blocked"&&G.state==="blocked"||Q.state==="blocked"&&G.state==="proceeding"||Q.state==="blocked"&&G.state==="unblocked"||Q.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${G.state}`);let fe=new Map(z.blockers);fe.set(k,G),He({blockers:fe})}function Li({currentLocation:k,nextLocation:G,historyAction:Q}){if(_e.size===0)return;_e.size>1&&dn(!1,"A router only supports one blocker at a time");let fe=Array.from(_e.entries()),[Te,Ie]=fe[fe.length-1],Ue=z.blockers.get(Te);if(!(Ue&&Ue.state==="proceeding")&&Ie({currentLocation:k,nextLocation:G,historyAction:Q}))return Te}function ds(k){let G=Mi(404,{pathname:k}),Q=h||u,{matches:fe,route:Te}=d0(Q);return{notFoundMatches:fe,route:Te,error:G}}function no(k,G,Q){if(I=k,X=G,L=Q||null,!H&&z.navigation===qm){H=!0;let fe=Wn(z.location,z.matches);fe!=null&&He({restoreScrollPosition:fe})}return()=>{I=null,X=null,L=null}}function ni(k,G){return L&&L(k,G.map(fe=>nR(fe,z.loaderData)))||k.key}function ir(k,G){if(I&&X){let Q=ni(k,G);I[Q]=X()}}function Wn(k,G){if(I){let Q=ni(k,G),fe=I[Q];if(typeof fe=="number")return fe}return null}function An(k,G,Q){if(g)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Oh(G,Q,f,!0)}}else return{active:!0,matches:Oh(G,Q,f,!0)||[]};return{active:!1,matches:null}}async function ii(k,G,Q){if(!g)return{type:"success",matches:k};let fe=k;for(;;){let Te=h==null,Ie=h||u,Ue=o;try{await g({signal:Q,path:G,matches:fe,patch:(ye,Ne)=>{Q.aborted||a0(ye,Ne,Ie,Ue,s)}})}catch(ye){return{type:"error",error:ye,partialMatches:fe}}finally{Te&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let Re=zs(Ie,G,f);if(Re)return{type:"success",matches:Re};let xe=Oh(Ie,G,f,!0);if(!xe||fe.length===xe.length&&fe.every((ye,Ne)=>ye.route.id===xe[Ne].route.id))return{type:"success",matches:null};fe=xe}}function fs(k){o={},h=Kh(k,s,void 0,o)}function la(k,G){let Q=h==null;a0(k,G,h||u,o,s),Q&&(u=[...u],He({}))}return ae={get basename(){return f},get future(){return T},get state(){return z},get routes(){return u},get window(){return e},initialize:Pt,subscribe:wt,enableScrollRestoration:no,navigate:Bn,fetch:tr,revalidate:On,createHref:k=>i.history.createHref(k),encodeLocation:k=>i.history.encodeLocation(k),getFetcher:be,deleteFetcher:Rt,dispose:rt,getBlocker:Dr,deleteBlocker:Mn,patchRoutes:la,_internalFetchControllers:ue,_internalSetRoutes:fs},ae}function CR(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function up(i,e,t,s,o,u){let h,f;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){f=g;break}}else h=e,f=e[e.length-1];let p=vd(s||".",yd(h),Xi(i.pathname,t)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&f){let g=Up(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let T=new URLSearchParams(p.search),b=T.getAll("index");T.delete("index"),b.filter(I=>I).forEach(I=>T.append("index",I));let w=T.toString();p.search=w?`?${w}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Tr([t,p.pathname])),Zs(p)}function n0(i,e,t){if(!t||!CR(t))return{path:e};if(t.formMethod&&!zR(t.formMethod))return{path:e,error:Mi(405,{method:t.formMethod})};let s=()=>({path:e,error:Mi(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=pT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Gi(u))return s();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[I,L])=>`${w}${I}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Gi(u))return s();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}ot(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=hp(t.formData),p=t.formData;else if(t.body instanceof FormData)f=hp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=l0(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=l0(f)}catch{return s()}let g={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Gi(g.formMethod))return{path:e,submission:g};let T=cs(e);return i&&T.search&&Up(T.search)&&f.append("index",""),T.search=`?${f}`,{path:Zs(T),submission:g}}function i0(i,e,t=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,t?s+1:s):i}function r0(i,e,t,s,o,u,h,f,p,g,T,b,w,I){let L=I?ci(I[1])?I[1].error:I[1].data:void 0,X=i.createURL(e.location),H=i.createURL(o),B=t;u&&e.errors?B=i0(t,Object.keys(e.errors)[0],!0):I&&ci(I[1])&&(B=i0(t,I[0]));let q=I?I[1].statusCode:void 0,ne=q&&q>=400,pe=B.filter((z,O)=>{let{route:x}=z;if(x.lazy)return!0;if(x.loader==null)return!1;if(u)return cp(x,e.loaderData,e.errors);if(IR(e.loaderData,e.matches[O],z))return!0;let R=e.matches[O],N=z;return s0(z,{currentUrl:X,currentParams:R.params,nextUrl:H,nextParams:N.params,...s,actionResult:L,actionStatus:q,defaultShouldRevalidate:ne?!1:h||X.pathname+X.search===H.pathname+H.search||X.search!==H.search||DR(R,N)})}),ae=[];return g.forEach((z,O)=>{if(u||!t.some(j=>j.route.id===z.routeId)||p.has(O))return;let x=zs(b,z.path,w);if(!x){ae.push({key:O,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),N=Su(x,z.path),V=!1;T.has(O)?V=!1:f.has(O)?(f.delete(O),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=s0(N,{currentUrl:X,currentParams:e.matches[e.matches.length-1].params,nextUrl:H,nextParams:t[t.length-1].params,...s,actionResult:L,actionStatus:q,defaultShouldRevalidate:ne?!1:h}),V&&ae.push({key:O,routeId:z.routeId,path:z.path,matches:x,match:N,controller:new AbortController})}),[pe,ae]}function cp(i,e,t){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=t!=null&&t[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function IR(i,e,t){let s=!e||t.route.id!==e.route.id,o=!i.hasOwnProperty(t.route.id);return s||o}function DR(i,e){let t=i.route.path;return i.pathname!==e.pathname||t!=null&&t.endsWith("*")&&i.params["*"]!==e.params["*"]}function s0(i,e){if(i.route.shouldRevalidate){let t=i.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function a0(i,e,t,s,o){let u;if(i){let p=s[i];ot(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=t;let h=e.filter(p=>!u.some(g=>mT(p,g))),f=Kh(h,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...f)}function mT(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>mT(t,u))}):!1}async function NR(i,e,t){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=t[i.id];ot(o,"No route found in manifest");let u={};for(let h in s){let p=o[h]!==void 0&&h!=="hasErrorBoundary";dn(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!eR.has(h)&&(u[h]=s[h])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function OR({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function MR(i,e,t,s,o,u,h,f,p,g){let T=u.map(I=>I.route.lazy?NR(I.route,p,f):void 0),b=u.map((I,L)=>{let X=T[L],H=o.some(q=>q.route.id===I.route.id);return{...I,shouldLoad:H,resolve:async q=>(q&&s.method==="GET"&&(I.route.lazy||I.route.loader)&&(H=!0),H?PR(e,s,I,X,q,g):Promise.resolve({type:"data",result:void 0}))}}),w=await i({matches:b,request:s,params:u[0].params,fetcherKey:h,context:g});try{await Promise.all(T)}catch{}return w}async function PR(i,e,t,s,o,u){let h,f,p=g=>{let T,b=new Promise((L,X)=>T=X);f=()=>T(),e.signal.addEventListener("abort",f);let w=L=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:u},...L!==void 0?[L]:[]),I=(async()=>{try{return{type:"data",result:await(o?o(X=>w(X)):w())}}catch(L){return{type:"error",result:L}}})();return Promise.race([I,b])};try{let g=t.route[i];if(s)if(g){let T,[b]=await Promise.all([p(g).catch(w=>{T=w}),s]);if(T!==void 0)throw T;h=b}else if(await s,g=t.route[i],g)h=await p(g);else if(i==="action"){let T=new URL(e.url),b=T.pathname+T.search;throw Mi(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)h=await p(g);else{let T=new URL(e.url),b=T.pathname+T.search;throw Mi(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function VR(i){var s,o,u,h,f,p;let{result:e,type:t}=i;if(gT(e)){let g;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(T){return{type:"error",error:T}}return t==="error"?{type:"error",error:new Qh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?f0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Qh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Lu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Lu(e)?e.status:void 0}:f0(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kR(i,e,t,s,o){let u=i.headers.get("Location");if(ot(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lp.test(u)){let h=s.slice(0,s.findIndex(f=>f.route.id===t)+1);u=up(new URL(e.url),h,o,u),i.headers.set("Location",u)}return i}function o0(i,e,t){if(Lp.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=Xi(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Bo(i,e,t,s){let o=i.createURL(pT(e)).toString(),u={signal:t};if(s&&Gi(s.formMethod)){let{formMethod:h,formEncType:f}=s;u.method=h.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(s.json)):f==="text/plain"?u.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?u.body=hp(s.formData):u.body=s.formData}return new Request(o,u)}function hp(i){let e=new URLSearchParams;for(let[t,s]of i.entries())e.append(t,typeof s=="string"?s:s.name);return e}function l0(i){let e=new FormData;for(let[t,s]of i.entries())e.append(t,s);return e}function jR(i,e,t,s=!1,o=!1){let u={},h=null,f,p=!1,g={},T=t&&ci(t[1])?t[1].error:void 0;return i.forEach(b=>{if(!(b.route.id in e))return;let w=b.route.id,I=e[w];if(ot(!Ba(I),"Cannot handle redirect results in processLoaderData"),ci(I)){let L=I.error;if(T!==void 0&&(L=T,T=void 0),h=h||{},o)h[w]=L;else{let X=za(i,w);h[X.route.id]==null&&(h[X.route.id]=L)}s||(u[w]=fT),p||(p=!0,f=Lu(I.error)?I.error.status:500),I.headers&&(g[w]=I.headers)}else u[w]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(f=I.statusCode),I.headers&&(g[w]=I.headers)}),T!==void 0&&t&&(h={[t[0]]:T},u[t[0]]=void 0),{loaderData:u,errors:h,statusCode:f||200,loaderHeaders:g}}function u0(i,e,t,s,o,u){let{loaderData:h,errors:f}=jR(e,t,s);return o.forEach(p=>{let{key:g,match:T,controller:b}=p,w=u[g];if(ot(w,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(ci(w)){let I=za(i.matches,T==null?void 0:T.route.id);f&&f[I.route.id]||(f={...f,[I.route.id]:w.error}),i.fetchers.delete(g)}else if(Ba(w))ot(!1,"Unhandled fetcher revalidation redirect");else{let I=Us(w.data);i.fetchers.set(g,I)}}),{loaderData:h,errors:f}}function c0(i,e,t,s){let o=Object.entries(e).filter(([,u])=>u!==fT).reduce((u,[h,f])=>(u[h]=f,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(o[h]=i[h]),s&&s.hasOwnProperty(h))break}return o}function h0(i){return i?ci(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function za(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function d0(i){let e=i.length===1?i[0]:i.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mi(i,{pathname:e,routeId:t,method:s,type:o,message:u}={}){let h="Unknown Server Error",f="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&t?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):i===403?(h="Forbidden",f=`Route "${t}" does not match URL "${e}"`):i===404?(h="Not Found",f=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&t?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Qh(i||500,h,new Error(f),!0)}function Ah(i){let e=Object.entries(i);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(Ba(o))return{key:s,result:o}}}function pT(i){let e=typeof i=="string"?cs(i):i;return Zs({...e,hash:""})}function LR(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function UR(i){return gT(i.result)&&SR.has(i.result.status)}function ci(i){return i.type==="error"}function Ba(i){return(i&&i.type)==="redirect"}function f0(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function gT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function zR(i){return bR.has(i.toUpperCase())}function Gi(i){return ER.has(i.toUpperCase())}function Up(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Su(i,e){let t=typeof e=="string"?cs(e).search:e.search;if(i[i.length-1].route.index&&Up(t||""))return i[i.length-1];let s=cT(i);return s[s.length-1]}function m0(i){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:u,json:h}=i;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:h,text:void 0}}}function Gm(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BR(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yu(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FR(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Us(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function HR(i,e){try{let t=i.sessionStorage.getItem(dT);if(t){let s=JSON.parse(t);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function qR(i,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{i.sessionStorage.setItem(dT,JSON.stringify(t))}catch(s){dn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function GR(){let i,e,t=new Promise((s,o)=>{i=async u=>{s(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:i,reject:e}}var Xa=Z.createContext(null);Xa.displayName="DataRouter";var Xu=Z.createContext(null);Xu.displayName="DataRouterState";var zp=Z.createContext({isTransitioning:!1});zp.displayName="ViewTransition";var yT=Z.createContext(new Map);yT.displayName="Fetchers";var KR=Z.createContext(null);KR.displayName="Await";var Zi=Z.createContext(null);Zi.displayName="Navigation";var _d=Z.createContext(null);_d.displayName="Location";var Ji=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Bp=Z.createContext(null);Bp.displayName="RouteError";function $R(i,{relative:e}={}){ot(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Z.useContext(Zi),{hash:o,pathname:u,search:h}=Wu(i,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Tr([t,u])),s.createHref({pathname:f,search:h,hash:o})}function hl(){return Z.useContext(_d)!=null}function Ir(){return ot(hl(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(_d).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _T(i){Z.useContext(Zi).static||Z.useLayoutEffect(i)}function Ed(){let{isDataRoute:i}=Z.useContext(Ji);return i?l1():QR()}function QR(){ot(hl(),"useNavigate() may be used only in the context of a <Router> component.");let i=Z.useContext(Xa),{basename:e,navigator:t}=Z.useContext(Zi),{matches:s}=Z.useContext(Ji),{pathname:o}=Ir(),u=JSON.stringify(yd(s)),h=Z.useRef(!1);return _T(()=>{h.current=!0}),Z.useCallback((p,g={})=>{if(dn(h.current,vT),!h.current)return;if(typeof p=="number"){t.go(p);return}let T=vd(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Tr([e,T.pathname])),(g.replace?t.replace:t.push)(T,g.state,g)},[e,t,u,o,i])}var YR=Z.createContext(null);function XR(i){let e=Z.useContext(Ji).outlet;return e&&Z.createElement(YR.Provider,{value:i},e)}function Wu(i,{relative:e}={}){let{matches:t}=Z.useContext(Ji),{pathname:s}=Ir(),o=JSON.stringify(yd(t));return Z.useMemo(()=>vd(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function WR(i,e,t,s){ot(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Z.useContext(Zi),{matches:h}=Z.useContext(Ji),f=h[h.length-1],p=f?f.params:{},g=f?f.pathname:"/",T=f?f.pathnameBase:"/",b=f&&f.route;{let q=b&&b.path||"";ET(g,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Ir(),I;I=w;let L=I.pathname||"/",X=L;if(T!=="/"){let q=T.replace(/^\//,"").split("/");X="/"+L.replace(/^\//,"").split("/").slice(q.length).join("/")}let H=!u&&t&&t.matches&&t.matches.length>0?t.matches:zs(i,{pathname:X});return dn(b||H!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),dn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),n1(H&&H.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Tr([T,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?T:Tr([T,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),h,t,s)}function ZR(){let i=o1(),e=Lu(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,h)}var JR=Z.createElement(ZR,null),e1=class extends Z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Z.createElement(Ji.Provider,{value:this.props.routeContext},Z.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t1({routeContext:i,match:e,children:t}){let s=Z.useContext(Xa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ji.Provider,{value:i},t)}function n1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:T,errors:b}=t,w=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let b,w=!1,I=null,L=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||JR,h&&(f<0&&T===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):f===T&&(w=!0,L=g.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,T+1)),H=()=>{let B;return b?B=I:w?B=L:g.route.Component?B=Z.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,Z.createElement(t1,{match:g,routeContext:{outlet:p,matches:X,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?Z.createElement(e1,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:H(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):H()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(i){let e=Z.useContext(Xa);return ot(e,Fp(i)),e}function r1(i){let e=Z.useContext(Xu);return ot(e,Fp(i)),e}function s1(i){let e=Z.useContext(Ji);return ot(e,Fp(i)),e}function Hp(i){let e=s1(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function a1(){return Hp("useRouteId")}function o1(){var s;let i=Z.useContext(Bp),e=r1("useRouteError"),t=Hp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function l1(){let{router:i}=i1("useNavigate"),e=Hp("useNavigate"),t=Z.useRef(!1);return _T(()=>{t.current=!0}),Z.useCallback(async(o,u={})=>{dn(t.current,vT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var p0={};function ET(i,e,t){!e&&!p0[i]&&(p0[i]=!0,dn(!1,t))}var g0={};function y0(i,e){!i&&!g0[e]&&(g0[e]=!0,console.warn(e))}function u1(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Z.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Z.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Z.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var c1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function h1({router:i,flushSync:e}){let[t,s]=Z.useState(i.state),[o,u]=Z.useState(),[h,f]=Z.useState({isTransitioning:!1}),[p,g]=Z.useState(),[T,b]=Z.useState(),[w,I]=Z.useState(),L=Z.useRef(new Map),X=Z.useCallback((ne,{deletedFetchers:pe,flushSync:ae,viewTransitionOpts:z})=>{ne.fetchers.forEach((x,R)=>{x.data!==void 0&&L.current.set(R,x.data)}),pe.forEach(x=>L.current.delete(x)),y0(ae===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(y0(z==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!O){e&&ae?e(()=>s(ne)):Z.startTransition(()=>s(ne));return}if(e&&ae){e(()=>{T&&(p&&p.resolve(),T.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let x=i.window.document.startViewTransition(()=>{e(()=>s(ne))});x.finished.finally(()=>{e(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>b(x));return}T?(p&&p.resolve(),T.skipTransition(),I({state:ne,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(u(ne),f({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[i.window,e,T,p]);Z.useLayoutEffect(()=>i.subscribe(X),[i,X]),Z.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new c1)},[h]),Z.useEffect(()=>{if(p&&o&&i.window){let ne=o,pe=p.promise,ae=i.window.document.startViewTransition(async()=>{Z.startTransition(()=>s(ne)),await pe});ae.finished.finally(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})}),b(ae)}},[o,p,i.window]),Z.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,T,t.location,o]),Z.useEffect(()=>{!h.isTransitioning&&w&&(u(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[h.isTransitioning,w]);let H=Z.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ne=>i.navigate(ne),push:(ne,pe,ae)=>i.navigate(ne,{state:pe,preventScrollReset:ae==null?void 0:ae.preventScrollReset}),replace:(ne,pe,ae)=>i.navigate(ne,{replace:!0,state:pe,preventScrollReset:ae==null?void 0:ae.preventScrollReset})}),[i]),B=i.basename||"/",q=Z.useMemo(()=>({router:i,navigator:H,static:!1,basename:B}),[i,H,B]);return Z.createElement(Z.Fragment,null,Z.createElement(Xa.Provider,{value:q},Z.createElement(Xu.Provider,{value:t},Z.createElement(yT.Provider,{value:L.current},Z.createElement(zp.Provider,{value:h},Z.createElement(p1,{basename:B,location:t.location,navigationType:t.historyAction,navigator:H},Z.createElement(d1,{routes:i.routes,future:i.future,state:t})))))),null)}var d1=Z.memo(f1);function f1({routes:i,future:e,state:t}){return WR(i,void 0,t,e)}function m1({to:i,replace:e,state:t,relative:s}){ot(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext(Zi);dn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Z.useContext(Ji),{pathname:h}=Ir(),f=Ed(),p=vd(i,yd(u),h,s==="path"),g=JSON.stringify(p);return Z.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:s})},[f,g,s,e,t]),null}function TT(i){return XR(i.context)}function p1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=Z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=cs(t));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:w="default"}=t,I=Z.useMemo(()=>{let L=Xi(p,h);return L==null?null:{location:{pathname:L,search:g,hash:T,state:b,key:w},navigationType:s}},[h,p,g,T,b,w,s]);return dn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:Z.createElement(Zi.Provider,{value:f},Z.createElement(_d.Provider,{children:e,value:I}))}var Mh="get",Ph="application/x-www-form-urlencoded";function Td(i){return i!=null&&typeof i.tagName=="string"}function g1(i){return Td(i)&&i.tagName.toLowerCase()==="button"}function y1(i){return Td(i)&&i.tagName.toLowerCase()==="form"}function v1(i){return Td(i)&&i.tagName.toLowerCase()==="input"}function _1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function E1(i,e){return i.button===0&&(!e||e==="_self")&&!_1(i)}var wh=null;function T1(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var b1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(i){return i!=null&&!b1.has(i)?(dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):i}function S1(i,e){let t,s,o,u,h;if(y1(i)){let f=i.getAttribute("action");s=f?Xi(f,e):null,t=i.getAttribute("method")||Mh,o=Km(i.getAttribute("enctype"))||Ph,u=new FormData(i)}else if(g1(i)||v1(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(s=p?Xi(p,e):null,t=i.getAttribute("formmethod")||f.getAttribute("method")||Mh,o=Km(i.getAttribute("formenctype"))||Km(f.getAttribute("enctype"))||Ph,u=new FormData(f,i),!T1()){let{name:g,type:T,value:b}=i;if(T==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Td(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,s=null,o=Ph,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function qp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function A1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await A1(u,t);return h.links?h.links():[]}return[]}));return D1(s.flat(1).filter(w1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>{var T;return t[g].pathname!==p.pathname||((T=t[g].route.path)==null?void 0:T.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||f(p,g)):u==="data"?e.filter((p,g)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function x1(i,e,{includeHydrateFallback:t}={}){return C1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function C1(i){return[...new Set(i)]}function I1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function D1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(I1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function N1(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function O1(){let i=Z.useContext(Xa);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function M1(){let i=Z.useContext(Xu);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gp=Z.createContext(void 0);Gp.displayName="FrameworkContext";function bT(){let i=Z.useContext(Gp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function P1(i,e){let t=Z.useContext(Gp),[s,o]=Z.useState(!1),[u,h]=Z.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,w=Z.useRef(null);Z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let X=B=>{B.forEach(q=>{h(q.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[i]),Z.useEffect(()=>{if(s){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[s]);let I=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:vu(f,I),onBlur:vu(p,L),onMouseEnter:vu(g,I),onMouseLeave:vu(T,L),onTouchStart:vu(b,I)}]:[!1,w,{}]}function vu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function V1({page:i,...e}){let{router:t}=O1(),s=Z.useMemo(()=>zs(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?Z.createElement(j1,{page:i,matches:s,...e}):null}function k1(i){let{manifest:e,routeModules:t}=bT(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return R1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function j1({page:i,matches:e,...t}){let s=Ir(),{manifest:o,routeModules:u}=bT(),{loaderData:h,matches:f}=M1(),p=Z.useMemo(()=>v0(i,e,f,o,s,"data"),[i,e,f,o,s]),g=Z.useMemo(()=>v0(i,e,f,o,s,"assets"),[i,e,f,o,s]),T=Z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let I=new Set,L=!1;if(e.forEach(H=>{var q;let B=o.routes[H.route.id];!B||!B.hasLoader||(!p.some(ne=>ne.route.id===H.route.id)&&H.route.id in h&&((q=u[H.route.id])!=null&&q.shouldRevalidate)||B.hasClientLoader?L=!0:I.add(H.route.id))}),I.size===0)return[];let X=N1(i);return L&&I.size>0&&X.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[X.pathname+X.search]},[h,s,o,p,e,i,u]),b=Z.useMemo(()=>x1(g,o),[g,o]),w=k1(g);return Z.createElement(Z.Fragment,null,T.map(I=>Z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>Z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),w.map(({key:I,link:L})=>Z.createElement("link",{key:I,...L})))}function L1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ST&&(window.__reactRouterVersion="7.2.0")}catch{}function U1(i,e){return xR({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Ww({window:e==null?void 0:e.window}),hydrationData:z1(),routes:i,mapRouteProperties:u1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function z1(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:B1(i.errors)}),i}function B1(i){if(!i)return null;let e=Object.entries(i),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new Qh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",t[s]=h}catch{}}if(t[s]==null){let u=new Error(o.message);u.stack="",t[s]=u}}else t[s]=o;return t}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qi=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:p,to:g,preventScrollReset:T,viewTransition:b,...w},I){let{basename:L}=Z.useContext(Zi),X=typeof g=="string"&&AT.test(g),H,B=!1;if(typeof g=="string"&&X&&(H=g,ST))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Xi(N.pathname,L);N.origin===R.origin&&V!=null?g=V+N.search+N.hash:B=!0}catch{dn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=$R(g,{relative:o}),[ne,pe,ae]=P1(s,w),z=G1(g,{replace:h,state:f,target:p,preventScrollReset:T,relative:o,viewTransition:b});function O(R){e&&e(R),R.defaultPrevented||z(R)}let x=Z.createElement("a",{...w,...ae,href:H||q,onClick:B||u?e:O,ref:L1(I,pe),target:p,"data-discover":!X&&t==="render"?"true":void 0});return ne&&!X?Z.createElement(Z.Fragment,null,x,Z.createElement(V1,{page:q})):x});Qi.displayName="Link";var F1=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:p,...g},T){let b=Wu(h,{relative:g.relative}),w=Ir(),I=Z.useContext(Xu),{navigator:L,basename:X}=Z.useContext(Zi),H=I!=null&&X1(b)&&f===!0,B=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,q=w.pathname,ne=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(q=q.toLowerCase(),ne=ne?ne.toLowerCase():null,B=B.toLowerCase()),ne&&X&&(ne=Xi(ne,X)||ne);const pe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ae=q===B||!o&&q.startsWith(B)&&q.charAt(pe)==="/",z=ne!=null&&(ne===B||!o&&ne.startsWith(B)&&ne.charAt(B.length)==="/"),O={isActive:ae,isPending:z,isTransitioning:H},x=ae?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ae?"active":null,z?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return Z.createElement(Qi,{...g,"aria-current":x,className:R,ref:T,style:N,to:h,viewTransition:f},typeof p=="function"?p(O):p)});F1.displayName="NavLink";var H1=Z.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Mh,action:f,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...w},I)=>{let L=Q1(),X=Y1(f,{relative:g}),H=h.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&AT.test(f),q=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,ae=(pe==null?void 0:pe.getAttribute("formmethod"))||h;L(pe||ne.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return Z.createElement("form",{ref:I,method:H,action:X,onSubmit:s?p:q,...w,"data-discover":!B&&i==="render"?"true":void 0})});H1.displayName="Form";function q1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(i){let e=Z.useContext(Xa);return ot(e,q1(i)),e}function G1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=Ed(),p=Ir(),g=Wu(i,{relative:u});return Z.useCallback(T=>{if(E1(T,e)){T.preventDefault();let b=t!==void 0?t:Zs(p)===Zs(g);f(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,f,g,t,s,e,i,o,u,h])}var K1=0,$1=()=>`__${String(++K1)}__`;function Q1(){let{router:i}=wT("useSubmit"),{basename:e}=Z.useContext(Zi),t=a1();return Z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:p,body:g}=S1(s,e);if(o.navigate===!1){let T=o.fetcherKey||$1();await i.fetch(T,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Y1(i,{relative:e}={}){let{basename:t}=Z.useContext(Zi),s=Z.useContext(Ji);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wu(i||".",{relative:e})},h=Ir();if(i==null){u.search=h.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(T=>T==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let T=f.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),Zs(u)}function X1(i,e={}){let t=Z.useContext(zp);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wT("useViewTransitionState"),o=Wu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Xi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Xi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return $h(o.pathname,h)!=null||$h(o.pathname,u)!=null}new TextEncoder;var W1=oT();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z1(i){return Z.createElement(h1,{flushSync:W1.flushSync,...i})}const J1="_header_13y8r_1",ex="_authDataContainer_13y8r_22",tx="_open_13y8r_34",nx="_logo_13y8r_38",ix="_overlay_13y8r_44",rx="_menuContainer_13y8r_54",sx="_menuButton_13y8r_66",ax="_nav_13y8r_74",ox="_link_13y8r_80",lx="_main_13y8r_90",Oi={header:J1,authDataContainer:ex,open:tx,logo:nx,overlay:ix,menuContainer:rx,menuButton:sx,nav:ax,link:ox,main:lx},RT=Z.createContext(null),Zu=()=>{const i=Z.useContext(RT);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},ux="_button_1m3zb_1",cx="_backdrop_1m3zb_5",hx="_modal_1m3zb_18",dx="_actions_1m3zb_29",fx="_confirmButton_1m3zb_35",mx="_cancelButton_1m3zb_43",Fo={button:ux,backdrop:cx,modal:hx,actions:dx,confirmButton:fx,cancelButton:mx},xT=({buttonText:i,modalTitle:e,modalDescription:t,confirmText:s="Підтвердити",cancelText:o="Скасувати",onConfirm:u})=>{const[h,f]=Z.useState(!1),p=Z.useRef(null);Z.useEffect(()=>{const b=w=>{w.key==="Escape"&&f(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),Z.useEffect(()=>{h&&p.current&&p.current.focus()},[h]);const g=b=>{p.current&&!p.current.contains(b.target)&&f(!1)},T=()=>{u(),f(!1)};return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:Fo.button,onClick:()=>f(!0),children:i}),h&&y.jsx("div",{className:Fo.backdrop,onClick:g,children:y.jsxs("div",{className:Fo.modal,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-desc",tabIndex:-1,ref:p,children:[y.jsx("h2",{id:"modal-title",children:e}),y.jsx("p",{id:"modal-desc",children:t}),y.jsxs("div",{className:Fo.actions,children:[y.jsx("button",{onClick:T,className:Fo.confirmButton,children:s}),y.jsx("button",{onClick:()=>f(!1),className:Fo.cancelButton,children:o})]})]})})]})},px="_title_1ugut_1",gx={title:px},yx=()=>y.jsx("div",{className:gx.title,children:"Інформація"});function vx(){const[i,e]=Z.useState(!1),{userData:t,logout:s}=Zu(),o=Ir();return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`${Oi.header} ${i?Oi.open:""}`,children:[y.jsxs("div",{children:[y.jsx("div",{className:Oi.logo,children:y.jsx("h1",{children:"Життєвий капітал"})}),y.jsx("nav",{children:y.jsxs("ul",{className:Oi.nav,children:[y.jsx("li",{children:y.jsx(Qi,{to:"/",className:Oi.link,onClick:()=>e(!1),children:"Інформація"})}),y.jsx("li",{children:y.jsx(Qi,{to:"/rules",className:Oi.link,onClick:()=>e(!1),children:"Правила"})}),y.jsx("li",{children:y.jsx(Qi,{to:"/games",className:Oi.link,onClick:()=>e(!1),children:"Мої ігри"})})]})})]}),y.jsx("div",{className:Oi.authDataContainer,children:t?y.jsxs(y.Fragment,{children:[y.jsx("p",{children:t.displayName}),y.jsx(xT,{buttonText:"Вийти",modalTitle:"Підтвердження виходу",modalDescription:"Ви впевнені, що хочете вийти?",confirmText:"Так, вийти",cancelText:"Залишитися",onConfirm:s})]}):y.jsx(Qi,{to:"./login",children:"Увійти"})})]}),i&&y.jsx("div",{className:Oi.overlay,onClick:()=>e(!1)}),y.jsxs("main",{className:Oi.main,children:[y.jsxs("div",{className:Oi.menuContainer,children:[y.jsx("button",{className:Oi.menuButton,onClick:()=>e(!0),children:y.jsxs("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M4 18L20 18",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 12L20 12",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),y.jsx("path",{d:"M4 6L20 6",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"})]})}),y.jsx("p",{children:"Життєвий капітал"})]}),o.pathname==="/"?y.jsx(yx,{}):y.jsx(TT,{})]})]})}const _x="_table_hq37l_1",_u={table:_x},_0=[{profession:"Дизайнер",salary:500,children:1,assets:{deposit:0,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:190,totalExpenses:310,otherExpenses:0,childExpenses:60,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Інженер",salary:900,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:5e3,intellectualPropertyIncome:59},costs:{incomeTax:80,utilities:80,householdExpenses:260,totalExpenses:420,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:43e3,interest:140},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2700,interest:100},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Викладач",salary:600,children:0,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:1e4,intellectualPropertyIncome:50},costs:{incomeTax:70,utilities:70,householdExpenses:190,totalExpenses:330,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:8e3,interest:120},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Кухар",salary:300,children:0,assets:{deposit:5e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:140,totalExpenses:230,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:2450,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Менеджер",salary:1100,children:2,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:100,utilities:80,householdExpenses:360,totalExpenses:540,otherExpenses:0,childExpenses:100,credits:{realEstate:{amountOfCredit:7e4,interest:180},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:900,interest:50},furniture:{amountOfCredit:1500,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Лікар",salary:600,children:1,assets:{deposit:3e3,gold:2e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:70,utilities:60,householdExpenses:180,totalExpenses:310,otherExpenses:0,childExpenses:80,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Дистриб`ютор",salary:1e3,children:1,assets:{deposit:3e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:90,householdExpenses:390,totalExpenses:570,otherExpenses:0,childExpenses:110,credits:{realEstate:{amountOfCredit:8e4,interest:220},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Підприємець",salary:1200,children:2,assets:{deposit:4e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:90,utilities:100,householdExpenses:380,totalExpenses:570,otherExpenses:0,childExpenses:120,credits:{realEstate:{amountOfCredit:45e3,interest:100},car:{amountOfCredit:7e3,interest:140},machinery:{amountOfCredit:1700,interest:50},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Водій",salary:700,children:2,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:80,householdExpenses:200,totalExpenses:360,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:0,interest:0},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Будівельник",salary:1500,children:2,assets:{deposit:4e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:180,utilities:120,householdExpenses:430,totalExpenses:730,otherExpenses:0,childExpenses:130,credits:{realEstate:{amountOfCredit:9e4,interest:200},car:{amountOfCredit:12e3,interest:150},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:2e3,interest:60},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Працівник банку",salary:600,children:1,assets:{deposit:2e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:50,utilities:70,householdExpenses:220,totalExpenses:340,otherExpenses:0,childExpenses:70,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:5e3,interest:80},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1e3,interest:30},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Офісний працівник",salary:400,children:1,assets:{deposit:2e3,gold:0,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:40,utilities:50,householdExpenses:150,totalExpenses:240,otherExpenses:0,childExpenses:50,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:0,interest:0},machinery:{amountOfCredit:1300,interest:40},furniture:{amountOfCredit:1200,interest:40},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Програміст",salary:2e3,children:1,assets:{deposit:0,gold:3e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:200,utilities:150,householdExpenses:650,totalExpenses:1e3,otherExpenses:0,childExpenses:150,credits:{realEstate:{amountOfCredit:9e4,interest:250},car:{amountOfCredit:25e3,interest:300},machinery:{amountOfCredit:7e3,interest:250},furniture:{amountOfCredit:2e3,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}},{profession:"Військовослужбовець",salary:800,children:2,assets:{deposit:3e3,gold:1e3,savingsInsurance:0,riskInsurance:0,intellectualProperty:0,intellectualPropertyIncome:0},costs:{incomeTax:80,utilities:70,householdExpenses:260,totalExpenses:410,otherExpenses:0,childExpenses:90,credits:{realEstate:{amountOfCredit:0,interest:0},car:{amountOfCredit:6e3,interest:100},machinery:{amountOfCredit:0,interest:0},furniture:{amountOfCredit:1400,interest:50},otherCredits:{amountOfCredit:0,interest:0}}}}],Ex=()=>{const[i,e]=Z.useState(()=>{const s=localStorage.getItem("selectedLegend");return s?JSON.parse(s):null}),t=()=>{const s=Math.floor(Math.random()*_0.length),o=_0[s];e(o),localStorage.setItem("selectedLegend",JSON.stringify(o))};return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"container",children:[y.jsx("button",{onClick:t,children:"Отримати легенду"}),i?y.jsxs("div",{style:{width:"100%"},className:"container",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Загальна інформація"}),y.jsx("table",{className:_u.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Професія"}),y.jsx("td",{className:"summary-td",children:i.profession})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Оплата праці"}),y.jsx("td",{className:"summary-td",children:i.salary})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Кількість дітей"}),y.jsx("td",{className:"summary-td",children:i.children})]})]})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Активи"}),y.jsx("table",{className:_u.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Депозитний банківський рахунок"}),y.jsx("td",{className:"summary-td",children:i.assets.deposit})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Банківське золото"}),y.jsx("td",{className:"summary-td",children:i.assets.gold})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Накопичувальне страхування"}),y.jsx("td",{className:"summary-td",children:i.assets.savingsInsurance})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Ризикове страхування"}),y.jsx("td",{className:"summary-td",children:i.assets.riskInsurance})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Інтелектуальна власність"}),y.jsx("td",{className:"summary-td",children:i.assets.intellectualProperty})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Інтелектуальна власність ПД"}),y.jsx("td",{className:"summary-td",children:i.assets.intellectualPropertyIncome})]})]})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Витрати"}),y.jsx("table",{className:_u.table,children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні побутові витрати"}),y.jsx("td",{className:"summary-td",children:i.costs.totalExpenses})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Додаткові витрати"}),y.jsx("td",{className:"summary-td",children:i.costs.otherExpenses})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Витрати на одну дитину"}),y.jsx("td",{className:"summary-td",children:i.costs.childExpenses})]})]})})]}),y.jsx("div",{children:y.jsxs("table",{className:_u.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Кредити"}),y.jsx("th",{children:"Сума кредита"}),y.jsx("th",{children:"Сплата, %"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{children:"На нерухомість"}),y.jsx("td",{children:i.costs.credits.realEstate.amountOfCredit}),y.jsx("td",{children:i.costs.credits.realEstate.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На автомобіль"}),y.jsx("td",{children:i.costs.credits.car.amountOfCredit}),y.jsx("td",{children:i.costs.credits.car.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На побутову техніку"}),y.jsx("td",{children:i.costs.credits.machinery.amountOfCredit}),y.jsx("td",{children:i.costs.credits.machinery.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"На меблі"}),y.jsx("td",{children:i.costs.credits.furniture.amountOfCredit}),y.jsx("td",{children:i.costs.credits.furniture.interest})]}),y.jsxs("tr",{children:[y.jsx("td",{children:"Інші кредити"}),y.jsx("td",{children:i.costs.credits.otherCredits.amountOfCredit}),y.jsx("td",{children:i.costs.credits.otherCredits.interest})]})]})]})})]}):y.jsx("div",{className:_u.container,children:y.jsx("h2",{className:"table-header",children:"Отримайте легенду натиснувши на кнопку"})})]})})},Tx="_searchInvestmentForm_1ydmn_1",bx="_investmentInfoContainer_1ydmn_15",Sx="_boughtInvestmentList_1ydmn_32",Ho={searchInvestmentForm:Tx,investmentInfoContainer:bx,boughtInvestmentList:Sx},Ax=({row:i,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:i.code,onChange:s=>t(e,"code",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.packetCoast,onChange:s=>t(e,"packetCoast",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.sharePrice,onChange:s=>t(e,"sharePrice",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.numberOfShares,onChange:s=>t(e,"numberOfShares",s.target.value)})})]}),$m=({investment:i})=>y.jsxs("table",{children:[y.jsx("thead",{children:y.jsx("tr",{children:i.type==="shares"?y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Ціна акцій сьогодні"}),y.jsx("th",{children:"Діапазон цін"})]}):i.type==="currency"?y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Курс"}),y.jsx("th",{children:"Діапазон цін"})]}):y.jsxs(y.Fragment,{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Перший внесок"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Інвестор"}),y.jsx("th",{children:"ПД"})]})})}),y.jsx("tbody",{children:y.jsx("tr",{children:i.type==="shares"?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:i.currentlyPrice}),y.jsx("td",{children:i.priceRange})]}):i.type==="currency"?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:i.exchangeRate}),y.jsx("td",{children:i.priceRange})]}):y.jsxs(y.Fragment,{children:[y.jsx("td",{children:i.code}),y.jsx("td",{children:i.firstPayment}),y.jsx("td",{children:i.cost}),y.jsx("td",{children:i.credit}),y.jsx("td",{children:i.passiveIncome})]})})})]}),Qm=[{type:"shares",id:"МІ30",currentlyPrice:10,priceRange:"1-20",title:'Акції "АгроСектор" (АС)',description:"Фінансове становище зміцнюється завдяки ефективним технологіям і розширення ринку збиту продукції, курсова вартість акцій підвищується до 10! Сьогодні кожен може придбати або продати акції за цією ціною."},{type:"business",id:"МІ17",code:"ПЗ",cost:6e3,firstPayment:6e3,credit:0,passiveIncome:460,title:"Програмне забезпечення (ПЗ)",description:`Відкрийте фірму із створення програмного забезпечення. 
Використайте цю можливість самостійно або запропонуйте її іншому гравцеві`},{type:"currency",id:"МІ20",exchangeRate:"0.25",priceRange:"0.25-4",title:"Курс євро (Є)",description:"Міжнародна політична ситуація вплинула на падіння цін на євро. Зараз кожен має можливість купити 1 євро за 0.25"},{type:"business",id:"МІ13",code:"ОВ",cost:9e3,firstPayment:1500,credit:7500,passiveIncome:120,title:"Пункт обміну валюти (ОВ)",description:"Продається пункт обміну валюти. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"shares",id:"МІ28",currentlyPrice:1,priceRange:"1-20",title:"Акції «АгроСектор» (АС)",description:"Конкуренція за ринок збуту призвела до різкого падіння цін на акції. Лише Ви можете купити або продати акції за цією ціною."},{type:"shares",id:"МІ24",currentlyPrice:2,priceRange:"2-30",title:"Пайовий інвестиційний фонд (ПІФ)",description:"Економічні показники в країні погіршились, вартість паю зменшилась і становить лише 2. Лише Ви можете купити або продати акції за цією ціною."},{type:"shares",id:"МІ25",currentlyPrice:5,priceRange:"2-30",title:"Пайовий інвестиційний фонд (ПІФ)",description:"У зв`язку з економічною ситуацією, сьогодні вартість паю становить 5. Кожен сьогодні може купити або продати ПІФ за цією ціною."},{type:"shares",id:"МІ26",currentlyPrice:15,priceRange:"2-30",title:"Пайовий інвестиційний фонд (ПІФ)",description:"Пайовий інвестиційний фонд пропонує інвесторам придбати паї по 15. Кожен сьогодні може купити або продати ПІФ за цією ціною."},{type:"shares",id:"МІ27",currentlyPrice:30,priceRange:"2-30",title:"Пайовий інвестиційний фонд (ПІФ)",description:"Менеджмент фонду за звітній період показав дуже гарний результат, прибудковість паю збільшилась. Кожен сьогодні може купити або продати ПІФ за цією ціною. Не змарнуйте свій шанс!"},{type:"shares",id:"МІ34",currentlyPrice:20,priceRange:"2-40",title:"Акції «ПромГрупа» (ПГ)",description:"Стабільність на ринку сприяє зростанню курсової вартості акції. Не змарнуйте свій шанс! Сьогодні кожен може купити або продати акції за цією ціною."},{type:"business",id:"МІ40",code:"К-1",cost:35e3,firstPayment:3300,credit:31700,passiveIncome:270,title:"1-кімнатна квартира (К-1)",description:"Сім`я продає свою квартиру та переїздить до нової. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 50 000."},{type:"business",id:"МІ4",code:"1ГА",cost:4e3,firstPayment:4e3,credit:0,passiveIncome:0,title:"1ГА землі (1ГА)",description:"Родич пропонує вам викупити у нього земельну ділянку за собівартістю. Надалі прогнозується зростання цін на землю. Лише ви можете скористатися цією можливістю"},{type:"business",id:"МІ47",code:"К-3",cost:58e3,firstPayment:5800,credit:52200,passiveIncome:360,title:"3-кімнатна квартира (К-3)",description:"Фірма продає квартиру в жилому стані. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 100 000."},{type:"business",id:"МІ48",code:"К-3",cost:88e3,firstPayment:6e3,credit:82e3,passiveIncome:500,title:"3-кімнатна квартира (К-3)",description:"Продається чудова квартира в новому районі. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 100 000."},{type:"business",id:"МІ16",code:"АП",cost:2e4,firstPayment:5e3,credit:15e3,passiveIncome:460,title:"Аптека (АП)",description:"Ви маєте пропозицію придбати аптеку в спальному районі. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"shares",id:"МІ35",currentlyPrice:40,priceRange:"2-40",title:"Акції «ПромГрупа» (ПГ)",description:"Стабільність на ринку та підвищений попит на продукцію призвели до зростання курсової вартості акцій. Сьогодні кожен може купити або продати акції за цією ціною."},{type:"business",id:"МІ42",code:"К-2",cost:42e3,firstPayment:4200,credit:37800,passiveIncome:320,title:"2-кімнатна квартира (К-2)",description:"У сусідньому будинку виставлена на продаж квартира. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 70 000."},{type:"shares",id:"МІ29",currentlyPrice:5,priceRange:"1-20",title:"Акції «АгроСектор» (АС)",description:"Ціна на акції компанії в зв`язку з високою інфляцією стала різко падати. Сьогодні кожен може купити або продати акції за цією ціною."},{type:"business",id:"МІ46",code:"К-3",cost:65e3,firstPayment:0,credit:65e3,passiveIncome:-200,title:"3-кімнатна квартира (К-3)",description:"Продається квартира в старому фонді, потребує ремонту. Лише ви можете скористатися цією можливістю. Можлива ціна продажу в подальшому до 100 000."},{type:"business",id:"МІ1",code:"МО",cost:24e3,firstPayment:3500,credit:20500,passiveIncome:200,title:"Магазин одягу (МО*)",description:"Виставлений на продаж магазин брендового одягу в центрі міста. Використайте цю можливість самостійно, або запропонуйте її іншому гравцеві"},{type:"business",id:"МІ19",code:"СК",cost:18e3,firstPayment:4e3,credit:14e3,passiveIncome:280,title:"Салон краси (СК)",description:"Продається салон краси з великою клієнтською базою. Використайте цю можливість самостійно, або запропонуйте її іншому гравцеві"},{type:"business",id:"МІ18",code:"СТО",cost:3e4,firstPayment:6e3,credit:24e3,passiveIncome:350,title:"Станція технічного обслуговування (СТО)",description:"Ви маєте пропозицію створити станцію технічного обслуговування. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ49",code:"ВМ",cost:3e4,firstPayment:5e3,credit:25e3,passiveIncome:400,title:"Виробництво меблів (ВМ)",description:"Вам пропонують відкрити цех з виробництва якісних меблів за індивідуальним замовленням. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ43",code:"К-2",cost:45e3,firstPayment:4500,credit:40500,passiveIncome:360,title:"2-кімнатна квартира (К-2)",description:"Продається квартира в новобудові .Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому - до 70000."},{type:"business",id:"МІ10",code:"ММ",cost:5e4,firstPayment:6e3,credit:44e3,passiveIncome:460,title:"Міні-маркет (ММ)",description:"Виставлений на продаж продуктовий міні-маркет на околиці міста. Використайте цю можливість самостійно або запропонуйте іншому гравцеві."},{type:"business",id:"МІ6",code:"МК",cost:2e4,firstPayment:4e3,credit:16e3,passiveIncome:240,title:"Міні-кав`ярня (МК)",description:"Відкрийте міні-кав`ярню в студентському містечку. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ37",code:"К-1",cost:27e3,firstPayment:3e3,credit:24e3,passiveIncome:200,title:"1-кімнатна квартира (К-1)",description:"Виставляється на продаж 1-кімнатна квартира. Тільки Ви можете скористатися цією пропозицією. Можлива ціна продажу в подальшому до 50 000."},{type:"business",id:"МІ38",code:"К-1",cost:32e3,firstPayment:3e3,credit:29e3,passiveIncome:210,title:"1-кімнатна квартира (К-1)",description:"Власник вирішив жити за містом, виставляє на продаж свою однокімнатну квартиру. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 55 000."},{type:"business",id:"МІ11",code:"ІМ",cost:9e3,firstPayment:3e3,credit:6e3,passiveIncome:300,title:"Інтернет-магазин (ІМ)",description:"Створіть власний інтернет-магазин. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ36",code:"К-1",cost:2e4,firstPayment:2e3,credit:18e3,passiveIncome:120,title:"1-кімнатна квартира (К-1)",description:"Сім`я продає свою квартиру та переїздить до нової. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 55 000."},{type:"business",id:"МІ45",code:"К-2",cost:46e3,firstPayment:4800,credit:41200,passiveIncome:380,title:"2-кімнатна квартира (К-2)",description:"Продається гарна квартира в новобудові. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 70 000."},{type:"business",id:"МІ2",code:"ГР",cost:2e3,firstPayment:2e3,credit:0,passiveIncome:160,title:"Гараж (ГР)",description:"Вам пропонують купити гараж із 2 боксів для надання в оренду. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ5",code:"MLM",cost:400,firstPayment:400,credit:0,passiveIncome:100,title:"Створіть власний бізнес (MLM)",description:"Вашій родині пропонується підписати бізнес-контракт з компанією мережевого маркетингу для створення свого бізнесу."},{type:"business",id:"МІ12",code:"РТ",cost:5e3,credit:3500,firstPayment:1500,passiveIncome:100,title:"Ремонт побутової техніки (РТ)",description:"Придбайте майстерню з ремонту побутової техніки. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ41",code:"К-2",cost:38e3,credit:33e3,firstPayment:5e3,passiveIncome:400,title:"2-кімнатна квартира (К-2)",description:"Ваш знайомий переїздить до іншого міста і пропонує Вам свою квартиру за пільговою ціною. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 70 000."},{type:"business",id:"МІ14",code:"ПП",cost:8e3,credit:5e3,firstPayment:3e3,passiveIncome:250,title:"Пункт побутових послуг (ПП)",description:"Продається пункт побутових послуг в житловому кварталі. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ44",code:"К-2",cost:48e3,credit:43200,firstPayment:4800,passiveIncome:480,title:"2-кімнатна квартира (К-2)",description:"Продається гарна квартира в новобудові. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 70 000."},{type:"business",id:"МІ7",code:"МП",cost:1e4,credit:6500,firstPayment:3500,passiveIncome:250,title:"Магазин промтоварів (МП)",description:"Виставлений на продаж магазин промтоварів в центрі міста. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ8",code:"ІВ",cost:5e3,credit:0,firstPayment:5e3,passiveIncome:400,title:"Інтелектуальна власність (ІВ)",description:"Ви маєте можливість придбати патент на об`єкт інтелектуальної власності. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"currency",id:"МІ21",exchangeRate:"0.5",priceRange:"0.25-4",title:"Курс євро (€)",description:"Нестабільна фінансова ситуація в країні привела до зміни ціни на євро. Кожен може купити 1 євро за 0.5. Кожен може купити або продати за цією ціною"},{type:"business",id:"МІ15",code:"ЛА",cost:7e3,credit:4e3,firstPayment:3e3,passiveIncome:180,title:"Легковий автомобіль (ЛА)",description:"Ви маєте пропозицію придбати легковий автомобіль для надання його в оренду службі таксі. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ52",code:"ФЗ",cost:25e3,credit:2e4,firstPayment:5e3,passiveIncome:380,title:"Фітнес-зала (ФЗ)",description:"Відкрийте в своєму районі фітнес-зал для популяризації спорту і здорового способу життя. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ3",code:"РК",cost:6e3,credit:0,firstPayment:6e3,passiveIncome:420,title:"Ремонт квартир (РК)",description:"Вам пропонують відкрити підприємство по ремонту квартир і найняти робітників будівельних спеціальностей. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ9",code:"2ГА",cost:12e3,credit:1e4,firstPayment:2e3,passiveIncome:-50,title:"2ГА землі під забудову (2ГА)",description:"Виставлена на продаж земельна ділянка під забудову. Очікується будівництво супермаркету, ймовірна ціна ділянки зросте в 2-3 рази. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"МІ50",code:"ТФ",cost:3e4,credit:25e3,firstPayment:5e3,passiveIncome:480,title:"Туристична фірма (ТФ)",description:"Відкрийте в своєму місті туристичну фірму. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"shares",id:"МІ33",currentlyPrice:5,priceRange:"2-40",title:"Акції «ПромГрупа» (ПГ)",description:"Ціна на акції компанії в зв`язку з високою інфляцією стала різко знижуватися. Сьогодні кожен може купити або продати акції за цією ціною."},{type:"business",id:"МІ51",code:"ЮФ",cost:6e3,credit:0,firstPayment:6e3,passiveIncome:440,title:"Юридична фірма (ЮФ)",description:"У вас з'явилася можливість створити власну юридичну фірму. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"currency",id:"МІ22",exchangeRate:"1",priceRange:"0,25-4",title:"Курс євро (€)",description:"Криза в країні вплинула на зростання ціни на євро. Кожен може отримати за 1 євро 1. Кожен може купити або продати за цією ціною"},{type:"shares",id:"МІ31",currentlyPrice:20,priceRange:"1-20",title:"Акції «АгроСектор» (АС)",description:"Компанія повідомляє про різке зростання цін на акції. Кожен можете купити або продати акції за цією ціною. Не змарнуйте свій шанс!"},{type:"shares",id:"МІ32",currentlyPrice:2,priceRange:"2-40",title:"Акції «ПромГрупа» (ПГ)",description:"Ситуація в промисловому секторі призвела до різкого зниження цін на акції. Тільки Ви можете купити або продати акції за цією ціною."},{type:"business",id:"МІ39",code:"К-1",cost:4e4,credit:36e3,firstPayment:4e3,passiveIncome:320,title:"1-кімнатна квартира (К-1)",description:"Сім`я переїжджає в нову трикімнатну квартиру і продає свою 1-кімнатну квартиру з якісним сучасним ремонтом. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 55 000."},{type:"currency",id:"МІ23",exchangeRate:"4",priceRange:"0,25-4",title:"Курс євро (€)",description:"Криза в країні вплинула на зростання ціни на євро. Кожен може отримати за 1 євро 4. Кожен може купити або продати за цією ціною. Не змарнуйте свій шанс"}],Ym=[{type:"business",id:"ВІ14",code:"КС",cost:18e4,firstPayment:3e4,credit:15e4,passiveIncome:1400,title:"Клініка стоматології (КС*)",description:`Ви можете придбати сучасну клініку стоматології із великою клієнтською базою 
Використайте цю можливість самостійно або запропонуйте її іншому гравцеві`},{type:"business",id:"ВІ36",code:"Б-4",cost:155e3,firstPayment:2e4,credit:135e3,passiveIncome:1e3,title:"Будинок на 4 сім`ї (Б-4)",description:"Виставлений на продаж будинок на 4 сім`ї в центрі міста \nВикористайте цю можливість самостійно або запропонуйте її іншому гравцеві Можлива ціна продажу в подальшому - до 240000"},{type:"business",id:"ВІ23",code:"ОЦ-12",cost:5e5,firstPayment:5e4,credit:45e4,passiveIncome:3500,title:"Офісний центр (ОЦ-12)",description:`Виставлена на продаж дванадцяти-поверхова офісна будівля в центрі міста 
Використайте цю можливість самостійно або запропонуйте її іншому гравцеві Можлива ціна продажу в подальшому - до 1200000`},{type:"business",id:"ВІ10",code:"ПК",cost:4e4,firstPayment:15e3,credit:25e3,passiveIncome:750,title:"Пейнтбольний комплекс (ПК*)",description:"Продається пейнтбольний комплекс із високою дохідністю. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ25",code:"К-3",cost:65e3,firstPayment:8e3,credit:57e3,passiveIncome:450,title:"3-кімнатна квартира (К-3)",description:"Продається квартира в історичному центрі міста. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 100000."},{type:"business",id:"ВІ26",code:"К-3",cost:7e4,firstPayment:9e3,credit:61e3,passiveIncome:500,title:"3-кімнатна квартира (К-3)",description:"Продається чудова квартира в промисловому районі. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 100000."},{type:"business",id:"ВІ27",code:"К-3",cost:75e3,firstPayment:1e4,credit:65e3,passiveIncome:-100,title:"3-кімнатна квартира (К-3)",description:"Продається чудова квартира в новому районі неподалік від школи та дитячого садочка. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 115000."},{type:"business",id:"ВІ28",code:"К-3",cost:8e4,firstPayment:12e3,credit:68e3,passiveIncome:600,title:"3-кімнатна квартира (К-3)",description:"Продається квартира в жилому стані на околиці Києва. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 100000."},{type:"business",id:"ВІ12",code:"ІК",cost:8e4,firstPayment:2e4,credit:6e4,passiveIncome:1e3,title:"Інтернет-кафе (ІК*)",description:"Власник інтернет-кафе продає свій бізнес. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ32",code:"Б-2",cost:7e4,firstPayment:1e4,credit:6e4,passiveIncome:720,title:"Будинок на 2 сім`ї (Б-2)",description:"Власник вирішив змінити місце проживання і виставив будинок на продаж. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 110000."},{type:"business",id:"ВІ33",code:"Б-2",cost:77e3,firstPayment:12e3,credit:65e3,passiveIncome:780,title:"Будинок на 2 сім`ї (Б-2)",description:"В елітному районі продається будинок. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 110000."},{type:"business",id:"ВІ7",code:"ДМ",cost:4e4,firstPayment:2e4,credit:2e4,passiveIncome:950,title:"Дизайнерська майстерня (ДМ*)",description:"Власник продає дизайнерську майстерню. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ8",code:"СІ",cost:35e3,firstPayment:35e3,credit:0,passiveIncome:1e3,title:"Прокат спортивного інвентарю (СІ*)",description:"Ви можете придбати невеликий бізнес - прокат спортивного інвентарю біля зони відпочинку. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ17",code:"ТЦ",cost:12e4,firstPayment:4e4,credit:8e4,passiveIncome:1800,title:"Тренінговий центр (ТЦ*)",description:"Ви можете інвестувати свої кошти в розширення тренінгового центру. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ6",code:"СМ",cost:22e4,firstPayment:45e3,credit:175e3,passiveIncome:2250,title:"Супермаркет (СМ*)",description:"Вам пропонують відкрити великий супермаркет в новому мікрорайоні. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ18",code:"ЛЦ",cost:2e5,firstPayment:35e3,credit:165e3,passiveIncome:1600,title:"Лікувальний центр (ЛЦ*)",description:"Ви можете придбати відмінно обладнаний лікувальний центр із великою клієнтською базою. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ19",code:"КК",cost:15e4,firstPayment:25e3,credit:125e3,passiveIncome:1250,title:"Клініка косметологія (КК*)",description:"Виставлена на продаж клініка косметологія. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ15",code:"БЦ",cost:12e4,firstPayment:3e4,credit:9e4,passiveIncome:1300,title:"Б`юті-центр (БЦ*)",description:"Власниця модного б`юті-центру змінює місце проживання і продає свій бізнес. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ38",code:"Б-6",cost:25e4,credit:22e4,firstPayment:3e4,passiveIncome:1600,title:"Будинок на 6 сімей (Б-6)",description:"У приміській зоні продається будинок на 6 сімей. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 360000."},{type:"business",id:"ВІ40",code:"20ГА",cost:12e4,credit:6e4,firstPayment:6e4,passiveIncome:3e3,title:"20 га землі сільськогосподарського призначення (20га)",description:"Продається земельна ділянка площею 20 га сільськогосподарського призначення, яка приносить високий дохід. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ24",code:"5ГА",cost:15e3,credit:0,firstPayment:15e3,passiveIncome:-200,title:"5 га земельної ділянки під забудову (5га)",description:"В елітному районі продається земельна ділянка під забудову, надалі ціна має зрости в два-три рази. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ1",code:"ПЛ",cost:11e4,credit:9e4,firstPayment:2e4,passiveIncome:1e3,title:"Приватний ліцей (ПЛ*)",description:"Вам пропонують вкласти гроші у відкриття приватного ліцею для навчання дітей за надсучасними освітніми технологіями. Використайте цю можливість самі або запропонуйте іншому гравцеві."},{type:"business",id:"ВІ37",code:"Б-4",cost:18e4,credit:155e3,firstPayment:25e3,passiveIncome:1250,title:"Будинок на 4 сім`ї (Б-4)",description:"В тихому мікрорайоні продається будинок на 4 сім`ї. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 240000."},{type:"business",id:"ВІ11",code:"РН",cost:13e4,credit:1e5,firstPayment:3e4,passiveIncome:1400,title:"Ресторан (РН*)",description:"В парковій зоні відпочинку продається ресторан. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ4",code:"ВА",cost:15e4,credit:105e3,firstPayment:45e3,passiveIncome:2500,title:"Великовантажний автомобіль (ВА*)",description:"Продається великовантажний автомобіль з можливістю надавати його в оренду. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ9",code:"СШ",cost:35e3,credit:0,firstPayment:35e3,passiveIncome:1400,title:"Спортивна школа (СШ*)",description:"Вашому району необхідна спортивна школа. Вкладіть гроші в цей бізнес. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ31",code:"Б-2",cost:65e3,credit:57e3,firstPayment:8e3,passiveIncome:640,title:"Будинок на 2 сім`ї (Б-2)",description:"Власнику будинку терміново необхідні гроші і він виставив його на продаж. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 110000."},{type:"business",id:"ВІ34",code:"Б-2",cost:85e3,credit:7e4,firstPayment:15e3,passiveIncome:900,title:"Будинок на 2 сім`ї (Б-2)",description:"Неподалік від зони відпочинку продається повністю готовий будинок. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 120000."},{type:"business",id:"ВІ35",code:"Б-4",cost:14e4,credit:125e3,firstPayment:15e3,passiveIncome:850,title:"Будинок на 4 сім`ї (Б-4)",description:"Терміново продається будинок на 4 сім`ї. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 220000."},{type:"business",id:"ВІ3",code:"СБ",cost:7e4,credit:52e3,firstPayment:18e3,passiveIncome:900,title:"Суші-бар (СБ*)",description:"Вам пропонують придбати популярний суші-бар в людному місці. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ29",code:"К-3",cost:1e5,credit:93e3,firstPayment:7e3,passiveIncome:-50,title:"3-кімнатна квартира (К-3)",description:'Продається квартира із "будівельним" ремонтом в новому елітному будинку у центрі Львова. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 115000.'},{type:"business",id:"ВІ30",code:"К-3",cost:9e4,credit:7e4,firstPayment:2e4,passiveIncome:900,title:"3-кімнатна квартира (К-3)",description:"Продається квартира за кордоном. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 115000."},{type:"business",id:"ВІ39",code:"Б-6",cost:28e4,credit:245e3,firstPayment:35e3,passiveIncome:1800,title:"Будинок на 6 сімей (Б-6)",description:"Продається будинок на 6 сімей біля озера. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 360000."},{type:"business",id:"ВІ16",code:"РЦ",cost:2e5,credit:14e4,firstPayment:6e4,passiveIncome:2800,title:"Розважальний центр (РЦ*)",description:"Ви можете придбати новий розважальний центр для дітей та дорослих. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ20",code:"ОФ",cost:12e4,credit:1e5,firstPayment:2e4,passiveIncome:1400,title:"Офісне приміщення (ОФ)",description:"В діловому кварталі виставлене на продаж 3-ри кімнатне офісне приміщення із надсучасним дизайном. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ13",code:"ПР",cost:12e4,credit:8e4,firstPayment:4e4,passiveIncome:1600,title:"Пральня (ПР*)",description:"Виставлена на продаж сучасна пральня для здійснення чищення різноманітних виробів. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ5",code:"АМ",cost:25e4,credit:15e4,firstPayment:1e5,passiveIncome:4e3,title:"Авто-майстерня (АМ*)",description:"Продається авто-майстерня при в`їзді у місто. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ2",code:"ЛБ",cost:105e3,credit:75e3,firstPayment:3e4,passiveIncome:1350,title:"Ломбард (ЛБ*)",description:"Ваш знайомий пропонує вам викупити у нього ломбард. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві."},{type:"business",id:"ВІ22",code:"ОЦ-12",cost:65e4,credit:585e3,firstPayment:65e3,passiveIncome:5e3,title:"Офісний центр (ОЦ-12) ",description:"Виставлена на продаж 12-поверхова офісна будівля в центрі міста. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 1200000"},{type:"business",id:"ВІ21",code:"ОЦ-12",cost:7e5,credit:62e4,firstPayment:8e4,passiveIncome:5600,title:"Офісний центр (ОЦ-12) ",description:"Виставлена на продаж 12-поверхова офісна будівля в центрі міста. Використайте цю можливість самостійно або запропонуйте її іншому гравцеві. Можлива ціна продажу в подальшому до 1200000"}];function hi(i,e){const[t,s]=Z.useState(()=>{const o=localStorage.getItem(i);try{return o?JSON.parse(o):e}catch(u){return console.error("Error parsing localStorage data:",u),e}});return Z.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(t))}catch(o){console.error("Error saving to localStorage:",o)}},[i,t]),[t,s]}const wx="_preButtonIcon_1g0v7_1",Rx={preButtonIcon:wx},La=({bgColor:i})=>y.jsx("div",{style:{backgroundColor:i},className:Rx.preButtonIcon}),Fa=({borderColor:i,children:e})=>y.jsx("div",{className:"card-template",style:{border:`1px solid ${i}`},children:e}),xx=Array.from({length:5},(i,e)=>({id:e+1,code:"",packetCoast:"",sharePrice:"",numberOfShares:""})),Cx=()=>{const[i,e]=Z.useState(!1),[t,s]=Z.useState(""),[o,u]=hi("selectedInvestment",null),[h,f]=Z.useState(()=>{const B=localStorage.getItem("boughtInvestment");return B?JSON.parse(B):[]}),[p,g]=hi("investmentsShareTable",xx);Z.useEffect(()=>{if(localStorage.setItem("boughtInvestment",JSON.stringify(h)),!o)return;h.some(q=>q.id===o.id)&&e(!0)},[h,o]);const T=()=>{const B=Math.floor(Math.random()*Qm.length);u(Qm[B]),e(!1)},b=()=>{const B=Math.floor(Math.random()*Ym.length);u(Ym[B]),e(!1)},w=()=>{o&&!h.some(B=>B.id===o.id)&&f(B=>[...B,{...o,inputValue:""}]),e(!0)},I=B=>{f(h.filter(q=>q.id!==B))},L=(B,q,ne)=>{g(pe=>pe.map((ae,z)=>z===B?{...ae,[q]:ne}:ae))},X=(B,q)=>{f(ne=>ne.map(pe=>pe.id===B?{...pe,inputValue:q}:pe))},H=B=>{B.preventDefault();const q=Qm.find(ne=>ne.id.toLowerCase()===t.toLowerCase())||Ym.find(ne=>ne.id.toLowerCase()===t.toLowerCase());q?u(q):alert("Інвестиція не знайдена!")};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"container",children:[y.jsx("form",{action:"getInvestmentCard",children:y.jsxs("div",{className:Ho.searchInvestmentForm,children:[y.jsx("input",{type:"text",value:t,onChange:B=>s(B.target.value),placeholder:"Введіть ID інвестиції"}),y.jsx("button",{onClick:H,children:"Знайти"})]})}),y.jsxs("div",{children:[y.jsxs("div",{children:[y.jsxs("button",{onClick:T,className:"investmentCardBorder",children:[y.jsx(La,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Маленькі інвестиції"]}),y.jsxs("button",{onClick:b,className:"investmentCardBorder",children:[y.jsx(La,{bgColor:"rgba(221, 146, 6, 0.845)"}),y.jsx(La,{bgColor:"rgba(221, 146, 6, 0.845)"}),"Великі інвестиції"]})]}),y.jsx("div",{children:o?y.jsx(Fa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Ho.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",o.id]}),y.jsx("p",{children:o.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:o.description}}),y.jsx($m,{investment:o}),i?y.jsxs("button",{onClick:w,disabled:i,style:{cursor:"not-allowed",border:"1px solid grey"},children:[y.jsx(La,{bgColor:"grey"}),"Інвестовано"]}):y.jsxs("button",{onClick:w,disabled:i,style:{border:"1px solid green"},children:[y.jsx(La,{bgColor:"green"}),"Інвестувати"]})]})}):y.jsx(Fa,{borderColor:"rgba(221, 146, 6, 0.845)"})})]})]}),y.jsx("div",{className:"borderBottom",style:{marginTop:"20px"}}),y.jsxs("div",{className:"container",children:[y.jsx("h2",{style:{margin:"20px 0 -20px",textAlign:"center"},children:"Мої інвестиції"}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Бізнес та нерухомість"}),y.jsx("div",{className:Ho.boughtInvestmentList,children:h.length?h.map(B=>B.type==="business"?y.jsx(Fa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Ho.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",B.id]}),y.jsx("p",{children:B.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:B.description}}),y.jsx($m,{investment:B},B.id),y.jsx("input",{type:"text",value:B.inputValue,onChange:q=>X(B.id,q.target.value),placeholder:"Інформація про угоду"}),y.jsxs("button",{onClick:()=>I(B.id),style:{border:"1px solid red"},children:[y.jsx(La,{bgColor:"red"}),"Продати"]})]})},B.id):""):y.jsx("p",{children:"У вас немає жодної інвестиції"})})]}),y.jsx("div",{children:y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Цінні папери"}),y.jsx("div",{className:Ho.boughtInvestmentList,children:h.length?h.map(B=>B.type==="shares"||B.type==="currency"?y.jsx(Fa,{borderColor:"rgba(221, 146, 6, 0.845)",children:y.jsxs("div",{className:Ho.investmentInfoContainer,children:[y.jsxs("p",{children:["ID: ",B.id]}),y.jsx("p",{children:B.title}),y.jsx("p",{dangerouslySetInnerHTML:{__html:B.description}}),y.jsx($m,{investment:B},B.id),y.jsxs("button",{onClick:()=>I(B.id),style:{border:"1px solid red"},children:[y.jsx(La,{bgColor:"red"}),"Продати"]})]})},B.id):""):""}),y.jsxs("table",{style:{marginTop:"20px"},children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Вартість пакета"}),y.jsx("th",{children:"Вартість однієї акції (пая)"}),y.jsx("th",{children:"Кількість"})]})}),y.jsx("tbody",{children:p.map((B,q)=>y.jsx(Ax,{row:B,index:q,handleChange:L},B.id))})]})]})})]})]})},Ix="_wrapper_25t8s_1",Dx="_cardChooseContainer_25t8s_8",Nx="_title_25t8s_20",Ox="_description_25t8s_25",Mx="_cardInfo_25t8s_29",Px="_expenseToggleWrapper_25t8s_38",Vx="_label_25t8s_47",kx="_active_25t8s_53",jx="_slider_25t8s_71",Tn={wrapper:Ix,cardChooseContainer:Dx,title:Nx,description:Ox,cardInfo:Mx,expenseToggleWrapper:Px,label:Vx,active:kx,switch:"_switch_25t8s_58",slider:jx},E0=[{id:"В20",amountOfExpenses:750,description:`Відвідайте з дітьми парк розваг 
 <b>750</b>`},{id:"В31",amountOfExpenses:700,description:`Здивуйте своїх друзів незвичайною розвагою 
 <b>700</b>`},{id:"В4",amountOfExpenses:620,description:"Відвідайте з сім`єю піцерію \n <b>620</b>"},{id:"В13",amountOfExpenses:700,description:`Відзначте день народження дитини в кафе 
 <b>700</b>`},{id:"В17",amountOfExpenses:650,description:`Відвідайте косметолога 
 <b>650</b>`},{id:"В25",amountOfExpenses:850,description:`Купіть модний смартфон 
 <b>850</b>`},{id:"В22",amountOfExpenses:700,description:"Пройдіть курси іноземної мови за <b>700</b> і збільшіть розмір оплати праці на <b>50%</b>"},{id:"В23",amountOfExpenses:1500,description:`Купіть набір побутової техніки.
Оплатіть одноразово <b>1500</b>, або в розстрочку - перший платіж <b>500</b> та залишіть <b>1000</b> і <b>30</b> як відсотки за користування кредитом`},{id:"В18",amountOfExpenses:800,description:`Відвідайте спектакль столичного театру 
 <b>800</b>`},{id:"В2",amountOfExpenses:550,description:`Оновіть свій імідж, відвідайте перукаря 
 <b>550</b>`},{id:"В33",description:"Ви купили породисте цуценя за 900, ваші додаткові витрати збільшилися на 100.",amountOfExpenses:1e3},{id:"В6",description:"Відвідайте нічний клуб 700.",amountOfExpenses:700},{id:"В10",description:"Купіть морозильну камеру. Оплатіть одноразово 2000, або в розстрочку - перший платіж 180 та запишіть 1820 в кредит і 70 як відсотки за користування кредитом.",amountOfExpenses:2e3},{id:"В30",description:"Купіть породисте кошеня в подарунок знайомим за 600.",amountOfExpenses:600},{id:"В16",description:"Купіть фірмовий костюм для занять фітнесом 600.",amountOfExpenses:600},{id:"В15",description:"Купіть собі абонемент до фітнес-клубу 550.",amountOfExpenses:550},{id:"В21",description:"Пройдіть навчальний семінар за 600 і збільште розмір оплати праці на 250.",amountOfExpenses:600},{id:"В19",description:"Відвідайте з дітьми циркову виставу 480.",amountOfExpenses:480},{id:"В14",description:"Відвідайте супермаркет 450.",amountOfExpenses:450},{id:"В26",description:"Купіть туристичний тур до Парижу 1200.",amountOfExpenses:1200},{id:"В11",description:"Купіть ноутбук. Оплатіть одноразово 1500, або в розстрочку - перший платіж 100 та запишіть 1400 в кредит і 50 як відсотки за користування кредитом.",amountOfExpenses:1500},{id:"В34",amountOfExpenses:500,description:"У вас приємні клопоти. Заплатіть 500 і збільште свої додаткові витрати на 50."},{id:"В29",amountOfExpenses:1e3,description:"Відпочинок на морі. Заплатіть 1000."},{id:"В28",amountOfExpenses:840,description:"У вас день народження. Заплатіть банку 840."},{id:"В27",amountOfExpenses:160,description:"Купіть новорічні подарунки дітям. Кожна дитина по 160."},{id:"В24",amountOfExpenses:650,description:"Вас підвищили на посаді й збільшили зарплату на 750. Терміново купіть нове ділове вбрання за 650."},{id:"В1",amountOfExpenses:700,description:"Дарунок собі для гарного настрою. Заплатіть 700."},{id:"В3",amountOfExpenses:450,description:"Відвідайте боулінг-клуб. Заплатіть 450."},{id:"В5",amountOfExpenses:450,description:"Купіть дітям велосипед за 450."},{id:"В7",amountOfExpenses:500,description:"Для просування по службі пройдіть тренінг за 500 і збільште розмір оплати праці на 200."},{id:"В8",amountOfExpenses:800,description:"Пройдіть курси водіння за 800 і збільште розмір оплати праці на 350."},{id:"В12",amountOfExpenses:850,description:"Відвідайте командну вечерю. Заплатіть 850."}],T0=[{id:"П10",title:"Покупець на бізнеси в сфері обслуговування (ПР, ДМ, ВМ, СК, БЦ).",codes:["ПР","ДМ","ВМ","СК","БЦ"],description:"Сьогодні кожен може продати пральню, дизайнерську майстерню, цех з виробництва меблів, салон краси та б`юті центр за подвійною ціною."},{id:"П21",title:"Покупець на 1-кімнатну квартиру (К-1).",codes:["К-1"],description:`Вам надійшла пропозиція продати 1-кімнатні квартири за <b>50000</b>. 
Кожен може продати 1-кімнатну квартиру за цією ціною`},{id:"П11",title:"Покупець на бізнеси торгівлі та фінансів (ОВ, ЛБ, МП, МО, СМ, ММ, ІМ)",codes:["ОВ","ЛБ","МП","МО","СМ","ММ","ІМ"],description:`Власники торгової мережі скуповують пункт обміну валют, ломбард і всі магазини за півтори ціни 
Кожен може продати своє підприємство за цією ціною`},{id:"П1",title:"Покупець на бізнес в сфері транспортних послуг (ВИ, АМ, СТО, ЛА, ГР)",codes:["ВИ","АМ","СТО","ЛА","ГР"],description:`Іноземний інвестор викуповує великовантажні та легкові автомобілі, а також авто-майстерні та станції техобслуговування за подвійною ціною. 
За гараж пропонує <b>12000</b>
 Кожен може продати свої бізнеси`},{id:"П24",title:"Покупець на 2-кімнатну квартиру (К-2).",codes:["К-2"],description:`Вам надійшла пропозиція продати 2-кімнатні квартири за <b>65000</b> 
Кожен може продати 2-кімнатну квартиру за цією ціною`},{id:"П19",title:"Покупець на 1-кімнатну квартиру (К-1)",codes:["К-1"],description:"Вам надійшла пропозиція продати 1-кімнатні квартири за 45000. Оплата готівкою. Кожен може продати 1-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П22",title:"Покупець на 1-кімнатну квартиру (К-1)",codes:["К-1"],description:"Вам надійшла пропозиція продати 1-кімнатні квартири за 52000. Оплата готівкою. Кожен може продати 1-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П30",title:"Покупець на 3-кімнатну квартиру (К-3)",codes:["К-3"],description:"Покупець пропонує по 110000 за квартири, що здаються в оренду. Оплата готівкою. Кожен може продати 3-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П3",title:"Покупець на ПЗ, ІМ, ІВ, ЮФ",codes:["ПЗ","ІМ","ІВ","ЮФ"],description:"Велика корпорація пропонує по 25000 за фірму по розробці програмного забезпечення, інтернет-магазин, інтелектуальну власність, юридичну фірму. Кожен, хто володіє такими бізнесами, може їх продати за цією ціною і отримати гроші у банкіра."},{id:"П25",title:"Покупець на 2-кімнатну квартиру (К-2)",codes:["К-2"],description:"Велика фірма скуповує 2-кімнатні квартири за 70000. Оплата готівкою. Кожен може продати 2-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П29",title:"Покупець на 3-кімнатну квартиру (К-3)",codes:["К-3"],description:"Вам надійшла пропозиція продати 3-кімнатні квартири за 100000. Оплата готівкою. Кожен може продати 3-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П37",title:"Покупець на офісні приміщення (ОФ, НЖ та ЮФ і РК)",codes:["ОФ","НЖ","ЮФ","РК"],description:"Велике підприємство купує за півтори ціни офісні приміщення і квартири, які переведені в нежитловий фонд. Також пропонує по 30000 за юридичну фірму і фірму по ремонту квартир. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П2",title:"Покупець на бізнеси у сфері торгівлі (МП, МО, СМ, ММ, ІМ)",codes:["МП","МО","СМ","ММ","ІМ"],description:"Власники торгівельної мережі скуповують усі магазини за подвійною ціною. Кожен може продати своє підприємство за цією ціною і отримати гроші у банкіра."},{id:"П8",title:"Покупець на бізнес у сфері освіти (ПЛ, СШ, ТЦ)",codes:["ПЛ","СШ","ТЦ"],description:"Власники приватного ліцею, спортивної школи і тренінгового центру можуть продати їх за подвійну ціну і отримати гроші у банкіра."},{id:"П5",title:"Покупець на ОЦ-12",codes:["ОЦ-12"],description:"Вам пропонують за офісні центри 900000. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П6",title:"Покупець на ОЦ-12",codes:["ОЦ-12"],description:"Вам пропонують за офісні центри 1000000. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П27",title:"Покупець на 3-кімнатну квартиру (К-3)",codes:["К-3"],description:"Вам надійшла пропозиція продати 3-кімнатні квартири за 80000. Оплата готівкою. Кожен може продати 3-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П28",title:"Покупець на 3-кімнатну квартиру (К-3)",codes:["К-3"],description:"Вам надійшла пропозиція продати 3-кімнатні квартири за 90000. Оплата готівкою. Кожен може продати 3-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П15",title:"Покупець на земельні ділянки під забудову (1-5 га)",codes:["1-5 га"],description:"Під приватне будівництво необхідно від 1 до 5 гектарів землі. Покупець пропонує 20000 за 1 гектар. Лише Ви можете продати за цією ціною і отримати гроші у банкіра."},{id:"П9",title:"Покупець на бізнеси у сфері дозвілля (ТФ, ПК, РЦ, ФЗ, СІ)",codes:["ТФ","ПК","РЦ","ФЗ","СІ"],description:"Вам пропонують за туристичну фірму, пейнтбольний комплекс, розважальний центр, фітнес-залу і прокат спортивного інвентарю подвійну ціну. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П14",title:"Покупець на земельні ділянки під забудову (1-5ГА)",codes:["1-5ГА"],description:"Під будівництво котеджів необхідно від одного до п`ятм гектарів землі, покупець пропонує по 10000 за кожен гектар. Кожен може продати за цією ціною"},{id:"П36",title:"Покупець на офісні приміщення (ОФ, НЖ)",codes:["ОФ","НЖ"],description:"Велике підприємство пропонує за офісні приміщення і квартири, які переведені в нежитловий фонд 100000, 150000 та 200000 в залежності від кількості квартир. Кожен може продати за цією ціною"},{id:"П38",title:"Переведіть в нежитловий фонд (НЖ) К-1, К-2, К-3",codes:["НЖ","К-1","К-2","К-3"],description:"Кожен може перевести свою квартиру в нежитловий фонд (НЖ) і збільшити в 2 рази її вартість та ПД. Для цього потрібно заплатити 4000, 8000 або 12000 в залежності від кількості кімнати у квартирі"},{id:"П34",title:"Покупець на будинки Б-2, Б-4, Б-6",codes:["Б-2","Б-4","Б-6"],description:"Вам пропонують по 55000 за кожну квартиру в будинках Б-2, Б-4, Б-6. Оплата готівкою. Кожен може продати нерухомість за цією ціною і отримати гроші у банкіра."},{id:"П41",title:"Покупець на малий і середній бізнес (ТФ, ВМ, ДМ, ПК, СШ)",codes:["ТФ","ВМ","ДМ","ПК","СШ"],description:"Тільки сьогодні можна продати дорожче в 2,5 рази туристичну фірму, цех із виробництва меблів, дизайнерську майстерню, пейнтбольний комплекс та спортивну школу. Кожен може продати свої бізнеси і отримати гроші у банкіра."},{id:"П31",title:"Покупець на 3-кімнатну квартиру (К-3)",codes:["К-3"],description:"Вам надійшла пропозиція продати 3-кімнатні квартири за 115000. Оплата готівкою. Тільки Ви можете скористатися цією пропозицією. Отримайте гроші у банкіра, якщо продаєте квартиру."},{id:"П12",title:"Покупець на бізнеси у сфері ремонту (РК, РТ, ПП, ГР)",codes:["РК","РТ","ПП","ГР"],description:"Підприємець пропонує за бізнеси по ремонту квартир і ремонту побутової техніки, гаражі та пункт побутових послуг по 18000. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П35",title:"Покупець на будинки Б-2, Б-4, Б-6",codes:["Б-2","Б-4","Б-6"],description:"Вам пропонують по 60000 за кожну квартиру в будинках Б-2, Б-4, Б-6. Оплата готівкою. Кожен може продати нерухомість за цією ціною і отримати гроші у банкіра."},{id:"П16",title:"Покупець на бізнеси в сфері ремонту (РТ, РК, ПП)",codes:["РТ","РК","ПП"],description:"Сьогодні кожен може продати фірми з ремонту побутової техніки і ремонту квартир, а також пункт побутових послуг за подвійною ціною і отримати гроші у банкіра."},{id:"П23",title:"Покупець на 2-кімнатну квартиру (К-2)",codes:["К-2"],description:"Вам надійшла пропозиція продати 2-кімнатні квартири за 60000. Оплата готівкою. Кожен може продати 2-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П44",title:"Покупець на бізнеси в сфері послуг (ПР, СК, ДМ, БЦ, ФЗ, СІ)",codes:["ПР","СК","ДМ","БЦ","ФЗ","СІ"],description:"Сьогодні кожен може продати пральню, салон краси, дизайнерську майстерню, б`юті-центр, фітнес-залу і прокат спортивного інвентарю за півтори ціни і отримати гроші у банкіра."},{id:"П42",title:"Покупець на бізнес у сфері громадського харчування (СБ, ІК, МК, РН)",codes:["СБ","ІК","МК","РН"],description:"Корпорація заплатить подвійну ціну за суші-бар, інтернет-кафе, міні-кав`ярню і ресторан. Кожен може продати свої бізнеси і отримати гроші у банкіра."},{id:"П40",title:"Покупець на малий бізнес (ЮФ, ЛА, ОВ, АП, МП)",codes:["ЮФ","ЛА","ОВ","АП","МП"],description:"Лише сьогодні можна продати дорожче в 2,5 рази юридичну фірму, легковий автомобіль, пункт обміну валют, аптеку і магазин промтоварів. Кожен може продати свої бізнеси і отримати гроші у банкіра."},{id:"П17",title:"Покупець на бізнеси в сфері охорони здоров`я (АП, ЛЦ, КС, КК)",codes:["АП","ЛЦ","КС","КК"],description:"Велика компанія пропонує подвійну ціну за аптеки, лікувальний центр, клініку стоматології та клініку косметології. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П7",title:"Покупець на бізнеси в сфері охорони здоров`я (АП, ЛЦ, КК, КС)",codes:["АП","ЛЦ","КК","КС"],description:"Велика компанія викуповує аптеки, лікувальний центр, клініку косметології та клініку стоматології за півтори ціни. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П4",title:"Покупець на ОЦ-12",codes:["ОЦ-12"],description:"Вам пропонують за офісні центри 1200000. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П39",title:"Покупець на бізнес у сфері транспортних послуг (ВА, ЛА, АМ, СТО)",codes:["ВА","ЛА","АМ","СТО"],description:"Інвестор викуповує великовантажні і легкові автомобілі, а також авто-майстерні і станції техобслуговування за півтори ціни. Кожен може продати свої бізнеси і отримати гроші у банкіра."},{id:"П33",title:"Покупець на будинки Б-2, Б-4, Б-6",codes:["Б-2","Б-4","Б-6"],description:"Вам пропонують по 50000 за кожну квартиру в будинках Б-2, Б-4, Б-6. Оплата готівкою. Кожен може продати нерухомість за цією ціною і отримати гроші у банкіра."},{id:"П26",title:"Покупець на 2-кімнатну квартиру (К-2)",codes:["К-2"],description:"Велика фірма скуповує 2-кімнатні квартири за 68000. Оплата готівкою. Кожен може продати 2-кімнатну квартиру за цією ціною і отримати гроші у банкіра."},{id:"П32",title:"Покупець на будинки Б-2, Б-4, Б-6",codes:["Б-2","Б-4","Б-6"],description:"Вам пропонують по 45000 за кожну квартиру в будинках Б-2, Б-4, Б-6. Оплата готівкою. Кожен може продати нерухомість за цією ціною і отримати гроші у банкіра."},{id:"П13",title:"Покупець на бізнес в сфері громадського харчування (СБ, ІК, МК, РН)",codes:["СБ","ІК","МК","РН"],description:"Підприємець сьогодні готовий заплатити півтори ціни за суші-бар, інтернет-кафе, міні-кав`ярню і ресторан. Кожен може продати за цією ціною і отримати гроші у банкіра."},{id:"П20",title:"Покупець на 1-кімнатну квартиру (К-1)",codes:["К-1"],description:"Вам надійшла пропозиція продати 1-кімнатні квартири за 55000. Оплата готівкою. Тільки Ви можете скористатися цією пропозицією. Отримайте гроші у банкіра, якщо продаєте квартиру."},{id:"П43",title:"Покупець на бізнес у сфері освіти і дозвілля (ТЦ, ПЛ, СШ, ПК, РЦ)",codes:["ТЦ","ПЛ","СШ","ПК","РЦ"],description:"Власники тренінгового центру, приватного ліцею, спортивної школи, пейнтбольного комплексу та розважального центру можуть продати їх за півтори ціни і отримати гроші у банкіра."},{id:"П18",title:"Покупець на бізнес в сфері фінансів (ОВ, ЛБ)",codes:["ОВ","ЛБ"],description:"Інвестор скуповує підприємства в сфері фінансів: пункти обміну валют і ломбарди за подвійною ціною. Кожен може продати за цією ціною і отримати гроші у банкіра."}],b0=[{id:"ПД9",title:"Скорочення фонду оплати праці",description:"У всіх гравців зменшується оплата праці на 20%"},{id:"ПД5",title:"Переваги навчання",description:"Усі гравці, що пройшли навчання або курси підвищення кваліфікації, отримують премію в розмірі 2000. Бізнес в сфері навчання (приватний ліцей (ПЛ+), спортивна школа (СШ), тренінговий центр (ТЦ-)) підвищують свій пасивний дохід (ПД) на 200."},{id:"ПД10",title:"Банківська криза",description:"Збільшення % ставок за кредитами. Оплата за користування кредитами на нерухомість збільшується на 100, на автомобіль на 50."},{id:"ПД7",title:"Оформіть спадок",description:"Усі гравці отримують спадщину в розмірі 10*ВК (вільних коштів), оплатіть податки та послуги адвоката 500."},{id:"ПД13",title:"Випав град і пошкодив автомобілі",description:"Усім власникам автомобілів потрібно заплатити 4000 за ремонт. Якщо страховка не покриває всі витрати, тоді необхідно оплатити готівкою"},{id:"ПД14",title:"Травматизм через ожеледицю",description:"На вулиці вже тиждень ожеледь, всім гравцям необхідна медична допомога вартістю 5000, якщо страховка не покриває усі витрати на лікування, необхідно заплатити готівкою"},{id:"ПД15",title:"Коротке замикання",description:"У всіх гравців під час грози, коротке замикання пошкодило домашню електротехніку, погасіть за рахунок ризикової страховки 3000, якщо страховка не покриває всі витрати, необхідно доплатити готівкою"},{id:"ПД12",title:"Несподіваний інвестор",description:"Кожен гравець може продати один бізнес вартістю до 50000 за півтори ціни."},{id:"ПД8",title:"Діти - наше майбутнє",description:"Дітям необхідно дати гідну освіту. Гравці, що мають дітей, збільшують постійні витрати на дітей на 20%."},{id:"ПД11",title:"Підвищення фонду оплати праці",description:"Усі гравці, що є найманими працівниками, збільшують свою заробітну плату на 100."},{id:"ПД3",title:"Економічна криза",description:"У зв'язку зі зміною економічної ситуації в країні всі бізнеси із позначкою зменшують свій пасивний дохід (ПД) на 100."},{id:"ПД1",title:"Збитки від приватної власності, переданої в оренду",description:"Орендар не сплатив орендну плату за два місяці. Гравці, що мають передану в оренду нерухомість, сплачують 500."},{id:"ПД4",title:"Ваш малий і середній бізнес розширюються",description:"Урядом запроваджено пільги на розвиток малого і середнього бізнесу. Гравці, що мають бізнеси вартістю до 100 000, збільшують їх пасивний дохід (ПД) на 20%."}],S0=[{id:"В47",amountOfExpenses:3e3,description:"Купіть подарунки та відвідайте дитячий будинок. Заплатіть 3000."},{id:"В46",amountOfExpenses:1e4,description:"Купіть новий автомобіль за 10 000 і збільште додаткові витрати на 800."},{id:"В45",amountOfExpenses:5e3,description:"Купіть ювелірні прикраси. Заплатіть 5000."},{id:"В44",amountOfExpenses:4e3,description:"Зустріч з випускниками школи. Заплатіть 4000."},{id:"В43",amountOfExpenses:1e3,description:"Час допомагати вашим батькам матеріально. Збільште додаткові витрати на 1000."},{id:"В42",amountOfExpenses:9e3,description:"Замініть свій старий комп'ютер на новий за 9000."},{id:"В36",amountOfExpenses:7e3,description:"Вашій бабусі необхідні дорогі ремонти в будинку. Заплатіть 7000."},{id:"В37",amountOfExpenses:8e3,description:"Оплатіть відпочинок в санаторії для батьків. Заплатіть 8000."},{id:"В38",amountOfExpenses:1e4,description:"У вашої дитини весілля. Оплатіть свято на 10000."},{id:"В39",amountOfExpenses:7e3,description:"У вас ювілей. Влаштуйте грандіозне свято за 7000."},{id:"В40",amountOfExpenses:5e3,description:"Вашим родичам необхідна матеріальна допомога. Заплатіть 5000."},{id:"В41",amountOfExpenses:4e3,description:"Час згадати про своє здоров'я і зайнятися спортом. Заплатіть 4000."},{id:"В35",amountOfExpenses:8e3,description:"Ваша дитина навчається в університеті, оплатіть навчання 8000"},{id:"В32",amountOfExpenses:4e3,description:"Ви затопили сусідів і тепер необхідно відшкодувати витрати на ремонт у розмірі 4000. Якщо страховка не покриває всю суму, доплатіть готівкою"},{id:"В9",amountOfExpenses:3500,description:"Купіть плазмову панель. Оплатіть одноразово 3500 або в розстрочку - перший платіж 250 та запишіть 3250 в кредит і 130 як відсотки за користування кредитом"}],Lx=()=>{const[i,e]=hi("demandsCard",null),[t,s]=hi("eventsCard",null),[o,u]=hi("expensesCard",null),[h,f]=hi("isHighExpensesActive",!1),p=()=>{if(h){const b=Math.floor(Math.random()*S0.length);u(S0[b])}else{const b=Math.floor(Math.random()*E0.length);u(E0[b])}},g=()=>{const b=Math.floor(Math.random()*T0.length);e(T0[b])},T=()=>{const b=Math.floor(Math.random()*b0.length);s(b0[b])};return y.jsx("div",{className:"container",children:y.jsxs("div",{className:Tn.wrapper,children:[y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsx("button",{onClick:T,children:"Подія"}),y.jsx(Fa,{borderColor:"purple",children:t?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",t.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:t.title}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:t.description}})]})]}):""})]}),y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsx("button",{onClick:g,children:"Попит"}),y.jsx(Fa,{borderColor:"#328ff3ca",children:i?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",i.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:i.title}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:i.description}}),y.jsxs("p",{children:["Коди: ",i.codes.join(", ")]})]})]}):""})]}),y.jsxs("div",{className:Tn.cardChooseContainer,children:[y.jsxs("div",{className:Tn.expenseToggleWrapper,children:[y.jsxs("label",{className:Tn.switch,children:[y.jsx("input",{type:"checkbox",checked:h,onChange:()=>f(b=>!b),"aria-label":h?"Відображаються великі витрати":"Відображаються малі витрати"}),y.jsx("span",{className:Tn.slider})]}),y.jsx("span",{className:`${Tn.label} ${h?Tn.active:""}`,"aria-hidden":"true",children:h?"Великі витрати":"Маленькі витрати"})]}),y.jsx("button",{onClick:p,children:"Витрати"}),y.jsx(Fa,{borderColor:"rgb(117, 18, 18)",children:o?y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["ID: ",o.id]}),y.jsxs("div",{className:Tn.cardInfo,children:[y.jsx("p",{className:Tn.title,children:o.amountOfExpenses}),y.jsx("p",{className:Tn.description,dangerouslySetInnerHTML:{__html:o.description}})]})]}):""})]})]})})},CT=()=>{const[i,e]=hi("finances",{balance:"",depositAmount:"",amountOfSummaryIncomes:"",amountOfSummaryExtends:"",amountOfFreeMoney:""}),t=o=>{e({...i,[o.target.name]:o.target.value})},s=()=>{localStorage.clear(),window.location.reload()};return y.jsxs("div",{className:"container",children:[y.jsx("table",{children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Готівка"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"balance",type:"text",value:i.balance,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Депозит"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"depositAmount",type:"text",value:i.depositAmount,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:i.amountOfSummaryIncomes,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExtends",type:"text",value:i.amountOfSummaryExtends,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні вільні кошти (ВК)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfFreeMoney",type:"text",value:i.amountOfFreeMoney,onChange:t})})]})]})}),y.jsx("div",{}),y.jsx(xT,{buttonText:"Завершити гру",modalTitle:"Підтвердження завершення гри",modalDescription:"Ви впевнені, що хочете завершити гру? Усі дані буде втрачено.",confirmText:"Так, завершити",cancelText:"Скасувати",onConfirm:s})]})},Ux="_mainContent_ajjim_1",zx="_navUl_ajjim_5",Bx="_link_ajjim_12",Eu={mainContent:Ux,navUl:zx,link:Bx},Fx=()=>{const i=Ir();return y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:"borderBottom",children:y.jsxs("ul",{className:Eu.navUl,children:[y.jsx("li",{children:y.jsx(Qi,{to:"/finances",className:Eu.link,children:"Основна"})}),y.jsx("li",{children:y.jsx(Qi,{to:"/finances/income",className:Eu.link,children:"Доходи"})}),y.jsx("li",{children:y.jsx(Qi,{to:"/finances/extend",className:Eu.link,children:"Витрати"})})]})}),y.jsx("div",{className:Eu.mainContent,children:i.pathname==="/finances"?y.jsx(CT,{}):y.jsx(TT,{})})]})},Hx=({row:i,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:i.code,onChange:s=>t(e,"code",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.firstPayment,onChange:s=>t(e,"firstPayment",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.cost,onChange:s=>t(e,"cost",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.credit,onChange:s=>t(e,"credit",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),qx=Array.from({length:5},(i,e)=>({id:e+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""})),Gx=()=>{const[i,e]=hi("businessTable",qx),[t,s]=hi("finances",{salary:"",childSupport:"",depositAmount:"",depositIncome:"",goldAmount:"",goldIncome:"",intellectualPropertyAmount:"",intellectualPropertyIncome:"",ipAmount:"",ipIncome:"",savingsInsuranceAmount:"",savingsInsuranceIncome:"",riskInsuranceAmount:"",riskInsuranceIncome:"",amountOfSummaryIncomes:""}),o=f=>{s({...t,[f.target.name]:f.target.value})},u=(f,p,g)=>{e(T=>T.map((b,w)=>w===f?{...b,[p]:g}:b))},h=()=>{const f={id:i.length+1,code:"",firstPayment:"",cost:"",credit:"",passiveIncome:""};e([...i,f])};return y.jsxs("div",{className:"container",children:[y.jsx("table",{className:"incomes-table1",children:y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("th",{children:"Доходи"}),y.jsx("th",{children:"Сума в звітній період"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Оплата праці"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{name:"salary",type:"text",value:t.salary,onChange:o})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Допомога на дітей"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{name:"childSupport",type:"text",value:t.childSupport,onChange:o})})]})]})}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Активи"}),y.jsxs("table",{className:"incomes-table2",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Активи"}),y.jsx("th",{children:"Сума активів"}),y.jsx("th",{children:"Пасивний дохід (ПД)"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Депозитний банківський рахунок 2%"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"depositAmount",type:"text",value:t.depositAmount,onChange:o})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"depositIncome",type:"text",value:t.depositIncome,onChange:o})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Банківське золото 1%"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"goldAmount",type:"text",value:t.goldAmount,onChange:o})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"goldIncome",type:"text",value:t.goldIncome,onChange:o})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Накопичувальне страхування"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"savingsInsuranceAmount",type:"text",value:t.savingsInsuranceAmount,onChange:o})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"savingsInsuranceIncome",type:"text",value:t.savingsInsuranceIncome,onChange:o})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Ризикове страхування"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"intellectualPropertyAmount",type:"text",value:t.intellectualPropertyAmount,onChange:o})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"intellectualPropertyIncome",type:"text",value:t.intellectualPropertyIncome,onChange:o})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Інтелектуальна власність"}),y.jsx("td",{children:y.jsx("input",{className:"asset-input",name:"ipAmount",type:"text",value:t.ipAmount,onChange:o})}),y.jsx("td",{children:y.jsx("input",{className:"income-input",name:"ipIncome",type:"text",value:t.ipIncome,onChange:o})})]})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Бізнес і нерухомість"}),y.jsxs("table",{className:"incomes-table3",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Код"}),y.jsx("th",{children:"Перший внесок"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Інвестор"}),y.jsx("th",{children:"ПД"})]})}),y.jsx("tbody",{children:i.map((f,p)=>y.jsx(Hx,{row:f,index:p,handleChange:u},f.id))})]}),i.length<20?y.jsx("button",{onClick:h,children:"Додати поле"}):""]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні доходи (ЗД)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryIncomes",type:"text",value:t.amountOfSummaryIncomes,onChange:o})})]})})})]})},Kx=()=>{const[i,e]=hi("finances",{expenseTaxIncome:"",expenseUtilities:"",expenseMonthlyHousehold:"",expenseAdditional:"",expenseNumChildren:"",expenseChild:"",realEstateAmount:"",realEstateExpense:"",carAmount:"",carExpense:"",appliancesAmount:"",appliancesExpense:"",furnitureAmount:"",furnitureExpense:"",othersAmount:"",othersExpense:"",amountOfSummaryExtends:""}),t=s=>{e({...i,[s.target.name]:s.target.value})};return y.jsxs("div",{className:"container",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Щомісячні витрати"}),y.jsxs("table",{className:"extends-table1",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Витрати"}),y.jsx("th",{children:"Сума в звітній період"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Щомісячні побутові витрати"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseMonthlyHousehold",type:"text",value:i.expenseMonthlyHousehold,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Додаткові витрати"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseAdditional",type:"text",value:i.expenseAdditional,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Кіл-ть дітей"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseNumChildren",type:"text",value:i.expenseNumChildren,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Витрати на дитину"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"expense-input",name:"expenseChild",type:"text",value:i.expenseChild,onChange:t})})]})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"table-header",children:"Кредити"}),y.jsxs("table",{className:"extends-table2",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Найменування кредитів (пасиви)"}),y.jsx("th",{children:"Сума кредитів"}),y.jsx("th",{children:"Сплата, %"})]})}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На нерухомість"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"realEstateAmount",type:"text",value:i.realEstateAmount,onChange:t})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"realEstateExpense",type:"text",value:i.realEstateExpense,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На автомобіль"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"carAmount",type:"text",value:i.carAmount,onChange:t})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"carExpense",type:"text",value:i.carExpense,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На побутову техніку"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"appliancesAmount",type:"text",value:i.appliancesAmount,onChange:t})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"appliancesExpense",type:"text",value:i.appliancesExpense,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"На меблі"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"furnitureAmount",type:"text",value:i.furnitureAmount,onChange:t})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"furnitureExpense",type:"text",value:i.furnitureExpense,onChange:t})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"td-text",children:"Інші кредити 3%"}),y.jsx("td",{children:y.jsx("input",{className:"summary-input",name:"othersAmount",type:"text",value:i.othersAmount,onChange:t})}),y.jsx("td",{children:y.jsx("input",{className:"expense-input",name:"othersExpense",type:"text",value:i.othersExpense,onChange:t})})]})]})]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Щомісячні загальні витрати (ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{className:"summary-td-input",name:"amountOfSummaryExtends",type:"text",value:i.amountOfSummaryExtends,onChange:t})})]})})})]})},$x="_tdStyle_4n9sn_1",Qx="_tdIndexStyle_4n9sn_5",Xo={tdStyle:$x,tdIndexStyle:Qx},Yx=({row:i,index:e,handleChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{className:Xo.tdIndexStyle,children:i.id}),y.jsx("td",{className:Xo.tdStyle,children:y.jsx("input",{type:"text",value:i.source,onChange:s=>t(e,"source",s.target.value)})}),y.jsx("td",{className:Xo.tdStyle,children:y.jsx("input",{type:"text",value:i.replenishment,onChange:s=>t(e,"replenishment",s.target.value)})}),y.jsx("td",{className:Xo.tdStyle,children:y.jsx("input",{type:"text",value:i.accumulatedAmount,onChange:s=>t(e,"accumulatedAmount",s.target.value)})})]}),Xx=Array.from({length:10},(i,e)=>({id:e+1,source:"",replenishment:"",accumulatedAmount:""})),Wx=()=>{const[i,e]=hi("airBagTable",Xx),[t,s]=hi("airBagValue",""),o=h=>{s(h.target.value)},u=(h,f,p)=>{e(g=>g.map((T,b)=>b===h?{...T,[f]:p}:T))};return y.jsxs("div",{className:"container",children:[y.jsx("table",{className:Xo.airBagInputValueTable,children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Значення подушки безпеки (6*ЗВ)"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"airBagValue",value:t,onChange:o})})]})})}),y.jsxs("table",{className:Xo.airBagTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"№"}),y.jsx("th",{children:"Джерело доходу"}),y.jsx("th",{children:"Поповнення"}),y.jsx("th",{children:"Накопичувальна сума"})]})}),y.jsx("tbody",{children:i.map((h,f)=>y.jsx(Yx,{row:h,index:f,handleChange:u},h.id))})]})]})},Zx=({row:i,index:e,onChange:t})=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:i.businessName,onChange:s=>t(e,"businessName",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.cost,onChange:s=>t(e,"cost",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.insurance,onChange:s=>t(e,"insurance",s.target.value)})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:i.passiveIncome,onChange:s=>t(e,"passiveIncome",s.target.value)})})]}),Jx={businessName:"",cost:"",insurance:"",passiveIncome:""},eC={tableData:Array.from({length:10},()=>({...Jx})),moneyValue:"",passiveIncome:""},tC=()=>{const[i,e]=hi("secondPartData",eC),t=o=>{e({...i,[o.target.name]:o.target.value})},s=(o,u,h)=>{const f=[...i.tableData];f[o][u]=h,e({...i,tableData:f})};return y.jsxs("div",{className:"container",children:[y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Готівка"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"moneyValue",value:i.moneyValue,onChange:t})})]})})}),y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Найменування бізнесу"}),y.jsx("th",{children:"Вартість"}),y.jsx("th",{children:"Страхування"}),y.jsx("th",{children:"ПД"})]})}),y.jsx("tbody",{children:i.tableData.map((o,u)=>y.jsx(Zx,{row:o,index:u,onChange:s},u))})]}),y.jsx("table",{children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Початковий пасивний дохід"}),y.jsx("td",{className:"summary-td",children:y.jsx("input",{type:"text",name:"passiveIncome",value:i.passiveIncome,onChange:t})})]})})})]})},nC=()=>y.jsx("div",{className:"container",children:y.jsx(tC,{})});var Ju=i=>i.type==="checkbox",Ha=i=>i instanceof Date,Yn=i=>i==null;const IT=i=>typeof i=="object";var Wt=i=>!Yn(i)&&!Array.isArray(i)&&IT(i)&&!Ha(i),iC=i=>Wt(i)&&i.target?Ju(i.target)?i.target.checked:i.target.value:i,rC=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,sC=(i,e)=>i.has(rC(e)),aC=i=>{const e=i.constructor&&i.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},Kp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(i){let e;const t=Array.isArray(i),s=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(i instanceof Set)e=new Set(i);else if(!(Kp&&(i instanceof Blob||s))&&(t||Wt(i)))if(e=t?[]:{},!t&&!aC(i))e=i;else for(const o in i)i.hasOwnProperty(o)&&(e[o]=jn(i[o]));else return i;return e}var bd=i=>Array.isArray(i)?i.filter(Boolean):[],rn=i=>i===void 0,Oe=(i,e,t)=>{if(!e||!Wt(i))return t;const s=bd(e.split(/[,[\].]+?/)).reduce((o,u)=>Yn(o)?o:o[u],i);return rn(s)||s===i?rn(i[e])?t:i[e]:s},vr=i=>typeof i=="boolean",$p=i=>/^\w*$/.test(i),DT=i=>bd(i.replace(/["|']|\]/g,"").split(/\.|\[/)),jt=(i,e,t)=>{let s=-1;const o=$p(e)?[e]:DT(e),u=o.length,h=u-1;for(;++s<u;){const f=o[s];let p=t;if(s!==h){const g=i[f];p=Wt(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;i[f]=p,i=i[f]}};const A0={BLUR:"blur",FOCUS_OUT:"focusout"},Ki={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};qi.createContext(null);var oC=(i,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const u in i)Object.defineProperty(o,u,{get:()=>{const h=u;return e._proxyFormState[h]!==Ki.all&&(e._proxyFormState[h]=!s||Ki.all),i[h]}});return o},Er=i=>typeof i=="string",lC=(i,e,t,s,o)=>Er(i)?(s&&e.watch.add(i),Oe(t,i,o)):Array.isArray(i)?i.map(u=>(s&&e.watch.add(u),Oe(t,u))):(s&&(e.watchAll=!0),t),uC=(i,e,t,s,o)=>e?{...t[i],types:{...t[i]&&t[i].types?t[i].types:{},[s]:o||!0}}:{},Du=i=>Array.isArray(i)?i:[i],w0=()=>{let i=[];return{get observers(){return i},next:o=>{for(const u of i)u.next&&u.next(o)},subscribe:o=>(i.push(o),{unsubscribe:()=>{i=i.filter(u=>u!==o)}}),unsubscribe:()=>{i=[]}}},dp=i=>Yn(i)||!IT(i);function Bs(i,e){if(dp(i)||dp(e))return i===e;if(Ha(i)&&Ha(e))return i.getTime()===e.getTime();const t=Object.keys(i),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o of t){const u=i[o];if(!s.includes(o))return!1;if(o!=="ref"){const h=e[o];if(Ha(u)&&Ha(h)||Wt(u)&&Wt(h)||Array.isArray(u)&&Array.isArray(h)?!Bs(u,h):u!==h)return!1}}return!0}var Qn=i=>Wt(i)&&!Object.keys(i).length,Qp=i=>i.type==="file",$i=i=>typeof i=="function",Yh=i=>{if(!Kp)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},NT=i=>i.type==="select-multiple",Yp=i=>i.type==="radio",cC=i=>Yp(i)||Ju(i),Xm=i=>Yh(i)&&i.isConnected;function hC(i,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)i=rn(i)?s++:i[e[s++]];return i}function dC(i){for(const e in i)if(i.hasOwnProperty(e)&&!rn(i[e]))return!1;return!0}function cn(i,e){const t=Array.isArray(e)?e:$p(e)?[e]:DT(e),s=t.length===1?i:hC(i,t),o=t.length-1,u=t[o];return s&&delete s[u],o!==0&&(Wt(s)&&Qn(s)||Array.isArray(s)&&dC(s))&&cn(i,t.slice(0,-1)),i}var OT=i=>{for(const e in i)if($i(i[e]))return!0;return!1};function Xh(i,e={}){const t=Array.isArray(i);if(Wt(i)||t)for(const s in i)Array.isArray(i[s])||Wt(i[s])&&!OT(i[s])?(e[s]=Array.isArray(i[s])?[]:{},Xh(i[s],e[s])):Yn(i[s])||(e[s]=!0);return e}function MT(i,e,t){const s=Array.isArray(i);if(Wt(i)||s)for(const o in i)Array.isArray(i[o])||Wt(i[o])&&!OT(i[o])?rn(e)||dp(t[o])?t[o]=Array.isArray(i[o])?Xh(i[o],[]):{...Xh(i[o])}:MT(i[o],Yn(e)?{}:e[o],t[o]):t[o]=!Bs(i[o],e[o]);return t}var Tu=(i,e)=>MT(i,e,Xh(e));const R0={value:!1,isValid:!1},x0={value:!0,isValid:!0};var PT=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!rn(i[0].attributes.value)?rn(i[0].value)||i[0].value===""?x0:{value:i[0].value,isValid:!0}:x0:R0}return R0},VT=(i,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>rn(i)?i:e?i===""?NaN:i&&+i:t&&Er(i)?new Date(i):s?s(i):i;const C0={isValid:!1,value:null};var kT=i=>Array.isArray(i)?i.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,C0):C0;function I0(i){const e=i.ref;return Qp(e)?e.files:Yp(e)?kT(i.refs).value:NT(e)?[...e.selectedOptions].map(({value:t})=>t):Ju(e)?PT(i.refs).value:VT(rn(e.value)?i.ref.value:e.value,i)}var fC=(i,e,t,s)=>{const o={};for(const u of i){const h=Oe(e,u);h&&jt(o,u,h._f)}return{criteriaMode:t,names:[...i],fields:o,shouldUseNativeValidation:s}},Wh=i=>i instanceof RegExp,bu=i=>rn(i)?i:Wh(i)?i.source:Wt(i)?Wh(i.value)?i.value.source:i.value:i,D0=i=>({isOnSubmit:!i||i===Ki.onSubmit,isOnBlur:i===Ki.onBlur,isOnChange:i===Ki.onChange,isOnAll:i===Ki.all,isOnTouch:i===Ki.onTouched});const N0="AsyncFunction";var mC=i=>!!i&&!!i.validate&&!!($i(i.validate)&&i.validate.constructor.name===N0||Wt(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===N0)),pC=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),O0=(i,e,t)=>!t&&(e.watchAll||e.watch.has(i)||[...e.watch].some(s=>i.startsWith(s)&&/^\.\w+/.test(i.slice(s.length))));const Nu=(i,e,t,s)=>{for(const o of t||Object.keys(i)){const u=Oe(i,o);if(u){const{_f:h,...f}=u;if(h){if(h.refs&&h.refs[0]&&e(h.refs[0],o)&&!s)return!0;if(h.ref&&e(h.ref,h.name)&&!s)return!0;if(Nu(f,e))break}else if(Wt(f)&&Nu(f,e))break}}};function M0(i,e,t){const s=Oe(i,t);if(s||$p(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const u=o.join("."),h=Oe(e,u),f=Oe(i,u);if(h&&!Array.isArray(h)&&t!==u)return{name:t};if(f&&f.type)return{name:u,error:f};o.pop()}return{name:t}}var gC=(i,e,t,s)=>{t(i);const{name:o,...u}=i;return Qn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(h=>e[h]===(!s||Ki.all))},yC=(i,e,t)=>!i||!e||i===e||Du(i).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),vC=(i,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||i):(t?s.isOnBlur:o.isOnBlur)?!i:(t?s.isOnChange:o.isOnChange)?i:!0,_C=(i,e)=>!bd(Oe(i,e)).length&&cn(i,e),EC=(i,e,t)=>{const s=Du(Oe(i,t));return jt(s,"root",e[t]),jt(i,t,s),i},Vh=i=>Er(i);function P0(i,e,t="validate"){if(Vh(i)||Array.isArray(i)&&i.every(Vh)||vr(i)&&!i)return{type:t,message:Vh(i)?i:"",ref:e}}var qo=i=>Wt(i)&&!Wh(i)?i:{value:i,message:""},V0=async(i,e,t,s,o,u)=>{const{ref:h,refs:f,required:p,maxLength:g,minLength:T,min:b,max:w,pattern:I,validate:L,name:X,valueAsNumber:H,mount:B}=i._f,q=Oe(t,X);if(!B||e.has(X))return{};const ne=f?f[0]:h,pe=j=>{o&&ne.reportValidity&&(ne.setCustomValidity(vr(j)?"":j||""),ne.reportValidity())},ae={},z=Yp(h),O=Ju(h),x=z||O,R=(H||Qp(h))&&rn(h.value)&&rn(q)||Yh(h)&&h.value===""||q===""||Array.isArray(q)&&!q.length,N=uC.bind(null,X,s,ae),V=(j,C,Be,Je=es.maxLength,ue=es.minLength)=>{const Ce=j?C:Be;ae[X]={type:j?Je:ue,message:Ce,ref:h,...N(j?Je:ue,Ce)}};if(u?!Array.isArray(q)||!q.length:p&&(!x&&(R||Yn(q))||vr(q)&&!q||O&&!PT(f).isValid||z&&!kT(f).isValid)){const{value:j,message:C}=Vh(p)?{value:!!p,message:p}:qo(p);if(j&&(ae[X]={type:es.required,message:C,ref:ne,...N(es.required,C)},!s))return pe(C),ae}if(!R&&(!Yn(b)||!Yn(w))){let j,C;const Be=qo(w),Je=qo(b);if(!Yn(q)&&!isNaN(q)){const ue=h.valueAsNumber||q&&+q;Yn(Be.value)||(j=ue>Be.value),Yn(Je.value)||(C=ue<Je.value)}else{const ue=h.valueAsDate||new Date(q),Ce=P=>new Date(new Date().toDateString()+" "+P),Se=h.type=="time",Xe=h.type=="week";Er(Be.value)&&q&&(j=Se?Ce(q)>Ce(Be.value):Xe?q>Be.value:ue>new Date(Be.value)),Er(Je.value)&&q&&(C=Se?Ce(q)<Ce(Je.value):Xe?q<Je.value:ue<new Date(Je.value))}if((j||C)&&(V(!!j,Be.message,Je.message,es.max,es.min),!s))return pe(ae[X].message),ae}if((g||T)&&!R&&(Er(q)||u&&Array.isArray(q))){const j=qo(g),C=qo(T),Be=!Yn(j.value)&&q.length>+j.value,Je=!Yn(C.value)&&q.length<+C.value;if((Be||Je)&&(V(Be,j.message,C.message),!s))return pe(ae[X].message),ae}if(I&&!R&&Er(q)){const{value:j,message:C}=qo(I);if(Wh(j)&&!q.match(j)&&(ae[X]={type:es.pattern,message:C,ref:h,...N(es.pattern,C)},!s))return pe(C),ae}if(L){if($i(L)){const j=await L(q,t),C=P0(j,ne);if(C&&(ae[X]={...C,...N(es.validate,C.message)},!s))return pe(C.message),ae}else if(Wt(L)){let j={};for(const C in L){if(!Qn(j)&&!s)break;const Be=P0(await L[C](q,t),ne,C);Be&&(j={...Be,...N(C,Be.message)},pe(Be.message),s&&(ae[X]=j))}if(!Qn(j)&&(ae[X]={ref:ne,...j},!s))return ae}}return pe(!0),ae};const TC={mode:Ki.onSubmit,reValidateMode:Ki.onChange,shouldFocusError:!0};function bC(i={}){let e={...TC,...i},t={submitCount:0,isDirty:!1,isLoading:$i(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Wt(e.defaultValues)||Wt(e.values)?jn(e.values||e.defaultValues)||{}:{},u=e.shouldUnregister?{}:jn(o),h={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const T={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...T};const w={array:w0(),state:w0()},I=D0(e.mode),L=D0(e.reValidateMode),X=e.criteriaMode===Ki.all,H=M=>W=>{clearTimeout(g),g=setTimeout(M,W)},B=async M=>{if(!e.disabled&&(T.isValid||b.isValid||M)){const W=e.resolver?Qn((await R()).errors):await V(s,!0);W!==t.isValid&&w.state.next({isValid:W})}},q=(M,W)=>{!e.disabled&&(T.isValidating||T.validatingFields||b.isValidating||b.validatingFields)&&((M||Array.from(f.mount)).forEach(te=>{te&&(W?jt(t.validatingFields,te,W):cn(t.validatingFields,te))}),w.state.next({validatingFields:t.validatingFields,isValidating:!Qn(t.validatingFields)}))},ne=(M,W=[],te,Ee,he=!0,se=!0)=>{if(Ee&&te&&!e.disabled){if(h.action=!0,se&&Array.isArray(Oe(s,M))){const be=te(Oe(s,M),Ee.argA,Ee.argB);he&&jt(s,M,be)}if(se&&Array.isArray(Oe(t.errors,M))){const be=te(Oe(t.errors,M),Ee.argA,Ee.argB);he&&jt(t.errors,M,be),_C(t.errors,M)}if((T.touchedFields||b.touchedFields)&&se&&Array.isArray(Oe(t.touchedFields,M))){const be=te(Oe(t.touchedFields,M),Ee.argA,Ee.argB);he&&jt(t.touchedFields,M,be)}(T.dirtyFields||b.dirtyFields)&&(t.dirtyFields=Tu(o,u)),w.state.next({name:M,isDirty:C(M,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else jt(u,M,W)},pe=(M,W)=>{jt(t.errors,M,W),w.state.next({errors:t.errors})},ae=M=>{t.errors=M,w.state.next({errors:t.errors,isValid:!1})},z=(M,W,te,Ee)=>{const he=Oe(s,M);if(he){const se=Oe(u,M,rn(te)?Oe(o,M):te);rn(se)||Ee&&Ee.defaultChecked||W?jt(u,M,W?se:I0(he._f)):ue(M,se),h.mount&&B()}},O=(M,W,te,Ee,he)=>{let se=!1,be=!1;const We={name:M};if(!e.disabled){if(!te||Ee){(T.isDirty||b.isDirty)&&(be=t.isDirty,t.isDirty=We.isDirty=C(),se=be!==We.isDirty);const Rt=Bs(Oe(o,M),W);be=!!Oe(t.dirtyFields,M),Rt?cn(t.dirtyFields,M):jt(t.dirtyFields,M,!0),We.dirtyFields=t.dirtyFields,se=se||(T.dirtyFields||b.dirtyFields)&&be!==!Rt}if(te){const Rt=Oe(t.touchedFields,M);Rt||(jt(t.touchedFields,M,te),We.touchedFields=t.touchedFields,se=se||(T.touchedFields||b.touchedFields)&&Rt!==te)}se&&he&&w.state.next(We)}return se?We:{}},x=(M,W,te,Ee)=>{const he=Oe(t.errors,M),se=(T.isValid||b.isValid)&&vr(W)&&t.isValid!==W;if(e.delayError&&te?(p=H(()=>pe(M,te)),p(e.delayError)):(clearTimeout(g),p=null,te?jt(t.errors,M,te):cn(t.errors,M)),(te?!Bs(he,te):he)||!Qn(Ee)||se){const be={...Ee,...se&&vr(W)?{isValid:W}:{},errors:t.errors,name:M};t={...t,...be},w.state.next(be)}},R=async M=>{q(M,!0);const W=await e.resolver(u,e.context,fC(M||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return q(M),W},N=async M=>{const{errors:W}=await R(M);if(M)for(const te of M){const Ee=Oe(W,te);Ee?jt(t.errors,te,Ee):cn(t.errors,te)}else t.errors=W;return W},V=async(M,W,te={valid:!0})=>{for(const Ee in M){const he=M[Ee];if(he){const{_f:se,...be}=he;if(se){const We=f.array.has(se.name),Rt=he._f&&mC(he._f);Rt&&T.validatingFields&&q([Ee],!0);const At=await V0(he,f.disabled,u,X,e.shouldUseNativeValidation&&!W,We);if(Rt&&T.validatingFields&&q([Ee]),At[se.name]&&(te.valid=!1,W))break;!W&&(Oe(At,se.name)?We?EC(t.errors,At,se.name):jt(t.errors,se.name,At[se.name]):cn(t.errors,se.name))}!Qn(be)&&await V(be,W,te)}}return te.valid},j=()=>{for(const M of f.unMount){const W=Oe(s,M);W&&(W._f.refs?W._f.refs.every(te=>!Xm(te)):!Xm(W._f.ref))&&wt(M)}f.unMount=new Set},C=(M,W)=>!e.disabled&&(M&&W&&jt(u,M,W),!Bs(we(),o)),Be=(M,W,te)=>lC(M,f,{...h.mount?u:rn(W)?o:Er(M)?{[M]:W}:W},te,W),Je=M=>bd(Oe(h.mount?u:o,M,e.shouldUnregister?Oe(o,M,[]):[])),ue=(M,W,te={})=>{const Ee=Oe(s,M);let he=W;if(Ee){const se=Ee._f;se&&(!se.disabled&&jt(u,M,VT(W,se)),he=Yh(se.ref)&&Yn(W)?"":W,NT(se.ref)?[...se.ref.options].forEach(be=>be.selected=he.includes(be.value)):se.refs?Ju(se.ref)?se.refs.length>1?se.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(he)?!!he.find(We=>We===be.value):he===be.value)):se.refs[0]&&(se.refs[0].checked=!!he):se.refs.forEach(be=>be.checked=be.value===he):Qp(se.ref)?se.ref.value="":(se.ref.value=he,se.ref.type||w.state.next({name:M,values:jn(u)})))}(te.shouldDirty||te.shouldTouch)&&O(M,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&ce(M)},Ce=(M,W,te)=>{for(const Ee in W){const he=W[Ee],se=`${M}.${Ee}`,be=Oe(s,se);(f.array.has(M)||Wt(he)||be&&!be._f)&&!Ha(he)?Ce(se,he,te):ue(se,he,te)}},Se=(M,W,te={})=>{const Ee=Oe(s,M),he=f.array.has(M),se=jn(W);jt(u,M,se),he?(w.array.next({name:M,values:jn(u)}),(T.isDirty||T.dirtyFields||b.isDirty||b.dirtyFields)&&te.shouldDirty&&w.state.next({name:M,dirtyFields:Tu(o,u),isDirty:C(M,se)})):Ee&&!Ee._f&&!Yn(se)?Ce(M,se,te):ue(M,se,te),O0(M,f)&&w.state.next({...t}),w.state.next({name:h.mount?M:void 0,values:jn(u)})},Xe=async M=>{h.mount=!0;const W=M.target;let te=W.name,Ee=!0;const he=Oe(s,te),se=be=>{Ee=Number.isNaN(be)||Ha(be)&&isNaN(be.getTime())||Bs(be,Oe(u,te,be))};if(he){let be,We;const Rt=W.type?I0(he._f):iC(M),At=M.type===A0.BLUR||M.type===A0.FOCUS_OUT,mi=!pC(he._f)&&!e.resolver&&!Oe(t.errors,te)&&!he._f.deps||vC(At,Oe(t.touchedFields,te),t.isSubmitted,L,I),Fn=O0(te,f,At);jt(u,te,Rt),At?(he._f.onBlur&&he._f.onBlur(M),p&&p(0)):he._f.onChange&&he._f.onChange(M);const Ut=O(te,Rt,At),Dr=!Qn(Ut)||Fn;if(!At&&w.state.next({name:te,type:M.type,values:jn(u)}),mi)return(T.isValid||b.isValid)&&(e.mode==="onBlur"?At&&B():At||B()),Dr&&w.state.next({name:te,...Fn?{}:Ut});if(!At&&Fn&&w.state.next({...t}),e.resolver){const{errors:Mn}=await R([te]);if(se(Rt),Ee){const Ht=M0(t.errors,s,te),Li=M0(Mn,s,Ht.name||te);be=Li.error,te=Li.name,We=Qn(Mn)}}else q([te],!0),be=(await V0(he,f.disabled,u,X,e.shouldUseNativeValidation))[te],q([te]),se(Rt),Ee&&(be?We=!1:(T.isValid||b.isValid)&&(We=await V(s,!0)));Ee&&(he._f.deps&&ce(he._f.deps),x(te,We,be,Ut))}},P=(M,W)=>{if(Oe(t.errors,W)&&M.focus)return M.focus(),1},ce=async(M,W={})=>{let te,Ee;const he=Du(M);if(e.resolver){const se=await N(rn(M)?M:he);te=Qn(se),Ee=M?!he.some(be=>Oe(se,be)):te}else M?(Ee=(await Promise.all(he.map(async se=>{const be=Oe(s,se);return await V(be&&be._f?{[se]:be}:be)}))).every(Boolean),!(!Ee&&!t.isValid)&&B()):Ee=te=await V(s);return w.state.next({...!Er(M)||(T.isValid||b.isValid)&&te!==t.isValid?{}:{name:M},...e.resolver||!M?{isValid:te}:{},errors:t.errors}),W.shouldFocus&&!Ee&&Nu(s,P,M?he:f.mount),Ee},we=M=>{const W={...h.mount?u:o};return rn(M)?W:Er(M)?Oe(W,M):M.map(te=>Oe(W,te))},ve=(M,W)=>({invalid:!!Oe((W||t).errors,M),isDirty:!!Oe((W||t).dirtyFields,M),error:Oe((W||t).errors,M),isValidating:!!Oe(t.validatingFields,M),isTouched:!!Oe((W||t).touchedFields,M)}),_e=M=>{M&&Du(M).forEach(W=>cn(t.errors,W)),w.state.next({errors:M?t.errors:{}})},Fe=(M,W,te)=>{const Ee=(Oe(s,M,{_f:{}})._f||{}).ref,he=Oe(t.errors,M)||{},{ref:se,message:be,type:We,...Rt}=he;jt(t.errors,M,{...Rt,...W,ref:Ee}),w.state.next({name:M,errors:t.errors,isValid:!1}),te&&te.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},Le=(M,W)=>$i(M)?w.state.subscribe({next:te=>M(Be(void 0,W),te)}):Be(M,W,!0),Pt=M=>w.state.subscribe({next:W=>{yC(M.name,W.name,M.exact)&&gC(W,M.formState||T,tr,M.reRenderRoot)&&M.callback({values:{...u},...t,...W})}}).unsubscribe,rt=M=>(h.mount=!0,b={...b,...M.formState},Pt({...M,formState:b})),wt=(M,W={})=>{for(const te of M?Du(M):f.mount)f.mount.delete(te),f.array.delete(te),W.keepValue||(cn(s,te),cn(u,te)),!W.keepError&&cn(t.errors,te),!W.keepDirty&&cn(t.dirtyFields,te),!W.keepTouched&&cn(t.touchedFields,te),!W.keepIsValidating&&cn(t.validatingFields,te),!e.shouldUnregister&&!W.keepDefaultValue&&cn(o,te);w.state.next({values:jn(u)}),w.state.next({...t,...W.keepDirty?{isDirty:C()}:{}}),!W.keepIsValid&&B()},He=({disabled:M,name:W})=>{(vr(M)&&h.mount||M||f.disabled.has(W))&&(M?f.disabled.add(W):f.disabled.delete(W))},Dt=(M,W={})=>{let te=Oe(s,M);const Ee=vr(W.disabled)||vr(e.disabled);return jt(s,M,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:M}},name:M,mount:!0,...W}}),f.mount.add(M),te?He({disabled:vr(W.disabled)?W.disabled:e.disabled,name:M}):z(M,!0,W.value),{...Ee?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:bu(W.min),max:bu(W.max),minLength:bu(W.minLength),maxLength:bu(W.maxLength),pattern:bu(W.pattern)}:{},name:M,onChange:Xe,onBlur:Xe,ref:he=>{if(he){Dt(M,W),te=Oe(s,M);const se=rn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,be=cC(se),We=te._f.refs||[];if(be?We.find(Rt=>Rt===se):se===te._f.ref)return;jt(s,M,{_f:{...te._f,...be?{refs:[...We.filter(Xm),se,...Array.isArray(Oe(o,M))?[{}]:[]],ref:{type:se.type,name:M}}:{ref:se}}}),z(M,!1,void 0,se)}else te=Oe(s,M,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(sC(f.array,M)&&h.action)&&f.unMount.add(M)}}},Bn=()=>e.shouldFocusError&&Nu(s,P,f.mount),On=M=>{vr(M)&&(w.state.next({disabled:M}),Nu(s,(W,te)=>{const Ee=Oe(s,te);Ee&&(W.disabled=Ee._f.disabled||M,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(he=>{he.disabled=Ee._f.disabled||M}))},0,!1))},sn=(M,W)=>async te=>{let Ee;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=jn(u);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:be}=await R();t.errors=se,he=be}else await V(s);if(f.disabled.size)for(const se of f.disabled)jt(he,se,void 0);if(cn(t.errors,"root"),Qn(t.errors)){w.state.next({errors:{}});try{await M(he,te)}catch(se){Ee=se}}else W&&await W({...t.errors},te),Bn(),setTimeout(Bn);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},fi=(M,W={})=>{Oe(s,M)&&(rn(W.defaultValue)?Se(M,jn(Oe(o,M))):(Se(M,W.defaultValue),jt(o,M,jn(W.defaultValue))),W.keepTouched||cn(t.touchedFields,M),W.keepDirty||(cn(t.dirtyFields,M),t.isDirty=W.defaultValue?C(M,jn(Oe(o,M))):C()),W.keepError||(cn(t.errors,M),T.isValid&&B()),w.state.next({...t}))},Xn=(M,W={})=>{const te=M?jn(M):o,Ee=jn(te),he=Qn(M),se=he?o:Ee;if(W.keepDefaultValues||(o=te),!W.keepValues){if(W.keepDirtyValues){const be=new Set([...f.mount,...Object.keys(Tu(o,u))]);for(const We of Array.from(be))Oe(t.dirtyFields,We)?jt(se,We,Oe(u,We)):Se(We,Oe(se,We))}else{if(Kp&&rn(M))for(const be of f.mount){const We=Oe(s,be);if(We&&We._f){const Rt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Yh(Rt)){const At=Rt.closest("form");if(At){At.reset();break}}}}for(const be of f.mount)Se(be,Oe(se,be))}u=jn(se),w.array.next({values:{...se}}),w.state.next({values:{...se}})}f={mount:W.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!T.isValid||!!W.keepIsValid||!!W.keepDirtyValues,h.watch=!!e.shouldUnregister,w.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:he?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!Bs(M,o)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:he?{}:W.keepDirtyValues?W.keepDefaultValues&&u?Tu(o,u):t.dirtyFields:W.keepDefaultValues&&M?Tu(o,M):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ki=(M,W)=>Xn($i(M)?M(u):M,W),er=(M,W={})=>{const te=Oe(s,M),Ee=te&&te._f;if(Ee){const he=Ee.refs?Ee.refs[0]:Ee.ref;he.focus&&(he.focus(),W.shouldSelect&&$i(he.select)&&he.select())}},tr=M=>{t={...t,...M}},ji={control:{register:Dt,unregister:wt,getFieldState:ve,handleSubmit:sn,setError:Fe,_subscribe:Pt,_runSchema:R,_getWatch:Be,_getDirty:C,_setValid:B,_setFieldArray:ne,_setDisabledField:He,_setErrors:ae,_getFieldArray:Je,_reset:Xn,_resetDefaultValues:()=>$i(e.defaultValues)&&e.defaultValues().then(M=>{ki(M,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:On,_subjects:w,_proxyFormState:T,get _fields(){return s},get _formValues(){return u},get _state(){return h},set _state(M){h=M},get _defaultValues(){return o},get _names(){return f},set _names(M){f=M},get _formState(){return t},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:rt,trigger:ce,register:Dt,handleSubmit:sn,watch:Le,setValue:Se,getValues:we,reset:ki,resetField:fi,clearErrors:_e,unregister:wt,setError:Fe,setFocus:er,getFieldState:ve};return{...ji,formControl:ji}}function Xp(i={}){const e=qi.useRef(void 0),t=qi.useRef(void 0),[s,o]=qi.useState({isDirty:!1,isValidating:!1,isLoading:$i(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:$i(i.defaultValues)?void 0:i.defaultValues});e.current||(e.current={...i.formControl?i.formControl:bC(i),formState:s},i.formControl&&i.defaultValues&&!$i(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions));const u=e.current.control;return u._options=i,qi.useLayoutEffect(()=>u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0}),[u]),qi.useEffect(()=>u._disableForm(i.disabled),[u,i.disabled]),qi.useEffect(()=>{if(u._proxyFormState.isDirty){const h=u._getDirty();h!==s.isDirty&&u._subjects.state.next({isDirty:h})}},[u,s.isDirty]),qi.useEffect(()=>{i.values&&!Bs(i.values,t.current)?(u._reset(i.values,u._options.resetOptions),t.current=i.values,o(h=>({...h}))):u._resetDefaultValues()},[i.values,u]),qi.useEffect(()=>{i.errors&&!Qn(i.errors)&&u._setErrors(i.errors)},[i.errors,u]),qi.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),qi.useEffect(()=>{i.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[i.shouldUnregister,u]),e.current.formState=oC(s,u),e.current}const SC="_pageContainer_e5zzt_1",AC="_container_e5zzt_12",wC="_title_e5zzt_17",RC="_inputGroup_e5zzt_23",xC="_label_e5zzt_27",CC="_input_e5zzt_23",IC="_links_e5zzt_42",DC="_link_e5zzt_42",NC="_separator_e5zzt_58",OC="_validatingErrorMessage_e5zzt_62",Qe={pageContainer:SC,container:AC,title:wC,inputGroup:RC,label:xC,input:CC,links:IC,link:DC,separator:NC,validatingErrorMessage:OC},MC=()=>{const{login:i}=Zu(),{register:e,handleSubmit:t,formState:{errors:s},reset:o}=Xp(),u=h=>{try{i(h.email,h.password),o()}catch(f){console.error("Error with registration",f)}};return y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Авторизація"}),y.jsxs("form",{onSubmit:t(u),children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов`язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),y.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов`язковий.",minLength:{value:8,message:"Пароль повинен містити мінімум 8 символів."}})})]}),y.jsx("button",{type:"submit",children:"Увійти"}),y.jsxs("div",{className:Qe.links,children:[y.jsx("a",{href:"#",className:Qe.link,children:"Забули пароль?"}),y.jsx("span",{className:Qe.separator,children:"|"}),y.jsx(Qi,{to:"/register",className:Qe.link,children:"Зареєструватися"})]})]})]})})},PC=()=>{const{register:i}=Zu(),{register:e,handleSubmit:t,formState:{errors:s},watch:o,reset:u}=Xp(),h=f=>{try{i(f.email,f.password,f.name),u()}catch(p){console.error("Error with registration",p)}};return y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Реєстрація"}),y.jsxs("form",{onSubmit:t(h),children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"name",className:Qe.label,children:["Ім’я:",s.name&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.name.message]})]}),y.jsx("input",{type:"text",id:"name",className:Qe.input,placeholder:"Введіть ваше ім’я",...e("name",{required:"Ім’я користувача обов'язкове.",minLength:{value:3,message:"Ім’я має містити щонайменше 3 символи."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"email",className:Qe.label,children:["Електронна пошта:",s.email&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.email.message]})]}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту",...e("email",{required:"Email обов’язковий.",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Невірний формат email."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"password",className:Qe.label,children:["Пароль:",s.password&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.password.message]})]}),y.jsx("input",{type:"password",id:"password",className:Qe.input,placeholder:"Введіть ваш пароль",...e("password",{required:"Пароль обов’язковий.",minLength:{value:8,message:"Пароль має містити щонайменше 8 символів."}})})]}),y.jsxs("div",{className:Qe.inputGroup,children:[y.jsxs("label",{htmlFor:"confirmPassword",className:Qe.label,children:["Підтвердіть пароль:",s.confirmPassword&&y.jsxs("span",{className:Qe.validatingErrorMessage,children:[" ","*",s.confirmPassword.message]})]}),y.jsx("input",{type:"password",id:"confirmPassword",className:Qe.input,placeholder:"Підтвердіть ваш пароль",...e("confirmPassword",{required:"Підтвердження пароля обов’язкове.",validate:f=>f===o("password")||"Паролі не збігаються."})})]}),y.jsx("button",{type:"submit",children:"Зареєструватися"}),y.jsx("div",{className:Qe.links,children:y.jsx(Qi,{to:"/login",className:Qe.link,children:"Вже є аккаунт? Увійти"})})]})]})})},VC=()=>y.jsx("div",{className:Qe.pageContainer,children:y.jsxs("div",{className:Qe.container,children:[y.jsx("h2",{className:Qe.title,children:"Відновлення пароля"}),y.jsxs("form",{children:[y.jsxs("div",{className:Qe.inputGroup,children:[y.jsx("label",{htmlFor:"email",className:Qe.label,children:"Електронна пошта:"}),y.jsx("input",{type:"email",id:"email",className:Qe.input,placeholder:"Введіть вашу електронну пошту"})]}),y.jsx("button",{type:"submit",children:"Відновити пароль"}),y.jsx("div",{className:Qe.links,children:y.jsx("a",{href:"/login",className:Qe.link,children:"Повернутися до авторизації"})})]})]})}),Wm=({children:i})=>{const{user:e}=Zu();return e?y.jsx(m1,{to:"/",replace:!0}):y.jsx(y.Fragment,{children:i})},kC="_title_1qipx_1",jC={title:kC},LC=()=>y.jsx("div",{className:jC.title,children:"Rules"}),UC="_title_1qipx_1",zC={title:UC},BC=()=>{const i=Ed();return y.jsxs("div",{className:zC.title,children:["My game sessions ...",y.jsx("button",{onClick:()=>i("/createGame"),children:"Створити гру"})]})},FC=()=>y.jsx("div",{children:"GameSessionPage"});var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},HC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],f=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,f=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|f>>4;let w=(f&15)<<2|g>>6,I=g&63;p||(I=64,h||(w=64)),s.push(t[T],t[b],t[w],t[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],f=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||f==null||g==null||b==null)throw new qC;const w=u<<2|f>>4;if(s.push(w),g!==64){const I=f<<4&240|g>>2;if(s.push(I),b!==64){const L=g<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GC=function(i){const e=jT(i);return LT.encodeByteArray(e,!0)},Zh=function(i){return GC(i).replace(/\./g,"")},UT=function(i){try{return LT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=()=>KC().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process>"u"||typeof k0>"u")return;const i=k0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&UT(i[1]);return e&&JSON.parse(e)},Sd=()=>{try{return $C()||QC()||YC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zT=i=>{var e,t;return(t=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},XC=i=>{const e=zT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},BT=()=>{var i;return(i=Sd())===null||i===void 0?void 0:i.config},FT=i=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Zh(JSON.stringify(t)),Zh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function eI(){var i;const e=(i=Sd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const i=zn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sI(){return!eI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="FirebaseError";class hs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lI,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?uI(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new hs(o,f,s)}}function uI(i,e){return i.replace(cI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cI=/\{\$([^}]+)}/g;function hI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(j0(u)&&j0(h)){if(!Jh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function j0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Au(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function dI(i,e){const t=new fI(i,e);return t.subscribe.bind(t)}class fI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i){return i&&i._delegate?i._delegate:i}class Ga{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yI(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gI(i){return i===Ua?void 0:i}function yI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const _I={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},EI=at.INFO,TI={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},bI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=TI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=EI,this._logHandler=bI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const SI=(i,e)=>e.some(t=>i instanceof t);let L0,U0;function AI(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wI(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HT=new WeakMap,fp=new WeakMap,qT=new WeakMap,Jm=new WeakMap,Zp=new WeakMap;function RI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t($s(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&HT.set(t,i)}).catch(()=>{}),Zp.set(e,i),e}function xI(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});fp.set(i,e)}let mp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||qT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $s(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function CI(i){mp=i(mp)}function II(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(ep(this),e,...t);return qT.set(s,e.sort?e.sort():[e]),$s(s)}:wI().includes(i)?function(...e){return i.apply(ep(this),e),$s(HT.get(this))}:function(...e){return $s(i.apply(ep(this),e))}}function DI(i){return typeof i=="function"?II(i):(i instanceof IDBTransaction&&xI(i),SI(i,AI())?new Proxy(i,mp):i)}function $s(i){if(i instanceof IDBRequest)return RI(i);if(Jm.has(i))return Jm.get(i);const e=DI(i);return e!==i&&(Jm.set(i,e),Zp.set(e,i)),e}const ep=i=>Zp.get(i);function NI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),f=$s(h);return s&&h.addEventListener("upgradeneeded",p=>{s($s(h.result),p.oldVersion,p.newVersion,$s(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const OI=["get","getKey","getAll","getAllKeys","count"],MI=["put","add","delete","clear"],tp=new Map;function z0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=MI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OI.includes(t)))return;const u=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return tp.set(e,u),u}CI(i=>({...i,get:(e,t,s)=>z0(e,t)||i.get(e,t,s),has:(e,t)=>!!z0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function VI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",B0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Wp("@firebase/app"),kI="@firebase/app-compat",jI="@firebase/analytics-compat",LI="@firebase/analytics",UI="@firebase/app-check-compat",zI="@firebase/app-check",BI="@firebase/auth",FI="@firebase/auth-compat",HI="@firebase/database",qI="@firebase/data-connect",GI="@firebase/database-compat",KI="@firebase/functions",$I="@firebase/functions-compat",QI="@firebase/installations",YI="@firebase/installations-compat",XI="@firebase/messaging",WI="@firebase/messaging-compat",ZI="@firebase/performance",JI="@firebase/performance-compat",e2="@firebase/remote-config",t2="@firebase/remote-config-compat",n2="@firebase/storage",i2="@firebase/storage-compat",r2="@firebase/firestore",s2="@firebase/vertexai",a2="@firebase/firestore-compat",o2="firebase",l2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",u2={[pp]:"fire-core",[kI]:"fire-core-compat",[LI]:"fire-analytics",[jI]:"fire-analytics-compat",[zI]:"fire-app-check",[UI]:"fire-app-check-compat",[BI]:"fire-auth",[FI]:"fire-auth-compat",[HI]:"fire-rtdb",[qI]:"fire-data-connect",[GI]:"fire-rtdb-compat",[KI]:"fire-fn",[$I]:"fire-fn-compat",[QI]:"fire-iid",[YI]:"fire-iid-compat",[XI]:"fire-fcm",[WI]:"fire-fcm-compat",[ZI]:"fire-perf",[JI]:"fire-perf-compat",[e2]:"fire-rc",[t2]:"fire-rc-compat",[n2]:"fire-gcs",[i2]:"fire-gcs-compat",[r2]:"fire-fst",[a2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[o2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,c2=new Map,yp=new Map;function F0(i,e){try{i.container.addComponent(e)}catch(t){as.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function nl(i){const e=i.name;if(yp.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,i);for(const t of ed.values())F0(t,i);for(const t of c2.values())F0(t,i);return!0}function Jp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Pi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new ec("app","Firebase",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=l2;function GT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(t||(t=BT()),!t)throw Qs.create("no-options");const u=ed.get(o);if(u){if(Jh(t,u.options)&&Jh(s,u.config))return u;throw Qs.create("duplicate-app",{appName:o})}const h=new vI(o);for(const p of yp.values())h.addComponent(p);const f=new d2(t,s,h);return ed.set(o,f),f}function KT(i=gp){const e=ed.get(i);if(!e&&i===gp&&BT())return GT();if(!e)throw Qs.create("no-app",{appName:i});return e}function Ys(i,e,t){var s;let o=(s=u2[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(f.join(" "));return}nl(new Ga(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-heartbeat-database",m2=1,Uu="firebase-heartbeat-store";let np=null;function $T(){return np||(np=NI(f2,m2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Qs.create("idb-open",{originalErrorMessage:i.message})})),np}async function p2(i){try{const t=(await $T()).transaction(Uu),s=await t.objectStore(Uu).get(QT(i));return await t.done,s}catch(e){if(e instanceof hs)as.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(t.message)}}}async function H0(i,e){try{const s=(await $T()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(e,QT(i)),await s.done}catch(t){if(t instanceof hs)as.warn(t.message);else{const s=Qs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});as.warn(s.message)}}}function QT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1024,y2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new E2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>y2){const h=T2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){as.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q0(),{heartbeatsToSend:s,unsentEntries:o}=_2(this._heartbeatsCache.heartbeats),u=Zh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return as.warn(t),""}}}function q0(){return new Date().toISOString().substring(0,10)}function _2(i,e=g2){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),G0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),G0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class E2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await p2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return H0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return H0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function G0(i){return Zh(JSON.stringify({version:2,heartbeats:i})).length}function T2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(i){nl(new Ga("platform-logger",e=>new PI(e),"PRIVATE")),nl(new Ga("heartbeat",e=>new v2(e),"PRIVATE")),Ys(pp,B0,i),Ys(pp,B0,"esm2017"),Ys("fire-js","")}b2("");var S2="firebase",A2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(S2,A2,"app");function eg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=YT,XT=new ec("auth","Firebase",YT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Wp("@firebase/auth");function R2(i,...e){td.logLevel<=at.WARN&&td.warn(`Auth (${dl}): ${i}`,...e)}function kh(i,...e){td.logLevel<=at.ERROR&&td.error(`Auth (${dl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(i,...e){throw tg(i,...e)}function br(i,...e){return tg(i,...e)}function WT(i,e,t){const s=Object.assign(Object.assign({},w2()),{[e]:t});return new ec("auth","Firebase",s).create(e,{appName:i.name})}function rs(i){return WT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return XT.create(i,...e)}function qe(i,e,...t){if(!i)throw tg(e,...t)}function ts(i){const e="INTERNAL ASSERTION FAILED: "+i;throw kh(e),new Error(e)}function os(i,e){i||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function x2(){return K0()==="http:"||K0()==="https:"}function K0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||nI()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,os(t>e,"Short delay should be less than long delay!"),this.isMobile=JC()||iI()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i,e){os(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new nc(3e4,6e4);function aa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function oa(i,e,t,s,o={}){return JT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=tc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return tI()||(g.referrerPolicy="no-referrer"),ZT.fetch()(eb(i,i.config.apiHost,t,f),g)})}async function JT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},D2),e);try{const o=new M2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Rh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Rh(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw WT(i,T,g);Wi(i,T)}}catch(o){if(o instanceof hs)throw o;Wi(i,"network-request-failed",{message:String(o)})}}async function ic(i,e,t,s,o={}){const u=await oa(i,e,t,s,o);return"mfaPendingCredential"in u&&Wi(i,"multi-factor-auth-required",{_serverResponse:u}),u}function eb(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?ng(i.config,o):`${i.config.apiScheme}://${o}`}function O2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),N2.get())})}}function Rh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=br(i,e,s);return o.customData._tokenResponse=t,o}function $0(i){return i!==void 0&&i.enterprise!==void 0}class P2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V2(i,e){return oa(i,"GET","/v2/recaptchaConfig",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){return oa(i,"POST","/v1/accounts:delete",e)}async function tb(i,e){return oa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j2(i,e=!1){const t=ti(i),s=await t.getIdToken(e),o=ig(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ou(ip(o.auth_time)),issuedAtTime:Ou(ip(o.iat)),expirationTime:Ou(ip(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ip(i){return Number(i)*1e3}function ig(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=UT(t);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Q0(i){const e=ig(i);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof hs&&L2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function L2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(i){var e;const t=i.auth,s=await i.getIdToken(),o=await zu(i,tb(t,{idToken:s}));qe(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?nb(u.providerUserInfo):[],f=B2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(f!=null&&f.length),T=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new _p(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,b)}async function z2(i){const e=ti(i);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nb(i){return i.map(e=>{var{providerId:t}=e,s=eg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(i,e){const t=await JT(i,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=eb(i,o,"/v1/token",`key=${u}`),f=await i._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",ZT.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function H2(i,e){return oa(i,"POST","/v2/accounts:revokeToken",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Q0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await F2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Zo;return s&&(qe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(qe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(i,e){qe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new _p(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await zu(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j2(this,e)}reload(){return z2(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await zu(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,f,p,g,T;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,X=(f=t.tenantId)!==null&&f!==void 0?f:void 0,H=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(g=t.createdAt)!==null&&g!==void 0?g:void 0,q=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ne,emailVerified:pe,isAnonymous:ae,providerData:z,stsTokenManager:O}=t;qe(ne&&O,e,"internal-error");const x=Zo.fromJSON(this.name,O);qe(typeof ne=="string",e,"internal-error"),Ls(b,e.name),Ls(w,e.name),qe(typeof pe=="boolean",e,"internal-error"),qe(typeof ae=="boolean",e,"internal-error"),Ls(I,e.name),Ls(L,e.name),Ls(X,e.name),Ls(H,e.name),Ls(B,e.name),Ls(q,e.name);const R=new ns({uid:ne,auth:e,email:w,emailVerified:pe,displayName:b,isAnonymous:ae,photoURL:L,phoneNumber:I,tenantId:X,stsTokenManager:x,createdAt:B,lastLoginAt:q});return z&&Array.isArray(z)&&(R.providerData=z.map(N=>Object.assign({},N))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Zo;o.updateFromServerResponse(t);const u=new ns({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await nd(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new Zo;f.updateFromIdToken(s);const p=new ns({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function is(i){os(i instanceof Function,"Expected a class definition");let e=Y0.get(i);return e?(os(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Y0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ib.type="NONE";const X0=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i,e,t){return`firebase:${i}:${e}:${t}`}class Jo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Jo(is(X0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||is(X0);const h=jh(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const T=await g._get(h);if(T){const b=ns._fromJSON(e,T);g!==u&&(f=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Jo(u,e,s):(u=p[0],f&&await u._set(h,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Jo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ub(e))return"Blackberry";if(cb(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rb(i=zn()){return/firefox\//i.test(i)}function sb(i=zn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(i=zn()){return/crios\//i.test(i)}function ob(i=zn()){return/iemobile/i.test(i)}function lb(i=zn()){return/android/i.test(i)}function ub(i=zn()){return/blackberry/i.test(i)}function cb(i=zn()){return/webos/i.test(i)}function rg(i=zn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function q2(i=zn()){var e;return rg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G2(){return rI()&&document.documentMode===10}function hb(i=zn()){return rg(i)||lb(i)||cb(i)||ub(i)||/windows phone/i.test(i)||ob(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(i,e=[]){let t;switch(i){case"Browser":t=W0(zn());break;case"Worker":t=`${W0(zn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,f)=>{try{const p=e(u);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(i,e={}){return oa(i,"GET","/v2/passwordPolicy",aa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=6;class Y2{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Q2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tb(this,{idToken:e}),s=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(rs(this));const t=e?ti(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $2(this),t=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await H2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&R2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Wa(i){return ti(i)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dI(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(i){Ad=i}function fb(i){return Ad.loadJS(i)}function Z2(){return Ad.recaptchaEnterpriseScript}function J2(){return Ad.gapiScript}function eD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iD="recaptcha-enterprise",mb="NO_RECAPTCHA";class rD{constructor(e){this.type=iD,this.auth=Wa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,f)=>{V2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new P2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{f(p)})})}function o(u,h,f){const p=window.grecaptcha;$0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(mb)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(f=>{if(!t&&$0(window.grecaptcha))o(f,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Z2();p.length!==0&&(p+=f),fb(p).then(()=>{o(f,u,h)}).catch(g=>{h(g)})}}).catch(f=>{h(f)})})}}async function J0(i,e,t,s=!1,o=!1){const u=new rD(i);let h;if(o)h=mb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ep(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await J0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await J0(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i,e){const t=Jp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Jh(u,e??{}))return o;Wi(o,"already-initialized")}return t.initialize({options:e})}function aD(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(is);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oD(i,e,t){const s=Wa(i);qe(s._canInitEmulator,s,"emulator-config-failed"),qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pb(e),{host:h,port:f}=lD(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),uD()}function pb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lD(i){const e=pb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:eE(h)}}}function eE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function cD(i,e){return oa(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(i,e){return ic(i,"POST","/v1/accounts:signInWithPassword",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,e){return ic(i,"POST","/v1/accounts:signInWithEmailLink",aa(i,e))}async function fD(i,e){return ic(i,"POST","/v1/accounts:signInWithEmailLink",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends sg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",hD);case"emailLink":return dD(e,{email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,s,"signUpPassword",cD);case"emailLink":return fD(e,{idToken:t,email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(i,e){return ic(i,"POST","/v1/accounts:signInWithIdp",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Ka extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=eg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ka(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,el(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gD(i){const e=Au(wu(i)).link,t=e?Au(wu(e)).deep_link_id:null,s=Au(wu(i)).deep_link_id;return(s?Au(wu(s)).link:null)||s||t||e||i}class ag{constructor(e){var t,s,o,u,h,f;const p=Au(wu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=pD((o=p.mode)!==null&&o!==void 0?o:null);qe(g&&T&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=gD(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ag.parseLink(t);return qe(s,"argument-error"),Bu._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends rc{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ka._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Hs.credential(t,s)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends rc{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends rc{constructor(){super("twitter.com")}static credential(e,t){return Ka._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Gs.credential(t,s)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(i,e){return ic(i,"POST","/v1/accounts:signUp",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ns._fromIdTokenResponse(e,s,o),h=tE(s);return new $a({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=tE(s);return new $a({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function tE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends hs{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new id(e,t,s,o)}}function yb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(i,u,e,s):u})}async function vD(i,e,t=!1){const s=await zu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return $a._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(i,e,t=!1){const{auth:s}=i;if(Pi(s.app))return Promise.reject(rs(s));const o="reauthenticate";try{const u=await zu(i,yb(s,o,e,i),t);qe(u.idToken,s,"internal-error");const h=ig(u.idToken);qe(h,s,"internal-error");const{sub:f}=h;return qe(i.uid===f,s,"user-mismatch"),$a._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(i,e,t=!1){if(Pi(i.app))return Promise.reject(rs(i));const s="signIn",o=await yb(i,s,e),u=await $a._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function ED(i,e){return vb(Wa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(i){const e=Wa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TD(i,e,t){if(Pi(i.app))return Promise.reject(rs(i));const s=Wa(i),h=await Ep(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&_b(i),p}),f=await $a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function bD(i,e,t){return Pi(i.app)?Promise.reject(rs(i)):ED(ti(i),fl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_b(i),s})}function SD(i,e,t,s){return ti(i).onIdTokenChanged(e,t,s)}function AD(i,e,t){return ti(i).beforeAuthStateChanged(e,t)}function wD(i,e,t,s){return ti(i).onAuthStateChanged(e,t,s)}function RD(i){return ti(i).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=1e3,CD=10;class Tb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);G2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tb.type="LOCAL";const ID=Tb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bb.type="SESSION";const Sb=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async g=>g(t.origin,u)),p=await DD(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((f,p)=>{const g=og("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(w.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function OD(i){Sr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function VD(){return Ab()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",kD=1,sd="firebaseLocalStorage",Rb="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(i,e){return i.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function jD(){const i=indexedDB.deleteDatabase(wb);return new sc(i).toPromise()}function Tp(){const i=indexedDB.open(wb,kD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(sd,{keyPath:Rb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await jD(),e(await Tp()))})})}async function nE(i,e,t){const s=Rd(i,!0).put({[Rb]:e,value:t});return new sc(s).toPromise()}async function LD(i,e){const t=Rd(i,!1).get(e),s=await new sc(t).toPromise();return s===void 0?null:s.value}function iE(i,e){const t=Rd(i,!0).delete(e);return new sc(t).toPromise()}const UD=800,zD=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>zD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(VD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await nE(e,rd,"1"),await iE(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>nE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>LD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rd(o,!1).getAll();return new sc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const BD=xb;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(i,e){return e?is(e):(qe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HD(i){return vb(i.auth,new lg(i),i.bypassAuthState)}function qD(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),_D(t,new lg(i),i.bypassAuthState)}async function GD(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),vD(t,new lg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:Wi(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new nc(2e3,1e4);class Wo extends Cb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KD.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="pendingRedirect",Lh=new Map;class QD extends Cb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const s=await YD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YD(i,e){const t=ZD(e),s=WD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function XD(i,e){Lh.set(i._key(),e)}function WD(i){return is(i._redirectPersistence)}function ZD(i){return jh($D,i.config.apiKey,i.name)}async function JD(i,e,t=!1){if(Pi(i.app))return Promise.reject(rs(i));const s=Wa(i),o=FD(s,e),h=await new QD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=10*60*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Ib(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(br(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ib({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e={}){return oa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function aN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await iN(i);for(const t of e)try{if(oN(t))return}catch{}Wi(i,"unauthorized-domain")}function oN(i){const e=vp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!sN.test(t))return!1;if(rN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new nc(3e4,6e4);function sE(){const i=Sr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function uN(i){return new Promise((e,t)=>{var s,o,u;function h(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),t(br(i,"network-request-failed"))},timeout:lN.get()})}if(!((o=(s=Sr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Sr().gapi)===null||u===void 0)&&u.load)h();else{const f=eD("iframefcb");return Sr()[f]=()=>{gapi.load?h():t(br(i,"network-request-failed"))},fb(`${J2()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function cN(i){return Uh=Uh||uN(i),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new nc(5e3,15e3),dN="__/auth/iframe",fN="emulator/auth/iframe",mN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(i){const e=i.config;qe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ng(e,fN):`https://${i.config.authDomain}/${dN}`,s={apiKey:e.apiKey,appName:i.name,v:dl},o=pN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${tc(s).slice(1)}`}async function yN(i){const e=await cN(i),t=Sr().gapi;return qe(t,i,"internal-error"),e.open({where:document.body,url:gN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=br(i,"network-request-failed"),f=Sr().setTimeout(()=>{u(h)},hN.get());function p(){Sr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,EN=600,TN="_blank",bN="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SN(i,e,t,s=_N,o=EN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},vN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=zn().toLowerCase();t&&(f=ab(g)?TN:t),rb(g)&&(e=e||bN,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[I,L])=>`${w}${I}=${L},`,"");if(q2(g)&&f!=="_self")return AN(e||"",f),new aE(null);const b=window.open(e||"",f,T);qe(b,i,"popup-blocked");try{b.focus()}catch{}return new aE(b)}function AN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",RN="emulator/auth/handler",xN=encodeURIComponent("fac");async function oE(i,e,t,s,o,u){qe(i.config.authDomain,i,"auth-domain-config-required"),qe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:dl,eventId:o};if(e instanceof gb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",hI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof rc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const f=h;for(const T of Object.keys(f))f[T]===void 0&&delete f[T];const p=await i._getAppCheckToken(),g=p?`#${xN}=${encodeURIComponent(p)}`:"";return`${CN(i)}?${tc(f).slice(1)}${g}`}function CN({config:i}){return i.emulator?ng(i,RN):`https://${i.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sb,this._completeRedirectFn=JD,this._overrideRedirectResult=XD}async _openPopup(e,t,s,o){var u;os((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await oE(e,t,s,vp(),o);return SN(e,h,og())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await oE(e,t,s,vp(),o);return OD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(os(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await yN(e),s=new tN(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[rp];h!==void 0&&t(!!h),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hb()||sb()||rg()}}const DN=IN;var lE="@firebase/auth",uE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MN(i){nl(new Ga("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;qe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:db(i)},g=new X2(s,o,u,p);return aD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),nl(new Ga("auth-internal",e=>{const t=Wa(e.getProvider("auth").getImmediate());return(s=>new NN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(lE,uE,ON(i)),Ys(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=5*60,VN=FT("authIdTokenMaxAge")||PN;let cE=null;const kN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>VN)return;const o=t==null?void 0:t.token;cE!==o&&(cE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jN(i=KT()){const e=Jp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=sD(i,{popupRedirectResolver:DN,persistence:[BD,ID,Sb]}),s=FT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=kN(u.toString());AD(t,h,()=>h(t.currentUser)),SD(t,f=>h(f))}}const o=zT("auth");return o&&oD(t,`http://${o}`),t}function LN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}W2({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=br("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",LN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MN("Browser");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,Db;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function R(){}R.prototype=x.prototype,O.D=x.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,V,j){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return x.prototype[V].apply(N,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,R){R||(R=0);var N=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)N[V]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=O.g[0],R=O.g[1],V=O.g[2];var j=O.g[3],C=x+(j^R&(V^j))+N[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=j+(V^x&(R^V))+N[1]+3905402710&4294967295,j=x+(C<<12&4294967295|C>>>20),C=V+(R^j&(x^R))+N[2]+606105819&4294967295,V=j+(C<<17&4294967295|C>>>15),C=R+(x^V&(j^x))+N[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(j^R&(V^j))+N[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(V^x&(R^V))+N[5]+1200080426&4294967295,j=x+(C<<12&4294967295|C>>>20),C=V+(R^j&(x^R))+N[6]+2821735955&4294967295,V=j+(C<<17&4294967295|C>>>15),C=R+(x^V&(j^x))+N[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(j^R&(V^j))+N[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(V^x&(R^V))+N[9]+2336552879&4294967295,j=x+(C<<12&4294967295|C>>>20),C=V+(R^j&(x^R))+N[10]+4294925233&4294967295,V=j+(C<<17&4294967295|C>>>15),C=R+(x^V&(j^x))+N[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(j^R&(V^j))+N[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(V^x&(R^V))+N[13]+4254626195&4294967295,j=x+(C<<12&4294967295|C>>>20),C=V+(R^j&(x^R))+N[14]+2792965006&4294967295,V=j+(C<<17&4294967295|C>>>15),C=R+(x^V&(j^x))+N[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(V^j&(R^V))+N[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^V&(x^R))+N[6]+3225465664&4294967295,j=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(j^x))+N[11]+643717713&4294967295,V=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(V^j))+N[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^j&(R^V))+N[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^V&(x^R))+N[10]+38016083&4294967295,j=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(j^x))+N[15]+3634488961&4294967295,V=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(V^j))+N[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^j&(R^V))+N[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^V&(x^R))+N[14]+3275163606&4294967295,j=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(j^x))+N[3]+4107603335&4294967295,V=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(V^j))+N[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^j&(R^V))+N[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^V&(x^R))+N[2]+4243563512&4294967295,j=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(j^x))+N[7]+1735328473&4294967295,V=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(V^j))+N[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(R^V^j)+N[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^V)+N[8]+2272392833&4294967295,j=x+(C<<11&4294967295|C>>>21),C=V+(j^x^R)+N[11]+1839030562&4294967295,V=j+(C<<16&4294967295|C>>>16),C=R+(V^j^x)+N[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^j)+N[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^V)+N[4]+1272893353&4294967295,j=x+(C<<11&4294967295|C>>>21),C=V+(j^x^R)+N[7]+4139469664&4294967295,V=j+(C<<16&4294967295|C>>>16),C=R+(V^j^x)+N[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^j)+N[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^V)+N[0]+3936430074&4294967295,j=x+(C<<11&4294967295|C>>>21),C=V+(j^x^R)+N[3]+3572445317&4294967295,V=j+(C<<16&4294967295|C>>>16),C=R+(V^j^x)+N[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^j)+N[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^V)+N[12]+3873151461&4294967295,j=x+(C<<11&4294967295|C>>>21),C=V+(j^x^R)+N[15]+530742520&4294967295,V=j+(C<<16&4294967295|C>>>16),C=R+(V^j^x)+N[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(V^(R|~j))+N[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~V))+N[7]+1126891415&4294967295,j=x+(C<<10&4294967295|C>>>22),C=V+(x^(j|~R))+N[14]+2878612391&4294967295,V=j+(C<<15&4294967295|C>>>17),C=R+(j^(V|~x))+N[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~j))+N[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~V))+N[3]+2399980690&4294967295,j=x+(C<<10&4294967295|C>>>22),C=V+(x^(j|~R))+N[10]+4293915773&4294967295,V=j+(C<<15&4294967295|C>>>17),C=R+(j^(V|~x))+N[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~j))+N[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~V))+N[15]+4264355552&4294967295,j=x+(C<<10&4294967295|C>>>22),C=V+(x^(j|~R))+N[6]+2734768916&4294967295,V=j+(C<<15&4294967295|C>>>17),C=R+(j^(V|~x))+N[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~j))+N[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~V))+N[11]+3174756917&4294967295,j=x+(C<<10&4294967295|C>>>22),C=V+(x^(j|~R))+N[2]+718787259&4294967295,V=j+(C<<15&4294967295|C>>>17),C=R+(j^(V|~x))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var R=x-this.blockSize,N=this.B,V=this.h,j=0;j<x;){if(V==0)for(;j<=R;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<x;)if(N[V++]=O.charCodeAt(j++),V==this.blockSize){o(this,N),V=0;break}}else for(;j<x;)if(N[V++]=O[j++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=x},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var R=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.u(O),O=Array(16),x=R=0;4>x;++x)for(var N=0;32>N;N+=8)O[R++]=this.g[x]>>>N&255;return O};function u(O,x){var R=f;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=x(O)}function h(O,x){this.h=x;for(var R=[],N=!0,V=O.length-1;0<=V;V--){var j=O[V]|0;N&&j==x||(R[V]=j,N=!1)}this.g=R}var f={};function p(O){return-128<=O&&128>O?u(O,function(x){return new h([x|0],0>x?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return H(g(-O));for(var x=[],R=1,N=0;O>=R;N++)x[N]=O/R|0,R*=4294967296;return new h(x,0)}function T(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return H(T(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),N=b,V=0;V<O.length;V+=8){var j=Math.min(8,O.length-V),C=parseInt(O.substring(V,V+j),x);8>j?(j=g(Math.pow(x,j)),N=N.j(j).add(g(C))):(N=N.j(R),N=N.add(g(C)))}return N}var b=p(0),w=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(X(this))return-H(this).m();for(var O=0,x=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*x,x*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(X(this))return"-"+H(this).toString(O);for(var x=g(Math.pow(O,6)),R=this,N="";;){var V=pe(R,x).g;R=B(R,V.j(x));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=V,L(R))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function X(O){return O.h==-1}i.l=function(O){return O=B(this,O),X(O)?-1:L(O)?0:1};function H(O){for(var x=O.g.length,R=[],N=0;N<x;N++)R[N]=~O.g[N];return new h(R,~O.h).add(w)}i.abs=function(){return X(this)?H(this):this},i.add=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],N=0,V=0;V<=x;V++){var j=N+(this.i(V)&65535)+(O.i(V)&65535),C=(j>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=C>>>16,j&=65535,C&=65535,R[V]=C<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function B(O,x){return O.add(H(x))}i.j=function(O){if(L(this)||L(O))return b;if(X(this))return X(O)?H(this).j(H(O)):H(H(this).j(O));if(X(O))return H(this.j(H(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var x=this.g.length+O.g.length,R=[],N=0;N<2*x;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var j=this.i(N)>>>16,C=this.i(N)&65535,Be=O.i(V)>>>16,Je=O.i(V)&65535;R[2*N+2*V]+=C*Je,q(R,2*N+2*V),R[2*N+2*V+1]+=j*Je,q(R,2*N+2*V+1),R[2*N+2*V+1]+=C*Be,q(R,2*N+2*V+1),R[2*N+2*V+2]+=j*Be,q(R,2*N+2*V+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new h(R,0)};function q(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function ne(O,x){this.g=O,this.h=x}function pe(O,x){if(L(x))throw Error("division by zero");if(L(O))return new ne(b,b);if(X(O))return x=pe(H(O),x),new ne(H(x.g),H(x.h));if(X(x))return x=pe(O,H(x)),new ne(H(x.g),x.h);if(30<O.g.length){if(X(O)||X(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=x;0>=N.l(O);)R=ae(R),N=ae(N);var V=z(R,1),j=z(N,1);for(N=z(N,2),R=z(R,2);!L(N);){var C=j.add(N);0>=C.l(O)&&(V=V.add(R),j=C),N=z(N,1),R=z(R,1)}return x=B(O,V.j(x)),new ne(V,x)}for(V=b;0<=O.l(x);){for(R=Math.max(1,Math.floor(O.m()/x.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=g(R),C=j.j(x);X(C)||0<C.l(O);)R-=N,j=g(R),C=j.j(x);L(j)&&(j=w),V=V.add(j),O=B(O,C)}return new ne(V,O)}i.A=function(O){return pe(this,O).h},i.and=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)&O.i(N);return new h(R,this.h&O.h)},i.or=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)|O.i(N);return new h(R,this.h|O.h)},i.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)^O.i(N);return new h(R,this.h^O.h)};function ae(O){for(var x=O.g.length+1,R=[],N=0;N<x;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new h(R,O.h)}function z(O,x){var R=x>>5;x%=32;for(var N=O.g.length-R,V=[],j=0;j<N;j++)V[j]=0<x?O.i(j+R)>>>x|O.i(j+R+1)<<32-x:O.i(j+R);return new h(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Db=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Xs=h}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nb,Ru,Ob,zh,bp,Mb,Pb,Vb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,v){if(v)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var $=c[A];if(!($ in _))break e;_=_[$]}c=c[c.length-1],A=_[c],v=v(A),v!=A&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,A=!1,$={next:function(){if(!A&&_<c.length){var ee=_++;return{value:v(ee,c[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function T(c,v,_){return c.call.apply(c.bind,arguments)}function b(c,v,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),c.apply(v,$)}}return function(){return c.apply(v,arguments)}}function w(c,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,w.apply(null,arguments)}function I(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,$,ee){for(var ge=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ge[dt-2]=arguments[dt];return v.prototype[$].apply(A,ge)}}function X(c){const v=c.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=c[A];return _}return[]}function H(c,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const $=c.length||0,ee=A.length||0;c.length=$+ee;for(let ge=0;ge<ee;ge++)c[$+ge]=A[ge]}else c.push(A)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ae=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function z(c,v,_){for(const A in c)v.call(_,c[A],A,c)}function O(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function x(c){const v={};for(const _ in c)v[_]=c[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,v){let _,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(_ in A)c[_]=A[_];for(let ee=0;ee<R.length;ee++)_=R[ee],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function j(c){f.setTimeout(()=>{throw c},0)}function C(){var c=Xe;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,_){const A=Je.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Je=new B(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Se=!1,Xe=new Be,P=()=>{const c=f.Promise.resolve(void 0);Ce=()=>{c.then(ce)}};var ce=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var v=Je;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}Se=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,v),f.removeEventListener("test",_,v)}catch{}return c}();function Fe(c,v){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(ae){e:{try{pe(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Fe.aa.h.call(this)}}L(Fe,ve);var Le={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function wt(c,v,_,A,$){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=$,this.key=++rt,this.da=this.fa=!1}function He(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dt(c){this.src=c,this.g={},this.h=0}Dt.prototype.add=function(c,v,_,A,$){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var ge=On(c,v,A,$);return-1<ge?(v=c[ge],_||(v.fa=!1)):(v=new wt(v,this.src,ee,!!A,$),v.fa=_,c.push(v)),v};function Bn(c,v){var _=v.type;if(_ in c.g){var A=c.g[_],$=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(A,$,1),ee&&(He(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function On(c,v,_,A){for(var $=0;$<c.length;++$){var ee=c[$];if(!ee.da&&ee.listener==v&&ee.capture==!!_&&ee.ha==A)return $}return-1}var sn="closure_lm_"+(1e6*Math.random()|0),fi={};function Xn(c,v,_,A,$){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Xn(c,v[ee],_,A,$);return null}return _=Ee(_),c&&c[Pt]?c.K(v,_,g(A)?!!A.capture:!1,$):ki(c,v,_,!1,A,$)}function ki(c,v,_,A,$,ee){if(!v)throw Error("Invalid event type");var ge=g($)?!!$.capture:!!$,dt=W(c);if(dt||(c[sn]=dt=new Dt(c)),_=dt.add(v,_,A,ge,ee),_.proxy)return _;if(A=er(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)_e||($=ge),$===void 0&&($=!1),c.addEventListener(v.toString(),A,$);else if(c.attachEvent)c.attachEvent(ji(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function er(){function c(_){return v.call(c.src,c.listener,_)}const v=M;return c}function tr(c,v,_,A,$){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)tr(c,v[ee],_,A,$);else A=g(A)?!!A.capture:!!A,_=Ee(_),c&&c[Pt]?(c=c.i,v=String(v).toString(),v in c.g&&(ee=c.g[v],_=On(ee,_,A,$),-1<_&&(He(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete c.g[v],c.h--)))):c&&(c=W(c))&&(v=c.g[v.toString()],c=-1,v&&(c=On(v,_,A,$)),(_=-1<c?v[c]:null)&&nr(_))}function nr(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Pt])Bn(v.i,c);else{var _=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(_,A,c.capture):v.detachEvent?v.detachEvent(ji(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=W(v))?(Bn(_,c),_.h==0&&(_.src=null,v[sn]=null)):He(c)}}}function ji(c){return c in fi?fi[c]:fi[c]="on"+c}function M(c,v){if(c.da)c=!0;else{v=new Fe(v,this);var _=c.listener,A=c.ha||c.src;c.fa&&nr(c),c=_.call(A,v)}return c}function W(c){return c=c[sn],c instanceof Dt?c:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(c){return typeof c=="function"?c:(c[te]||(c[te]=function(v){return c.handleEvent(v)}),c[te])}function he(){we.call(this),this.i=new Dt(this),this.M=this,this.F=null}L(he,we),he.prototype[Pt]=!0,he.prototype.removeEventListener=function(c,v,_,A){tr(this,c,v,_,A)};function se(c,v){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new ve(v,c);else if(v instanceof ve)v.target=v.target||c;else{var $=v;v=new ve(A,c),N(v,$)}if($=!0,_)for(var ee=_.length-1;0<=ee;ee--){var ge=v.g=_[ee];$=be(ge,A,!0,v)&&$}if(ge=v.g=c,$=be(ge,A,!0,v)&&$,$=be(ge,A,!1,v)&&$,_)for(ee=0;ee<_.length;ee++)ge=v.g=_[ee],$=be(ge,A,!1,v)&&$}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],A=0;A<_.length;A++)He(_[A]);delete c.g[v],c.h--}}this.F=null},he.prototype.K=function(c,v,_,A){return this.i.add(String(c),v,!1,_,A)},he.prototype.L=function(c,v,_,A){return this.i.add(String(c),v,!0,_,A)};function be(c,v,_,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,ee=0;ee<v.length;++ee){var ge=v[ee];if(ge&&!ge.da&&ge.capture==_){var dt=ge.listener,an=ge.ha||ge.src;ge.fa&&Bn(c.i,ge),$=dt.call(an,A)!==!1&&$}}return $&&!A.defaultPrevented}function We(c,v,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(c,v||0)}function Rt(c){c.g=We(()=>{c.g=null,c.i&&(c.i=!1,Rt(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class At extends we{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(c){we.call(this),this.h=c,this.g={}}L(mi,we);var Fn=[];function Ut(c){z(c.g,function(v,_){this.g.hasOwnProperty(_)&&nr(v)},c),c.g={}}mi.prototype.N=function(){mi.aa.N.call(this),Ut(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=f.JSON.stringify,Mn=f.JSON.parse,Ht=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Li(){}Li.prototype.h=null;function ds(c){return c.h||(c.h=c.i())}function no(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ve.call(this,"d")}L(ir,ve);function Wn(){ve.call(this,"c")}L(Wn,ve);var An={},ii=null;function fs(){return ii=ii||new he}An.La="serverreachability";function la(c){ve.call(this,An.La,c)}L(la,ve);function k(c){const v=fs();se(v,new la(v))}An.STAT_EVENT="statevent";function G(c,v){ve.call(this,An.STAT_EVENT,c),this.stat=v}L(G,ve);function Q(c){const v=fs();se(v,new G(v,c))}An.Ma="timingevent";function fe(c,v){ve.call(this,An.Ma,c),this.size=v}L(fe,ve);function Te(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ue(c,v,_,A,$,ee){c.info(function(){if(c.g)if(ee)for(var ge="",dt=ee.split("&"),an=0;an<dt.length;an++){var ft=dt[an].split("=");if(1<ft.length){var yn=ft[0];ft=ft[1];var on=yn.split("_");ge=2<=on.length&&on[1]=="type"?ge+(yn+"="+ft+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+v+`
`+_+`
`+ge})}function Re(c,v,_,A,$,ee,ge){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+v+`
`+_+`
`+ee+" "+ge})}function xe(c,v,_,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ne(c,_)+(A?" "+A:"")})}function ye(c,v){c.info(function(){return"TIMEOUT: "+v})}Ie.prototype.info=function(){};function Ne(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<$.length;ge++)$[ge]=""}}}}return Dr(_)}catch{return v}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Tt(){}L(Tt,Li),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},Vt=new Tt;function st(c,v,_,A){this.j=c,this.i=v,this.l=_,this.R=A||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Hn={},ri={};function Qt(c,v,_){c.L=1,c.v=da(qt(v)),c.m=_,c.P=!0,Zt(c,null)}function Zt(c,v){c.F=Date.now(),_t(c),c.A=qt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Pr(_.i,"t",A),c.C=0,_=c.j.J,c.h=new kt,c.g=Sc(c.j,_?v:null,!c.m),0<c.O&&(c.M=new At(w(c.Y,c,c.g),c.O)),v=c.U,_=c.g,A=c.ca;var $="readystatechange";Array.isArray($)||($&&(Fn[0]=$.toString()),$=Fn);for(var ee=0;ee<$.length;ee++){var ge=Xn(_,$[ee],A||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),k(),Ue(c.i,c.u,c.A,c.l,c.R,c.m)}st.prototype.ca=function(c){c=c.target;const v=this.M;v&&Ti(c)==3?v.j():this.Y(c)},st.prototype.Y=function(c){try{if(c==this.g)e:{const on=Ti(this.g);var v=this.g.Ba();const Lr=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||pc(this.g)))){this.J||on!=4||v==7||(v==8||0>=Lr?k(3):k(2)),Ui(this);var _=this.g.Z();this.X=_;t:if(pi(this)){var A=pc(this.g);c="";var $=A.length,ee=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),et(this);var ge="";break t}this.h.i=new f.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,c+=this.h.i.decode(A[v],{stream:!(ee&&v==$-1)});A.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,Re(this.i,this.u,this.A,this.l,this.R,on,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,an=this.g;if((dt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(dt)){var ft=dt;break t}}ft=null}if(_=ft)xe(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,_);else{this.o=!1,this.s=3,Q(12),Et(this),et(this);break e}}if(this.P){_=!0;let wn;for(;!this.J&&this.C<ge.length;)if(wn=Zn(this,ge),wn==ri){on==4&&(this.s=4,Q(14),_=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Hn){this.s=4,Q(15),xe(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else xe(this.i,this.l,wn,null),pn(this,wn);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ge.length!=0||this.h.h||(this.s=1,Q(16),_=!1),this.o=this.o&&_,!_)xe(this.i,this.l,ge,"[Invalid Chunked Response]"),Et(this),et(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),_a(yn),yn.M=!0,Q(11))}}else xe(this.i,this.l,ge,null),pn(this,ge);on==4&&Et(this),this.o&&!this.J&&(on==4?Ec(this.j,this):(this.o=!1,_t(this)))}else Gd(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),Et(this),et(this)}}}catch{}finally{}};function pi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zn(c,v){var _=c.C,A=v.indexOf(`
`,_);return A==-1?ri:(_=Number(v.substring(_,A)),isNaN(_)?Hn:(A+=1,A+_>v.length?ri:(v=v.slice(A,A+_),c.C=A+_,v)))}st.prototype.cancel=function(){this.J=!0,Et(this)};function _t(c){c.S=Date.now()+c.I,rr(c,c.I)}function rr(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(w(c.ba,c),v)}function Ui(c){c.B&&(f.clearTimeout(c.B),c.B=null)}st.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ye(this.i,this.A),this.L!=2&&(k(),Q(17)),Et(this),this.s=2,et(this)):rr(this,this.S-c)};function et(c){c.j.G==0||c.J||Ec(c.j,c)}function Et(c){Ui(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ut(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function pn(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||sr(_.h,c))){if(!c.K&&sr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),co(_);else break e;Rl(_),Q(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(w(_.Za,_),6e3));if(1>=ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else jr(_,11)}else if((c.K||_.g==c)&&fo(_),!q(v))for($=_.Da.g.parse(v),v=0;v<$.length;v++){let ft=$[v];if(_.T=ft[0],ft=ft[1],_.G==2)if(ft[0]=="c"){_.K=ft[1],_.ia=ft[2];const yn=ft[3];yn!=null&&(_.la=yn,_.j.info("VER="+_.la));const on=ft[4];on!=null&&(_.Aa=on,_.j.info("SVER="+_.Aa));const Lr=ft[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(A=1.5*Lr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const wn=c.g;if(wn){const dr=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var ee=A.h;ee.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ms(ee,ee.h),ee.h=null))}if(A.D){const Cl=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,gt(A.I,A.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ge=c;if(A.qa=bc(A,A.J?A.ia:null,A.W),ge.K){yi(A.h,ge);var dt=ge,an=A.L;an&&(dt.I=an),dt.B&&(Ui(dt),_t(dt)),A.g=ge}else vc(A);0<_.i.length&&ho(_)}else ft[0]!="stop"&&ft[0]!="close"||jr(_,7);else _.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?jr(_,7):Al(_):ft[0]!="noop"&&_.l&&_.l.ta(ft),_.v=0)}}k(4)}catch{}}var Nr=class{constructor(c,v){this.g=c,this.map=v}};function Nt(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ua(c){return c.h?1:c.g?c.g.size:0}function sr(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ms(c,v){c.g?c.g.add(v):c.h=v}function yi(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Nt.prototype.cancel=function(){if(this.i=qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return X(c.i)}function hc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],_=c.length,A=0;A<_;A++)v.push(c[A]);return v}v=[],_=0;for(A in c)v[_++]=c[A];return v}function Bd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const A in c)v[_++]=A;return v}}}function ca(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=Bd(c),A=hc(c),$=A.length,ee=0;ee<$;ee++)v.call(void 0,A[ee],_&&_[ee],c)}var vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),$=null;if(0<=A){var ee=c[_].substring(0,A);$=c[_].substring(A+1)}else ee=c[_];v(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Or){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,ha(this,c.s),this.l=c.l;var v=c.i,_=new ar;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ro(this,_),this.m=c.m}else c&&(v=String(c).match(vl))?(this.h=!1,ps(this,v[1]||"",!0),this.o=gs(v[2]||""),this.g=gs(v[3]||"",!0),ha(this,v[4]),this.l=gs(v[5]||"",!0),ro(this,v[6]||"",!0),this.m=gs(v[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Or.prototype.toString=function(){var c=[],v=this.j;v&&c.push(vi(v,_l,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(vi(v,_l,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vi(_,_.charAt(0)=="/"?El:dc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vi(_,qd)),c.join("")};function qt(c){return new Or(c)}function ps(c,v,_){c.j=_?gs(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ha(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function ro(c,v,_){v instanceof ar?(c.i=v,Tl(c.i,c.h)):(_||(v=vi(v,Hd)),c.i=new ar(v,c.h))}function gt(c,v,_){c.i.set(v,_)}function da(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gs(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Fd),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fd(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,dc=/[#\?:]/g,El=/[#\?]/g,Hd=/[#\?@]/g,qd=/#/g;function ar(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function _i(c){c.g||(c.g=new Map,c.h=0,c.i&&io(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=ar.prototype,i.add=function(c,v){_i(this),this.i=null,c=Vr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function so(c,v){_i(c),v=Vr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Mr(c,v){return _i(c),v=Vr(c,v),c.g.has(v)}i.forEach=function(c,v){_i(this),this.g.forEach(function(_,A){_.forEach(function($){c.call(v,$,A,this)},this)},this)},i.na=function(){_i(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const $=c[A];for(let ee=0;ee<$.length;ee++)_.push(v[A])}return _},i.V=function(c){_i(this);let v=[];if(typeof c=="string")Mr(this,c)&&(v=v.concat(this.g.get(Vr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},i.set=function(c,v){return _i(this),this.i=null,c=Vr(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Pr(c,v,_){so(c,v),0<_.length&&(c.i=null,c.g.set(Vr(c,v),X(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const ee=encodeURIComponent(String(A)),ge=this.V(A);for(A=0;A<ge.length;A++){var $=ee;ge[A]!==""&&($+="="+encodeURIComponent(String(ge[A]))),c.push($)}}return this.i=c.join("&")};function Vr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Tl(c,v){v&&!c.j&&(_i(c),c.i=null,c.g.forEach(function(_,A){var $=A.toLowerCase();A!=$&&(so(this,A),Pr(this,$,_))},c)),c.j=v}function fc(c,v){const _=new Ie;if(f.Image){const A=new Image;A.onload=I(Ei,_,"TestLoadImage: loaded",!0,v,A),A.onerror=I(Ei,_,"TestLoadImage: error",!1,v,A),A.onabort=I(Ei,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=I(Ei,_,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function fa(c,v){const _=new Ie,A=new AbortController,$=setTimeout(()=>{A.abort(),Ei(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(ee=>{clearTimeout($),ee.ok?Ei(_,"TestPingServer: ok",!0,v):Ei(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Ei(_,"TestPingServer: error",!1,v)})}function Ei(c,v,_,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(_)}catch{}}function ma(){this.g=new Ht}function or(c,v,_){const A=_||"";try{ca(c,function($,ee){let ge=$;g($)&&(ge=Dr($)),v.push(A+ee+"="+encodeURIComponent(ge))})}catch($){throw v.push(A+"type="+encodeURIComponent("_badmap")),$}}function ys(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ys,Li),ys.prototype.g=function(){return new kr(this.l,this.j)},ys.prototype.i=function(c){return function(){return c}}({});function kr(c,v){he.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(kr,he),i=kr.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,ur(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?lr(this):ur(this),this.readyState==3&&bl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},i.Qa=function(c){this.g&&(this.response=c,lr(this))},i.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sl(c){let v="";return z(c,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function gn(c,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Sl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):gt(c,v,_))}function bt(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(bt,he);var ao=/^https?$/i,pa=["POST","PUT"];i=bt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?ds(this.o):ds(Vt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ee){mc(this,ee);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)_.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())_.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(pa,v,void 0))||A||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of _)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){mc(this,ee)}};function mc(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,oo(c),cr(c)}function oo(c){c.A||(c.A=!0,se(c,"complete"),se(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,se(this,"complete"),se(this,"abort"),cr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),bt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},i.bb=function(){lo(this)};function lo(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Ti(c)!=4||c.Z()!=2)){if(c.u&&Ti(c)==4)We(c.Ea,0,c);else if(se(c,"readystatechange"),Ti(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=ge===0){var $=String(c.D).match(vl)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),A=!ao.test($?$.toLowerCase():"")}_=A}if(_)se(c,"complete"),se(c,"success");else{c.m=6;try{var ee=2<Ti(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",oo(c)}}finally{cr(c)}}}}function cr(c,v){if(c.g){ga(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||se(c,"ready");try{_.onreadystatechange=A}catch{}}}function ga(c){c.I&&(f.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Ti(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Mn(v)}};function pc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gd(c){const v={};c=(c.g&&2<=Ti(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(q(c[A]))continue;var _=V(c[A]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=v[$]||[];v[$]=ee,ee.push(_)}O(v,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function uo(c){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,c),this.cb=ya("retryDelaySeedMs",1e4,c),this.Wa=ya("forwardChannelMaxRetries",2,c),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(c&&c.concurrentRequestLimit),this.Da=new ma,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=uo.prototype,i.la=8,i.G=1,i.connect=function(c,v,_,A){Q(0),this.W=c,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=bc(this,null,this.W),ho(this)};function Al(c){if(gc(c),c.G==3){var v=c.U++,_=qt(c.I);if(gt(_,"SID",c.K),gt(_,"RID",v),gt(_,"TYPE","terminate"),va(c,_),v=new st(c,c.j,v),v.L=2,v.v=da(qt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=v.v,_=!0),_||(v.g=Sc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),_t(v)}Tc(c)}function co(c){c.g&&(_a(c),c.g.cancel(),c.g=null)}function gc(c){co(c),c.u&&(f.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ho(c){if(!gi(c.h)&&!c.s){c.s=!0;var v=c.Ga;Ce||P(),Se||(Ce(),Se=!0),Xe.add(v,c),c.B=0}}function Kd(c,v){return ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(w(c.Ga,c,v),xl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new st(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=x(ee),N(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=yc(this,$,v),_=qt(this.I),gt(_,"RID",c),gt(_,"CVER",22),this.D&&gt(_,"X-HTTP-Session-Id",this.D),va(this,_),ee&&(this.O?v="headers="+encodeURIComponent(String(Sl(ee)))+"&"+v:this.m&&gn(_,this.m,ee)),ms(this.h,$),this.Ua&&gt(_,"TYPE","init"),this.P?(gt(_,"$req",v),gt(_,"SID","null"),$.T=!0,Qt($,_,null)):Qt($,_,v),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||gi(this.h)||wl(this))};function wl(c,v){var _;v?_=v.l:_=c.U++;const A=qt(c.I);gt(A,"SID",c.K),gt(A,"RID",_),gt(A,"AID",c.T),va(c,A),c.m&&c.o&&gn(A,c.m,c.o),_=new st(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=yc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ms(c.h,_),Qt(_,A,v)}function va(c,v){c.H&&z(c.H,function(_,A){gt(v,A,_)}),c.l&&ca({},function(_,A){gt(v,A,_)})}function yc(c,v,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var $=c.i;let ee=-1;for(;;){const ge=["count="+_];ee==-1?0<_?(ee=$[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let dt=!0;for(let an=0;an<_;an++){let ft=$[an].g;const yn=$[an].map;if(ft-=ee,0>ft)ee=Math.max(0,$[an].g-100),dt=!1;else try{or(yn,ge,"req"+ft+"_")}catch{A&&A(yn)}}if(dt){A=ge.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,A}function vc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;Ce||P(),Se||(Ce(),Se=!0),Xe.add(v,c),c.v=0}}function Rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(w(c.Fa,c),xl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,_c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),co(this),_c(this))};function _a(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function _c(c){c.g=new st(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=qt(c.qa);gt(v,"RID","rpc"),gt(v,"SID",c.K),gt(v,"AID",c.T),gt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(v,"TO",c.ja),gt(v,"TYPE","xmlhttp"),va(c,v),c.m&&c.o&&gn(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=da(qt(v)),_.m=null,_.P=!0,Zt(_,c)}i.Za=function(){this.C!=null&&(this.C=null,co(this),Rl(this),Q(19))};function fo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ec(c,v){var _=null;if(c.g==v){fo(c),_a(c),c.g=null;var A=2}else if(sr(c.h,v))_=v.D,yi(c.h,v),A=1;else return;if(c.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var $=c.B;A=fs(),se(A,new fe(A,_)),ho(c)}else vc(c);else if($=v.s,$==3||$==0&&0<v.X||!(A==1&&Kd(c,v)||A==2&&Rl(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),$){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function xl(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function jr(c,v){if(c.j.info("Error code "+v),v==2){var _=w(c.fb,c),A=c.Xa;const $=!A;A=new Or(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ps(A,"https"),da(A),$?fc(A.toString(),_):fa(A.toString(),_)}else Q(2);c.G=0,c.l&&c.l.sa(v),Tc(c),gc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function Tc(c){if(c.G=0,c.ka=[],c.l){const v=qn(c.h);(v.length!=0||c.i.length!=0)&&(H(c.ka,v),H(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function bc(c,v,_){var A=_ instanceof Or?qt(_):new Or(_);if(A.g!="")v&&(A.g=v+"."+A.g),ha(A,A.s);else{var $=f.location;A=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var ee=new Or(null);A&&ps(ee,A),v&&(ee.g=v),$&&ha(ee,$),_&&(ee.l=_),A=ee}return _=c.D,v=c.ya,_&&v&&gt(A,_,v),gt(A,"VER",c.la),va(c,A),A}function Sc(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new bt(new ys({eb:_})):new bt(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}i=Ac.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function mo(){}mo.prototype.g=function(c,v){return new Gn(c,v)};function Gn(c,v){he.call(this),this.g=new uo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!q(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new hr(this)}L(Gn,he),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Al(this.g)},Gn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Dr(c),c=_);v.i.push(new Nr(v.Ya++,c)),v.G==3&&ho(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,Gn.aa.N.call(this)};function wc(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}L(wc,ir);function Rc(){Wn.call(this),this.status=1}L(Rc,Wn);function hr(c){this.g=c}L(hr,Ac),hr.prototype.ua=function(){se(this.g,"a")},hr.prototype.ta=function(c){se(this.g,new wc(c))},hr.prototype.sa=function(c){se(this.g,new Rc)},hr.prototype.ra=function(){se(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Vb=function(){return new mo},Pb=function(){return fs()},Mb=An,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,zh=Pe,ht.COMPLETE="complete",Ob=ht,no.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",he.prototype.listen=he.prototype.K,Ru=no,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,Nb=bt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",fE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Wp("@firebase/firestore");function Ko(){return Qa.logLevel}function Ae(i,...e){if(Qa.logLevel<=at.DEBUG){const t=e.map(ug);Qa.debug(`Firestore (${ml}): ${i}`,...t)}}function ls(i,...e){if(Qa.logLevel<=at.ERROR){const t=e.map(ug);Qa.error(`Firestore (${ml}): ${i}`,...t)}}function il(i,...e){if(Qa.logLevel<=at.WARN){const t=e.map(ug);Qa.warn(`Firestore (${ml}): ${i}`,...t)}}function ug(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(i="Unexpected state"){const e=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: `+i;throw ls(e),new Error(e)}function St(i,e){i||Ge()}function Ye(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ln.UNAUTHENTICATED))}shutdown(){}}class zN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BN{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string"),new kb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Ln(e)}}class FN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new FN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){St(this.o===void 0);const s=u=>{u.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,Ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new mE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ct(i,e){return i<e?-1:i>e?1:0}function rl(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,gE=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*gE);return new fn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pE)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new fn(0,0))}static max(){return new Ke(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class _r{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(),s===void 0?s=e.length-t:s>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=_r.isNumericId(e),o=_r.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Lt extends _r{construct(e,t,s){return new Lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const KN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends _r{construct(e,t,s){return new Dn(e,t,s)}static isValidIdentifier(e){return KN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new Dn([yE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ke(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ke(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ke(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new ke(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Lt.fromString(e))}static fromName(e){return new je(Lt.fromString(e).popFirst(5))}static empty(){return new je(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function $N(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new fn(t+1,0):new fn(t,s));return new Js(o,je.empty(),e)}function QN(i){return new Js(i.readTime,i.key,Fu)}class Js{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Js(Ke.min(),je.empty(),Fu)}static max(){return new Js(Ke.max(),je.empty(),Fu)}}function YN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(i.documentKey,e.documentKey),t!==0?t:ct(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(i){if(i.code!==me.FAILED_PRECONDITION||i.message!==XN)throw i;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(T=>{h[g]=T,++f,f===u&&s(h)},T=>o(T))}})}static doWhile(e,t){return new le((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function ZN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Cd(i){return i==null}function ad(i){return i===0&&1/i==-1/0}function JN(i){return typeof i=="number"&&Number.isInteger(i)&&!ad(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="";function eO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=vE(e)),e=tO(i.get(t),e);return vE(e)}function tO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Lb:t+="";break;default:t+=u}}return t}function vE(i){return i+Lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Za(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ub(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??In.RED,this.left=o??In.EMPTY,this.right=u??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new In(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,s,o,u){return this}insert(e,t,s){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Yi([])}unionWith(e){let t=new mn(Dn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zb("Invalid base64 string: "+u):u}}(e);return new Nn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const nO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(i){if(St(!!i),typeof i=="string"){let e=0;const t=nO.exec(i);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(i.seconds),nanos:Xt(i.nanos)}}function Xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ta(i){return typeof i=="string"?Nn.fromBase64String(i):Nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="server_timestamp",Fb="__type__",Hb="__previous_value__",qb="__local_write_time__";function hg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fb])===null||t===void 0?void 0:t.stringValue)===Bb}function Id(i){const e=i.mapValue.fields[Hb];return hg(e)?Id(e):e}function Hu(i){const e=ea(i.mapValue.fields[qb].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,s,o,u,h,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}const od="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||od}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__type__",rO="__max__",Ih={mapValue:{}},Kb="__vector__",ld="value";function na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:aO(i)?9007199254740991:sO(i)?10:11:Ge()}function xr(i,e){if(i===e)return!0;const t=na(i);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Hu(i).isEqual(Hu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ea(o.timestampValue),f=ea(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ta(o.bytesValue).isEqual(ta(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Xt(o.geoPointValue.latitude)===Xt(u.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Xt(o.integerValue)===Xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Xt(o.doubleValue),f=Xt(u.doubleValue);return h===f?ad(h)===ad(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return rl(i.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(_E(h)!==_E(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!xr(h[p],f[p])))return!1;return!0}(i,e);default:return Ge()}}function Gu(i,e){return(i.values||[]).find(t=>xr(t,e))!==void 0}function sl(i,e){if(i===e)return 0;const t=na(i),s=na(e);if(t!==s)return ct(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=Xt(u.integerValue||u.doubleValue),p=Xt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(i,e);case 3:return TE(i.timestampValue,e.timestampValue);case 4:return TE(Hu(i),Hu(e));case 5:return ct(i.stringValue,e.stringValue);case 6:return function(u,h){const f=ta(u),p=ta(h);return f.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),p=h.split("/");for(let g=0;g<f.length&&g<p.length;g++){const T=ct(f[g],p[g]);if(T!==0)return T}return ct(f.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=ct(Xt(u.latitude),Xt(h.latitude));return f!==0?f:ct(Xt(u.longitude),Xt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return bE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,p,g,T;const b=u.fields||{},w=h.fields||{},I=(f=b[ld])===null||f===void 0?void 0:f.arrayValue,L=(p=w[ld])===null||p===void 0?void 0:p.arrayValue,X=ct(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return X!==0?X:bE(I,L)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ih.mapValue&&h===Ih.mapValue)return 0;if(u===Ih.mapValue)return 1;if(h===Ih.mapValue)return-1;const f=u.fields||{},p=Object.keys(f),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const w=ct(p[b],T[b]);if(w!==0)return w;const I=sl(f[p[b]],g[T[b]]);if(I!==0)return I}return ct(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Ge()}}function TE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ct(i,e);const t=ea(i),s=ea(e),o=ct(t.seconds,s.seconds);return o!==0?o:ct(t.nanos,s.nanos)}function bE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=sl(t[o],s[o]);if(u)return u}return ct(t.length,s.length)}function al(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ea(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ta(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return je.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(t.fields[h])}`;return o+"}"}(i.mapValue):Ge()}function Bh(i){switch(na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(i);return e?16+Bh(e):16;case 5:return 2*i.stringValue.length;case 6:return ta(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Bh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Za(s.fields,(u,h)=>{o+=u.length+Bh(h)}),o}(i.mapValue);default:throw Ge()}}function Ap(i){return!!i&&"integerValue"in i}function dg(i){return!!i&&"arrayValue"in i}function SE(i){return!!i&&"nullValue"in i}function AE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fh(i){return!!i&&"mapValue"in i}function sO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gb])===null||t===void 0?void 0:t.stringValue)===Kb}function Mu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Za(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Mu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function aO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=Dn.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Mu(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Za(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Vi(Mu(this.value))}}function $b(i){const e=[];return Za(i.fields,(t,s)=>{const o=new Dn([t]);if(Fh(s)){const u=$b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Un(e,0,Ke.min(),Ke.min(),Ke.min(),Vi.empty(),0)}static newFoundDocument(e,t,s,o){return new Un(e,1,t,Ke.min(),s,o,0)}static newNoDocument(e,t){return new Un(e,2,t,Ke.min(),Ke.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Ke.min(),Ke.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.position=e,this.inclusive=t}}function wE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=je.comparator(je.fromName(h.referenceValue),t.key):s=sl(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function RE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!xr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function oO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{}class hn extends Qb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uO(e,t,s):t==="array-contains"?new dO(e,s):t==="in"?new fO(e,s):t==="not-in"?new mO(e,s):t==="array-contains-any"?new pO(e,s):new hn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cO(e,s):new hO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sl(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends Qb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Cr(e,t)}matches(e){return Yb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Yb(i){return i.op==="and"}function Xb(i){return lO(i)&&Yb(i)}function lO(i){for(const e of i.filters)if(e instanceof Cr)return!1;return!0}function wp(i){if(i instanceof hn)return i.field.canonicalString()+i.op.toString()+al(i.value);if(Xb(i))return i.filters.map(e=>wp(e)).join(",");{const e=i.filters.map(t=>wp(t)).join(",");return`${i.op}(${e})`}}function Wb(i,e){return i instanceof hn?function(s,o){return o instanceof hn&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)}(i,e):i instanceof Cr?function(s,o){return o instanceof Cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&Wb(h,o.filters[f]),!0):!1}(i,e):void Ge()}function Zb(i){return i instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${al(t.value)}`}(i):i instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(Zb).join(" ,")+"}"}(i):"Filter"}class uO extends hn{constructor(e,t,s){super(e,t,s),this.key=je.fromName(s.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class cO extends hn{constructor(e,t){super(e,"in",t),this.keys=Jb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hO extends hn{constructor(e,t){super(e,"not-in",t),this.keys=Jb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>je.fromName(s.referenceValue))}class dO extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dg(t)&&Gu(t.arrayValue,this.value)}}class fO extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}}class mO extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Gu(this.value.arrayValue,t)}}class pO extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function xE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new gO(i,e,t,s,o,u,h)}function fg(i){const e=Ye(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>wp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>al(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>al(s)).join(",")),e.le=t}return e.le}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!oO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Wb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!RE(i.startAt,e.startAt)&&RE(i.endAt,e.endAt)}function Rp(i){return je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yO(i,e,t,s,o,u,h,f){return new Dd(i,e,t,s,o,u,h,f)}function pg(i){return new Dd(i)}function CE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vO(i){return i.collectionGroup!==null}function Pu(i){const e=Ye(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new mn(Dn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new cd(u,s))}),t.has(Dn.keyField().canonicalString())||e.he.push(new cd(Dn.keyField(),s))}return e.he}function Ar(i){const e=Ye(i);return e.Pe||(e.Pe=_O(e,Pu(i))),e.Pe}function _O(i,e){if(i.limitType==="F")return xE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new cd(o.field,u)});const t=i.endAt?new ud(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ud(i.startAt.position,i.startAt.inclusive):null;return xE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function xp(i,e,t){return new Dd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nd(i,e){return mg(Ar(i),Ar(e))&&i.limitType===e.limitType}function eS(i){return`${fg(Ar(i))}|lt:${i.limitType}`}function $o(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Zb(o)).join(", ")}]`),Cd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>al(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>al(o)).join(",")),`Target(${s})`}(Ar(i))}; limitType=${i.limitType})`}function Od(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):je.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const g=wE(h,f,p);return h.inclusive?g<=0:g<0}(s.startAt,Pu(s),o)||s.endAt&&!function(h,f,p){const g=wE(h,f,p);return h.inclusive?g>=0:g>0}(s.endAt,Pu(s),o))}(i,e)}function EO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function tS(i){return(e,t)=>{let s=!1;for(const o of Pu(i)){const u=TO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TO(i,e,t){const s=i.field.isKeyField()?je.comparator(e.key,t.key):function(u,h,f){const p=h.data.field(u),g=f.data.field(u);return p!==null&&g!==null?sl(p,g):Ge()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Ft(je.comparator);function us(){return bO}const nS=new Ft(je.comparator);function xu(...i){let e=nS;for(const t of i)e=e.insert(t.key,t);return e}function iS(i){let e=nS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qa(){return Vu()}function rS(){return Vu()}function Vu(){return new Ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const SO=new Ft(je.comparator),AO=new mn(je.comparator);function lt(...i){let e=AO;for(const t of i)e=e.add(t);return e}const wO=new mn(ct);function RO(){return wO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function sS(i){return{integerValue:""+i}}function xO(i,e){return JN(e)?sS(e):gg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function CO(i,e,t){return i instanceof Ku?function(o,u){const h={fields:{[Fb]:{stringValue:Bb},[qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=Id(u)),u&&(h.fields[Hb]=u),{mapValue:h}}(t,e):i instanceof $u?oS(i,e):i instanceof Qu?lS(i,e):function(o,u){const h=aS(o,u),f=IE(h)+IE(o.Ie);return Ap(h)&&Ap(o.Ie)?sS(f):gg(o.serializer,f)}(i,e)}function IO(i,e,t){return i instanceof $u?oS(i,e):i instanceof Qu?lS(i,e):t}function aS(i,e){return i instanceof hd?function(s){return Ap(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ku extends Md{}class $u extends Md{constructor(e){super(),this.elements=e}}function oS(i,e){const t=uS(e);for(const s of i.elements)t.some(o=>xr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Qu extends Md{constructor(e){super(),this.elements=e}}function lS(i,e){let t=uS(e);for(const s of i.elements)t=t.filter(o=>!xr(o,s));return{arrayValue:{values:t}}}class hd extends Md{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function IE(i){return Xt(i.integerValue||i.doubleValue)}function uS(i){return dg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.field=e,this.transform=t}}function NO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof $u&&o instanceof $u||s instanceof Qu&&o instanceof Qu?rl(s.elements,o.elements,xr):s instanceof hd&&o instanceof hd?xr(s.Ie,o.Ie):s instanceof Ku&&o instanceof Ku}(i.transform,e.transform)}class OO{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pd{}function cS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dS(i.key,wr.none()):new ac(i.key,i.data,wr.none());{const t=i.data,s=Vi.empty();let o=new mn(Dn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new eo(i.key,s,new Yi(o.toArray()),wr.none())}}function MO(i,e,t){i instanceof ac?function(o,u,h){const f=o.value.clone(),p=NE(o.fieldTransforms,u,h.transformResults);f.setAll(p),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,t):i instanceof eo?function(o,u,h){if(!Hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=NE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(hS(o)),p.setAll(f),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ku(i,e,t,s){return i instanceof ac?function(u,h,f,p){if(!Hh(u.precondition,h))return f;const g=u.value.clone(),T=OE(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof eo?function(u,h,f,p){if(!Hh(u.precondition,h))return f;const g=OE(u.fieldTransforms,p,h),T=h.data;return T.setAll(hS(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,f){return Hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,t)}function PO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=aS(s.transform,o||null);u!=null&&(t===null&&(t=Vi.empty()),t.set(s.field,u))}return t||null}function DE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&rl(s,o,(u,h)=>NO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ac extends Pd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class eo extends Pd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function NE(i,e,t){const s=new Map;St(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,IO(h,f,t[o]))}return s}function OE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,CO(u,h,e))}return s}class dS extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=rS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const p=cS(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,s)=>DE(t,s))&&rl(this.baseMutations,e.baseMutations,(t,s)=>DE(t,s))}}class yg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length);let o=function(){return SO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,pt;function UO(i){switch(i){case me.OK:return Ge();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge()}}function fS(i){if(i===void 0)return ls("GRPC error has no .code"),me.UNKNOWN;switch(i){case nn.OK:return me.OK;case nn.CANCELLED:return me.CANCELLED;case nn.UNKNOWN:return me.UNKNOWN;case nn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case nn.INTERNAL:return me.INTERNAL;case nn.UNAVAILABLE:return me.UNAVAILABLE;case nn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case nn.NOT_FOUND:return me.NOT_FOUND;case nn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case nn.ABORTED:return me.ABORTED;case nn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case nn.DATA_LOSS:return me.DATA_LOSS;default:return Ge()}}(pt=nn||(nn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Xs([4294967295,4294967295],0);function ME(i){const e=zO().encode(i),t=new Db;return t.update(e),new Uint8Array(t.digest())}function PE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xs([t,s],0),new Xs([o,u],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Xs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Xs.fromNumber(s)));return o.compare(BO)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ME(e),[s,o]=PE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new vg(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=ME(e),[s,o]=PE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vd(Ke.min(),o,new Ft(ct),us(),lt())}}class oc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new oc(s,t,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class mS{constructor(e,t){this.targetId=e,this.ge=t}}class pS{constructor(e,t,s=Nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.pe=0,this.ye=kE(),this.we=Nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=lt(),t=lt(),s=lt();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ge()}}),new oc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=kE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=us(),this.$e=Dh(),this.Ke=Dh(),this.Ue=new Ft(ct)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Rp(u))if(s===0){const h=new je(u.path);this.ze(t,h,Un.newNoDocument(h,Ke.min()))}else St(s===1);else{const h=this.et(t);if(h!==s){const f=this.tt(e),p=f?this.nt(f,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=ta(s).toUint8Array()}catch(p){if(p instanceof zb)return il("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new vg(h,o,u)}catch(p){return il(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&Rp(f.target)){const p=new je(f.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Un.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=lt();this.Ke.forEach((u,h)=>{let f=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Vd(e,t,this.Ue,this.Qe,s);return this.Qe=us(),this.$e=Dh(),this.Ke=Dh(),this.Ue=new Ft(ct),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new VE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mn(ct),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mn(ct),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new VE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new Ft(je.comparator)}function kE(){return new Ft(je.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class KO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(i,e){return i.useProto3Json||Cd(e)?e:{value:e}}function dd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $O(i,e){return dd(i,e.toTimestamp())}function Rr(i){return St(!!i),Ke.fromTimestamp(function(t){const s=ea(t);return new fn(s.seconds,s.nanos)}(i))}function _g(i,e){return Ip(i,e).canonicalString()}function Ip(i,e){const t=function(o){return new Lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function yS(i){const e=Lt.fromString(i);return St(bS(e)),e}function Dp(i,e){return _g(i.databaseId,e.path)}function sp(i,e){const t=yS(e);if(t.get(1)!==i.databaseId.projectId)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new je(_S(t))}function vS(i,e){return _g(i.databaseId,e)}function QO(i){const e=yS(i);return e.length===4?Lt.emptyPath():_S(e)}function Np(i){return new Lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _S(i){return St(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function jE(i,e,t){return{name:Dp(i,e),fields:t.value.mapValue.fields}}function YO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(St(T===void 0||typeof T=="string"),Nn.fromBase64String(T||"")):(St(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Nn.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(g){const T=g.code===void 0?me.UNKNOWN:fS(g.code);return new ke(T,g.message||"")}(h);t=new pS(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sp(i,s.document.name),u=Rr(s.document.updateTime),h=s.document.createTime?Rr(s.document.createTime):Ke.min(),f=new Vi({mapValue:{fields:s.document.fields}}),p=Un.newFoundDocument(o,u,h,f),g=s.targetIds||[],T=s.removedTargetIds||[];t=new qh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sp(i,s.document),u=s.readTime?Rr(s.readTime):Ke.min(),h=Un.newNoDocument(o,u),f=s.removedTargetIds||[];t=new qh([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sp(i,s.document),u=s.removedTargetIds||[];t=new qh([],u,o,null)}else{if(!("filter"in e))return Ge();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new LO(o,u),f=s.targetId;t=new mS(f,h)}}return t}function XO(i,e){let t;if(e instanceof ac)t={update:jE(i,e.key,e.value)};else if(e instanceof dS)t={delete:Dp(i,e.key)};else if(e instanceof eo)t={update:jE(i,e.key,e.data),updateMask:sM(e.fieldMask)};else{if(!(e instanceof VO))return Ge();t={verify:Dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Qu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw Ge()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$O(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ge()}(i,e.precondition)),t}function WO(i,e){return i&&i.length>0?(St(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Rr(o.updateTime):Rr(u);return h.isEqual(Ke.min())&&(h=Rr(u)),new OO(h,o.transformResults||[])}(t,e))):[]}function ZO(i,e){return{documents:[vS(i,e.path)]}}function JO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=vS(i,o);const u=function(g){if(g.length!==0)return TS(Cr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(T=>function(w){return{field:Qo(w.field),direction:nM(w.dir)}}(T))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Cp(i,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function eM(i){let e=QO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(b){const w=ES(b);return w instanceof Cr&&Xb(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(L){return new cd(Yo(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(b){let w;return w=typeof b=="object"?b.value:b,Cd(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,I=b.values||[];return new ud(I,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,I=b.values||[];return new ud(I,w)}(t.endAt)),yO(e,o,h,u,f,"F",p,g)}function tM(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ES(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Yo(t.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return hn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Yo(t.unaryFilter.field);return hn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Yo(t.unaryFilter.field);return hn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(i):i.fieldFilter!==void 0?function(t){return hn.create(Yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(s=>ES(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(i):Ge()}function nM(i){return HO[i]}function iM(i){return qO[i]}function rM(i){return GO[i]}function Qo(i){return{fieldPath:i.canonicalString()}}function Yo(i){return Dn.fromServerFormat(i.fieldPath)}function TS(i){return i instanceof hn?function(t){if(t.op==="=="){if(AE(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(SE(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AE(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(SE(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:iM(t.op),value:t.value}}}(i):i instanceof Cr?function(t){const s=t.getFilters().map(o=>TS(o));return s.length===1?s[0]:{compositeFilter:{op:rM(t.op),filters:s}}}(i):Ge()}function sM(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,s,o,u=Ke.min(),h=Ke.min(),f=Nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.Tt=e}}function oM(i){const e=eM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Tn=new uM}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Js.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class uM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mn(Lt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(SS,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ol(0)}static Un(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",cM=1048576;function zE([i,e],[t,s]){const o=ct(i,t);return o===0?ct(e,s):o}class hM{constructor(e){this.Hn=e,this.buffer=new mn(zE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(UE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?Ae(UE,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.er(3e5)})}}class fM{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(xd.ae);const s=new hM(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,f,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,f=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Ko()<=at.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function mM(i,e){return new fM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changes=new Ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ku(s.mutation,o,Yi.empty(),fn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,lt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=lt()){const o=qa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=xu();return u.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=qa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,lt()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=us();const h=Vu(),f=function(){return Vu()}();return t.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof eo)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),ku(T.mutation,g,T.mutation.getFieldMask(),fn.now())):h.set(g.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>h.set(g,T)),t.forEach((g,T)=>{var b;return f.set(g,new gM(T,(b=h.get(g))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Vu();let o=new Ft((h,f)=>h-f),u=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let T=s.get(p)||Yi.empty();T=f.applyToLocalView(g,T),s.set(p,T);const b=(o.get(f.batchId)||lt()).add(p);o=o.insert(f.batchId,b)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,T=p.value,b=rS();T.forEach(w=>{if(!u.has(w)){const I=cS(t.get(w),s.get(w));I!==null&&b.set(w,I),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return je.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(qa());let f=Fu,p=u;return h.next(g=>le.forEach(g,(T,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),u.get(T)?le.resolve():this.remoteDocumentCache.getEntry(e,T).next(w=>{p=p.insert(T,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,lt())).next(T=>({batchId:f,changes:iS(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(s=>{let o=xu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=xu();return this.indexManager.getCollectionParents(e,u).next(f=>le.forEach(f,p=>{const g=function(b,w){return new Dd(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,Un.newInvalidDocument(T)))});let f=xu();return h.forEach((p,g)=>{const T=u.get(p);T!==void 0&&ku(T.mutation,g,Yi.empty(),fn.now()),Od(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:oM(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.overlays=new Ft(je.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qa();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=qa(),u=t.length+1,h=new je(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ft((g,T)=>g-T);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=qa(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const f=qa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>f.set(g,T)),!(f.size()>=o)););return le.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new jO(t,s));let u=this.Rr.get(t);u===void 0&&(u=lt(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Vr=new mn(Sn.mr),this.gr=new mn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Sn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Sn(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new je(new Lt([])),s=new Sn(t,e),o=new Sn(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new Lt([])),s=new Sn(t,e),o=new Sn(t,e+1);let u=lt();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Sn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||ct(e.Cr,t.Cr)}static pr(e,t){return ct(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mn(Sn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kO(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Sn(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?cg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Sn(t,0),o=new Sn(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mn(ct);return t.forEach(o=>{const u=new Sn(o,0),h=new Sn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),le.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;je.isDocumentKey(u)||(u=u.child(""));const h=new Sn(new je(u),0);let f=new mn(ct);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Cr)),!0)},h),le.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){St(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return le.forEach(t.mutations,o=>{const u=new Sn(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Sn(t,0),o=this.Mr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.kr=e,this.docs=function(){return new Ft(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let s=us();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Un.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=us();const h=t.path,f=new je(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||YN(QN(T),s)<=0||(o.has(T.key)||Od(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ge()}qr(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new SM(this)}getSize(e){return le.resolve(this.size)}}class SM extends pM{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.persistence=e,this.Qr=new Ja(t=>fg(t),mg),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Eg,this.targetCount=0,this.Ur=ol.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new xd(0),this.zr=!1,this.zr=!0,this.jr=new EM,this.referenceDelegate=e(this),this.Hr=new AM(this),this.indexManager=new lM,this.remoteDocumentCache=function(o){return new bM(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new aM(t),this.Yr=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _M,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new TM(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Ae("MemoryPersistence","Starting transaction:",e);const o=new wM(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return le.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class wM extends WN{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.ti=new Eg,this.ni=null}static ri(e){return new Tg(e)}get ii(){if(this.ni)return this.ni;throw Ge()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,s=>{const o=je.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class fd{constructor(e,t){this.persistence=e,this.oi=new Ja(s=>eO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mM(this,t)}static ri(e,t){return new fd(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bh(e.data.value)),t}ar(e,t,s){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=lt(),o=lt();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sI()?8:ZN(zn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new RM;return this._s(e,t,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ko()<=at.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Ko()<=at.DEBUG&&Ae("QueryEngine","Query:",$o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ko()<=at.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):le.resolve())}rs(e,t){if(CE(t))return le.resolve(null);let s=Ar(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),s=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=lt(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,f);return this.ls(t,g,h,p.readTime)?this.rs(e,xp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return CE(t)||o.isEqual(Ke.min())?le.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?le.resolve(null):(Ko()<=at.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.hs(e,h,t,$N(o,Fu)).next(f=>f))})}cs(e,t){let s=new mn(tS(e));return t.forEach((o,u)=>{Od(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ko()<=at.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ns.getDocumentsMatchingQuery(e,t,Js.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",CM=3e8;class IM{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ft(ct),this.Is=new Ja(u=>fg(u),mg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function DM(i,e,t,s){return new IM(i,e,t,s)}async function wS(i,e){const t=Ye(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let p=lt();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:f}))})})}function NM(i,e){const t=Ye(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,g,T){const b=g.batch,w=b.keys();let I=le.resolve();return w.forEach(L=>{I=I.next(()=>T.getEntry(p,L)).next(X=>{const H=g.docVersions.get(L);St(H!==null),X.version.compareTo(H)<0&&(b.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),T.addEntry(X)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=lt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function RS(i){const e=Ye(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function OM(i,e){const t=Ye(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((T,b)=>{const w=o.get(b);if(!w)return;f.push(t.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,T.addedDocuments,b)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Nn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):T.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(T.resumeToken,s)),o=o.insert(b,I),function(X,H,B){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=CM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,I,T)&&f.push(t.Hr.updateTargetData(u,I))});let p=us(),g=lt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(MM(u,h,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(Ke.min())){const T=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(T)}return le.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function MM(i,e,t){let s=lt(),o=lt();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=us();return t.forEach((f,p)=>{const g=u.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):Ae(Sg,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function PM(i,e){const t=Ye(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VM(i,e){const t=Ye(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,le.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Ks(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Op(i,e,t){const s=Ye(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!gl(h))throw h;Ae(Sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function BE(i,e,t){const s=Ye(i);let o=Ke.min(),u=lt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,T){const b=Ye(p),w=b.Is.get(T);return w!==void 0?le.resolve(b.Ts.get(w)):b.Hr.getTargetData(g,T)}(s,h,Ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ke.min(),t?u:lt())).next(f=>(kM(s,EO(e),f),{documents:f,gs:u})))}function kM(i,e,t){let s=i.Es.get(e)||Ke.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class FE{constructor(){this.activeTargetIds=RO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(){this.ho=new FE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new FE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="ConnectivityMonitor";class qE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(HE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Mp(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",UM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=Mp(),f=this.bo(e,t.toUriEncodedString());Ae(ap,`Sending RPC '${e}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,f,p,s).then(g=>(Ae(ap,`Received RPC '${e}' ${h}: `,g),g),g=>{throw il(ap,`RPC '${e}' ${h} failed with error: `,g,"url: ",f,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=UM[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class FM extends zM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Mp();return new Promise((h,f)=>{const p=new Nb;p.setWithCredentials(!0),p.listenOnce(Ob.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zh.NO_ERROR:const T=p.getResponseJson();Ae(kn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),h(T);break;case zh.TIMEOUT:Ae(kn,`RPC '${e}' ${u} timed out`),f(new ke(me.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const b=p.getStatus();if(Ae(kn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const L=function(H){const B=H.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(B)>=0?B:me.UNKNOWN}(I.status);f(new ke(L,I.message))}else f(new ke(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ke(me.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ae(kn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);Ae(kn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Mp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Vb(),f=Pb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const T=u.join("");Ae(kn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=h.createWebChannel(T,p);let w=!1,I=!1;const L=new BM({Fo:H=>{I?Ae(kn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(Ae(kn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),Ae(kn,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Mo:()=>b.close()}),X=(H,B,q)=>{H.listen(B,ne=>{try{q(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return X(b,Ru.EventType.OPEN,()=>{I||(Ae(kn,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),X(b,Ru.EventType.CLOSE,()=>{I||(I=!0,Ae(kn,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),X(b,Ru.EventType.ERROR,H=>{I||(I=!0,il(kn,`RPC '${e}' stream ${o} transport errored:`,H),L.Ko(new ke(me.UNAVAILABLE,"The operation could not be completed")))}),X(b,Ru.EventType.MESSAGE,H=>{var B;if(!I){const q=H.data[0];St(!!q);const ne=q,pe=(ne==null?void 0:ne.error)||((B=ne[0])===null||B===void 0?void 0:B.error);if(pe){Ae(kn,`RPC '${e}' stream ${o} received error:`,pe);const ae=pe.status;let z=function(R){const N=nn[R];if(N!==void 0)return fS(N)}(ae),O=pe.message;z===void 0&&(z=me.INTERNAL,O="Unknown error status: "+ae+" with message "+pe.message),I=!0,L.Ko(new ke(z,O)),b.close()}else Ae(kn,`RPC '${e}' stream ${o} received:`,q),L.Uo(q)}}),X(f,Mb.STAT_EVENT,H=>{H.stat===bp.PROXY?Ae(kn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===bp.NOPROXY&&Ae(kn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(i){return new KO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="PersistentStream";class CS{constructor(e,t,s,o,u,h,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new xS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ke(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(GE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HM extends CS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ke.min():h.readTime?Rr(h.readTime):Ke.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Np(this.serializer),t.addTarget=function(u,h){let f;const p=h.target;if(f=Rp(p)?{documents:ZO(u,p)}:{query:JO(u,p).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=gS(u,h.resumeToken);const g=Cp(u,h.expectedCount);g!==null&&(f.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ke.min())>0){f.readTime=dd(u,h.snapshotVersion.toTimestamp());const g=Cp(u,h.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=tM(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.I_(t)}}class qM extends CS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=WO(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Np(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>XO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{}class KM extends GM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Ip(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(me.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,Ip(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ke(me.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $M{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ls(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class QM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{to(this)&&(Ae(Ya,"Restarting streams for network reachability change."),await async function(p){const g=Ye(p);g.W_.add(4),await lc(g),g.j_.set("Unknown"),g.W_.delete(4),await jd(g)}(this))})}),this.j_=new $M(s,o)}}async function jd(i){if(to(i))for(const e of i.G_)await e(!0)}async function lc(i){for(const e of i.G_)await e(!1)}function IS(i,e){const t=Ye(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),xg(t)?Rg(t):yl(t).c_()&&wg(t,e))}function Ag(i,e){const t=Ye(i),s=yl(t);t.U_.delete(e),s.c_()&&DS(t,e),t.U_.size===0&&(s.c_()?s.P_():to(t)&&t.j_.set("Unknown"))}function wg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(i).y_(e)}function DS(i,e){i.H_.Ne(e),yl(i).w_(e)}function Rg(i){i.H_=new FO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),yl(i).start(),i.j_.B_()}function xg(i){return to(i)&&!yl(i).u_()&&i.U_.size>0}function to(i){return Ye(i).W_.size===0}function NS(i){i.H_=void 0}async function YM(i){i.j_.set("Online")}async function XM(i){i.U_.forEach((e,t)=>{wg(i,e)})}async function WM(i,e){NS(i),xg(i)?(i.j_.q_(e),Rg(i)):i.j_.set("Unknown")}async function ZM(i,e,t){if(i.j_.set("Online"),e instanceof pS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.U_.delete(f),o.H_.removeTarget(f))}(i,e)}catch(s){Ae(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(i,s)}else if(e instanceof qh?i.H_.We(e):e instanceof mS?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ke.min()))try{const s=await RS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(g);T&&u.U_.set(g,T.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,g)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Nn.EMPTY_BYTE_STRING,T.snapshotVersion)),DS(u,p);const b=new Ks(T.target,p,g,T.sequenceNumber);wg(u,b)}),u.remoteSyncer.applyRemoteEvent(f)}(i,t)}catch(s){Ae(Ya,"Failed to raise snapshot:",s),await md(i,s)}}async function md(i,e,t){if(!gl(e))throw e;i.W_.add(1),await lc(i),i.j_.set("Offline"),t||(t=()=>RS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ae(Ya,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await jd(i)})}function OS(i,e){return e().catch(t=>md(i,t,e))}async function Ld(i){const e=Ye(i),t=ia(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:cg;for(;JM(e);)try{const o=await PM(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,eP(e,o)}catch(o){await md(e,o)}MS(e)&&PS(e)}function JM(i){return to(i)&&i.K_.length<10}function eP(i,e){i.K_.push(e);const t=ia(i);t.c_()&&t.S_&&t.b_(e.mutations)}function MS(i){return to(i)&&!ia(i).u_()&&i.K_.length>0}function PS(i){ia(i).start()}async function tP(i){ia(i).C_()}async function nP(i){const e=ia(i);for(const t of i.K_)e.b_(t.mutations)}async function iP(i,e,t){const s=i.K_.shift(),o=yg.from(s,e,t);await OS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ld(i)}async function rP(i,e){e&&ia(i).S_&&await async function(s,o){if(function(h){return UO(h)&&h!==me.ABORTED}(o.code)){const u=s.K_.shift();ia(s).h_(),await OS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ld(s)}}(i,e),MS(i)&&PS(i)}async function KE(i,e){const t=Ye(i);t.asyncQueue.verifyOperationInProgress(),Ae(Ya,"RemoteStore received new credentials");const s=to(t);t.W_.add(3),await lc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await jd(t)}async function sP(i,e){const t=Ye(i);e?(t.W_.delete(2),await jd(t)):e||(t.W_.add(2),await lc(t),t.j_.set("Unknown"))}function yl(i){return i.J_||(i.J_=function(t,s,o){const u=Ye(t);return u.M_(),new HM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:YM.bind(null,i),No:XM.bind(null,i),Lo:WM.bind(null,i),p_:ZM.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),xg(i)?Rg(i):i.j_.set("Unknown")):(await i.J_.stop(),NS(i))})),i.J_}function ia(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ye(t);return u.M_(),new qM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:tP.bind(null,i),Lo:rP.bind(null,i),D_:nP.bind(null,i),v_:iP.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Ld(i)):(await i.Y_.stop(),i.K_.length>0&&(Ae(Ya,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new Cg(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(i,e){if(ls("AsyncQueue",`${e}: ${i}`),gl(i))return new ke(me.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||je.comparator(t.key,s.key):(t,s)=>je.comparator(t.key,s.key),this.keyedMap=xu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.Z_=new Ft(je.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ge():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ll{constructor(e,t,s,o,u,h,f,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new ll(e,t,tl.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oP{constructor(){this.queries=QE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ye(t),u=o.queries;o.queries=QE(),u.forEach((h,f)=>{for(const p of f.ta)p.onError(s)})})(this,new ke(me.ABORTED,"Firestore shutting down"))}}function QE(){return new Ja(i=>eS(i),Nd)}async function VS(i,e){const t=Ye(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new aP,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Ig(h,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Dg(t)}async function kS(i,e){const t=Ye(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function lP(i,e){const t=Ye(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&Dg(t)}function uP(i,e,t){const s=Ye(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Dg(i){i.ia.forEach(e=>{e.next()})}var Pp,YE;(YE=Pp||(Pp={}))._a="default",YE.Cache="cache";class jS{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class cP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=lt(),this.mutatedKeys=lt(),this.ya=tS(e),this.wa=new tl(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new $E,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const w=o.get(T),I=Od(this.query,b)?b:null,L=!!w&&this.mutatedKeys.has(w.key),X=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let H=!1;w&&I?w.data.isEqual(I.data)?L!==X&&(s.track({type:3,doc:I}),H=!0):this.va(w,I)||(s.track({type:2,doc:I}),H=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(f=!0)):!w&&I?(s.track({type:0,doc:I}),H=!0):w&&!I&&(s.track({type:1,doc:w}),H=!0,(p||g)&&(f=!0)),H&&(I?(h=h.add(I),u=X?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((T,b)=>function(I,L){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return X(I)-X(L)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ll(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $E,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=lt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new US(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new LS(s))}),t}Oa(e){this.fa=e.gs,this.pa=lt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ll.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class hP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dP{constructor(e){this.key=e,this.Ba=!1}}class fP{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ja(f=>eS(f),Nd),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(je.comparator),this.Ka=new Map,this.Ua=new Eg,this.Wa={},this.Ga=new Map,this.za=ol.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mP(i,e,t=!0){const s=GS(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await zS(s,e,t,!0),o}async function pP(i,e){const t=GS(i);await zS(t,e,!0,!1)}async function zS(i,e,t,s){const o=await VM(i.localStore,Ar(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await gP(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&IS(i.remoteStore,o),f}async function gP(i,e,t,s,o){i.Ha=(b,w,I)=>async function(X,H,B,q){let ne=H.view.ba(B);ne.ls&&(ne=await BE(X.localStore,H.query,!1).then(({documents:O})=>H.view.ba(O,ne)));const pe=q&&q.targetChanges.get(H.targetId),ae=q&&q.targetMismatches.get(H.targetId)!=null,z=H.view.applyChanges(ne,X.isPrimaryClient,pe,ae);return WE(X,H.targetId,z.Ma),z.snapshot}(i,b,w,I);const u=await BE(i.localStore,e,!0),h=new cP(e,u.gs),f=h.ba(u.documents),p=oc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(f,i.isPrimaryClient,p);WE(i,t,g.Ma);const T=new hP(e,t,h);return i.ka.set(e,T),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function yP(i,e,t){const s=Ye(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Nd(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ag(s.remoteStore,o.targetId),Vp(s,o.targetId)}).catch(pl)):(Vp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function vP(i,e){const t=Ye(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ag(t.remoteStore,s.targetId))}async function _P(i,e,t){const s=RP(i);try{const o=await function(h,f){const p=Ye(h),g=fn.now(),T=f.reduce((I,L)=>I.add(L.key),lt());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let L=us(),X=lt();return p.ds.getEntries(I,T).next(H=>{L=H,L.forEach((B,q)=>{q.isValidDocument()||(X=X.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,L)).next(H=>{b=H;const B=[];for(const q of f){const ne=PO(q,b.get(q.key).overlayedDocument);ne!=null&&B.push(new eo(q.key,ne,$b(ne.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,B,f)}).next(H=>{w=H;const B=H.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(I,H.batchId,B)})}).then(()=>({batchId:w.batchId,changes:iS(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new Ft(ct)),g=g.insert(f,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await uc(s,o.changes),await Ld(s.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");t.reject(u)}}async function BS(i,e){const t=Ye(i);try{const s=await OM(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?St(h.Ba):o.removedDocuments.size>0&&(St(h.Ba),h.Ba=!1))}),await uc(t,s,e)}catch(s){await pl(s)}}function XE(i,e,t){const s=Ye(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Ye(h);p.onlineState=f;let g=!1;p.queries.forEach((T,b)=>{for(const w of b.ta)w.sa(f)&&(g=!0)}),g&&Dg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EP(i,e,t){const s=Ye(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new Ft(je.comparator);h=h.insert(u,Un.newNoDocument(u,Ke.min()));const f=lt().add(u),p=new Vd(Ke.min(),new Map,new Ft(ct),h,f);await BS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Og(s)}else await Op(s.localStore,e,!1).then(()=>Vp(s,e,t)).catch(pl)}async function TP(i,e){const t=Ye(i),s=e.batch.batchId;try{const o=await NM(t.localStore,e);HS(t,s,null),FS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await uc(t,o)}catch(o){await pl(o)}}async function bP(i,e,t){const s=Ye(i);try{const o=await function(h,f){const p=Ye(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,f).next(b=>(St(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);HS(s,e,t),FS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await uc(s,o)}catch(o){await pl(o)}}function FS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function HS(i,e,t){const s=Ye(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Vp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||qS(i,s)})}function qS(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Ag(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Og(i))}function WE(i,e,t){for(const s of t)s instanceof LS?(i.Ua.addReference(s.key,e),SP(i,s)):s instanceof US?(Ae(Ng,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||qS(i,s.key)):Ge()}function SP(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(Ae(Ng,"New document in limbo: "+t),i.Qa.add(s),Og(i))}function Og(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new je(Lt.fromString(e)),s=i.za.next();i.Ka.set(s,new dP(t)),i.$a=i.$a.insert(t,s),IS(i.remoteStore,new Ks(Ar(pg(t.path)),s,"TargetPurposeLimboResolution",xd.ae))}}async function uc(i,e,t){const s=Ye(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{h.push(s.Ha(p,e,t).then(g=>{var T;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(T=t==null?void 0:t.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=bg.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const T=Ye(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(g,w=>le.forEach(w.Hi,I=>T.persistence.referenceDelegate.addReference(b,w.targetId,I)).next(()=>le.forEach(w.Ji,I=>T.persistence.referenceDelegate.removeReference(b,w.targetId,I)))))}catch(b){if(!gl(b))throw b;Ae(Sg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const I=T.Ts.get(w),L=I.snapshotVersion,X=I.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(w,X)}}}(s.localStore,u))}async function AP(i,e){const t=Ye(i);if(!t.currentUser.isEqual(e)){Ae(Ng,"User change. New user:",e.toKey());const s=await wS(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(p=>{p.reject(new ke(me.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uc(t,s.Rs)}}function wP(i,e){const t=Ye(i),s=t.Ka.get(e);if(s&&s.Ba)return lt().add(s.key);{let o=lt();const u=t.qa.get(e);if(!u)return o;for(const h of u){const f=t.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function GS(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EP.bind(null,e),e.La.p_=lP.bind(null,e.eventManager),e.La.Ja=uP.bind(null,e.eventManager),e}function RP(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bP.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return DM(this.persistence,new xM,e.initialUser,this.serializer)}Xa(e){return new AS(Tg.ri,this.serializer)}Za(e){return new jM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class xP extends pd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){St(this.persistence.referenceDelegate instanceof fd);const s=this.persistence.referenceDelegate.garbageCollector;return new dM(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new AS(s=>fd.ri(s,t),this.serializer)}}class kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AP.bind(null,this.syncEngine),await sP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oP}()}createDatastore(e){const t=kd(e.databaseInfo.databaseId),s=function(u){return new FM(u)}(e.databaseInfo);return function(u,h,f,p){return new KM(u,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new QM(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>XE(this.syncEngine,t,0),function(){return qE.D()?new qE:new LM}())}createSyncEngine(e,t){return function(o,u,h,f,p,g,T){const b=new fP(o,u,h,f,p,g);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ye(o);Ae(Ya,"RemoteStore shutting down."),u.W_.add(5),await lc(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class CP{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{Ae(ra,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(Ae(ra,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ig(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lp(i,e){i.asyncQueue.verifyOperationInProgress(),Ae(ra,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await wS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function ZE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await IP(i);Ae(ra,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>KE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>KE(e.remoteStore,o)),i._onlineComponents=e}async function IP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ae(ra,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;il("Error using user provided cache. Falling back to memory cache: "+t),await lp(i,new pd)}}else Ae(ra,"Using default OfflineComponentProvider"),await lp(i,new xP(void 0));return i._offlineComponents}async function $S(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ae(ra,"Using user provided OnlineComponentProvider"),await ZE(i,i._uninitializedComponentsProvider._online)):(Ae(ra,"Using default OnlineComponentProvider"),await ZE(i,new kp))),i._onlineComponents}function DP(i){return $S(i).then(e=>e.syncEngine)}async function QS(i){const e=await $S(i),t=e.eventManager;return t.onListen=mP.bind(null,e.syncEngine),t.onUnlisten=yP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vP.bind(null,e.syncEngine),t}function NP(i,e,t={}){const s=new ss;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,g){const T=new KS({next:w=>{T.su(),h.enqueueAndForget(()=>kS(u,b));const I=w.docs.has(f);!I&&w.fromCache?g.reject(new ke(me.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new ke(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new jS(pg(f.path),T,{includeMetadataChanges:!0,Ta:!0});return VS(u,b)}(await QS(i),i.asyncQueue,e,t,s)),s.promise}function OP(i,e,t={}){const s=new ss;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,g){const T=new KS({next:w=>{T.su(),h.enqueueAndForget(()=>kS(u,b)),w.fromCache&&p.source==="server"?g.reject(new ke(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new jS(f,T,{includeMetadataChanges:!0,Ta:!0});return VS(u,b)}(await QS(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(i,e,t){if(!t)throw new ke(me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function MP(i,e,t,s){if(e===!0&&s===!0)throw new ke(me.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function eT(i){if(!je.isDocumentKey(i))throw new ke(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tT(i){if(je.isDocumentKey(i))throw new ke(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Mg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ge()}function sa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ke(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mg(i);throw new ke(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firestore.googleapis.com",nT=!0;class iT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=nT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cM)throw new ke(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UN;switch(s.type){case"firstParty":return new HN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ke(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=JE.get(t);s&&(Ae("ComponentProvider","Removing Datastore"),JE.delete(t),s.terminate())}(this),Promise.resolve()}}function PP(i,e,t,s={}){var o;const u=(i=sa(i,Ud))._getSettings(),h=`${e}:${t}`;if(u.host!==WS&&u.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Ln.MOCK_USER;else{f=ZC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ke(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ln(g)}i._authCredentials=new zN(new kb(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zd(this.firestore,e,this._query)}}class di{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new di(this.firestore,e,this._key)}}class Ws extends zd{constructor(e,t,s){super(e,t,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new je(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ZS(i,e,...t){if(i=ti(i),XS("collection","path",e),i instanceof Ud){const s=Lt.fromString(e,...t);return tT(s),new Ws(i,null,s)}{if(!(i instanceof di||i instanceof Ws))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Lt.fromString(e,...t));return tT(s),new Ws(i.firestore,null,s)}}function Yu(i,e,...t){if(i=ti(i),arguments.length===1&&(e=jb.newId()),XS("doc","path",e),i instanceof Ud){const s=Lt.fromString(e,...t);return eT(s),new di(i,null,new je(s))}{if(!(i instanceof di||i instanceof Ws))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Lt.fromString(e,...t));return eT(s),new di(i.firestore,i instanceof Ws?i.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class sT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new xS(this,"async_queue_retry"),this.Su=()=>{const s=op();s&&Ae(rT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ss;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!gl(e))throw e;Ae(rT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw ls("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class cc extends Ud{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new sT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function VP(i,e){const t=typeof i=="object"?i:KT(),s=typeof i=="string"?i:od,o=Jp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XC("firestore");u&&PP(o,...u)}return o}function Pg(i){if(i._terminated)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kP(i),i._firestoreClient}function kP(i){var e,t,s;const o=i._freezeSettings(),u=function(f,p,g,T){return new iO(f,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,YS(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new CP(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(Nn.fromBase64String(e))}catch(t){throw new ke(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ul(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^__.*__$/;class LP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}function JS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Ug{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(JS(this.Lu)&&jP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||kd(e)}ju(e,t,s,o=!1){return new Ug({Lu:e,methodName:t,zu:s,path:Dn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eA(i){const e=i._freezeSettings(),t=kd(i._databaseId);return new UP(i._databaseId,!!e.ignoreUndefinedProperties,t)}function tA(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);sA("Data must be an object, but it was:",h,s);const f=iA(s,h);let p,g;if(u.merge)p=new Yi(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const w=zP(e,b,t);if(!h.contains(w))throw new ke(me.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);FP(T,w)||T.push(w)}p=new Yi(T),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new LP(new Vi(f),p,g)}class zg extends kg{_toFieldTransform(e){return new DO(e.path,new Ku)}isEqual(e){return e instanceof zg}}function nA(i,e){if(rA(i=ti(i)))return sA("Unsupported field value:",e,i),iA(i,e);if(i instanceof kg)return function(s,o){if(!JS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let p=nA(f,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ti(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=fn.fromDate(s);return{timestampValue:dd(o.serializer,u)}}if(s instanceof fn){const u=new fn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dd(o.serializer,u)}}if(s instanceof jg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ul)return{bytesValue:gS(o.serializer,s._byteString)};if(s instanceof di){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lg)return function(h,f){return{mapValue:{fields:{[Gb]:{stringValue:Kb},[ld]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return gg(f.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Mg(s)}`)}(i,e)}function iA(i,e){const t={};return Ub(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(i,(s,o)=>{const u=nA(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function rA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof fn||i instanceof jg||i instanceof ul||i instanceof di||i instanceof kg||i instanceof Lg)}function sA(i,e,t){if(!rA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Mg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function zP(i,e,t){if((e=ti(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return aA(i,e);throw gd("Field path arguments must be of type string or ",i,!1,void 0,t)}const BP=new RegExp("[~\\*/\\[\\]]");function aA(i,e,t){if(e.search(BP)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Vg(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function gd(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ke(me.INVALID_ARGUMENT,f+i+p)}function FP(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends oA{data(){return super.data()}}function lA(i,e){return typeof e=="string"?aA(i,e):e instanceof Vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ke(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GP{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Za(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[ld].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Xt(h.doubleValue));return new Lg(u)}convertGeoPoint(e){return new jg(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Id(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=ea(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Lt.fromString(e);St(bS(s));const o=new qu(s.get(1),s.get(3)),u=new je(s.popFirst(5));return o.isEqual(t)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cA extends oA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(lA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Gh extends cA{data(e={}){return super.data(e)}}class KP{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Gh(this._firestore,this._userDataWriter,s.key,s,new Iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new Gh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const p=new Gh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return f.type!==0&&(g=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),T=h.indexOf(f.doc.key)),{type:$P(f.type),doc:p,oldIndex:g,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $P(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i){i=sa(i,di);const e=sa(i.firestore,cc);return NP(Pg(e),i._key).then(t=>XP(e,i,t))}class dA extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}function QP(i){i=sa(i,zd);const e=sa(i.firestore,cc),t=Pg(e),s=new dA(e);return qP(i._query),OP(t,i._query).then(o=>new KP(e,s,i,o))}function fA(i,e,t){i=sa(i,di);const s=sa(i.firestore,cc),o=uA(i.converter,e);return mA(s,[tA(eA(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,wr.none())])}function YP(i,e){const t=sa(i.firestore,cc),s=Yu(i),o=uA(i.converter,e);return mA(t,[tA(eA(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,wr.exists(!1))]).then(()=>s)}function mA(i,e){return function(s,o){const u=new ss;return s.asyncQueue.enqueueAndForget(async()=>_P(await DP(s),o,u)),u.promise}(Pg(i),e)}function XP(i,e,t){const s=t.docs.get(e._key),o=new dA(i);return new cA(i,o,e._key,s,new Iu(t.hasPendingWrites,t.fromCache),e.converter)}function pA(){return new zg("serverTimestamp")}(function(e,t=!0){(function(o){ml=o})(dl),nl(new Ga("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new cc(new BN(s.getProvider("auth-internal")),new qN(h,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ke(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(g.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Ys(dE,fE,e),Ys(dE,fE,"esm2017")})();const WP={apiKey:"AIzaSyCZP8RoZcM8VZETlGVrXNPcUBYB9Ve6p7A",authDomain:"life-capital-1009spt.firebaseapp.com",projectId:"life-capital-1009spt",storageBucket:"life-capital-1009spt.firebasestorage.app",messagingSenderId:"1044786416139",appId:"1:1044786416139:web:129eca6881369653f8150e",measurementId:"G-5FM02GWHXQ"},ZP=GT(WP),cl=VP(ZP),Go=jN(),JP=i=>[...i].sort(()=>Math.random()-.5),eV=["demands","events","expenses","highExpenses","smallInvestments","largeInvestments"],tV=async i=>{for(const e of eV){const t=Yu(cl,"cards",e),s=await hA(t);if(!s.exists())throw new Error(`❌ Картки '${e}' не знайдено в cards/${e}`);const o=s.data().list,u=JP(o),h=Yu(cl,"gameSessions",i,"cards",e);await fA(h,{list:u})}},nV=async(i,e,t,s)=>{if(e.role==="player")throw new Error("⛔️ Лише ведучий може створити сесію.");const o=await YP(ZS(cl,"gameSessions"),{sessionName:t,hostId:i.uid,hostEmail:i.email,players:s,status:"waiting",createdAt:pA()});return await tV(o.id),o.id},iV="_container_1e5cg_1",rV="_title_1e5cg_11",sV="_form_1e5cg_17",aV="_input_1e5cg_23",oV="_button_1e5cg_32",lV="_list_1e5cg_45",uV="_error_1e5cg_50",cV="_primaryAction_1e5cg_55",hV="_label_1e5cg_65",dV="_formGroup_1e5cg_71",bn={container:iV,title:rV,form:sV,input:aV,button:oV,list:lV,error:uV,primaryAction:cV,label:hV,formGroup:dV},fV=()=>{const{user:i,userData:e}=Zu(),t=Ed(),[s,o]=Z.useState([]),[u,h]=Z.useState([]),[f,p]=Z.useState(null),[g,T]=Z.useState(null),{register:b,handleSubmit:w,resetField:I,getValues:L,formState:{errors:X}}=Xp();Z.useEffect(()=>{(async()=>{const ae=(await QP(ZS(cl,"users"))).docs.map(z=>z.data());h(ae)})()},[]);const H=()=>{const ne=L("newPlayerName").trim();if(T(null),!ne){T("Поле не може бути порожнім.");return}const pe=u.find(ae=>ae.displayName===ne);if(!pe){T("Користувача з таким імʼям не знайдено.");return}if(s.find(ae=>ae.email===pe.email)){T("Цей гравець вже доданий.");return}o(ae=>[...ae,{name:pe.displayName,email:pe.email}]),I("newPlayerName")},B=ne=>{o(pe=>pe.filter(ae=>ae.email!==ne))},q=async ne=>{if(!i||!e){p("Не авторизовано");return}try{const pe=await nV(i,e,ne.sessionName,s);t(`/game/${pe}`)}catch(pe){p(pe.message)}};return y.jsxs("div",{className:bn.container,children:[y.jsx("h2",{className:bn.title,children:"Створити нову гру"}),y.jsxs("form",{onSubmit:w(q),children:[y.jsxs("div",{className:bn.formGroup,children:[y.jsx("label",{className:bn.label,children:"Назва гри"}),y.jsx("input",{...b("sessionName",{required:"Назва гри обовʼязкова"}),className:bn.input,placeholder:"Наприклад: Турнір #3"}),X.sessionName&&y.jsx("p",{className:bn.error,children:X.sessionName.message})]}),y.jsxs("div",{className:bn.formGroup,children:[y.jsx("label",{className:bn.label,children:"Імʼя гравця"}),y.jsxs("div",{className:bn.form,children:[y.jsx("input",{...b("newPlayerName"),className:bn.input,placeholder:"Введіть імʼя гравця"}),y.jsx("button",{type:"button",className:bn.button,onClick:H,children:"Додати"})]}),g&&y.jsx("p",{className:bn.error,children:g})]}),s.length>0&&y.jsxs("div",{className:bn.list,children:[y.jsx("strong",{children:"Гравці:"}),y.jsx("ul",{children:s.map(ne=>y.jsxs("li",{className:bn.emailItem,children:[y.jsx("span",{children:ne.name})," — ",y.jsx("span",{children:ne.email}),y.jsx("button",{onClick:()=>B(ne.email),className:bn.removeButton,title:"Видалити",children:"×"})]},ne.email))})]}),y.jsx("button",{type:"submit",className:`${bn.button} ${bn.primaryAction}`,children:"Створити гру"}),f&&y.jsx("p",{className:bn.error,children:f})]})]})},mV=U1([{path:"/",element:y.jsx(vx,{}),children:[{path:"rules",element:y.jsx(LC,{})},{path:"games",element:y.jsx(BC,{})},{path:"createGame",element:y.jsx(fV,{})}]},{path:"game/:sessionId",element:y.jsx(FC,{}),children:[{path:"legend",element:y.jsx(Ex,{})},{path:"investments",element:y.jsx(Cx,{})},{path:"events",element:y.jsx(Lx,{})},{path:"finances",element:y.jsx(Fx,{}),children:[{path:"general",element:y.jsx(CT,{})},{path:"income",element:y.jsx(Gx,{})},{path:"extend",element:y.jsx(Kx,{})}]},{path:"airbag",element:y.jsx(Wx,{})},{path:"financial-freedom",element:y.jsx(nC,{})}]},{path:"login",element:y.jsx(Wm,{children:y.jsx(MC,{})})},{path:"register",element:y.jsx(Wm,{children:y.jsx(PC,{})})},{path:"forget-password",element:y.jsx(Wm,{children:y.jsx(VC,{})})}]),pV=({children:i})=>{const[e,t]=Z.useState(null),[s,o]=Z.useState(null),[u,h]=Z.useState(!0);Z.useEffect(()=>{const T=wD(Go,async b=>{if(t(b),b){const w=`userData-${b.uid}`,I=localStorage.getItem(w);if(I)o(JSON.parse(I));else try{const L=Yu(cl,"users",b.uid),X=await hA(L);if(X.exists()){const H=X.data();localStorage.setItem(w,JSON.stringify({displayName:H.displayName,role:H.role})),o({displayName:H.displayName,role:H.role})}}catch(L){console.error("Помилка при завантаженні даних користувача:",L)}}else o(null);h(!1)});return()=>T()},[]);const f=async(T,b)=>{await bD(Go,T,b)},p=async()=>{var T,b;if((T=Go.currentUser)!=null&&T.uid){const w=`userData-${(b=Go.currentUser)==null?void 0:b.uid}`;localStorage.removeItem(w)}await RD(Go)},g=async(T,b,w)=>{const I=await TD(Go,T,b);await fA(Yu(cl,"users",I.user.uid),{uid:I.user.uid,email:T,displayName:w,role:"player",createdAt:pA()})};return y.jsx(RT.Provider,{value:{user:e,userData:s,loading:u,login:f,logout:p,register:g},children:i})},aT=document.getElementById("root");aT&&Yw.createRoot(aT).render(y.jsx(Z.StrictMode,{children:y.jsx(pV,{children:y.jsx(Z1,{router:mV})})}));
